Sun, 28 Jul 2013 13:48:50 GMT [ERROR] (errno: No such file or directory) End directory base with / in static/qoorateserver or it won't work right.'
Sun, 28 Jul 2013 13:48:50 GMT [ERROR] (errno: None) Failed to create target for route /q/static/
Sun, 28 Jul 2013 13:48:50 GMT [ERROR] (errno: None) End directory base with / in static/qoorateserver or it won't work right.'
Sun, 28 Jul 2013 13:48:50 GMT [ERROR] (errno: None) Failed to create target for route /q/robots.txt
Sun, 28 Jul 2013 13:48:50 GMT [ERROR] (errno: None) End directory base with / in static/qoorateserver or it won't work right.'
Sun, 28 Jul 2013 13:48:50 GMT [ERROR] (errno: None) Failed to create target for route /q/favicon.ico
Sun, 28 Jul 2013 13:48:50 GMT [INFO] (src/mime.c:49) MAX limits.mime_ext_len=128
Sun, 28 Jul 2013 13:48:50 GMT [INFO] (src/host.c:74) MAX limits.url_path=256, limits.host_name=256
Sun, 28 Jul 2013 13:48:50 GMT [INFO] (src/config/config.c:109) Loaded proxy 1:127.0.0.1:8081
Sun, 28 Jul 2013 13:48:50 GMT [INFO] (src/config/config.c:227) Loaded route 1:/:proxy for host 1:localhost
Sun, 28 Jul 2013 13:48:50 GMT [INFO] (src/handler.c:343) MAX limits.handler_stack=102400
Sun, 28 Jul 2013 13:48:50 GMT [INFO] (src/config/config.c:85) Loaded handler 1:ipc://run/qoorateserver/mongrel2_send:137b789e-b7eb-475a-8d5c-b16ab54493yu:ipc://run/qoorateserver/mongrel2_rcv:
Sun, 28 Jul 2013 13:48:50 GMT [INFO] (src/config/config.c:227) Loaded route 2:/q/:handler for host 1:localhost
Sun, 28 Jul 2013 13:48:50 GMT [INFO] (src/dir.c:195) MAX limits.dir_send_buffer=16384, limits.dir_max_path=256
Sun, 28 Jul 2013 13:48:50 GMT [INFO] (src/config/config.c:136) Loaded directory 1:static/qoorateserver/js/:index.html
Sun, 28 Jul 2013 13:48:50 GMT [INFO] (src/config/config.c:227) Loaded route 3:/q/js/:dir for host 1:localhost
Sun, 28 Jul 2013 13:48:50 GMT [INFO] (src/config/config.c:136) Loaded directory 2:static/qoorateserver/css/:index.html
Sun, 28 Jul 2013 13:48:50 GMT [INFO] (src/config/config.c:227) Loaded route 4:/q/css/:dir for host 1:localhost
Sun, 28 Jul 2013 13:48:50 GMT [INFO] (src/config/config.c:136) Loaded directory 3:static/qoorateserver/img/:index.html
Sun, 28 Jul 2013 13:48:50 GMT [INFO] (src/config/config.c:227) Loaded route 5:/q/img/:dir for host 1:localhost
Sun, 28 Jul 2013 13:48:50 GMT [INFO] (src/config/config.c:312) Loaded 1 hosts for server 1:fe76e442-da24-4708-b0ef-c4ahr2b7d131
Sun, 28 Jul 2013 13:48:50 GMT [INFO] (src/server.c:445) LOADING Handler ipc://run/qoorateserver/mongrel2_send
Sun, 28 Jul 2013 13:48:50 GMT [ERROR] (src/unixy.c:99: errno: No such file or directory) Failed to open PID file ../run/mongrel2.pid for reading.
Sun, 28 Jul 2013 13:48:50 GMT [INFO] (src/unixy.c:137) No previous mongrel2 running, continuing on.
Sun, 28 Jul 2013 13:48:50 GMT [INFO] (src/mongrel2.c:223) All loaded up, time to turn into a server.
Sun, 28 Jul 2013 13:48:50 GMT [INFO] (src/mongrel2.c:224) -- Starting Mongrel2/1.8.1. Copyright (C) Zed A. Shaw. Licensed BSD.

Sun, 28 Jul 2013 13:48:50 GMT [INFO] (src/mongrel2.c:225) -- Look in logs/error.log for startup messages and errors.
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
INFO:root:Using project directory: .
DEBUG:root:loading settings from ./conf/uploader/settings.py
INFO:root:Using coroutine library: gevent
DEBUG:root:******** START _service_registration *********
DEBUG:root:service_registration_passphrase: 137b789e-b7eb-475a-8d5a-b16ab544yurp
DEBUG:root:service_id: uploader
DEBUG:root:service_registration_addr: ipc://run/uploader/brubeck_svc_registration
DEBUG:root:service_passphrase: 137b789e-b7eb-475a-8d5a-b16ab544yurp
DEBUG:root:service_addr: ipc://run/uploader/brubeck_svc
DEBUG:root:service_response_addr: ipc://run/uploader/brubeck_svc_response
DEBUG:root:service_heartbeat_addr: None
DEBUG:root:service_heartbeat_timeout: 5
DEBUG:root:sender_id: 02084c51a2b6476bad4d40c7ac263589
DEBUG:root:is_reregistration: 0
DEBUG:root:service_heartbeat_interval: 3
DEBUG:root:******** END _service_registration *********
DEBUG:root:register_service: (service_registration_addr, service_registration_passphrase,service_heartbeat_timeout,sender_id): (ipc://run/uploader/brubeck_svc_registration,137b789e-b7eb-475a-8d5a-b16ab544yurp, 5, 02084c51a2b6476bad4d40c7ac263589)
DEBUG:root:service_registration sending request
DEBUG:root:service_registration waiting for response
INFO:root:Using project directory: .
DEBUG:root:loading settings from ./conf/qoorateserver/development.py
INFO:root:Using coroutine library: gevent
DEBUG:root:creating application db_conn pool
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:get EmbedHandler
DEBUG:root:to_unicode
DEBUG:root:embed_head
DEBUG:root:embed_head
DEBUG:root:to_unicode
DEBUG:root:action: embed_head 
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:set_table has key/secret
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = %s and `secret`= %s
        
DEBUG:root:escape_sql args: [u'12345', u'54321']
DEBUG:root:
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = '12345' and `secret`= '54321'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10c6ae1d0>
DEBUG:root:returning True from authencticate.
DEBUG:root:set_table authenticated
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10c6ae250>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has key/secret
DEBUG:root:returning `True` from authenticate cached.
DEBUG:root:set_table authenticated
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10c6ae450>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10c6ae5d0>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10c6ae7d0>
DEBUG:root:qoorate preferences: {
    "THEME": "grid",
    "EMBED_CONF_JS": "
        var qoorateConfig = {
            QOORATE_URI: 'http://localhost',
            QOORATE_API_URI: 'http://localhost/q',
            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',
            XHR_PROXY_URI: '/q/feed',
            XHR_UPLOAD_URI: '/q/uploader',
            POST_MAX_LEN: 1000,
            PARENT_PAGE_SIZE: 10,
            CHILD_PAGE_SIZE: 10,
            AUTO_SCROLL: 1,
            THEME: 'grid',
            GRID_COLUMNS: 3,
            GRID_COLUMN_TRIM: 15,
            GRID_ROW_TRIM: 15
        };
        var qoorateLang = {
            FLAG_SUCCESS: 'Thanks for flagging this!',
            SHARE_SUCCESS: 'Thank you for sharing!',
            DELETE_SUCCESS: 'Thank you. This item has been deleted.',
            SIGNIN: 'Sign in using',
            SIGNEDIN: 'Signed in via',    
            OK: 'OK',
            CANCEL: 'Cancel',
            LOGOUT: 'Log Out',
            TOGGLE_ON: '+',
            TOGGLE_OFF: '-',
            CONTRIBUTION: 'Contribution',
            CONTRIBUTIONS: 'Contributions',
            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',
            REMOVE: 'Remove',
            LINK: 'Insert a link',
            TOPIC_COMMENT: 'Pose a Yes/No Question',
            COMMENT: 'Your Comment',
            IMAGE_COMMENT: 'Image Caption',
            POST_TO: 'Post to',
            POST_ANONYMOUS: 'Post anonymously',
            NICKNAME: 'Post as ',
            DEFAULT_NICKNAME: 'Anonymous',
            REPLY_LINK_COMMENT: 'Say something about your link',
            SHARE_COMMENT: 'comment about this share...',
            PUBLISH_BUTTON: 'Publish',
            POST_BUTTON: 'Post',
            POST_TO_BUTTON: 'Post To',
            REPLY_BUTTON: 'Reply',
            SHARE_BUTTON: 'Share',
            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',
            SELECT_IMAGE: 'Select an Image',
            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',
            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],
            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],
            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]
        };
    "
}

DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:preferences EMBED_CONF_JS:         var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    
DEBUG:root:embed_head called
INFO:root:200 GET /q/embed (127.0.0.1)
DEBUG:root:get EmbedHandler
DEBUG:root:to_unicode
DEBUG:root:embed_content
DEBUG:root:embed_content
DEBUG:root:to_unicode
DEBUG:root:action: embed_content 
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:set_table has key/secret
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = %s and `secret`= %s
        
DEBUG:root:escape_sql args: [u'12345', u'54321']
DEBUG:root:
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = '12345' and `secret`= '54321'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10c6ae9d0>
DEBUG:root:returning True from authencticate.
DEBUG:root:set_table authenticated
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10c6aebd0>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has key/secret
DEBUG:root:returning `True` from authenticate cached.
DEBUG:root:set_table authenticated
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10c6aedd0>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10c6b3050>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10c6b3210>
DEBUG:root:qoorate preferences: {
    "THEME": "grid",
    "EMBED_CONF_JS": "
        var qoorateConfig = {
            QOORATE_URI: 'http://localhost',
            QOORATE_API_URI: 'http://localhost/q',
            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',
            XHR_PROXY_URI: '/q/feed',
            XHR_UPLOAD_URI: '/q/uploader',
            POST_MAX_LEN: 1000,
            PARENT_PAGE_SIZE: 10,
            CHILD_PAGE_SIZE: 10,
            AUTO_SCROLL: 1,
            THEME: 'grid',
            GRID_COLUMNS: 3,
            GRID_COLUMN_TRIM: 15,
            GRID_ROW_TRIM: 15
        };
        var qoorateLang = {
            FLAG_SUCCESS: 'Thanks for flagging this!',
            SHARE_SUCCESS: 'Thank you for sharing!',
            DELETE_SUCCESS: 'Thank you. This item has been deleted.',
            SIGNIN: 'Sign in using',
            SIGNEDIN: 'Signed in via',    
            OK: 'OK',
            CANCEL: 'Cancel',
            LOGOUT: 'Log Out',
            TOGGLE_ON: '+',
            TOGGLE_OFF: '-',
            CONTRIBUTION: 'Contribution',
            CONTRIBUTIONS: 'Contributions',
            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',
            REMOVE: 'Remove',
            LINK: 'Insert a link',
            TOPIC_COMMENT: 'Pose a Yes/No Question',
            COMMENT: 'Your Comment',
            IMAGE_COMMENT: 'Image Caption',
            POST_TO: 'Post to',
            POST_ANONYMOUS: 'Post anonymously',
            NICKNAME: 'Post as ',
            DEFAULT_NICKNAME: 'Anonymous',
            REPLY_LINK_COMMENT: 'Say something about your link',
            SHARE_COMMENT: 'comment about this share...',
            PUBLISH_BUTTON: 'Publish',
            POST_BUTTON: 'Post',
            POST_TO_BUTTON: 'Post To',
            REPLY_BUTTON: 'Reply',
            SHARE_BUTTON: 'Share',
            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',
            SELECT_IMAGE: 'Select an Image',
            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',
            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],
            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],
            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]
        };
    "
}

DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:preferences EMBED_CONF_JS:         var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    
DEBUG:root:embed_content called (key,secret): (12345,54321)
DEBUG:root:returning `True` from authenticate cached.
DEBUG:root:get_content_context
DEBUG:root:table: q_brooklyncode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:init_db_conn
DEBUG:root:NOT creating db_conn
DEBUG:root:1
DEBUG:root:5
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT f.`parent_sequence` , f.`child_sequence` , f.`id` , f.`locationId` , f.`relatedId`,
                f.`parentId` , f.`userId` , `u`.`username`, u.`thumbnailLarge` as userThumbnailLarge,
                ur.`username` as relatedUsername, ur.`thumbnailLarge` as relatedUserThumbnailLarge, f.`type`,
                f.`is_anonymous` , r.`is_anonymous` as `related_is_anonymous`, f.`name` , f.`location` ,f.`description`,f.`referer`,
                f.`voteCount` , f.`voteNumber` , f.`votesUp` ,f.`votesDown` , f.`flagCount`,  f.`childCount`, f.`sortOrder` , f.`status`,
                f.`thumbnailSmall` ,f.`thumbnailLarge` , f.`changeDate` , f.`createDate`, f.`nickname`, r.`nickname` as `related_nickname`
            FROM (
                # this query adds the sequence fields to filter by for paging
                SELECT  s1.*, @parentrownum := convert( IF( ( parentId = 0), @parentrownum +1, @parentrownum ), UNSIGNED INTEGER) AS parent_sequence,
                @childrownum := IF( ( @lastparent = parentId), @childrownum + 1, 0 ) AS child_sequence,
                @lastparent := if( parentId=0, id, parentId ) AS dummy_used_for_last_parent
                FROM
                    # QUERY 2: this query sorts the results properly
                    (SELECT s0.* FROM
                        # QUERY 1: This query gets the results we need with calculated fields to sort by
                        # We should probably have these fields in the database so they are indexed
                        (SELECT
                        CONVERT( if( parentId = 0, @parentVoteNumber:=voteNumber,
                            @parentVoteNumber ), SIGNED INTEGER ) as groupVoteNumber,          # Will order groups using parent voteNumber
                        CONVERT( if( parentId = 0, @parentVoteCount:=voteCount,
                            @parentVoteCount ), SIGNED INTEGER ) as groupVoteCount,            # Will order groups using parent voteCount
                        CONVERT( if( parentId = 0, @parentCreateDate:=createDate,
                            @parentCreateDate ), DATETIME ) as groupCreateDate,                # Will order groups using parent createDate
                        CONVERT( if(parentId=0, id, parentId), UNSIGNED INTEGER) as groupId,   # will order groups together
                        CONVERT( if(parentId = 0, 0, 1), UNSIGNED INTEGER) as isChild,         # will order parent first in group
                        r.*
                        FROM (
                            # this just makes sure our groups are grouped in parent child order
                            SELECT * from q_brooklyncode o  WHERE o.location = '5e13bbb73127b9fc424e3728c6500f28' ORDER BY
                             if( o.relatedId = 0, o.id, o.relatedId),
                             if( o.relatedId = 0, 0, o.id )
                            ) r,
                        ( SELECT @parentVoteNumber := 0 ) pvn,
                        ( SELECT @parentVoteCount  := 0 ) pvc,
                        ( SELECT @parentCreateDate := 0 ) pcd
                         WHERE location = '5e13bbb73127b9fc424e3728c6500f28' 
                    ) s0
                    
                    
                    ORDER BY
                    
                s0.groupVoteNumber DESC,
                s0.groupVoteCount DESC,
                s0.groupCreateDate ASC,
                 
                    groupId  ASC, # first order by group
                    isChild ASC, # Then make sure the parent is first
                    
                s0.voteNumber DESC,
                s0.voteCount DESC,
                s0.createDate ASC
                
            ) s1,
            ( SELECT @parentrownum := 0 ) pr,
            ( SELECT @childrownum := 0 ) cr, 
            ( SELECT @lastparent := -1 ) lp) f
            LEFT JOIN user u on u.id = f.userId
            LEFT JOIN q_brooklyncode r on r.id = f.relatedId
            LEFT JOIN user ur on ur.id = r.userId
            WHERE
            ((0 = 6 and parent_sequence >= 1) or parent_sequence BETWEEN 1 AND 6)
            AND
            ((0 = 6 and child_sequence >= 1) or (child_sequence=0 or child_sequence BETWEEN 1 AND 6))
        
DEBUG:root:escape_sql args: None
DEBUG:root:
            SELECT f.`parent_sequence` , f.`child_sequence` , f.`id` , f.`locationId` , f.`relatedId`,
                f.`parentId` , f.`userId` , `u`.`username`, u.`thumbnailLarge` as userThumbnailLarge,
                ur.`username` as relatedUsername, ur.`thumbnailLarge` as relatedUserThumbnailLarge, f.`type`,
                f.`is_anonymous` , r.`is_anonymous` as `related_is_anonymous`, f.`name` , f.`location` ,f.`description`,f.`referer`,
                f.`voteCount` , f.`voteNumber` , f.`votesUp` ,f.`votesDown` , f.`flagCount`,  f.`childCount`, f.`sortOrder` , f.`status`,
                f.`thumbnailSmall` ,f.`thumbnailLarge` , f.`changeDate` , f.`createDate`, f.`nickname`, r.`nickname` as `related_nickname`
            FROM (
                # this query adds the sequence fields to filter by for paging
                SELECT  s1.*, @parentrownum := convert( IF( ( parentId = 0), @parentrownum +1, @parentrownum ), UNSIGNED INTEGER) AS parent_sequence,
                @childrownum := IF( ( @lastparent = parentId), @childrownum + 1, 0 ) AS child_sequence,
                @lastparent := if( parentId=0, id, parentId ) AS dummy_used_for_last_parent
                FROM
                    # QUERY 2: this query sorts the results properly
                    (SELECT s0.* FROM
                        # QUERY 1: This query gets the results we need with calculated fields to sort by
                        # We should probably have these fields in the database so they are indexed
                        (SELECT
                        CONVERT( if( parentId = 0, @parentVoteNumber:=voteNumber,
                            @parentVoteNumber ), SIGNED INTEGER ) as groupVoteNumber,          # Will order groups using parent voteNumber
                        CONVERT( if( parentId = 0, @parentVoteCount:=voteCount,
                            @parentVoteCount ), SIGNED INTEGER ) as groupVoteCount,            # Will order groups using parent voteCount
                        CONVERT( if( parentId = 0, @parentCreateDate:=createDate,
                            @parentCreateDate ), DATETIME ) as groupCreateDate,                # Will order groups using parent createDate
                        CONVERT( if(parentId=0, id, parentId), UNSIGNED INTEGER) as groupId,   # will order groups together
                        CONVERT( if(parentId = 0, 0, 1), UNSIGNED INTEGER) as isChild,         # will order parent first in group
                        r.*
                        FROM (
                            # this just makes sure our groups are grouped in parent child order
                            SELECT * from q_brooklyncode o  WHERE o.location = '5e13bbb73127b9fc424e3728c6500f28' ORDER BY
                             if( o.relatedId = 0, o.id, o.relatedId),
                             if( o.relatedId = 0, 0, o.id )
                            ) r,
                        ( SELECT @parentVoteNumber := 0 ) pvn,
                        ( SELECT @parentVoteCount  := 0 ) pvc,
                        ( SELECT @parentCreateDate := 0 ) pcd
                         WHERE location = '5e13bbb73127b9fc424e3728c6500f28' 
                    ) s0
                    
                    
                    ORDER BY
                    
                s0.groupVoteNumber DESC,
                s0.groupVoteCount DESC,
                s0.groupCreateDate ASC,
                 
                    groupId  ASC, # first order by group
                    isChild ASC, # Then make sure the parent is first
                    
                s0.voteNumber DESC,
                s0.voteCount DESC,
                s0.createDate ASC
                
            ) s1,
            ( SELECT @parentrownum := 0 ) pr,
            ( SELECT @childrownum := 0 ) cr, 
            ( SELECT @lastparent := -1 ) lp) f
            LEFT JOIN user u on u.id = f.userId
            LEFT JOIN q_brooklyncode r on r.id = f.relatedId
            LEFT JOIN user ur on ur.id = r.userId
            WHERE
            ((0 = 6 and parent_sequence >= 1) or parent_sequence BETWEEN 1 AND 6)
            AND
            ((0 = 6 and child_sequence >= 1) or (child_sequence=0 or child_sequence BETWEEN 1 AND 6))
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10c6ae1d0>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = %s
        
DEBUG:root:escape_sql args: [1L]
DEBUG:root:
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = 1
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10c6ae250>
DEBUG:root:Number of comments returned: 1
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:escape_sql args: []
DEBUG:root:
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10c6ae450>
DEBUG:root:Number of contributions 1
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10c6ae5d0>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10c6ae7d0>
DEBUG:root:to_unicode
DEBUG:root:embed_content
DEBUG:root:embed_content
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:embed_content
DEBUG:root:embed_content
DEBUG:root:to_unicode
INFO:root:200 GET /q/embed (127.0.0.1)
DEBUG:root:None
DEBUG:root:{u'content-length': u'144523', u'PATTERN': u'/q/', u'x-forwarded-for': u'127.0.0.1', u'URI': u'/q/uploader?action=uploader&qqfile=Screen+Shot+2013-07-22+at+9.43.55+AM.png', u'accept': u'*/*', u'user-agent': u'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/28.0.1500.71 Safari/537.36', u'host': u'localhost', u'VERSION': u'HTTP/1.1', u'cookie': u'wordpress_8dec71ede39ad9ff3b3fbc03311bdc45=qoorate|1375142446|8148fbb3583470985c5fca59e75d635a; SBID=\\"!MZ6JnTJnDncb7k3n0Ya9Sg==?gAJVBFNCSURxAWN1dWlkClVVSUQKcQIpgXEDfXEEVQNpbnRxBYoQqUXRlREm8LXjTshLPYe7cXNihnEGLg==\\"; wordpress_test_cookie=WP Cookie check; wordpress_logged_in_8dec71ede39ad9ff3b3fbc03311bdc45=qoorate|1375142446|86fd9ec6d6a221f44c7b1244f05dcd23; QOOID=QOO51f460f57c582; QOOTID=QOOT51f460f57c593; wp-settings-time-1=1374970345', u'expect': u'100-continue', u'QUERY': u'action=uploader&qqfile=Screen+Shot+2013-07-22+at+9.43.55+AM.png', u'PATH': u'/q/uploader', u'content-type': u'application/x-www-form-urlencoded', u'METHOD': u'POST'}
DEBUG:root:TemporaryImageUploadHandler post
DEBUG:root:to_unicode
DEBUG:root:Screen Shot 2013-07-22 at 9.43.55 AM.png
DEBUG:root:Screen Shot 2013-07-22 at 9.43.55 AM.png
DEBUG:root:to_unicode
DEBUG:root:{'S3_PORT': 443, 'INIT_BUCKET': True, 'RETRY_INTERVAL': 60, 'S3_HOST': 's3.amazonaws.com', 'ACCEPTABLE_UPLOAD_MIME_TYPES': ['image/jpeg', 'image/gif', 'image/png'], 'IMAGE_INFO': [(None, 'JPEG', '_f', 'jpg'), ((300, 200), 'JPEG', '_t', 'jpg'), ((120, 200), 'JPEG', '_m', 'jpg'), ((170, 100), 'JPEG', '_f', 'jpg'), ((50, 50), 'JPEG', '_s', 'jpg')], 'TEMP_UPLOAD_DIR': 'tmp', 'SERVICE_INFO': {'SERVICE_ID': 'uploader', 'SERVICE_REGISTRATION_PASSPHRASE': '137b789e-b7eb-475a-8d5a-b16ab544yurp', 'ASYNC': False, 'SERVICE_REGISTRATION_ADDR': 'ipc://run/uploader/brubeck_svc_registration', 'SERVICE_ADDR': 'ipc://run/uploader/brubeck_svc'}, 'AMAZON_BUCKET': 'qoorate.brooklyncode', 'AMAZON_SECRET': 'K3NKUTZIZWQ9B1UzQcZpl5frT4VClA9Ud0gffWPC', 'AMAZON_KEY': 'AKIAIMJ3ACDQBKM4PBDQ'}
DEBUG:root:filename: Screen Shot 2013-07-22 at 9.43.55 AM.png
DEBUG:root:hash: 5d6967df965a0025feb8af49ecdf435a
DEBUG:root:download_file_name: ./tmp/5d6967df965a0025feb8af49ecdf435a
DEBUG:root:mime_type: image/png
DEBUG:root:checking mime_type: image/png
DEBUG:root:mime_type OK
DEBUG:root:width: 1412
DEBUG:root:height: 1088
DEBUG:root:['']
DEBUG:root:['']
DEBUG:root:to_unicode
DEBUG:root:œ°ìo∂Ó Ûwzã≈Ê/Sáfµ ÿ ”„AıAÁæ q Ÿ˝A‚ ∆Km«j›∂mõƒ ‰% ⁄ˆ F 9ê3 °ê‘â I π=¨áO6Ÿi¡x ëàÊ˚„ âéL8¿Êˇœ/z% aºöﬂ¸—ƒﬂ.d*˛ıO◊3Q -ì!'üa˚SI|Ò«k÷ÍÍë Â'Õ?œ‰3ÿ∂∑˛"Û≠ â¯≈ÖﬁƒÔû…i«Ë[?ÿŸ,[i˛w‚/z
DEBUG:root:œ°ìo∂Ó Ûwzã≈Ê/Sáfµ ÿ ”„AıAÁæ q Ÿ˝A‚ ∆Km«j›∂mõƒ ‰% ⁄ˆ F 9ê3 °ê‘â I π=¨áO6Ÿi¡x ëàÊ˚„ âéL8¿Êˇœ/z% aºöﬂ¸—ƒﬂ.d*˛ıO◊3Q -ì!'üa˚SI|Ò«k÷ÍÍë Â'Õ?œ‰3ÿ∂∑˛"Û≠ â¯≈ÖﬁƒÔû…i«Ë[?ÿŸ,[i˛w‚/z
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:Z É¡¢¢¢¨  .%z®‡∞≈” µL2otﬂC ﬂ˝∞@{R∏ 
DEBUG:root:Z É¡¢¢¢¨  .%z®‡∞≈” µL2otﬂC ﬂ˝∞@{R∏ 
DEBUG:root:to_unicode
INFO:root:200 POST /q/uploader (127.0.0.1)
DEBUG:root:None
DEBUG:root:{u'cookie': u'SBID="!MZ6JnTJnDncb7k3n0Ya9Sg==?gAJVBFNCSURxAWN1dWlkClVVSUQKcQIpgXEDfXEEVQNpbnRxBYoQqUXRlREm8LXjTshLPYe7cXNihnEGLg=="; wordpress_test_cookie=WP+Cookie+check; wordpress_logged_in_8dec71ede39ad9ff3b3fbc03311bdc45=qoorate%7C1375142446%7C86fd9ec6d6a221f44c7b1244f05dcd23; QOOID=QOO51f460f57c582; QOOTID=QOOT51f460f57c593; wp-settings-time-1=1374970345', u'accept-language': u'en-US,en;q=0.8', u'accept-encoding': u'gzip,deflate,sdch', u'PATTERN': u'/q/', u'x-forwarded-for': u'127.0.0.1', u'host': u'localhost', u'accept': u'image/webp,*/*;q=0.8', u'user-agent': u'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/28.0.1500.71 Safari/537.36', u'connection': u'keep-alive', u'VERSION': u'HTTP/1.1', u'referer': u'http://localhost:8081/?p=1', u'PATH': u'/q/uploader/images/5d6967df965a0025feb8af49ecdf435a', u'METHOD': u'GET', u'URI': u'/q/uploader/images/5d6967df965a0025feb8af49ecdf435a'}
DEBUG:root:TemporaryImageViewHandler get
DEBUG:root:filename: 5d6967df965a0025feb8af49ecdf435a
DEBUG:root:hash: <built-in function hash>
DEBUG:root:requested_file_name: ./tmp/5d6967df965a0025feb8af49ecdf435a
DEBUG:root:mime_type: image/png
INFO:root:200 GET /q/uploader/images/5d6967df965a0025feb8af49ecdf435a (127.0.0.1)
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:set_table has q_short_name (12345)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10c6ae9d0>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has q_short_name (12345)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10c6aebd0>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:feed.prepare, table: q_brooklyncode
DEBUG:root:FeedHandler post
DEBUG:root:Body -> 
 replyComment=test&thumbnailLarge=5d6967df965a0025feb8af49ecdf435a&replyPhoto=&action=addItem&location=5e13bbb73127b9fc424e3728c6500f28&referer=http%3A%2F%2Flocalhost%3A8081%2F%3Fp%3D1&q_short_name=12345&QOOID=QOO51f460f57c582&QOOTID=QOOT51f460f57c593
DEBUG:root:Arguments -> 
 {"thumbnailLarge": ["5d6967df965a0025feb8af49ecdf435a"], "QOOID": ["QOO51f460f57c582"], "QOOTID": ["QOOT51f460f57c593"], "q_short_name": ["12345"], "location": ["5e13bbb73127b9fc424e3728c6500f28"], "replyComment": ["test"], "action": ["addItem"], "referer": ["http://localhost:8081/?p=1"]}
DEBUG:root:to_unicode
DEBUG:root:addItem
DEBUG:root:addItem
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:addItem
DEBUG:root:addItem
DEBUG:root:to_unicode
DEBUG:root:action: addItem
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10c6aedd0>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10c6b3050>
DEBUG:root:to_unicode
DEBUG:root:test
DEBUG:root:test
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:test
DEBUG:root:test
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:5d6967df965a0025feb8af49ecdf435a
DEBUG:root:5d6967df965a0025feb8af49ecdf435a
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:5d6967df965a0025feb8af49ecdf435a
DEBUG:root:5d6967df965a0025feb8af49ecdf435a
DEBUG:root:to_unicode
DEBUG:root:spawning upload
DEBUG:root:upload_to_S3 : 5d6967df965a0025feb8af49ecdf435a
DEBUG:root:upload_to_S3 : 5d6967df965a0025feb8af49ecdf435a
DEBUG:root:create_images_for_S3
DEBUG:root:file_path: tmp
DEBUG:root:file_name: 5d6967df965a0025feb8af49ecdf435a
DEBUG:root:filename: tmp/5d6967df965a0025feb8af49ecdf435a
DEBUG:root:create_images_for_S3 image_infos: [(None, 'JPEG', '_f', 'jpg'), ((300, 200), 'JPEG', '_t', 'jpg'), ((120, 200), 'JPEG', '_m', 'jpg'), ((170, 100), 'JPEG', '_f', 'jpg'), ((50, 50), 'JPEG', '_s', 'jpg')] 
DEBUG:root:create_images_for_S3  image_info: (None, 'JPEG', '_f', 'jpg') 
DEBUG:root:filename created: 5d6967df965a0025feb8af49ecdf435a_f.jpg
DEBUG:root:create_images_for_S3  image_info: ((300, 200), 'JPEG', '_t', 'jpg') 
DEBUG:root:filename created: 5d6967df965a0025feb8af49ecdf435a_t.jpg
DEBUG:root:create_images_for_S3  image_info: ((120, 200), 'JPEG', '_m', 'jpg') 
DEBUG:root:filename created: 5d6967df965a0025feb8af49ecdf435a_m.jpg
DEBUG:root:create_images_for_S3  image_info: ((170, 100), 'JPEG', '_f', 'jpg') 
DEBUG:root:filename created: 5d6967df965a0025feb8af49ecdf435a_f.jpg
DEBUG:root:create_images_for_S3  image_info: ((50, 50), 'JPEG', '_s', 'jpg') 
DEBUG:root:filename created: 5d6967df965a0025feb8af49ecdf435a_s.jpg
DEBUG:root:create_images_for_S3 return filenames: [u'5d6967df965a0025feb8af49ecdf435a_f.jpg', u'5d6967df965a0025feb8af49ecdf435a_t.jpg', u'5d6967df965a0025feb8af49ecdf435a_m.jpg', u'5d6967df965a0025feb8af49ecdf435a_f.jpg', u'5d6967df965a0025feb8af49ecdf435a_s.jpg'] 
DEBUG:root:file_names: [u'5d6967df965a0025feb8af49ecdf435a_f.jpg', u'5d6967df965a0025feb8af49ecdf435a_t.jpg', u'5d6967df965a0025feb8af49ecdf435a_m.jpg', u'5d6967df965a0025feb8af49ecdf435a_f.jpg', u'5d6967df965a0025feb8af49ecdf435a_s.jpg']
DEBUG:root:len(file_names): 5
DEBUG:boto:path=/
DEBUG:boto:auth_path=/qoorate.brooklyncode/
DEBUG:boto:Method: PUT
DEBUG:boto:Path: /
DEBUG:boto:Data: 
DEBUG:boto:Headers: {}
DEBUG:boto:Host: qoorate.brooklyncode.s3.amazonaws.com
DEBUG:boto:establishing HTTPS connection: host=qoorate.brooklyncode.s3.amazonaws.com, kwargs={}
DEBUG:boto:Token: None
DEBUG:boto:StringToSign:
PUT


Sun, 28 Jul 2013 13:49:18 GMT
/qoorate.brooklyncode/
DEBUG:boto:path=/
DEBUG:boto:auth_path=/qoorate.brooklyncode/
DEBUG:boto:path=/?policy
DEBUG:boto:auth_path=/qoorate.brooklyncode/?policy
DEBUG:boto:Method: PUT
DEBUG:boto:Path: /?policy
DEBUG:boto:Data: {
                    "Version": "2008-10-17",
                    "Statement": [
                        {
                            "Sid": "AddPerm",
                            "Effect": "Allow",
                            "Principal": {
                                "AWS": "*"
                            },
                            "Action": "s3:GetObject",
                            "Resource": "arn:aws:s3:::qoorate.brooklyncode/*"
                        }
                    ]
                }
            
DEBUG:boto:Headers: {}
DEBUG:boto:Host: qoorate.brooklyncode.s3.amazonaws.com
DEBUG:boto:Token: None
DEBUG:boto:StringToSign:
PUT


Sun, 28 Jul 2013 13:49:19 GMT
/qoorate.brooklyncode/?policy
DEBUG:root:create_images_for_S3
DEBUG:root:file_path: tmp
DEBUG:root:file_name: 5d6967df965a0025feb8af49ecdf435a
DEBUG:root:filename: tmp/5d6967df965a0025feb8af49ecdf435a
DEBUG:root:create_images_for_S3 image_infos: [(None, 'JPEG', '_f', 'jpg'), ((300, 200), 'JPEG', '_t', 'jpg'), ((120, 200), 'JPEG', '_m', 'jpg'), ((170, 100), 'JPEG', '_f', 'jpg'), ((50, 50), 'JPEG', '_s', 'jpg')] 
DEBUG:root:create_images_for_S3  image_info: (None, 'JPEG', '_f', 'jpg') 
DEBUG:root:filename created: 5d6967df965a0025feb8af49ecdf435a_f.jpg
DEBUG:root:create_images_for_S3  image_info: ((300, 200), 'JPEG', '_t', 'jpg') 
DEBUG:root:filename created: 5d6967df965a0025feb8af49ecdf435a_t.jpg
DEBUG:root:create_images_for_S3  image_info: ((120, 200), 'JPEG', '_m', 'jpg') 
DEBUG:root:filename created: 5d6967df965a0025feb8af49ecdf435a_m.jpg
DEBUG:root:create_images_for_S3  image_info: ((170, 100), 'JPEG', '_f', 'jpg') 
DEBUG:root:filename created: 5d6967df965a0025feb8af49ecdf435a_f.jpg
DEBUG:root:create_images_for_S3  image_info: ((50, 50), 'JPEG', '_s', 'jpg') 
DEBUG:root:filename created: 5d6967df965a0025feb8af49ecdf435a_s.jpg
DEBUG:root:create_images_for_S3 return filenames: [u'5d6967df965a0025feb8af49ecdf435a_f.jpg', u'5d6967df965a0025feb8af49ecdf435a_t.jpg', u'5d6967df965a0025feb8af49ecdf435a_m.jpg', u'5d6967df965a0025feb8af49ecdf435a_f.jpg', u'5d6967df965a0025feb8af49ecdf435a_s.jpg'] 
DEBUG:root:file_names: [u'5d6967df965a0025feb8af49ecdf435a_f.jpg', u'5d6967df965a0025feb8af49ecdf435a_t.jpg', u'5d6967df965a0025feb8af49ecdf435a_m.jpg', u'5d6967df965a0025feb8af49ecdf435a_f.jpg', u'5d6967df965a0025feb8af49ecdf435a_s.jpg']
DEBUG:root:images: [u'5d6967df965a0025feb8af49ecdf435a_f.jpg', u'5d6967df965a0025feb8af49ecdf435a_t.jpg', u'5d6967df965a0025feb8af49ecdf435a_m.jpg', u'5d6967df965a0025feb8af49ecdf435a_f.jpg', u'5d6967df965a0025feb8af49ecdf435a_s.jpg']
DEBUG:root:image_file_name: 5d6967df965a0025feb8af49ecdf435a_f.jpg
DEBUG:root:Uploading 5d6967df965a0025feb8af49ecdf435a_f.jpg to Amazon S3 bucket qoorate.brooklyncode
DEBUG:boto:path=/5d6967df965a0025feb8af49ecdf435a_f.jpg
DEBUG:boto:auth_path=/qoorate.brooklyncode/5d6967df965a0025feb8af49ecdf435a_f.jpg
DEBUG:boto:Method: PUT
DEBUG:boto:Path: /5d6967df965a0025feb8af49ecdf435a_f.jpg
DEBUG:boto:Data: 
DEBUG:boto:Headers: {'Content-Length': '107310', 'Content-MD5': 'bqPQ9pA2L2U60bngtSjHOA==', 'Content-Type': 'image/jpeg', 'Expect': '100-Continue', 'User-Agent': 'Boto/2.2.2 (darwin)'}
DEBUG:boto:Host: qoorate.brooklyncode.s3.amazonaws.com
DEBUG:boto:Token: None
DEBUG:boto:StringToSign:
PUT
bqPQ9pA2L2U60bngtSjHOA==
image/jpeg
Sun, 28 Jul 2013 13:49:19 GMT
/qoorate.brooklyncode/5d6967df965a0025feb8af49ecdf435a_f.jpg
DEBUG:boto:path=/5d6967df965a0025feb8af49ecdf435a_f.jpg
DEBUG:boto:auth_path=/qoorate.brooklyncode/5d6967df965a0025feb8af49ecdf435a_f.jpg
DEBUG:boto:path=/5d6967df965a0025feb8af49ecdf435a_f.jpg?acl
DEBUG:boto:auth_path=/qoorate.brooklyncode/5d6967df965a0025feb8af49ecdf435a_f.jpg?acl
DEBUG:boto:Method: PUT
DEBUG:boto:Path: /5d6967df965a0025feb8af49ecdf435a_f.jpg?acl
DEBUG:boto:Data: 
DEBUG:boto:Headers: {'x-amz-acl': 'public-read'}
DEBUG:boto:Host: qoorate.brooklyncode.s3.amazonaws.com
DEBUG:boto:Token: None
DEBUG:boto:StringToSign:
PUT


Sun, 28 Jul 2013 13:49:20 GMT
x-amz-acl:public-read
/qoorate.brooklyncode/5d6967df965a0025feb8af49ecdf435a_f.jpg?acl
DEBUG:root:image_file_name: 5d6967df965a0025feb8af49ecdf435a_t.jpg
DEBUG:root:Uploading 5d6967df965a0025feb8af49ecdf435a_t.jpg to Amazon S3 bucket qoorate.brooklyncode
Traceback (most recent call last):
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/gevent/greenlet.py", line 390, in run
    result = self._run(*self.args, **self.kwargs)
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 56, in upload_to_S3
    uploader.upload_to_S3(image_path)
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/base.py", line 203, in upload_to_S3
    k.set_contents_from_filename("%s/%s" % (file_path, image_file_name))
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/boto/s3/key.py", line 966, in set_contents_from_filename
    fp = open(filename, 'rb')
IOError: [Errno 2] No such file or directory: u'tmp/5d6967df965a0025feb8af49ecdf435a_t.jpg'
<Greenlet at 0x10c569690: upload_to_S3({'S3_PORT': 443, 'INIT_BUCKET': True, 'RETRY_INTER, u'5d6967df965a0025feb8af49ecdf435a')> failed with IOError

DEBUG:root:spawned upload
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:http://localhost:8081/?p=1
DEBUG:root:http://localhost:8081/?p=1
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:http://localhost:8081/?p=1
DEBUG:root:http://localhost:8081/?p=1
DEBUG:root:to_unicode
DEBUG:root:MySqlApiQueryset create_one
DEBUG:root:MySqlApiQueryset create_one sql: 
                INSERT INTO `q_brooklyncode` 
                set id=%s,locationId=%s,relatedId=%s,parentId=%s,userId=%s,type=%s,name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s,createDate=%s 
                ON DUPLICATE KEY UPDATE
                name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s
                
DEBUG:root:execute
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:execute args: [None, 0L, 0L, 0L, 1L, 1L, u'test', u'5e13bbb73127b9fc424e3728c6500f28', None, 0L, 0L, 0L, 0L, 0L, 0L, 0L, '', None, u'5d6967df965a0025feb8af49ecdf435a', u'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 9, 49, 20, 267846), datetime.datetime(2013, 7, 28, 9, 49, 20, 267846), u'test', u'5e13bbb73127b9fc424e3728c6500f28', None, 0L, 0L, 0L, 0L, 0L, 0L, 0L, '', None, u'5d6967df965a0025feb8af49ecdf435a', u'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 9, 49, 20, 267846)]
DEBUG:root:escape_sql sql: 
                INSERT INTO `q_brooklyncode` 
                set id=%s,locationId=%s,relatedId=%s,parentId=%s,userId=%s,type=%s,name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s,createDate=%s 
                ON DUPLICATE KEY UPDATE
                name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s
                
DEBUG:root:escape_sql args: [None, 0L, 0L, 0L, 1L, 1L, u'test', u'5e13bbb73127b9fc424e3728c6500f28', None, 0L, 0L, 0L, 0L, 0L, 0L, 0L, '', None, u'5d6967df965a0025feb8af49ecdf435a', u'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 9, 49, 20, 267846), datetime.datetime(2013, 7, 28, 9, 49, 20, 267846), u'test', u'5e13bbb73127b9fc424e3728c6500f28', None, 0L, 0L, 0L, 0L, 0L, 0L, 0L, '', None, u'5d6967df965a0025feb8af49ecdf435a', u'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 9, 49, 20, 267846)]
DEBUG:root:
                INSERT INTO `q_brooklyncode` 
                set id=NULL,locationId=0,relatedId=0,parentId=0,userId=1,type=1,name='test',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=0,voteNumber=0,votesUp=0,votesDown=0,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge='5d6967df965a0025feb8af49ecdf435a',referer='http://localhost:8081/?p=1',changeDate='2013-07-28 09:49:20',createDate='2013-07-28 09:49:20' 
                ON DUPLICATE KEY UPDATE
                name='test',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=0,voteNumber=0,votesUp=0,votesDown=0,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge='5d6967df965a0025feb8af49ecdf435a',referer='http://localhost:8081/?p=1',changeDate='2013-07-28 09:49:20'
                
DEBUG:root:execute: 
                INSERT INTO `q_brooklyncode` 
                set id=NULL,locationId=0,relatedId=0,parentId=0,userId=1,type=1,name='test',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=0,voteNumber=0,votesUp=0,votesDown=0,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge='5d6967df965a0025feb8af49ecdf435a',referer='http://localhost:8081/?p=1',changeDate='2013-07-28 09:49:20',createDate='2013-07-28 09:49:20' 
                ON DUPLICATE KEY UPDATE
                name='test',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=0,voteNumber=0,votesUp=0,votesDown=0,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge='5d6967df965a0025feb8af49ecdf435a',referer='http://localhost:8081/?p=1',changeDate='2013-07-28 09:49:20'
                
DEBUG:root:MySqlApiQueryset create_one (status, affected_rows): (Created, 1)
DEBUG:root:inserted_id: 2)
DEBUG:root:update_child_count(Comment object)
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:escape_sql sql: 
            SELECT count(*) as `childCount`
            FROM `q_brooklyncode` `f`
            WHERE `f`.`parentId`= %s
            
DEBUG:root:escape_sql args: [2L]
DEBUG:root:
            SELECT count(*) as `childCount`
            FROM `q_brooklyncode` `f`
            WHERE `f`.`parentId`= 2
            
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10c6b30d0>
DEBUG:root:child_count: 0
DEBUG:root:MySqlApiQueryset create_one
DEBUG:root:MySqlApiQueryset create_one sql: 
                INSERT INTO `q_brooklyncode` 
                set id=%s,locationId=%s,relatedId=%s,parentId=%s,userId=%s,type=%s,name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s,createDate=%s 
                ON DUPLICATE KEY UPDATE
                name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s
                
DEBUG:root:execute
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:execute args: [2L, 0L, 0L, 0L, 1L, 1L, u'test', u'5e13bbb73127b9fc424e3728c6500f28', None, 0L, 0L, 0L, 0L, 0L, 0L, 0L, '', None, u'5d6967df965a0025feb8af49ecdf435a', u'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 9, 49, 20, 267846), datetime.datetime(2013, 7, 28, 9, 49, 20, 267846), u'test', u'5e13bbb73127b9fc424e3728c6500f28', None, 0L, 0L, 0L, 0L, 0L, 0L, 0L, '', None, u'5d6967df965a0025feb8af49ecdf435a', u'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 9, 49, 20, 267846)]
DEBUG:root:escape_sql sql: 
                INSERT INTO `q_brooklyncode` 
                set id=%s,locationId=%s,relatedId=%s,parentId=%s,userId=%s,type=%s,name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s,createDate=%s 
                ON DUPLICATE KEY UPDATE
                name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s
                
DEBUG:root:escape_sql args: [2L, 0L, 0L, 0L, 1L, 1L, u'test', u'5e13bbb73127b9fc424e3728c6500f28', None, 0L, 0L, 0L, 0L, 0L, 0L, 0L, '', None, u'5d6967df965a0025feb8af49ecdf435a', u'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 9, 49, 20, 267846), datetime.datetime(2013, 7, 28, 9, 49, 20, 267846), u'test', u'5e13bbb73127b9fc424e3728c6500f28', None, 0L, 0L, 0L, 0L, 0L, 0L, 0L, '', None, u'5d6967df965a0025feb8af49ecdf435a', u'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 9, 49, 20, 267846)]
DEBUG:root:
                INSERT INTO `q_brooklyncode` 
                set id=2,locationId=0,relatedId=0,parentId=0,userId=1,type=1,name='test',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=0,voteNumber=0,votesUp=0,votesDown=0,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge='5d6967df965a0025feb8af49ecdf435a',referer='http://localhost:8081/?p=1',changeDate='2013-07-28 09:49:20',createDate='2013-07-28 09:49:20' 
                ON DUPLICATE KEY UPDATE
                name='test',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=0,voteNumber=0,votesUp=0,votesDown=0,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge='5d6967df965a0025feb8af49ecdf435a',referer='http://localhost:8081/?p=1',changeDate='2013-07-28 09:49:20'
                
DEBUG:root:execute: 
                INSERT INTO `q_brooklyncode` 
                set id=2,locationId=0,relatedId=0,parentId=0,userId=1,type=1,name='test',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=0,voteNumber=0,votesUp=0,votesDown=0,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge='5d6967df965a0025feb8af49ecdf435a',referer='http://localhost:8081/?p=1',changeDate='2013-07-28 09:49:20',createDate='2013-07-28 09:49:20' 
                ON DUPLICATE KEY UPDATE
                name='test',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=0,voteNumber=0,votesUp=0,votesDown=0,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge='5d6967df965a0025feb8af49ecdf435a',referer='http://localhost:8081/?p=1',changeDate='2013-07-28 09:49:20'
                
DEBUG:root:item_exists
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:escape_sql sql: SELECT count(*) FROM `q_brooklyncode`  WHERE id = %s
DEBUG:root:escape_sql args: [2L]
DEBUG:root:SELECT count(*) FROM `q_brooklyncode`  WHERE id = 2
DEBUG:root:MySqlApiQueryset create_one (status, affected_rows): (NO CHANGES, 0)
DEBUG:root:MySqlApiQueryset create_one
DEBUG:root:MySqlApiQueryset create_one sql: 
                INSERT INTO `q_brooklyncode_images` 
                set id=%s,itemId=%s,s3Bucket=%s,thumbnailLargeHash=%s 
                ON DUPLICATE KEY UPDATE
                s3Bucket=%s,thumbnailLargeHash=%s
                
DEBUG:root:execute
DEBUG:root:execute args: [None, 2L, 'qoorate.brooklyncode', u'5d6967df965a0025feb8af49ecdf435a', 'qoorate.brooklyncode', u'5d6967df965a0025feb8af49ecdf435a']
DEBUG:root:escape_sql sql: 
                INSERT INTO `q_brooklyncode_images` 
                set id=%s,itemId=%s,s3Bucket=%s,thumbnailLargeHash=%s 
                ON DUPLICATE KEY UPDATE
                s3Bucket=%s,thumbnailLargeHash=%s
                
DEBUG:root:escape_sql args: [None, 2L, 'qoorate.brooklyncode', u'5d6967df965a0025feb8af49ecdf435a', 'qoorate.brooklyncode', u'5d6967df965a0025feb8af49ecdf435a']
DEBUG:root:
                INSERT INTO `q_brooklyncode_images` 
                set id=NULL,itemId=2,s3Bucket='qoorate.brooklyncode',thumbnailLargeHash='5d6967df965a0025feb8af49ecdf435a' 
                ON DUPLICATE KEY UPDATE
                s3Bucket='qoorate.brooklyncode',thumbnailLargeHash='5d6967df965a0025feb8af49ecdf435a'
                
DEBUG:root:execute: 
                INSERT INTO `q_brooklyncode_images` 
                set id=NULL,itemId=2,s3Bucket='qoorate.brooklyncode',thumbnailLargeHash='5d6967df965a0025feb8af49ecdf435a' 
                ON DUPLICATE KEY UPDATE
                s3Bucket='qoorate.brooklyncode',thumbnailLargeHash='5d6967df965a0025feb8af49ecdf435a'
                
DEBUG:root:MySqlApiQueryset create_one (status, affected_rows): (Created, 1)
DEBUG:root:inserted_id: 2)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10c6ae1d0>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10c6ae250>
DEBUG:root:CONTEXT: {'has_more_contributions': False, 'app': {'CHILD_PAGE_SIZE': 5, 'QOORATE_API_URI': 'http://qoorate.sethmurphy.com/q', 'TEMP_DIR': 'tmp', 'BACKGROUND_S3_UPLOAD': True, 'BROKEN_IMG_URI': 'http://localhost/q/img/blank.gif', 'POLLING_INTERVAL': 15, 'QOORATE_IMG_PATH': 'http://localhost/q/uploader/images/', 'S3_IMG_PATH': 'https://s3.amazonaws.com/qoorate.brooklyncode/', 'AMAZON_BUCKET': 'qoorate.brooklyncode', 'QOORATE_URI': 'http://qoorate.sethmurphy.com', 'PARENT_PAGE_SIZE': 5}, 'thumbnailLargeHash': u'5d6967df965a0025feb8af49ecdf435a', 'parentCount': 5, 'q_short_name': u'12345', 'is_admin': False, 'parent_tag': u'p_brooklyncode', 'moreIndex': 1, 'comments': [<Comment: Comment object>], 'location': u'5e13bbb73127b9fc424e3728c6500f28', 'current_user': <User: User object>, 'related_user': None, 'childCount': 5, 'comment_images': [('Created', <Image: Image object>)]}
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:unsanitizing: test
DEBUG:root:unsanitizing encoded ascii: test
DEBUG:root:unsanitizing encoded utf8: test
DEBUG:root: unsanitized: test
DEBUG:root:
     
        
            
            
            <div id="12345-2" class="q_item lv-1 vi-l tp-1">
                            <div class="q_inr p">
                <div class="q_data">
                    <div class="q_main">
                        <div class="q_inr">
                            <div class="q_top">
                                <div class="headerWrapper p">
                                    <a id="share_12345-2" href="#" class="do makeForm share 12345-2"><span>+ Share</span></a>
                                    <a id="flag_12345-2" href="#" class="do makeForm flag 12345-2"><span>Flag</span></a>
                                    <a id="delete_12345-2" href="#" class="do action deleteItem 12345-2"><span>Delete</span></a>
                                    <div class="q_clear"></div>
                                </div>
                            </div>
                            <div class="q_main_body">
                                <div class="q_txt">
                                    
                                    <div class="q_img">
                                        <img src="https://s3.amazonaws.com/qoorate.brooklyncode/5d6967df965a0025feb8af49ecdf435a_m.jpg" 
                                                onerror="ImgError(this, 'http://localhost/q/uploader/images/5d6967df965a0025feb8af49ecdf435a','http://localhost/q/img/blank.gif')">
                                    </div>
                                    <h3 class="itemName title type-1">test</h3>
                                    
                                </div>
                                <div class="q_clear"></div>
                            </div>
                            <div class="q_main_footer">
                                <div class="q_main_user">
                                    <div class="q_thumbnail">
                                        
                                        <img width="30" height="30" src="http://a0.twimg.com/profile_images/2793955592/297b32ce863d62ad496ccfab30b98ec2_normal.jpeg" onerror="ImgError(this, 'http://qrate.co/img/blank.gif')" />
                                        
                                    </div>
                                    <div class="q_user_info">
                                        
                                        <span class="q_usr"></span>
                                        
                                        <span class="time">0 seconds ago</span>
                                    </div>
                                    <div class="q_clear"></div>
                                </div>
                            </div>
                            <div class="q_bottom lv-1">
                                <fieldset class="reply bottom">
                                    <legend>Reply</legend>
                                    <div class="replyWrapper">
                                        <div class="inner">
                                            <a id="reply_12345-2" href="#" class="do makeForm replyComment 12345-2 reply"><span>Reply (<span class="replycount">0</span>)</span></a>
                                            <a id="toggle_12345-2" href="#" class="toggleReply tco-2 expand"><span></span></a>
                                            <div class="q_clear"></div>
                                        </div>
                                    </div>
                                    <div class="vote wrapper">
                                        <div class="inner">
                                            <div class="upVote wrap"><a href="#" class="do action upVote 12345-2"><span class="voted">0</span></a></div>
                                            <div class="downVote wrap"><a href="#" class="do action downVote 12345-2"><span class="voted">0</span></a></div>
                                            <div class="q_clear"></div>
                                        </div>
                                    </div>
                                </fieldset>
                                <div class="dyn 12345-2"></div>
                            </div>
                            <div class="q_clear"></div>
                        </div>
                    </div>
                </div>
                <div class="q_clear"></div>
            </div>
            <div class="q_clear"></div>
             
        
    

</div>

<div class="q_clear"></div>
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:escape_sql sql: 
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:escape_sql args: []
DEBUG:root:
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10c840a10>
DEBUG:root:Number of contributions 2
INFO:root:200 POST /q/feed (127.0.0.1)
DEBUG:root:None
DEBUG:root:{u'cookie': u'SBID="!MZ6JnTJnDncb7k3n0Ya9Sg==?gAJVBFNCSURxAWN1dWlkClVVSUQKcQIpgXEDfXEEVQNpbnRxBYoQqUXRlREm8LXjTshLPYe7cXNihnEGLg=="; wordpress_test_cookie=WP+Cookie+check; wordpress_logged_in_8dec71ede39ad9ff3b3fbc03311bdc45=qoorate%7C1375142446%7C86fd9ec6d6a221f44c7b1244f05dcd23; QOOID=QOO51f460f57c582; QOOTID=QOOT51f460f57c593; wp-settings-time-1=1374970345', u'accept-language': u'en-US,en;q=0.8', u'accept-encoding': u'gzip,deflate,sdch', u'PATTERN': u'/q/', u'x-forwarded-for': u'127.0.0.1', u'host': u'localhost', u'accept': u'image/webp,*/*;q=0.8', u'user-agent': u'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/28.0.1500.71 Safari/537.36', u'connection': u'keep-alive', u'VERSION': u'HTTP/1.1', u'referer': u'http://localhost:8081/?p=1', u'PATH': u'/q/uploader/images/5d6967df965a0025feb8af49ecdf435a', u'METHOD': u'GET', u'URI': u'/q/uploader/images/5d6967df965a0025feb8af49ecdf435a'}
DEBUG:root:TemporaryImageViewHandler get
DEBUG:root:filename: 5d6967df965a0025feb8af49ecdf435a
DEBUG:root:hash: <built-in function hash>
DEBUG:root:requested_file_name: ./tmp/5d6967df965a0025feb8af49ecdf435a
DEBUG:root:mime_type: image/png
INFO:root:200 GET /q/uploader/images/5d6967df965a0025feb8af49ecdf435a (127.0.0.1)
Sun, 28 Jul 2013 13:51:03 GMT [ERROR] (errno: No such file or directory) End directory base with / in static/qoorateserver or it won't work right.'
Sun, 28 Jul 2013 13:51:03 GMT [ERROR] (errno: None) Failed to create target for route /q/static/
Sun, 28 Jul 2013 13:51:03 GMT [ERROR] (errno: None) End directory base with / in static/qoorateserver or it won't work right.'
Sun, 28 Jul 2013 13:51:03 GMT [ERROR] (errno: None) Failed to create target for route /q/robots.txt
Sun, 28 Jul 2013 13:51:03 GMT [ERROR] (errno: None) End directory base with / in static/qoorateserver or it won't work right.'
Sun, 28 Jul 2013 13:51:03 GMT [ERROR] (errno: None) Failed to create target for route /q/favicon.ico
Sun, 28 Jul 2013 13:51:03 GMT [INFO] (src/mime.c:49) MAX limits.mime_ext_len=128
Sun, 28 Jul 2013 13:51:03 GMT [INFO] (src/host.c:74) MAX limits.url_path=256, limits.host_name=256
Sun, 28 Jul 2013 13:51:03 GMT [INFO] (src/config/config.c:109) Loaded proxy 1:127.0.0.1:8081
Sun, 28 Jul 2013 13:51:03 GMT [INFO] (src/config/config.c:227) Loaded route 1:/:proxy for host 1:localhost
Sun, 28 Jul 2013 13:51:03 GMT [INFO] (src/handler.c:343) MAX limits.handler_stack=102400
Sun, 28 Jul 2013 13:51:03 GMT [INFO] (src/config/config.c:85) Loaded handler 1:ipc://run/qoorateserver/mongrel2_send:137b789e-b7eb-475a-8d5c-b16ab54493yu:ipc://run/qoorateserver/mongrel2_rcv:
Sun, 28 Jul 2013 13:51:03 GMT [INFO] (src/config/config.c:227) Loaded route 2:/q/:handler for host 1:localhost
Sun, 28 Jul 2013 13:51:03 GMT [INFO] (src/dir.c:195) MAX limits.dir_send_buffer=16384, limits.dir_max_path=256
Sun, 28 Jul 2013 13:51:03 GMT [INFO] (src/config/config.c:136) Loaded directory 1:static/qoorateserver/js/:index.html
Sun, 28 Jul 2013 13:51:03 GMT [INFO] (src/config/config.c:227) Loaded route 3:/q/js/:dir for host 1:localhost
Sun, 28 Jul 2013 13:51:03 GMT [INFO] (src/config/config.c:136) Loaded directory 2:static/qoorateserver/css/:index.html
Sun, 28 Jul 2013 13:51:03 GMT [INFO] (src/config/config.c:227) Loaded route 4:/q/css/:dir for host 1:localhost
Sun, 28 Jul 2013 13:51:03 GMT [INFO] (src/config/config.c:136) Loaded directory 3:static/qoorateserver/img/:index.html
Sun, 28 Jul 2013 13:51:03 GMT [INFO] (src/config/config.c:227) Loaded route 5:/q/img/:dir for host 1:localhost
Sun, 28 Jul 2013 13:51:03 GMT [INFO] (src/config/config.c:312) Loaded 1 hosts for server 1:fe76e442-da24-4708-b0ef-c4ahr2b7d131
Sun, 28 Jul 2013 13:51:03 GMT [INFO] (src/server.c:445) LOADING Handler ipc://run/qoorateserver/mongrel2_send
Sun, 28 Jul 2013 13:51:03 GMT [ERROR] (src/unixy.c:99: errno: No such file or directory) Failed to open PID file ../run/mongrel2.pid for reading.
Sun, 28 Jul 2013 13:51:03 GMT [INFO] (src/unixy.c:137) No previous mongrel2 running, continuing on.
Sun, 28 Jul 2013 13:51:03 GMT [INFO] (src/mongrel2.c:223) All loaded up, time to turn into a server.
Sun, 28 Jul 2013 13:51:03 GMT [INFO] (src/mongrel2.c:224) -- Starting Mongrel2/1.8.1. Copyright (C) Zed A. Shaw. Licensed BSD.

Sun, 28 Jul 2013 13:51:03 GMT [INFO] (src/mongrel2.c:225) -- Look in logs/error.log for startup messages and errors.
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/uploader/main.py", line 18, in <module>
    from brubeckuploader.handlers import (
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/handlers.py", line 19, in <module>
    from brubeckuploader.base import Uploader
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/base.py", line 122
    nim.save( "%s/%s%s.%s" % (file_path, file_name,image_info[2], image_info[3]), image_info[1])
      ^
SyntaxError: invalid syntax
Exception KeyError: KeyError(4380885712,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 21, in <module>
    from brubeckuploader.handlers import (
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/handlers.py", line 19, in <module>
    from brubeckuploader.base import Uploader
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/base.py", line 122
    nim.save( "%s/%s%s.%s" % (file_path, file_name,image_info[2], image_info[3]), image_info[1])
      ^
SyntaxError: invalid syntax
Exception KeyError: KeyError(4371689872,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/uploader/main.py", line 18, in <module>
    from brubeckuploader.handlers import (
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/handlers.py", line 19, in <module>
    from brubeckuploader.base import Uploader
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/base.py", line 122
    nim.save( "%s/%s%s.%s" % (file_path, file_name,image_info[2], image_info[3]), image_info[1])
      ^
SyntaxError: invalid syntax
Exception KeyError: KeyError(4306903760,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 21, in <module>
    from brubeckuploader.handlers import (
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/handlers.py", line 19, in <module>
    from brubeckuploader.base import Uploader
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/base.py", line 122
    nim.save( "%s/%s%s.%s" % (file_path, file_name,image_info[2], image_info[3]), image_info[1])
      ^
SyntaxError: invalid syntax
Exception KeyError: KeyError(4424196496,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/uploader/main.py", line 18, in <module>
    from brubeckuploader.handlers import (
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/handlers.py", line 19, in <module>
    from brubeckuploader.base import Uploader
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/base.py", line 122
    nim.save( "%s/%s%s.%s" % (file_path, file_name,image_info[2], image_info[3]), image_info[1])
      ^
SyntaxError: invalid syntax
Exception KeyError: KeyError(4317758160,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 21, in <module>
    from brubeckuploader.handlers import (
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/handlers.py", line 19, in <module>
    from brubeckuploader.base import Uploader
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/base.py", line 122
    nim.save( "%s/%s%s.%s" % (file_path, file_name,image_info[2], image_info[3]), image_info[1])
      ^
SyntaxError: invalid syntax
Exception KeyError: KeyError(4463595920,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/uploader/main.py", line 18, in <module>
    from brubeckuploader.handlers import (
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/handlers.py", line 19, in <module>
    from brubeckuploader.base import Uploader
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/base.py", line 122
    nim.save( "%s/%s%s.%s" % (file_path, file_name,image_info[2], image_info[3]), image_info[1])
      ^
SyntaxError: invalid syntax
Exception KeyError: KeyError(4528411344,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 21, in <module>
    from brubeckuploader.handlers import (
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/handlers.py", line 19, in <module>
    from brubeckuploader.base import Uploader
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/base.py", line 122
    nim.save( "%s/%s%s.%s" % (file_path, file_name,image_info[2], image_info[3]), image_info[1])
      ^
SyntaxError: invalid syntax
Exception KeyError: KeyError(4337443216,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/uploader/main.py", line 18, in <module>
    from brubeckuploader.handlers import (
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/handlers.py", line 19, in <module>
    from brubeckuploader.base import Uploader
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/base.py", line 122
    nim.save( "%s/%s%s.%s" % (file_path, file_name,image_info[2], image_info[3]), image_info[1])
      ^
SyntaxError: invalid syntax
Exception KeyError: KeyError(4324467408,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 21, in <module>
    from brubeckuploader.handlers import (
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/handlers.py", line 19, in <module>
    from brubeckuploader.base import Uploader
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/base.py", line 122
    nim.save( "%s/%s%s.%s" % (file_path, file_name,image_info[2], image_info[3]), image_info[1])
      ^
SyntaxError: invalid syntax
Exception KeyError: KeyError(4548792720,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/uploader/main.py", line 18, in <module>
    from brubeckuploader.handlers import (
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/handlers.py", line 19, in <module>
    from brubeckuploader.base import Uploader
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/base.py", line 122
    nim.save( "%s/%s%s.%s" % (file_path, file_name,image_info[2], image_info[3]), image_info[1])
      ^
SyntaxError: invalid syntax
Exception KeyError: KeyError(4495450832,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 21, in <module>
    from brubeckuploader.handlers import (
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/handlers.py", line 19, in <module>
    from brubeckuploader.base import Uploader
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/base.py", line 122
    nim.save( "%s/%s%s.%s" % (file_path, file_name,image_info[2], image_info[3]), image_info[1])
      ^
SyntaxError: invalid syntax
Exception KeyError: KeyError(4387840400,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/uploader/main.py", line 18, in <module>
    from brubeckuploader.handlers import (
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/handlers.py", line 19, in <module>
    from brubeckuploader.base import Uploader
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/base.py", line 122
    nim.save( "%s/%s%s.%s" % (file_path, file_name,image_info[2], image_info[3]), image_info[1])
      ^
SyntaxError: invalid syntax
Exception KeyError: KeyError(4309324496,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 21, in <module>
    from brubeckuploader.handlers import (
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/handlers.py", line 19, in <module>
    from brubeckuploader.base import Uploader
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/base.py", line 122
    nim.save( "%s/%s%s.%s" % (file_path, file_name,image_info[2], image_info[3]), image_info[1])
      ^
SyntaxError: invalid syntax
Exception KeyError: KeyError(4531904912,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/uploader/main.py", line 18, in <module>
    from brubeckuploader.handlers import (
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/handlers.py", line 19, in <module>
    from brubeckuploader.base import Uploader
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/base.py", line 122
    nim.save( "%s/%s%s.%s" % (file_path, file_name,image_info[2], image_info[3]), image_info[1])
      ^
SyntaxError: invalid syntax
Exception KeyError: KeyError(4355330768,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 21, in <module>
    from brubeckuploader.handlers import (
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/handlers.py", line 19, in <module>
    from brubeckuploader.base import Uploader
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/base.py", line 122
    nim.save( "%s/%s%s.%s" % (file_path, file_name,image_info[2], image_info[3]), image_info[1])
      ^
SyntaxError: invalid syntax
Exception KeyError: KeyError(4512244112,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/uploader/main.py", line 18, in <module>
    from brubeckuploader.handlers import (
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/handlers.py", line 19, in <module>
    from brubeckuploader.base import Uploader
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/base.py", line 122
    nim.save( "%s/%s%s.%s" % (file_path, file_name,image_info[2], image_info[3]), image_info[1])
      ^
SyntaxError: invalid syntax
Exception KeyError: KeyError(4464444112,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 21, in <module>
    from brubeckuploader.handlers import (
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/handlers.py", line 19, in <module>
    from brubeckuploader.base import Uploader
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/base.py", line 122
    nim.save( "%s/%s%s.%s" % (file_path, file_name,image_info[2], image_info[3]), image_info[1])
      ^
SyntaxError: invalid syntax
Exception KeyError: KeyError(4332310928,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/uploader/main.py", line 18, in <module>
    from brubeckuploader.handlers import (
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/handlers.py", line 19, in <module>
    from brubeckuploader.base import Uploader
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/base.py", line 122
    nim.save( "%s/%s%s.%s" % (file_path, file_name,image_info[2], image_info[3]), image_info[1])
      ^
SyntaxError: invalid syntax
Exception KeyError: KeyError(4361360080,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 21, in <module>
    from brubeckuploader.handlers import (
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/handlers.py", line 19, in <module>
    from brubeckuploader.base import Uploader
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/base.py", line 122
    nim.save( "%s/%s%s.%s" % (file_path, file_name,image_info[2], image_info[3]), image_info[1])
      ^
SyntaxError: invalid syntax
Exception KeyError: KeyError(4535533968,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/uploader/main.py", line 18, in <module>
    from brubeckuploader.handlers import (
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/handlers.py", line 19, in <module>
    from brubeckuploader.base import Uploader
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/base.py", line 122
    nim.save( "%s/%s%s.%s" % (file_path, file_name,image_info[2], image_info[3]), image_info[1])
      ^
SyntaxError: invalid syntax
Exception KeyError: KeyError(4407849680,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 21, in <module>
    from brubeckuploader.handlers import (
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/handlers.py", line 19, in <module>
    from brubeckuploader.base import Uploader
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/base.py", line 122
    nim.save( "%s/%s%s.%s" % (file_path, file_name,image_info[2], image_info[3]), image_info[1])
      ^
SyntaxError: invalid syntax
Exception KeyError: KeyError(4468416912,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/uploader/main.py", line 18, in <module>
    from brubeckuploader.handlers import (
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/handlers.py", line 19, in <module>
    from brubeckuploader.base import Uploader
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/base.py", line 122
    nim.save( "%s/%s%s.%s" % (file_path, file_name,image_info[2], image_info[3]), image_info[1])
      ^
SyntaxError: invalid syntax
Exception KeyError: KeyError(4535575248,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 21, in <module>
    from brubeckuploader.handlers import (
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/handlers.py", line 19, in <module>
    from brubeckuploader.base import Uploader
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/base.py", line 122
    nim.save( "%s/%s%s.%s" % (file_path, file_name,image_info[2], image_info[3]), image_info[1])
      ^
SyntaxError: invalid syntax
Exception KeyError: KeyError(4397486480,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/uploader/main.py", line 18, in <module>
    from brubeckuploader.handlers import (
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/handlers.py", line 19, in <module>
    from brubeckuploader.base import Uploader
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/base.py", line 122
    nim.save( "%s/%s%s.%s" % (file_path, file_name,image_info[2], image_info[3]), image_info[1])
      ^
SyntaxError: invalid syntax
Exception KeyError: KeyError(4507984592,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 21, in <module>
    from brubeckuploader.handlers import (
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/handlers.py", line 19, in <module>
    from brubeckuploader.base import Uploader
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/base.py", line 122
    nim.save( "%s/%s%s.%s" % (file_path, file_name,image_info[2], image_info[3]), image_info[1])
      ^
SyntaxError: invalid syntax
Exception KeyError: KeyError(4297867664,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/uploader/main.py", line 18, in <module>
    from brubeckuploader.handlers import (
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/handlers.py", line 19, in <module>
    from brubeckuploader.base import Uploader
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/base.py", line 122
    nim.save( "%s/%s%s.%s" % (file_path, file_name,image_info[2], image_info[3]), image_info[1])
      ^
SyntaxError: invalid syntax
Exception KeyError: KeyError(4551443152,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 21, in <module>
    from brubeckuploader.handlers import (
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/handlers.py", line 19, in <module>
    from brubeckuploader.base import Uploader
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/base.py", line 122
    nim.save( "%s/%s%s.%s" % (file_path, file_name,image_info[2], image_info[3]), image_info[1])
      ^
SyntaxError: invalid syntax
Exception KeyError: KeyError(4299551120,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/uploader/main.py", line 18, in <module>
    from brubeckuploader.handlers import (
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/handlers.py", line 19, in <module>
    from brubeckuploader.base import Uploader
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/base.py", line 122
    nim.save( "%s/%s%s.%s" % (file_path, file_name,image_info[2], image_info[3]), image_info[1])
      ^
SyntaxError: invalid syntax
Exception KeyError: KeyError(4337074896,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 21, in <module>
    from brubeckuploader.handlers import (
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/handlers.py", line 19, in <module>
    from brubeckuploader.base import Uploader
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/base.py", line 129
    im.save( "%s/%s%s.%s" % (file_path, file_name,image_info[2], image_info[3]), image_info[1])
     ^
SyntaxError: invalid syntax
Exception KeyError: KeyError(4547965328,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
Sun, 28 Jul 2013 13:52:13 GMT [ERROR] (errno: No such file or directory) End directory base with / in static/qoorateserver or it won't work right.'
Sun, 28 Jul 2013 13:52:13 GMT [ERROR] (errno: None) Failed to create target for route /q/static/
Sun, 28 Jul 2013 13:52:13 GMT [ERROR] (errno: None) End directory base with / in static/qoorateserver or it won't work right.'
Sun, 28 Jul 2013 13:52:13 GMT [ERROR] (errno: None) Failed to create target for route /q/robots.txt
Sun, 28 Jul 2013 13:52:13 GMT [ERROR] (errno: None) End directory base with / in static/qoorateserver or it won't work right.'
Sun, 28 Jul 2013 13:52:13 GMT [ERROR] (errno: None) Failed to create target for route /q/favicon.ico
Sun, 28 Jul 2013 13:52:13 GMT [INFO] (src/mime.c:49) MAX limits.mime_ext_len=128
Sun, 28 Jul 2013 13:52:13 GMT [INFO] (src/host.c:74) MAX limits.url_path=256, limits.host_name=256
Sun, 28 Jul 2013 13:52:13 GMT [INFO] (src/config/config.c:109) Loaded proxy 1:127.0.0.1:8081
Sun, 28 Jul 2013 13:52:13 GMT [INFO] (src/config/config.c:227) Loaded route 1:/:proxy for host 1:localhost
Sun, 28 Jul 2013 13:52:13 GMT [INFO] (src/handler.c:343) MAX limits.handler_stack=102400
Sun, 28 Jul 2013 13:52:13 GMT [INFO] (src/config/config.c:85) Loaded handler 1:ipc://run/qoorateserver/mongrel2_send:137b789e-b7eb-475a-8d5c-b16ab54493yu:ipc://run/qoorateserver/mongrel2_rcv:
Sun, 28 Jul 2013 13:52:13 GMT [INFO] (src/config/config.c:227) Loaded route 2:/q/:handler for host 1:localhost
Sun, 28 Jul 2013 13:52:13 GMT [INFO] (src/dir.c:195) MAX limits.dir_send_buffer=16384, limits.dir_max_path=256
Sun, 28 Jul 2013 13:52:13 GMT [INFO] (src/config/config.c:136) Loaded directory 1:static/qoorateserver/js/:index.html
Sun, 28 Jul 2013 13:52:13 GMT [INFO] (src/config/config.c:227) Loaded route 3:/q/js/:dir for host 1:localhost
Sun, 28 Jul 2013 13:52:13 GMT [INFO] (src/config/config.c:136) Loaded directory 2:static/qoorateserver/css/:index.html
Sun, 28 Jul 2013 13:52:13 GMT [INFO] (src/config/config.c:227) Loaded route 4:/q/css/:dir for host 1:localhost
Sun, 28 Jul 2013 13:52:13 GMT [INFO] (src/config/config.c:136) Loaded directory 3:static/qoorateserver/img/:index.html
Sun, 28 Jul 2013 13:52:13 GMT [INFO] (src/config/config.c:227) Loaded route 5:/q/img/:dir for host 1:localhost
Sun, 28 Jul 2013 13:52:13 GMT [INFO] (src/config/config.c:312) Loaded 1 hosts for server 1:fe76e442-da24-4708-b0ef-c4ahr2b7d131
Sun, 28 Jul 2013 13:52:13 GMT [INFO] (src/server.c:445) LOADING Handler ipc://run/qoorateserver/mongrel2_send
Sun, 28 Jul 2013 13:52:13 GMT [ERROR] (src/unixy.c:99: errno: No such file or directory) Failed to open PID file ../run/mongrel2.pid for reading.
Sun, 28 Jul 2013 13:52:13 GMT [INFO] (src/unixy.c:137) No previous mongrel2 running, continuing on.
Sun, 28 Jul 2013 13:52:13 GMT [INFO] (src/mongrel2.c:223) All loaded up, time to turn into a server.
Sun, 28 Jul 2013 13:52:13 GMT [INFO] (src/mongrel2.c:224) -- Starting Mongrel2/1.8.1. Copyright (C) Zed A. Shaw. Licensed BSD.

Sun, 28 Jul 2013 13:52:13 GMT [INFO] (src/mongrel2.c:225) -- Look in logs/error.log for startup messages and errors.
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/uploader/main.py", line 18, in <module>
    from brubeckuploader.handlers import (
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/handlers.py", line 19, in <module>
    from brubeckuploader.base import Uploader
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/base.py", line 129
    im.save( "%s/%s%s.%s" % (file_path, file_name,image_info[2], image_info[3]), image_info[1])
     ^
SyntaxError: invalid syntax
Exception KeyError: KeyError(4353319632,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 21, in <module>
    from brubeckuploader.handlers import (
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/handlers.py", line 19, in <module>
    from brubeckuploader.base import Uploader
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/base.py", line 129
    im.save( "%s/%s%s.%s" % (file_path, file_name,image_info[2], image_info[3]), image_info[1])
     ^
SyntaxError: invalid syntax
Exception KeyError: KeyError(4508639632,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/uploader/main.py", line 18, in <module>
    from brubeckuploader.handlers import (
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/handlers.py", line 19, in <module>
    from brubeckuploader.base import Uploader
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/base.py", line 129
    im.save( "%s/%s%s.%s" % (file_path, file_name,image_info[2], image_info[3]), image_info[1])
     ^
SyntaxError: invalid syntax
Exception KeyError: KeyError(4538696400,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 21, in <module>
    from brubeckuploader.handlers import (
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/handlers.py", line 19, in <module>
    from brubeckuploader.base import Uploader
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/base.py", line 129
    im.save( "%s/%s%s.%s" % (file_path, file_name,image_info[2], image_info[3]), image_info[1])
     ^
SyntaxError: invalid syntax
Exception KeyError: KeyError(4399051152,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/uploader/main.py", line 18, in <module>
    from brubeckuploader.handlers import (
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/handlers.py", line 19, in <module>
    from brubeckuploader.base import Uploader
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/base.py", line 129
    im.save( "%s/%s%s.%s" % (file_path, file_name,image_info[2], image_info[3]), image_info[1])
     ^
SyntaxError: invalid syntax
Exception KeyError: KeyError(4356813520,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 21, in <module>
    from brubeckuploader.handlers import (
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/handlers.py", line 19, in <module>
    from brubeckuploader.base import Uploader
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/base.py", line 129
    im.save( "%s/%s%s.%s" % (file_path, file_name,image_info[2], image_info[3]), image_info[1])
     ^
SyntaxError: invalid syntax
Exception KeyError: KeyError(4393546128,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/uploader/main.py", line 18, in <module>
    from brubeckuploader.handlers import (
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/handlers.py", line 19, in <module>
    from brubeckuploader.base import Uploader
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/base.py", line 129
    im.save( "%s/%s%s.%s" % (file_path, file_name,image_info[2], image_info[3]), image_info[1])
     ^
SyntaxError: invalid syntax
Exception KeyError: KeyError(4483683024,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 21, in <module>
    from brubeckuploader.handlers import (
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/handlers.py", line 19, in <module>
    from brubeckuploader.base import Uploader
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/base.py", line 129
    im.save( "%s/%s%s.%s" % (file_path, file_name,image_info[2], image_info[3]), image_info[1])
     ^
SyntaxError: invalid syntax
Exception KeyError: KeyError(4355522960,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/uploader/main.py", line 18, in <module>
    from brubeckuploader.handlers import (
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/handlers.py", line 19, in <module>
    from brubeckuploader.base import Uploader
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/base.py", line 129
    im.save( "%s/%s%s.%s" % (file_path, file_name,image_info[2], image_info[3]), image_info[1])
     ^
SyntaxError: invalid syntax
Exception KeyError: KeyError(4538135248,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 21, in <module>
    from brubeckuploader.handlers import (
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/handlers.py", line 19, in <module>
    from brubeckuploader.base import Uploader
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/base.py", line 129
    im.save( "%s/%s%s.%s" % (file_path, file_name,image_info[2], image_info[3]), image_info[1])
     ^
SyntaxError: invalid syntax
Exception KeyError: KeyError(4491223440,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/uploader/main.py", line 18, in <module>
    from brubeckuploader.handlers import (
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/handlers.py", line 19, in <module>
    from brubeckuploader.base import Uploader
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/base.py", line 129
    im.save( "%s/%s%s.%s" % (file_path, file_name,image_info[2], image_info[3]), image_info[1])
     ^
SyntaxError: invalid syntax
Exception KeyError: KeyError(4534960848,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 21, in <module>
    from brubeckuploader.handlers import (
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/handlers.py", line 19, in <module>
    from brubeckuploader.base import Uploader
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/base.py", line 129
    im.save( "%s/%s%s.%s" % (file_path, file_name,image_info[2], image_info[3]), image_info[1])
     ^
SyntaxError: invalid syntax
Exception KeyError: KeyError(4399509904,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/uploader/main.py", line 18, in <module>
    from brubeckuploader.handlers import (
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/handlers.py", line 19, in <module>
    from brubeckuploader.base import Uploader
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/base.py", line 129
    im.save( "%s/%s%s.%s" % (file_path, file_name,image_info[2], image_info[3]), image_info[1])
     ^
SyntaxError: invalid syntax
Exception KeyError: KeyError(4487766736,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 21, in <module>
    from brubeckuploader.handlers import (
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/handlers.py", line 19, in <module>
    from brubeckuploader.base import Uploader
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/base.py", line 129
    im.save( "%s/%s%s.%s" % (file_path, file_name,image_info[2], image_info[3]), image_info[1])
     ^
SyntaxError: invalid syntax
Exception KeyError: KeyError(4517613968,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/uploader/main.py", line 18, in <module>
    from brubeckuploader.handlers import (
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/handlers.py", line 19, in <module>
    from brubeckuploader.base import Uploader
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/base.py", line 129
    im.save( "%s/%s%s.%s" % (file_path, file_name,image_info[2], image_info[3]), image_info[1])
     ^
SyntaxError: invalid syntax
Exception KeyError: KeyError(4529316560,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 21, in <module>
    from brubeckuploader.handlers import (
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/handlers.py", line 19, in <module>
    from brubeckuploader.base import Uploader
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/base.py", line 129
    im.save( "%s/%s%s.%s" % (file_path, file_name,image_info[2], image_info[3]), image_info[1])
     ^
SyntaxError: invalid syntax
Exception KeyError: KeyError(4405227920,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Sun, 28 Jul 2013 13:52:52 GMT [ERROR] (errno: No such file or directory) End directory base with / in static/qoorateserver or it won't work right.'
Sun, 28 Jul 2013 13:52:52 GMT [ERROR] (errno: None) Failed to create target for route /q/static/
Sun, 28 Jul 2013 13:52:52 GMT [ERROR] (errno: None) End directory base with / in static/qoorateserver or it won't work right.'
Sun, 28 Jul 2013 13:52:52 GMT [ERROR] (errno: None) Failed to create target for route /q/robots.txt
Sun, 28 Jul 2013 13:52:52 GMT [ERROR] (errno: None) End directory base with / in static/qoorateserver or it won't work right.'
Sun, 28 Jul 2013 13:52:52 GMT [ERROR] (errno: None) Failed to create target for route /q/favicon.ico
Sun, 28 Jul 2013 13:52:52 GMT [INFO] (src/mime.c:49) MAX limits.mime_ext_len=128
Sun, 28 Jul 2013 13:52:52 GMT [INFO] (src/host.c:74) MAX limits.url_path=256, limits.host_name=256
Sun, 28 Jul 2013 13:52:52 GMT [INFO] (src/config/config.c:109) Loaded proxy 1:127.0.0.1:8081
Sun, 28 Jul 2013 13:52:52 GMT [INFO] (src/config/config.c:227) Loaded route 1:/:proxy for host 1:localhost
Sun, 28 Jul 2013 13:52:52 GMT [INFO] (src/handler.c:343) MAX limits.handler_stack=102400
Sun, 28 Jul 2013 13:52:52 GMT [INFO] (src/config/config.c:85) Loaded handler 1:ipc://run/qoorateserver/mongrel2_send:137b789e-b7eb-475a-8d5c-b16ab54493yu:ipc://run/qoorateserver/mongrel2_rcv:
Sun, 28 Jul 2013 13:52:52 GMT [INFO] (src/config/config.c:227) Loaded route 2:/q/:handler for host 1:localhost
Sun, 28 Jul 2013 13:52:52 GMT [INFO] (src/dir.c:195) MAX limits.dir_send_buffer=16384, limits.dir_max_path=256
Sun, 28 Jul 2013 13:52:52 GMT [INFO] (src/config/config.c:136) Loaded directory 1:static/qoorateserver/js/:index.html
Sun, 28 Jul 2013 13:52:52 GMT [INFO] (src/config/config.c:227) Loaded route 3:/q/js/:dir for host 1:localhost
Sun, 28 Jul 2013 13:52:52 GMT [INFO] (src/config/config.c:136) Loaded directory 2:static/qoorateserver/css/:index.html
Sun, 28 Jul 2013 13:52:52 GMT [INFO] (src/config/config.c:227) Loaded route 4:/q/css/:dir for host 1:localhost
Sun, 28 Jul 2013 13:52:52 GMT [INFO] (src/config/config.c:136) Loaded directory 3:static/qoorateserver/img/:index.html
Sun, 28 Jul 2013 13:52:52 GMT [INFO] (src/config/config.c:227) Loaded route 5:/q/img/:dir for host 1:localhost
Sun, 28 Jul 2013 13:52:52 GMT [INFO] (src/config/config.c:312) Loaded 1 hosts for server 1:fe76e442-da24-4708-b0ef-c4ahr2b7d131
Sun, 28 Jul 2013 13:52:52 GMT [INFO] (src/server.c:445) LOADING Handler ipc://run/qoorateserver/mongrel2_send
Sun, 28 Jul 2013 13:52:52 GMT [ERROR] (src/unixy.c:99: errno: No such file or directory) Failed to open PID file ../run/mongrel2.pid for reading.
Sun, 28 Jul 2013 13:52:52 GMT [INFO] (src/unixy.c:137) No previous mongrel2 running, continuing on.
Sun, 28 Jul 2013 13:52:52 GMT [INFO] (src/mongrel2.c:223) All loaded up, time to turn into a server.
Sun, 28 Jul 2013 13:52:52 GMT [INFO] (src/mongrel2.c:224) -- Starting Mongrel2/1.8.1. Copyright (C) Zed A. Shaw. Licensed BSD.

Sun, 28 Jul 2013 13:52:52 GMT [INFO] (src/mongrel2.c:225) -- Look in logs/error.log for startup messages and errors.
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/uploader/main.py", line 18, in <module>
    from brubeckuploader.handlers import (
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/handlers.py", line 19, in <module>
    from brubeckuploader.base import Uploader
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/base.py", line 129
    im.save( "%s/%s%s.%s" % (file_path, file_name,image_info[2], image_info[3]), image_info[1])
     ^
SyntaxError: invalid syntax
Exception KeyError: KeyError(4555997904,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 21, in <module>
    from brubeckuploader.handlers import (
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/handlers.py", line 19, in <module>
    from brubeckuploader.base import Uploader
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/base.py", line 129
    im.save( "%s/%s%s.%s" % (file_path, file_name,image_info[2], image_info[3]), image_info[1])
     ^
SyntaxError: invalid syntax
Exception KeyError: KeyError(4360917392,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/uploader/main.py", line 18, in <module>
    from brubeckuploader.handlers import (
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/handlers.py", line 19, in <module>
    from brubeckuploader.base import Uploader
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/base.py", line 129
    im.save( "%s/%s%s.%s" % (file_path, file_name,image_info[2], image_info[3]), image_info[1])
     ^
SyntaxError: invalid syntax
Exception KeyError: KeyError(4346409680,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 21, in <module>
    from brubeckuploader.handlers import (
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/handlers.py", line 19, in <module>
    from brubeckuploader.base import Uploader
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/base.py", line 129
    im.save( "%s/%s%s.%s" % (file_path, file_name,image_info[2], image_info[3]), image_info[1])
     ^
SyntaxError: invalid syntax
Exception KeyError: KeyError(4561543568,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/uploader/main.py", line 18, in <module>
    from brubeckuploader.handlers import (
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/handlers.py", line 19, in <module>
    from brubeckuploader.base import Uploader
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/base.py", line 129
    im.save( "%s/%s%s.%s" % (file_path, file_name,image_info[2], image_info[3]), image_info[1])
     ^
SyntaxError: invalid syntax
Exception KeyError: KeyError(4470211280,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 21, in <module>
    from brubeckuploader.handlers import (
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/handlers.py", line 19, in <module>
    from brubeckuploader.base import Uploader
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/base.py", line 129
    im.save( "%s/%s%s.%s" % (file_path, file_name,image_info[2], image_info[3]), image_info[1])
     ^
SyntaxError: invalid syntax
Exception KeyError: KeyError(4377313680,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/uploader/main.py", line 18, in <module>
    from brubeckuploader.handlers import (
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/handlers.py", line 19, in <module>
    from brubeckuploader.base import Uploader
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/base.py", line 129
    im.save( "%s/%s%s.%s" % (file_path, file_name,image_info[2], image_info[3]), image_info[1])
     ^
SyntaxError: invalid syntax
Exception KeyError: KeyError(4504715984,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 21, in <module>
    from brubeckuploader.handlers import (
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/handlers.py", line 19, in <module>
    from brubeckuploader.base import Uploader
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/base.py", line 129
    im.save( "%s/%s%s.%s" % (file_path, file_name,image_info[2], image_info[3]), image_info[1])
     ^
SyntaxError: invalid syntax
Exception KeyError: KeyError(4406428048,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/uploader/main.py", line 18, in <module>
    from brubeckuploader.handlers import (
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/handlers.py", line 19, in <module>
    from brubeckuploader.base import Uploader
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/base.py", line 129
    im.save( "%s/%s%s.%s" % (file_path, file_name,image_info[2], image_info[3]), image_info[1])
     ^
SyntaxError: invalid syntax
Exception KeyError: KeyError(4528530128,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 21, in <module>
    from brubeckuploader.handlers import (
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/handlers.py", line 19, in <module>
    from brubeckuploader.base import Uploader
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/base.py", line 129
    im.save( "%s/%s%s.%s" % (file_path, file_name,image_info[2], image_info[3]), image_info[1])
     ^
SyntaxError: invalid syntax
Exception KeyError: KeyError(4428358032,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/uploader/main.py", line 18, in <module>
    from brubeckuploader.handlers import (
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/handlers.py", line 19, in <module>
    from brubeckuploader.base import Uploader
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/base.py", line 129
    im.save( "%s/%s%s.%s" % (file_path, file_name,image_info[2], image_info[3]), image_info[1])
     ^
SyntaxError: invalid syntax
Exception KeyError: KeyError(4405404368,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 21, in <module>
    from brubeckuploader.handlers import (
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/handlers.py", line 19, in <module>
    from brubeckuploader.base import Uploader
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/base.py", line 129
    im.save( "%s/%s%s.%s" % (file_path, file_name,image_info[2], image_info[3]), image_info[1])
     ^
SyntaxError: invalid syntax
Exception KeyError: KeyError(4402495888,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/uploader/main.py", line 18, in <module>
    from brubeckuploader.handlers import (
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/handlers.py", line 19, in <module>
    from brubeckuploader.base import Uploader
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/base.py", line 129
    im.save( "%s/%s%s.%s" % (file_path, file_name,image_info[2], image_info[3]), image_info[1])
     ^
SyntaxError: invalid syntax
Exception KeyError: KeyError(4436431568,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 21, in <module>
    from brubeckuploader.handlers import (
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/handlers.py", line 19, in <module>
    from brubeckuploader.base import Uploader
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/base.py", line 129
    im.save( "%s/%s%s.%s" % (file_path, file_name,image_info[2], image_info[3]), image_info[1])
     ^
SyntaxError: invalid syntax
Exception KeyError: KeyError(4338532752,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/uploader/main.py", line 18, in <module>
    from brubeckuploader.handlers import (
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/handlers.py", line 19, in <module>
    from brubeckuploader.base import Uploader
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/base.py", line 129
    im.save( "%s/%s%s.%s" % (file_path, file_name,image_info[2], image_info[3]), image_info[1])
     ^
SyntaxError: invalid syntax
Exception KeyError: KeyError(4383101648,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 21, in <module>
    from brubeckuploader.handlers import (
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/handlers.py", line 19, in <module>
    from brubeckuploader.base import Uploader
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/base.py", line 129
    im.save( "%s/%s%s.%s" % (file_path, file_name,image_info[2], image_info[3]), image_info[1])
     ^
SyntaxError: invalid syntax
Exception KeyError: KeyError(4559360400,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/uploader/main.py", line 18, in <module>
    from brubeckuploader.handlers import (
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/handlers.py", line 19, in <module>
    from brubeckuploader.base import Uploader
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/base.py", line 129
    im.save( "%s/%s%s.%s" % (file_path, file_name,image_info[2], image_info[3]), image_info[1])
     ^
SyntaxError: invalid syntax
Exception KeyError: KeyError(4438454992,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 21, in <module>
    from brubeckuploader.handlers import (
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/handlers.py", line 19, in <module>
    from brubeckuploader.base import Uploader
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/base.py", line 129
    im.save( "%s/%s%s.%s" % (file_path, file_name,image_info[2], image_info[3]), image_info[1])
     ^
SyntaxError: invalid syntax
Exception KeyError: KeyError(4521329040,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/uploader/main.py", line 18, in <module>
    from brubeckuploader.handlers import (
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/handlers.py", line 19, in <module>
    from brubeckuploader.base import Uploader
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/base.py", line 129
    im.save( "%s/%s%s.%s" % (file_path, file_name,image_info[2], image_info[3]), image_info[1])
     ^
SyntaxError: invalid syntax
Exception KeyError: KeyError(4335301328,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 21, in <module>
    from brubeckuploader.handlers import (
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/handlers.py", line 19, in <module>
    from brubeckuploader.base import Uploader
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/base.py", line 129
    im.save( "%s/%s%s.%s" % (file_path, file_name,image_info[2], image_info[3]), image_info[1])
     ^
SyntaxError: invalid syntax
Exception KeyError: KeyError(4499001744,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/uploader/main.py", line 18, in <module>
    from brubeckuploader.handlers import (
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/handlers.py", line 19, in <module>
    from brubeckuploader.base import Uploader
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/base.py", line 129
    im.save( "%s/%s%s.%s" % (file_path, file_name,image_info[2], image_info[3]), image_info[1])
     ^
SyntaxError: invalid syntax
Exception KeyError: KeyError(4405080784,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 21, in <module>
    from brubeckuploader.handlers import (
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/handlers.py", line 19, in <module>
    from brubeckuploader.base import Uploader
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/base.py", line 129
    im.save( "%s/%s%s.%s" % (file_path, file_name,image_info[2], image_info[3]), image_info[1])
     ^
SyntaxError: invalid syntax
Exception KeyError: KeyError(4439970192,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/uploader/main.py", line 18, in <module>
    from brubeckuploader.handlers import (
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/handlers.py", line 19, in <module>
    from brubeckuploader.base import Uploader
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/base.py", line 129
    im.save( "%s/%s%s.%s" % (file_path, file_name,image_info[2], image_info[3]), image_info[1])
     ^
SyntaxError: invalid syntax
Exception KeyError: KeyError(4473058000,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 21, in <module>
    from brubeckuploader.handlers import (
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/handlers.py", line 19, in <module>
    from brubeckuploader.base import Uploader
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/base.py", line 129
    im.save( "%s/%s%s.%s" % (file_path, file_name,image_info[2], image_info[3]), image_info[1])
     ^
SyntaxError: invalid syntax
Exception KeyError: KeyError(4389564816,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
INFO:root:Using project directory: .
DEBUG:root:loading settings from ./conf/uploader/settings.py
INFO:root:Using coroutine library: gevent
DEBUG:root:******** START _service_registration *********
DEBUG:root:service_registration_passphrase: 137b789e-b7eb-475a-8d5a-b16ab544yurp
DEBUG:root:service_id: uploader
DEBUG:root:service_registration_addr: ipc://run/uploader/brubeck_svc_registration
DEBUG:root:service_passphrase: 137b789e-b7eb-475a-8d5a-b16ab544yurp
DEBUG:root:service_addr: ipc://run/uploader/brubeck_svc
DEBUG:root:service_response_addr: ipc://run/uploader/brubeck_svc_response
DEBUG:root:service_heartbeat_addr: None
DEBUG:root:service_heartbeat_timeout: 5
DEBUG:root:sender_id: 197944b440f04e80bd09cbc44817a36f
DEBUG:root:is_reregistration: 0
DEBUG:root:service_heartbeat_interval: 3
DEBUG:root:******** END _service_registration *********
DEBUG:root:register_service: (service_registration_addr, service_registration_passphrase,service_heartbeat_timeout,sender_id): (ipc://run/uploader/brubeck_svc_registration,137b789e-b7eb-475a-8d5a-b16ab544yurp, 5, 197944b440f04e80bd09cbc44817a36f)
DEBUG:root:service_registration sending request
DEBUG:root:service_registration waiting for response
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
INFO:root:Using project directory: .
DEBUG:root:loading settings from ./conf/qoorateserver/development.py
INFO:root:Using coroutine library: gevent
DEBUG:root:creating application db_conn pool
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
Sun, 28 Jul 2013 13:53:54 GMT [ERROR] (errno: No such file or directory) End directory base with / in static/qoorateserver or it won't work right.'
Sun, 28 Jul 2013 13:53:54 GMT [ERROR] (errno: None) Failed to create target for route /q/static/
Sun, 28 Jul 2013 13:53:54 GMT [ERROR] (errno: None) End directory base with / in static/qoorateserver or it won't work right.'
Sun, 28 Jul 2013 13:53:54 GMT [ERROR] (errno: None) Failed to create target for route /q/robots.txt
Sun, 28 Jul 2013 13:53:54 GMT [ERROR] (errno: None) End directory base with / in static/qoorateserver or it won't work right.'
Sun, 28 Jul 2013 13:53:54 GMT [ERROR] (errno: None) Failed to create target for route /q/favicon.ico
Sun, 28 Jul 2013 13:53:54 GMT [INFO] (src/mime.c:49) MAX limits.mime_ext_len=128
Sun, 28 Jul 2013 13:53:54 GMT [INFO] (src/host.c:74) MAX limits.url_path=256, limits.host_name=256
Sun, 28 Jul 2013 13:53:54 GMT [INFO] (src/config/config.c:109) Loaded proxy 1:127.0.0.1:8081
Sun, 28 Jul 2013 13:53:54 GMT [INFO] (src/config/config.c:227) Loaded route 1:/:proxy for host 1:localhost
Sun, 28 Jul 2013 13:53:54 GMT [INFO] (src/handler.c:343) MAX limits.handler_stack=102400
Sun, 28 Jul 2013 13:53:54 GMT [INFO] (src/config/config.c:85) Loaded handler 1:ipc://run/qoorateserver/mongrel2_send:137b789e-b7eb-475a-8d5c-b16ab54493yu:ipc://run/qoorateserver/mongrel2_rcv:
Sun, 28 Jul 2013 13:53:54 GMT [INFO] (src/config/config.c:227) Loaded route 2:/q/:handler for host 1:localhost
Sun, 28 Jul 2013 13:53:54 GMT [INFO] (src/dir.c:195) MAX limits.dir_send_buffer=16384, limits.dir_max_path=256
Sun, 28 Jul 2013 13:53:54 GMT [INFO] (src/config/config.c:136) Loaded directory 1:static/qoorateserver/js/:index.html
Sun, 28 Jul 2013 13:53:54 GMT [INFO] (src/config/config.c:227) Loaded route 3:/q/js/:dir for host 1:localhost
Sun, 28 Jul 2013 13:53:54 GMT [INFO] (src/config/config.c:136) Loaded directory 2:static/qoorateserver/css/:index.html
Sun, 28 Jul 2013 13:53:54 GMT [INFO] (src/config/config.c:227) Loaded route 4:/q/css/:dir for host 1:localhost
Sun, 28 Jul 2013 13:53:54 GMT [INFO] (src/config/config.c:136) Loaded directory 3:static/qoorateserver/img/:index.html
Sun, 28 Jul 2013 13:53:54 GMT [INFO] (src/config/config.c:227) Loaded route 5:/q/img/:dir for host 1:localhost
Sun, 28 Jul 2013 13:53:54 GMT [INFO] (src/config/config.c:312) Loaded 1 hosts for server 1:fe76e442-da24-4708-b0ef-c4ahr2b7d131
Sun, 28 Jul 2013 13:53:54 GMT [INFO] (src/server.c:445) LOADING Handler ipc://run/qoorateserver/mongrel2_send
Sun, 28 Jul 2013 13:53:54 GMT [ERROR] (src/unixy.c:99: errno: No such file or directory) Failed to open PID file ../run/mongrel2.pid for reading.
Sun, 28 Jul 2013 13:53:54 GMT [INFO] (src/unixy.c:137) No previous mongrel2 running, continuing on.
Sun, 28 Jul 2013 13:53:54 GMT [INFO] (src/mongrel2.c:223) All loaded up, time to turn into a server.
Sun, 28 Jul 2013 13:53:54 GMT [INFO] (src/mongrel2.c:224) -- Starting Mongrel2/1.8.1. Copyright (C) Zed A. Shaw. Licensed BSD.

Sun, 28 Jul 2013 13:53:54 GMT [INFO] (src/mongrel2.c:225) -- Look in logs/error.log for startup messages and errors.
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
INFO:root:Using project directory: .
DEBUG:root:loading settings from ./conf/uploader/settings.py
INFO:root:Using coroutine library: gevent
DEBUG:root:******** START _service_registration *********
DEBUG:root:service_registration_passphrase: 137b789e-b7eb-475a-8d5a-b16ab544yurp
DEBUG:root:service_id: uploader
DEBUG:root:service_registration_addr: ipc://run/uploader/brubeck_svc_registration
DEBUG:root:service_passphrase: 137b789e-b7eb-475a-8d5a-b16ab544yurp
DEBUG:root:service_addr: ipc://run/uploader/brubeck_svc
DEBUG:root:service_response_addr: ipc://run/uploader/brubeck_svc_response
DEBUG:root:service_heartbeat_addr: None
DEBUG:root:service_heartbeat_timeout: 5
DEBUG:root:sender_id: 98dcc9b598bb4065ba38e90928d7ca77
DEBUG:root:is_reregistration: 0
DEBUG:root:service_heartbeat_interval: 3
DEBUG:root:******** END _service_registration *********
DEBUG:root:register_service: (service_registration_addr, service_registration_passphrase,service_heartbeat_timeout,sender_id): (ipc://run/uploader/brubeck_svc_registration,137b789e-b7eb-475a-8d5a-b16ab544yurp, 5, 98dcc9b598bb4065ba38e90928d7ca77)
DEBUG:root:service_registration sending request
DEBUG:root:service_registration waiting for response
INFO:root:Using project directory: .
DEBUG:root:loading settings from ./conf/qoorateserver/development.py
INFO:root:Using coroutine library: gevent
DEBUG:root:creating application db_conn pool
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:get EmbedHandler
DEBUG:root:to_unicode
DEBUG:root:embed_head
DEBUG:root:embed_head
DEBUG:root:to_unicode
DEBUG:root:action: embed_head 
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:set_table has key/secret
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = %s and `secret`= %s
        
DEBUG:root:escape_sql args: [u'12345', u'54321']
DEBUG:root:
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = '12345' and `secret`= '54321'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1038831d0>
DEBUG:root:returning True from authencticate.
DEBUG:root:set_table authenticated
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x103883250>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has key/secret
DEBUG:root:returning `True` from authenticate cached.
DEBUG:root:set_table authenticated
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x103883450>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1038835d0>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1038837d0>
DEBUG:root:qoorate preferences: {
    "THEME": "grid",
    "EMBED_CONF_JS": "
        var qoorateConfig = {
            QOORATE_URI: 'http://localhost',
            QOORATE_API_URI: 'http://localhost/q',
            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',
            XHR_PROXY_URI: '/q/feed',
            XHR_UPLOAD_URI: '/q/uploader',
            POST_MAX_LEN: 1000,
            PARENT_PAGE_SIZE: 10,
            CHILD_PAGE_SIZE: 10,
            AUTO_SCROLL: 1,
            THEME: 'grid',
            GRID_COLUMNS: 3,
            GRID_COLUMN_TRIM: 15,
            GRID_ROW_TRIM: 15
        };
        var qoorateLang = {
            FLAG_SUCCESS: 'Thanks for flagging this!',
            SHARE_SUCCESS: 'Thank you for sharing!',
            DELETE_SUCCESS: 'Thank you. This item has been deleted.',
            SIGNIN: 'Sign in using',
            SIGNEDIN: 'Signed in via',    
            OK: 'OK',
            CANCEL: 'Cancel',
            LOGOUT: 'Log Out',
            TOGGLE_ON: '+',
            TOGGLE_OFF: '-',
            CONTRIBUTION: 'Contribution',
            CONTRIBUTIONS: 'Contributions',
            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',
            REMOVE: 'Remove',
            LINK: 'Insert a link',
            TOPIC_COMMENT: 'Pose a Yes/No Question',
            COMMENT: 'Your Comment',
            IMAGE_COMMENT: 'Image Caption',
            POST_TO: 'Post to',
            POST_ANONYMOUS: 'Post anonymously',
            NICKNAME: 'Post as ',
            DEFAULT_NICKNAME: 'Anonymous',
            REPLY_LINK_COMMENT: 'Say something about your link',
            SHARE_COMMENT: 'comment about this share...',
            PUBLISH_BUTTON: 'Publish',
            POST_BUTTON: 'Post',
            POST_TO_BUTTON: 'Post To',
            REPLY_BUTTON: 'Reply',
            SHARE_BUTTON: 'Share',
            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',
            SELECT_IMAGE: 'Select an Image',
            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',
            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],
            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],
            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]
        };
    "
}

DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:preferences EMBED_CONF_JS:         var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    
DEBUG:root:embed_head called
INFO:root:200 GET /q/embed (127.0.0.1)
DEBUG:root:get EmbedHandler
DEBUG:root:to_unicode
DEBUG:root:embed_content
DEBUG:root:embed_content
DEBUG:root:to_unicode
DEBUG:root:action: embed_content 
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:set_table has key/secret
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = %s and `secret`= %s
        
DEBUG:root:escape_sql args: [u'12345', u'54321']
DEBUG:root:
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = '12345' and `secret`= '54321'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1038839d0>
DEBUG:root:returning True from authencticate.
DEBUG:root:set_table authenticated
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x103883bd0>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has key/secret
DEBUG:root:returning `True` from authenticate cached.
DEBUG:root:set_table authenticated
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x103883dd0>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x103888050>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x103888210>
DEBUG:root:qoorate preferences: {
    "THEME": "grid",
    "EMBED_CONF_JS": "
        var qoorateConfig = {
            QOORATE_URI: 'http://localhost',
            QOORATE_API_URI: 'http://localhost/q',
            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',
            XHR_PROXY_URI: '/q/feed',
            XHR_UPLOAD_URI: '/q/uploader',
            POST_MAX_LEN: 1000,
            PARENT_PAGE_SIZE: 10,
            CHILD_PAGE_SIZE: 10,
            AUTO_SCROLL: 1,
            THEME: 'grid',
            GRID_COLUMNS: 3,
            GRID_COLUMN_TRIM: 15,
            GRID_ROW_TRIM: 15
        };
        var qoorateLang = {
            FLAG_SUCCESS: 'Thanks for flagging this!',
            SHARE_SUCCESS: 'Thank you for sharing!',
            DELETE_SUCCESS: 'Thank you. This item has been deleted.',
            SIGNIN: 'Sign in using',
            SIGNEDIN: 'Signed in via',    
            OK: 'OK',
            CANCEL: 'Cancel',
            LOGOUT: 'Log Out',
            TOGGLE_ON: '+',
            TOGGLE_OFF: '-',
            CONTRIBUTION: 'Contribution',
            CONTRIBUTIONS: 'Contributions',
            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',
            REMOVE: 'Remove',
            LINK: 'Insert a link',
            TOPIC_COMMENT: 'Pose a Yes/No Question',
            COMMENT: 'Your Comment',
            IMAGE_COMMENT: 'Image Caption',
            POST_TO: 'Post to',
            POST_ANONYMOUS: 'Post anonymously',
            NICKNAME: 'Post as ',
            DEFAULT_NICKNAME: 'Anonymous',
            REPLY_LINK_COMMENT: 'Say something about your link',
            SHARE_COMMENT: 'comment about this share...',
            PUBLISH_BUTTON: 'Publish',
            POST_BUTTON: 'Post',
            POST_TO_BUTTON: 'Post To',
            REPLY_BUTTON: 'Reply',
            SHARE_BUTTON: 'Share',
            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',
            SELECT_IMAGE: 'Select an Image',
            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',
            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],
            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],
            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]
        };
    "
}

DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:preferences EMBED_CONF_JS:         var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    
DEBUG:root:embed_content called (key,secret): (12345,54321)
DEBUG:root:returning `True` from authenticate cached.
DEBUG:root:get_content_context
DEBUG:root:table: q_brooklyncode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:init_db_conn
DEBUG:root:NOT creating db_conn
DEBUG:root:1
DEBUG:root:5
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT f.`parent_sequence` , f.`child_sequence` , f.`id` , f.`locationId` , f.`relatedId`,
                f.`parentId` , f.`userId` , `u`.`username`, u.`thumbnailLarge` as userThumbnailLarge,
                ur.`username` as relatedUsername, ur.`thumbnailLarge` as relatedUserThumbnailLarge, f.`type`,
                f.`is_anonymous` , r.`is_anonymous` as `related_is_anonymous`, f.`name` , f.`location` ,f.`description`,f.`referer`,
                f.`voteCount` , f.`voteNumber` , f.`votesUp` ,f.`votesDown` , f.`flagCount`,  f.`childCount`, f.`sortOrder` , f.`status`,
                f.`thumbnailSmall` ,f.`thumbnailLarge` , f.`changeDate` , f.`createDate`, f.`nickname`, r.`nickname` as `related_nickname`
            FROM (
                # this query adds the sequence fields to filter by for paging
                SELECT  s1.*, @parentrownum := convert( IF( ( parentId = 0), @parentrownum +1, @parentrownum ), UNSIGNED INTEGER) AS parent_sequence,
                @childrownum := IF( ( @lastparent = parentId), @childrownum + 1, 0 ) AS child_sequence,
                @lastparent := if( parentId=0, id, parentId ) AS dummy_used_for_last_parent
                FROM
                    # QUERY 2: this query sorts the results properly
                    (SELECT s0.* FROM
                        # QUERY 1: This query gets the results we need with calculated fields to sort by
                        # We should probably have these fields in the database so they are indexed
                        (SELECT
                        CONVERT( if( parentId = 0, @parentVoteNumber:=voteNumber,
                            @parentVoteNumber ), SIGNED INTEGER ) as groupVoteNumber,          # Will order groups using parent voteNumber
                        CONVERT( if( parentId = 0, @parentVoteCount:=voteCount,
                            @parentVoteCount ), SIGNED INTEGER ) as groupVoteCount,            # Will order groups using parent voteCount
                        CONVERT( if( parentId = 0, @parentCreateDate:=createDate,
                            @parentCreateDate ), DATETIME ) as groupCreateDate,                # Will order groups using parent createDate
                        CONVERT( if(parentId=0, id, parentId), UNSIGNED INTEGER) as groupId,   # will order groups together
                        CONVERT( if(parentId = 0, 0, 1), UNSIGNED INTEGER) as isChild,         # will order parent first in group
                        r.*
                        FROM (
                            # this just makes sure our groups are grouped in parent child order
                            SELECT * from q_brooklyncode o  WHERE o.location = '5e13bbb73127b9fc424e3728c6500f28' ORDER BY
                             if( o.relatedId = 0, o.id, o.relatedId),
                             if( o.relatedId = 0, 0, o.id )
                            ) r,
                        ( SELECT @parentVoteNumber := 0 ) pvn,
                        ( SELECT @parentVoteCount  := 0 ) pvc,
                        ( SELECT @parentCreateDate := 0 ) pcd
                         WHERE location = '5e13bbb73127b9fc424e3728c6500f28' 
                    ) s0
                    
                    
                    ORDER BY
                    
                s0.groupVoteNumber DESC,
                s0.groupVoteCount DESC,
                s0.groupCreateDate ASC,
                 
                    groupId  ASC, # first order by group
                    isChild ASC, # Then make sure the parent is first
                    
                s0.voteNumber DESC,
                s0.voteCount DESC,
                s0.createDate ASC
                
            ) s1,
            ( SELECT @parentrownum := 0 ) pr,
            ( SELECT @childrownum := 0 ) cr, 
            ( SELECT @lastparent := -1 ) lp) f
            LEFT JOIN user u on u.id = f.userId
            LEFT JOIN q_brooklyncode r on r.id = f.relatedId
            LEFT JOIN user ur on ur.id = r.userId
            WHERE
            ((0 = 6 and parent_sequence >= 1) or parent_sequence BETWEEN 1 AND 6)
            AND
            ((0 = 6 and child_sequence >= 1) or (child_sequence=0 or child_sequence BETWEEN 1 AND 6))
        
DEBUG:root:escape_sql args: None
DEBUG:root:
            SELECT f.`parent_sequence` , f.`child_sequence` , f.`id` , f.`locationId` , f.`relatedId`,
                f.`parentId` , f.`userId` , `u`.`username`, u.`thumbnailLarge` as userThumbnailLarge,
                ur.`username` as relatedUsername, ur.`thumbnailLarge` as relatedUserThumbnailLarge, f.`type`,
                f.`is_anonymous` , r.`is_anonymous` as `related_is_anonymous`, f.`name` , f.`location` ,f.`description`,f.`referer`,
                f.`voteCount` , f.`voteNumber` , f.`votesUp` ,f.`votesDown` , f.`flagCount`,  f.`childCount`, f.`sortOrder` , f.`status`,
                f.`thumbnailSmall` ,f.`thumbnailLarge` , f.`changeDate` , f.`createDate`, f.`nickname`, r.`nickname` as `related_nickname`
            FROM (
                # this query adds the sequence fields to filter by for paging
                SELECT  s1.*, @parentrownum := convert( IF( ( parentId = 0), @parentrownum +1, @parentrownum ), UNSIGNED INTEGER) AS parent_sequence,
                @childrownum := IF( ( @lastparent = parentId), @childrownum + 1, 0 ) AS child_sequence,
                @lastparent := if( parentId=0, id, parentId ) AS dummy_used_for_last_parent
                FROM
                    # QUERY 2: this query sorts the results properly
                    (SELECT s0.* FROM
                        # QUERY 1: This query gets the results we need with calculated fields to sort by
                        # We should probably have these fields in the database so they are indexed
                        (SELECT
                        CONVERT( if( parentId = 0, @parentVoteNumber:=voteNumber,
                            @parentVoteNumber ), SIGNED INTEGER ) as groupVoteNumber,          # Will order groups using parent voteNumber
                        CONVERT( if( parentId = 0, @parentVoteCount:=voteCount,
                            @parentVoteCount ), SIGNED INTEGER ) as groupVoteCount,            # Will order groups using parent voteCount
                        CONVERT( if( parentId = 0, @parentCreateDate:=createDate,
                            @parentCreateDate ), DATETIME ) as groupCreateDate,                # Will order groups using parent createDate
                        CONVERT( if(parentId=0, id, parentId), UNSIGNED INTEGER) as groupId,   # will order groups together
                        CONVERT( if(parentId = 0, 0, 1), UNSIGNED INTEGER) as isChild,         # will order parent first in group
                        r.*
                        FROM (
                            # this just makes sure our groups are grouped in parent child order
                            SELECT * from q_brooklyncode o  WHERE o.location = '5e13bbb73127b9fc424e3728c6500f28' ORDER BY
                             if( o.relatedId = 0, o.id, o.relatedId),
                             if( o.relatedId = 0, 0, o.id )
                            ) r,
                        ( SELECT @parentVoteNumber := 0 ) pvn,
                        ( SELECT @parentVoteCount  := 0 ) pvc,
                        ( SELECT @parentCreateDate := 0 ) pcd
                         WHERE location = '5e13bbb73127b9fc424e3728c6500f28' 
                    ) s0
                    
                    
                    ORDER BY
                    
                s0.groupVoteNumber DESC,
                s0.groupVoteCount DESC,
                s0.groupCreateDate ASC,
                 
                    groupId  ASC, # first order by group
                    isChild ASC, # Then make sure the parent is first
                    
                s0.voteNumber DESC,
                s0.voteCount DESC,
                s0.createDate ASC
                
            ) s1,
            ( SELECT @parentrownum := 0 ) pr,
            ( SELECT @childrownum := 0 ) cr, 
            ( SELECT @lastparent := -1 ) lp) f
            LEFT JOIN user u on u.id = f.userId
            LEFT JOIN q_brooklyncode r on r.id = f.relatedId
            LEFT JOIN user ur on ur.id = r.userId
            WHERE
            ((0 = 6 and parent_sequence >= 1) or parent_sequence BETWEEN 1 AND 6)
            AND
            ((0 = 6 and child_sequence >= 1) or (child_sequence=0 or child_sequence BETWEEN 1 AND 6))
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1038831d0>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = %s
        
DEBUG:root:escape_sql args: [1L]
DEBUG:root:
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = 1
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x103883250>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = %s
        
DEBUG:root:escape_sql args: [2L]
DEBUG:root:
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = 2
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x103883450>
DEBUG:root:Number of comments returned: 2
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:escape_sql args: []
DEBUG:root:
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1038835d0>
DEBUG:root:Number of contributions 2
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1038837d0>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1038839d0>
DEBUG:root:to_unicode
DEBUG:root:embed_content
DEBUG:root:embed_content
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:embed_content
DEBUG:root:embed_content
DEBUG:root:to_unicode
INFO:root:200 GET /q/embed (127.0.0.1)
DEBUG:root:None
DEBUG:root:{u'content-length': u'21394', u'PATTERN': u'/q/', u'x-forwarded-for': u'127.0.0.1', u'URI': u'/q/uploader?action=uploader&qqfile=Screen+Shot+2013-07-19+at+10.00.33+AM.png', u'accept': u'*/*', u'user-agent': u'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/28.0.1500.71 Safari/537.36', u'host': u'localhost', u'VERSION': u'HTTP/1.1', u'cookie': u'wordpress_8dec71ede39ad9ff3b3fbc03311bdc45=qoorate|1375142446|8148fbb3583470985c5fca59e75d635a; SBID=\\"!MZ6JnTJnDncb7k3n0Ya9Sg==?gAJVBFNCSURxAWN1dWlkClVVSUQKcQIpgXEDfXEEVQNpbnRxBYoQqUXRlREm8LXjTshLPYe7cXNihnEGLg==\\"; wordpress_test_cookie=WP Cookie check; wordpress_logged_in_8dec71ede39ad9ff3b3fbc03311bdc45=qoorate|1375142446|86fd9ec6d6a221f44c7b1244f05dcd23; QOOID=QOO51f460f57c582; QOOTID=QOOT51f460f57c593; wp-settings-time-1=1374970345', u'expect': u'100-continue', u'QUERY': u'action=uploader&qqfile=Screen+Shot+2013-07-19+at+10.00.33+AM.png', u'PATH': u'/q/uploader', u'content-type': u'application/x-www-form-urlencoded', u'METHOD': u'POST'}
DEBUG:root:TemporaryImageUploadHandler post
DEBUG:root:to_unicode
DEBUG:root:Screen Shot 2013-07-19 at 10.00.33 AM.png
DEBUG:root:Screen Shot 2013-07-19 at 10.00.33 AM.png
DEBUG:root:to_unicode
DEBUG:root:{'S3_PORT': 443, 'INIT_BUCKET': True, 'RETRY_INTERVAL': 60, 'S3_HOST': 's3.amazonaws.com', 'ACCEPTABLE_UPLOAD_MIME_TYPES': ['image/jpeg', 'image/gif', 'image/png'], 'IMAGE_INFO': [(None, 'JPEG', '_f', 'jpg'), ((300, 200), 'JPEG', '_t', 'jpg'), ((120, 200), 'JPEG', '_m', 'jpg'), ((170, 100), 'JPEG', '_f', 'jpg'), ((50, 50), 'JPEG', '_s', 'jpg')], 'TEMP_UPLOAD_DIR': 'tmp', 'SERVICE_INFO': {'SERVICE_ID': 'uploader', 'SERVICE_REGISTRATION_PASSPHRASE': '137b789e-b7eb-475a-8d5a-b16ab544yurp', 'ASYNC': False, 'SERVICE_REGISTRATION_ADDR': 'ipc://run/uploader/brubeck_svc_registration', 'SERVICE_ADDR': 'ipc://run/uploader/brubeck_svc'}, 'AMAZON_BUCKET': 'qoorate.brooklyncode', 'AMAZON_SECRET': 'K3NKUTZIZWQ9B1UzQcZpl5frT4VClA9Ud0gffWPC', 'AMAZON_KEY': 'AKIAIMJ3ACDQBKM4PBDQ'}
DEBUG:root:filename: Screen Shot 2013-07-19 at 10.00.33 AM.png
DEBUG:root:hash: 05352b1ac789f7b5b91e70ca99ae7aaa
DEBUG:root:download_file_name: ./tmp/05352b1ac789f7b5b91e70ca99ae7aaa
DEBUG:root:mime_type: image/png
DEBUG:root:checking mime_type: image/png
DEBUG:root:mime_type OK
DEBUG:root:width: 798
DEBUG:root:height: 374
DEBUG:root:['']
DEBUG:root:['']
INFO:root:200 POST /q/uploader (127.0.0.1)
DEBUG:root:None
DEBUG:root:{u'cookie': u'SBID="!MZ6JnTJnDncb7k3n0Ya9Sg==?gAJVBFNCSURxAWN1dWlkClVVSUQKcQIpgXEDfXEEVQNpbnRxBYoQqUXRlREm8LXjTshLPYe7cXNihnEGLg=="; wordpress_test_cookie=WP+Cookie+check; wordpress_logged_in_8dec71ede39ad9ff3b3fbc03311bdc45=qoorate%7C1375142446%7C86fd9ec6d6a221f44c7b1244f05dcd23; QOOID=QOO51f460f57c582; QOOTID=QOOT51f460f57c593; wp-settings-time-1=1374970345', u'accept-language': u'en-US,en;q=0.8', u'accept-encoding': u'gzip,deflate,sdch', u'PATTERN': u'/q/', u'x-forwarded-for': u'127.0.0.1', u'host': u'localhost', u'accept': u'image/webp,*/*;q=0.8', u'user-agent': u'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/28.0.1500.71 Safari/537.36', u'connection': u'keep-alive', u'VERSION': u'HTTP/1.1', u'referer': u'http://localhost:8081/?p=1', u'PATH': u'/q/uploader/images/05352b1ac789f7b5b91e70ca99ae7aaa', u'METHOD': u'GET', u'URI': u'/q/uploader/images/05352b1ac789f7b5b91e70ca99ae7aaa'}
DEBUG:root:TemporaryImageViewHandler get
DEBUG:root:filename: 05352b1ac789f7b5b91e70ca99ae7aaa
DEBUG:root:hash: <built-in function hash>
DEBUG:root:requested_file_name: ./tmp/05352b1ac789f7b5b91e70ca99ae7aaa
DEBUG:root:mime_type: image/png
INFO:root:200 GET /q/uploader/images/05352b1ac789f7b5b91e70ca99ae7aaa (127.0.0.1)
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:set_table has q_short_name (12345)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x103883bd0>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has q_short_name (12345)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x103883dd0>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:feed.prepare, table: q_brooklyncode
DEBUG:root:FeedHandler post
DEBUG:root:Body -> 
 replyComment=test&thumbnailLarge=05352b1ac789f7b5b91e70ca99ae7aaa&replyPhoto=&action=addItem&location=5e13bbb73127b9fc424e3728c6500f28&referer=http%3A%2F%2Flocalhost%3A8081%2F%3Fp%3D1&q_short_name=12345&QOOID=QOO51f460f57c582&QOOTID=QOOT51f460f57c593
DEBUG:root:Arguments -> 
 {"thumbnailLarge": ["05352b1ac789f7b5b91e70ca99ae7aaa"], "QOOID": ["QOO51f460f57c582"], "QOOTID": ["QOOT51f460f57c593"], "q_short_name": ["12345"], "location": ["5e13bbb73127b9fc424e3728c6500f28"], "replyComment": ["test"], "action": ["addItem"], "referer": ["http://localhost:8081/?p=1"]}
DEBUG:root:to_unicode
DEBUG:root:addItem
DEBUG:root:addItem
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:addItem
DEBUG:root:addItem
DEBUG:root:to_unicode
DEBUG:root:action: addItem
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x103888050>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x103888210>
DEBUG:root:to_unicode
DEBUG:root:test
DEBUG:root:test
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:test
DEBUG:root:test
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:05352b1ac789f7b5b91e70ca99ae7aaa
DEBUG:root:05352b1ac789f7b5b91e70ca99ae7aaa
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:05352b1ac789f7b5b91e70ca99ae7aaa
DEBUG:root:05352b1ac789f7b5b91e70ca99ae7aaa
DEBUG:root:to_unicode
DEBUG:root:spawning upload
DEBUG:root:upload_to_S3 : 05352b1ac789f7b5b91e70ca99ae7aaa
DEBUG:root:upload_to_S3 : 05352b1ac789f7b5b91e70ca99ae7aaa
DEBUG:root:create_images_for_S3
DEBUG:root:file_path: tmp
DEBUG:root:file_name: 05352b1ac789f7b5b91e70ca99ae7aaa
DEBUG:root:filename: tmp/05352b1ac789f7b5b91e70ca99ae7aaa
DEBUG:root:create_images_for_S3 image_infos: [(None, 'JPEG', '_f', 'jpg'), ((300, 200), 'JPEG', '_t', 'jpg'), ((120, 200), 'JPEG', '_m', 'jpg'), ((170, 100), 'JPEG', '_f', 'jpg'), ((50, 50), 'JPEG', '_s', 'jpg')] 
DEBUG:root:create_images_for_S3  image_info: (None, 'JPEG', '_f', 'jpg') 
DEBUG:root:filename created: 05352b1ac789f7b5b91e70ca99ae7aaa_f.jpg
DEBUG:root:create_images_for_S3  image_info: ((300, 200), 'JPEG', '_t', 'jpg') 
Traceback (most recent call last):
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/gevent/greenlet.py", line 390, in run
    result = self._run(*self.args, **self.kwargs)
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 56, in upload_to_S3
    uploader.upload_to_S3(image_path)
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/base.py", line 164, in upload_to_S3
    file_names = self.create_images_for_S3(file_path, file_name)
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/base.py", line 99, in create_images_for_S3
    logging.debug("image_info[0]: %s" % (image_info[0]))
TypeError: not all arguments converted during string formatting
<Greenlet at 0x1032f6410: upload_to_S3({'S3_PORT': 443, 'INIT_BUCKET': True, 'RETRY_INTER, u'05352b1ac789f7b5b91e70ca99ae7aaa')> failed with TypeError

DEBUG:root:spawned upload
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:http://localhost:8081/?p=1
DEBUG:root:http://localhost:8081/?p=1
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:http://localhost:8081/?p=1
DEBUG:root:http://localhost:8081/?p=1
DEBUG:root:to_unicode
DEBUG:root:MySqlApiQueryset create_one
DEBUG:root:MySqlApiQueryset create_one sql: 
                INSERT INTO `q_brooklyncode` 
                set id=%s,locationId=%s,relatedId=%s,parentId=%s,userId=%s,type=%s,name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s,createDate=%s 
                ON DUPLICATE KEY UPDATE
                name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s
                
DEBUG:root:execute
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:execute args: [None, 0L, 0L, 0L, 1L, 1L, u'test', u'5e13bbb73127b9fc424e3728c6500f28', None, 0L, 0L, 0L, 0L, 0L, 0L, 0L, '', None, u'05352b1ac789f7b5b91e70ca99ae7aaa', u'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 9, 54, 19, 387527), datetime.datetime(2013, 7, 28, 9, 54, 19, 387527), u'test', u'5e13bbb73127b9fc424e3728c6500f28', None, 0L, 0L, 0L, 0L, 0L, 0L, 0L, '', None, u'05352b1ac789f7b5b91e70ca99ae7aaa', u'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 9, 54, 19, 387527)]
DEBUG:root:escape_sql sql: 
                INSERT INTO `q_brooklyncode` 
                set id=%s,locationId=%s,relatedId=%s,parentId=%s,userId=%s,type=%s,name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s,createDate=%s 
                ON DUPLICATE KEY UPDATE
                name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s
                
DEBUG:root:escape_sql args: [None, 0L, 0L, 0L, 1L, 1L, u'test', u'5e13bbb73127b9fc424e3728c6500f28', None, 0L, 0L, 0L, 0L, 0L, 0L, 0L, '', None, u'05352b1ac789f7b5b91e70ca99ae7aaa', u'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 9, 54, 19, 387527), datetime.datetime(2013, 7, 28, 9, 54, 19, 387527), u'test', u'5e13bbb73127b9fc424e3728c6500f28', None, 0L, 0L, 0L, 0L, 0L, 0L, 0L, '', None, u'05352b1ac789f7b5b91e70ca99ae7aaa', u'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 9, 54, 19, 387527)]
DEBUG:root:
                INSERT INTO `q_brooklyncode` 
                set id=NULL,locationId=0,relatedId=0,parentId=0,userId=1,type=1,name='test',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=0,voteNumber=0,votesUp=0,votesDown=0,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge='05352b1ac789f7b5b91e70ca99ae7aaa',referer='http://localhost:8081/?p=1',changeDate='2013-07-28 09:54:19',createDate='2013-07-28 09:54:19' 
                ON DUPLICATE KEY UPDATE
                name='test',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=0,voteNumber=0,votesUp=0,votesDown=0,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge='05352b1ac789f7b5b91e70ca99ae7aaa',referer='http://localhost:8081/?p=1',changeDate='2013-07-28 09:54:19'
                
DEBUG:root:execute: 
                INSERT INTO `q_brooklyncode` 
                set id=NULL,locationId=0,relatedId=0,parentId=0,userId=1,type=1,name='test',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=0,voteNumber=0,votesUp=0,votesDown=0,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge='05352b1ac789f7b5b91e70ca99ae7aaa',referer='http://localhost:8081/?p=1',changeDate='2013-07-28 09:54:19',createDate='2013-07-28 09:54:19' 
                ON DUPLICATE KEY UPDATE
                name='test',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=0,voteNumber=0,votesUp=0,votesDown=0,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge='05352b1ac789f7b5b91e70ca99ae7aaa',referer='http://localhost:8081/?p=1',changeDate='2013-07-28 09:54:19'
                
DEBUG:root:MySqlApiQueryset create_one (status, affected_rows): (Created, 1)
DEBUG:root:inserted_id: 3)
DEBUG:root:update_child_count(Comment object)
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:escape_sql sql: 
            SELECT count(*) as `childCount`
            FROM `q_brooklyncode` `f`
            WHERE `f`.`parentId`= %s
            
DEBUG:root:escape_sql args: [3L]
DEBUG:root:
            SELECT count(*) as `childCount`
            FROM `q_brooklyncode` `f`
            WHERE `f`.`parentId`= 3
            
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x103888190>
DEBUG:root:child_count: 0
DEBUG:root:MySqlApiQueryset create_one
DEBUG:root:MySqlApiQueryset create_one sql: 
                INSERT INTO `q_brooklyncode` 
                set id=%s,locationId=%s,relatedId=%s,parentId=%s,userId=%s,type=%s,name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s,createDate=%s 
                ON DUPLICATE KEY UPDATE
                name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s
                
DEBUG:root:execute
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:execute args: [3L, 0L, 0L, 0L, 1L, 1L, u'test', u'5e13bbb73127b9fc424e3728c6500f28', None, 0L, 0L, 0L, 0L, 0L, 0L, 0L, '', None, u'05352b1ac789f7b5b91e70ca99ae7aaa', u'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 9, 54, 19, 387527), datetime.datetime(2013, 7, 28, 9, 54, 19, 387527), u'test', u'5e13bbb73127b9fc424e3728c6500f28', None, 0L, 0L, 0L, 0L, 0L, 0L, 0L, '', None, u'05352b1ac789f7b5b91e70ca99ae7aaa', u'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 9, 54, 19, 387527)]
DEBUG:root:escape_sql sql: 
                INSERT INTO `q_brooklyncode` 
                set id=%s,locationId=%s,relatedId=%s,parentId=%s,userId=%s,type=%s,name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s,createDate=%s 
                ON DUPLICATE KEY UPDATE
                name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s
                
DEBUG:root:escape_sql args: [3L, 0L, 0L, 0L, 1L, 1L, u'test', u'5e13bbb73127b9fc424e3728c6500f28', None, 0L, 0L, 0L, 0L, 0L, 0L, 0L, '', None, u'05352b1ac789f7b5b91e70ca99ae7aaa', u'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 9, 54, 19, 387527), datetime.datetime(2013, 7, 28, 9, 54, 19, 387527), u'test', u'5e13bbb73127b9fc424e3728c6500f28', None, 0L, 0L, 0L, 0L, 0L, 0L, 0L, '', None, u'05352b1ac789f7b5b91e70ca99ae7aaa', u'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 9, 54, 19, 387527)]
DEBUG:root:
                INSERT INTO `q_brooklyncode` 
                set id=3,locationId=0,relatedId=0,parentId=0,userId=1,type=1,name='test',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=0,voteNumber=0,votesUp=0,votesDown=0,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge='05352b1ac789f7b5b91e70ca99ae7aaa',referer='http://localhost:8081/?p=1',changeDate='2013-07-28 09:54:19',createDate='2013-07-28 09:54:19' 
                ON DUPLICATE KEY UPDATE
                name='test',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=0,voteNumber=0,votesUp=0,votesDown=0,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge='05352b1ac789f7b5b91e70ca99ae7aaa',referer='http://localhost:8081/?p=1',changeDate='2013-07-28 09:54:19'
                
DEBUG:root:execute: 
                INSERT INTO `q_brooklyncode` 
                set id=3,locationId=0,relatedId=0,parentId=0,userId=1,type=1,name='test',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=0,voteNumber=0,votesUp=0,votesDown=0,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge='05352b1ac789f7b5b91e70ca99ae7aaa',referer='http://localhost:8081/?p=1',changeDate='2013-07-28 09:54:19',createDate='2013-07-28 09:54:19' 
                ON DUPLICATE KEY UPDATE
                name='test',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=0,voteNumber=0,votesUp=0,votesDown=0,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge='05352b1ac789f7b5b91e70ca99ae7aaa',referer='http://localhost:8081/?p=1',changeDate='2013-07-28 09:54:19'
                
DEBUG:root:item_exists
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:escape_sql sql: SELECT count(*) FROM `q_brooklyncode`  WHERE id = %s
DEBUG:root:escape_sql args: [3L]
DEBUG:root:SELECT count(*) FROM `q_brooklyncode`  WHERE id = 3
DEBUG:root:MySqlApiQueryset create_one (status, affected_rows): (NO CHANGES, 0)
DEBUG:root:MySqlApiQueryset create_one
DEBUG:root:MySqlApiQueryset create_one sql: 
                INSERT INTO `q_brooklyncode_images` 
                set id=%s,itemId=%s,s3Bucket=%s,thumbnailLargeHash=%s 
                ON DUPLICATE KEY UPDATE
                s3Bucket=%s,thumbnailLargeHash=%s
                
DEBUG:root:execute
DEBUG:root:execute args: [None, 3L, 'qoorate.brooklyncode', u'05352b1ac789f7b5b91e70ca99ae7aaa', 'qoorate.brooklyncode', u'05352b1ac789f7b5b91e70ca99ae7aaa']
DEBUG:root:escape_sql sql: 
                INSERT INTO `q_brooklyncode_images` 
                set id=%s,itemId=%s,s3Bucket=%s,thumbnailLargeHash=%s 
                ON DUPLICATE KEY UPDATE
                s3Bucket=%s,thumbnailLargeHash=%s
                
DEBUG:root:escape_sql args: [None, 3L, 'qoorate.brooklyncode', u'05352b1ac789f7b5b91e70ca99ae7aaa', 'qoorate.brooklyncode', u'05352b1ac789f7b5b91e70ca99ae7aaa']
DEBUG:root:
                INSERT INTO `q_brooklyncode_images` 
                set id=NULL,itemId=3,s3Bucket='qoorate.brooklyncode',thumbnailLargeHash='05352b1ac789f7b5b91e70ca99ae7aaa' 
                ON DUPLICATE KEY UPDATE
                s3Bucket='qoorate.brooklyncode',thumbnailLargeHash='05352b1ac789f7b5b91e70ca99ae7aaa'
                
DEBUG:root:execute: 
                INSERT INTO `q_brooklyncode_images` 
                set id=NULL,itemId=3,s3Bucket='qoorate.brooklyncode',thumbnailLargeHash='05352b1ac789f7b5b91e70ca99ae7aaa' 
                ON DUPLICATE KEY UPDATE
                s3Bucket='qoorate.brooklyncode',thumbnailLargeHash='05352b1ac789f7b5b91e70ca99ae7aaa'
                
DEBUG:root:MySqlApiQueryset create_one (status, affected_rows): (Created, 1)
DEBUG:root:inserted_id: 3)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x103883250>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x103883450>
DEBUG:root:CONTEXT: {'has_more_contributions': False, 'app': {'CHILD_PAGE_SIZE': 5, 'QOORATE_API_URI': 'http://qoorate.sethmurphy.com/q', 'TEMP_DIR': 'tmp', 'BACKGROUND_S3_UPLOAD': True, 'BROKEN_IMG_URI': 'http://localhost/q/img/blank.gif', 'POLLING_INTERVAL': 15, 'QOORATE_IMG_PATH': 'http://localhost/q/uploader/images/', 'S3_IMG_PATH': 'https://s3.amazonaws.com/qoorate.brooklyncode/', 'AMAZON_BUCKET': 'qoorate.brooklyncode', 'QOORATE_URI': 'http://qoorate.sethmurphy.com', 'PARENT_PAGE_SIZE': 5}, 'thumbnailLargeHash': u'05352b1ac789f7b5b91e70ca99ae7aaa', 'parentCount': 5, 'q_short_name': u'12345', 'is_admin': False, 'parent_tag': u'p_brooklyncode', 'moreIndex': 1, 'comments': [<Comment: Comment object>], 'location': u'5e13bbb73127b9fc424e3728c6500f28', 'current_user': <User: User object>, 'related_user': None, 'childCount': 5, 'comment_images': [('Created', <Image: Image object>)]}
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:unsanitizing: test
DEBUG:root:unsanitizing encoded ascii: test
DEBUG:root:unsanitizing encoded utf8: test
DEBUG:root: unsanitized: test
DEBUG:root:
     
        
            
            
            <div id="12345-3" class="q_item lv-1 vi-l tp-1">
                            <div class="q_inr p">
                <div class="q_data">
                    <div class="q_main">
                        <div class="q_inr">
                            <div class="q_top">
                                <div class="headerWrapper p">
                                    <a id="share_12345-3" href="#" class="do makeForm share 12345-3"><span>+ Share</span></a>
                                    <a id="flag_12345-3" href="#" class="do makeForm flag 12345-3"><span>Flag</span></a>
                                    <a id="delete_12345-3" href="#" class="do action deleteItem 12345-3"><span>Delete</span></a>
                                    <div class="q_clear"></div>
                                </div>
                            </div>
                            <div class="q_main_body">
                                <div class="q_txt">
                                    
                                    <div class="q_img">
                                        <img src="https://s3.amazonaws.com/qoorate.brooklyncode/05352b1ac789f7b5b91e70ca99ae7aaa_m.jpg" 
                                                onerror="ImgError(this, 'http://localhost/q/uploader/images/05352b1ac789f7b5b91e70ca99ae7aaa','http://localhost/q/img/blank.gif')">
                                    </div>
                                    <h3 class="itemName title type-1">test</h3>
                                    
                                </div>
                                <div class="q_clear"></div>
                            </div>
                            <div class="q_main_footer">
                                <div class="q_main_user">
                                    <div class="q_thumbnail">
                                        
                                        <img width="30" height="30" src="http://a0.twimg.com/profile_images/2793955592/297b32ce863d62ad496ccfab30b98ec2_normal.jpeg" onerror="ImgError(this, 'http://qrate.co/img/blank.gif')" />
                                        
                                    </div>
                                    <div class="q_user_info">
                                        
                                        <span class="q_usr"></span>
                                        
                                        <span class="time">0 seconds ago</span>
                                    </div>
                                    <div class="q_clear"></div>
                                </div>
                            </div>
                            <div class="q_bottom lv-1">
                                <fieldset class="reply bottom">
                                    <legend>Reply</legend>
                                    <div class="replyWrapper">
                                        <div class="inner">
                                            <a id="reply_12345-3" href="#" class="do makeForm replyComment 12345-3 reply"><span>Reply (<span class="replycount">0</span>)</span></a>
                                            <a id="toggle_12345-3" href="#" class="toggleReply tco-3 expand"><span></span></a>
                                            <div class="q_clear"></div>
                                        </div>
                                    </div>
                                    <div class="vote wrapper">
                                        <div class="inner">
                                            <div class="upVote wrap"><a href="#" class="do action upVote 12345-3"><span class="voted">0</span></a></div>
                                            <div class="downVote wrap"><a href="#" class="do action downVote 12345-3"><span class="voted">0</span></a></div>
                                            <div class="q_clear"></div>
                                        </div>
                                    </div>
                                </fieldset>
                                <div class="dyn 12345-3"></div>
                            </div>
                            <div class="q_clear"></div>
                        </div>
                    </div>
                </div>
                <div class="q_clear"></div>
            </div>
            <div class="q_clear"></div>
             
        
    

</div>

<div class="q_clear"></div>
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:escape_sql sql: 
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:escape_sql args: []
DEBUG:root:
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x103972d90>
DEBUG:root:Number of contributions 3
INFO:root:200 POST /q/feed (127.0.0.1)
DEBUG:root:None
DEBUG:root:{u'cookie': u'SBID="!MZ6JnTJnDncb7k3n0Ya9Sg==?gAJVBFNCSURxAWN1dWlkClVVSUQKcQIpgXEDfXEEVQNpbnRxBYoQqUXRlREm8LXjTshLPYe7cXNihnEGLg=="; wordpress_test_cookie=WP+Cookie+check; wordpress_logged_in_8dec71ede39ad9ff3b3fbc03311bdc45=qoorate%7C1375142446%7C86fd9ec6d6a221f44c7b1244f05dcd23; QOOID=QOO51f460f57c582; QOOTID=QOOT51f460f57c593; wp-settings-time-1=1374970345', u'accept-language': u'en-US,en;q=0.8', u'accept-encoding': u'gzip,deflate,sdch', u'PATTERN': u'/q/', u'x-forwarded-for': u'127.0.0.1', u'host': u'localhost', u'accept': u'image/webp,*/*;q=0.8', u'user-agent': u'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/28.0.1500.71 Safari/537.36', u'connection': u'keep-alive', u'VERSION': u'HTTP/1.1', u'referer': u'http://localhost:8081/?p=1', u'PATH': u'/q/uploader/images/05352b1ac789f7b5b91e70ca99ae7aaa', u'METHOD': u'GET', u'URI': u'/q/uploader/images/05352b1ac789f7b5b91e70ca99ae7aaa'}
DEBUG:root:TemporaryImageViewHandler get
DEBUG:root:filename: 05352b1ac789f7b5b91e70ca99ae7aaa
DEBUG:root:hash: <built-in function hash>
DEBUG:root:requested_file_name: ./tmp/05352b1ac789f7b5b91e70ca99ae7aaa
DEBUG:root:mime_type: image/png
INFO:root:200 GET /q/uploader/images/05352b1ac789f7b5b91e70ca99ae7aaa (127.0.0.1)
Sun, 28 Jul 2013 13:55:37 GMT [ERROR] (errno: No such file or directory) End directory base with / in static/qoorateserver or it won't work right.'
Sun, 28 Jul 2013 13:55:37 GMT [ERROR] (errno: None) Failed to create target for route /q/static/
Sun, 28 Jul 2013 13:55:37 GMT [ERROR] (errno: None) End directory base with / in static/qoorateserver or it won't work right.'
Sun, 28 Jul 2013 13:55:37 GMT [ERROR] (errno: None) Failed to create target for route /q/robots.txt
Sun, 28 Jul 2013 13:55:37 GMT [ERROR] (errno: None) End directory base with / in static/qoorateserver or it won't work right.'
Sun, 28 Jul 2013 13:55:37 GMT [ERROR] (errno: None) Failed to create target for route /q/favicon.ico
Sun, 28 Jul 2013 13:55:37 GMT [INFO] (src/mime.c:49) MAX limits.mime_ext_len=128
Sun, 28 Jul 2013 13:55:37 GMT [INFO] (src/host.c:74) MAX limits.url_path=256, limits.host_name=256
Sun, 28 Jul 2013 13:55:37 GMT [INFO] (src/config/config.c:109) Loaded proxy 1:127.0.0.1:8081
Sun, 28 Jul 2013 13:55:37 GMT [INFO] (src/config/config.c:227) Loaded route 1:/:proxy for host 1:localhost
Sun, 28 Jul 2013 13:55:37 GMT [INFO] (src/handler.c:343) MAX limits.handler_stack=102400
Sun, 28 Jul 2013 13:55:37 GMT [INFO] (src/config/config.c:85) Loaded handler 1:ipc://run/qoorateserver/mongrel2_send:137b789e-b7eb-475a-8d5c-b16ab54493yu:ipc://run/qoorateserver/mongrel2_rcv:
Sun, 28 Jul 2013 13:55:37 GMT [INFO] (src/config/config.c:227) Loaded route 2:/q/:handler for host 1:localhost
Sun, 28 Jul 2013 13:55:37 GMT [INFO] (src/dir.c:195) MAX limits.dir_send_buffer=16384, limits.dir_max_path=256
Sun, 28 Jul 2013 13:55:37 GMT [INFO] (src/config/config.c:136) Loaded directory 1:static/qoorateserver/js/:index.html
Sun, 28 Jul 2013 13:55:37 GMT [INFO] (src/config/config.c:227) Loaded route 3:/q/js/:dir for host 1:localhost
Sun, 28 Jul 2013 13:55:37 GMT [INFO] (src/config/config.c:136) Loaded directory 2:static/qoorateserver/css/:index.html
Sun, 28 Jul 2013 13:55:37 GMT [INFO] (src/config/config.c:227) Loaded route 4:/q/css/:dir for host 1:localhost
Sun, 28 Jul 2013 13:55:37 GMT [INFO] (src/config/config.c:136) Loaded directory 3:static/qoorateserver/img/:index.html
Sun, 28 Jul 2013 13:55:37 GMT [INFO] (src/config/config.c:227) Loaded route 5:/q/img/:dir for host 1:localhost
Sun, 28 Jul 2013 13:55:37 GMT [INFO] (src/config/config.c:312) Loaded 1 hosts for server 1:fe76e442-da24-4708-b0ef-c4ahr2b7d131
Sun, 28 Jul 2013 13:55:37 GMT [INFO] (src/server.c:445) LOADING Handler ipc://run/qoorateserver/mongrel2_send
Sun, 28 Jul 2013 13:55:37 GMT [ERROR] (src/unixy.c:99: errno: No such file or directory) Failed to open PID file ../run/mongrel2.pid for reading.
Sun, 28 Jul 2013 13:55:37 GMT [INFO] (src/unixy.c:137) No previous mongrel2 running, continuing on.
Sun, 28 Jul 2013 13:55:37 GMT [INFO] (src/mongrel2.c:223) All loaded up, time to turn into a server.
Sun, 28 Jul 2013 13:55:37 GMT [INFO] (src/mongrel2.c:224) -- Starting Mongrel2/1.8.1. Copyright (C) Zed A. Shaw. Licensed BSD.

Sun, 28 Jul 2013 13:55:37 GMT [INFO] (src/mongrel2.c:225) -- Look in logs/error.log for startup messages and errors.
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/uploader/main.py", line 18, in <module>
    from brubeckuploader.handlers import (
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/handlers.py", line 19, in <module>
    from brubeckuploader.base import Uploader
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/base.py", line 101
    logging.debug("image_info[2]: %s" % str((image_info[0]))
          ^
SyntaxError: invalid syntax
Exception KeyError: KeyError(4547707600,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 21, in <module>
    from brubeckuploader.handlers import (
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/handlers.py", line 19, in <module>
    from brubeckuploader.base import Uploader
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/base.py", line 101
    logging.debug("image_info[2]: %s" % str((image_info[0]))
          ^
SyntaxError: invalid syntax
Exception KeyError: KeyError(4317598096,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/uploader/main.py", line 18, in <module>
    from brubeckuploader.handlers import (
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/handlers.py", line 19, in <module>
    from brubeckuploader.base import Uploader
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/base.py", line 101
    logging.debug("image_info[2]: %s" % str((image_info[0]))
          ^
SyntaxError: invalid syntax
Exception KeyError: KeyError(4410294992,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 21, in <module>
    from brubeckuploader.handlers import (
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/handlers.py", line 19, in <module>
    from brubeckuploader.base import Uploader
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/base.py", line 101
    logging.debug("image_info[2]: %s" % str((image_info[0]))
          ^
SyntaxError: invalid syntax
Exception KeyError: KeyError(4438430096,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/uploader/main.py", line 18, in <module>
    from brubeckuploader.handlers import (
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/handlers.py", line 19, in <module>
    from brubeckuploader.base import Uploader
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/base.py", line 101
    logging.debug("image_info[2]: %s" % str((image_info[0]))
          ^
SyntaxError: invalid syntax
Exception KeyError: KeyError(4363756240,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 21, in <module>
    from brubeckuploader.handlers import (
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/handlers.py", line 19, in <module>
    from brubeckuploader.base import Uploader
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/base.py", line 101
    logging.debug("image_info[2]: %s" % str((image_info[0]))
          ^
SyntaxError: invalid syntax
Exception KeyError: KeyError(4342628752,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/uploader/main.py", line 18, in <module>
    from brubeckuploader.handlers import (
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/handlers.py", line 19, in <module>
    from brubeckuploader.base import Uploader
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/base.py", line 101
    logging.debug("image_info[2]: %s" % str((image_info[0]))
          ^
SyntaxError: invalid syntax
Exception KeyError: KeyError(4413326032,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 21, in <module>
    from brubeckuploader.handlers import (
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/handlers.py", line 19, in <module>
    from brubeckuploader.base import Uploader
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/base.py", line 101
    logging.debug("image_info[2]: %s" % str((image_info[0]))
          ^
SyntaxError: invalid syntax
Exception KeyError: KeyError(4310765968,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/uploader/main.py", line 18, in <module>
    from brubeckuploader.handlers import (
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/handlers.py", line 19, in <module>
    from brubeckuploader.base import Uploader
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/base.py", line 101
    logging.debug("image_info[2]: %s" % str((image_info[0]))
          ^
SyntaxError: invalid syntax
Exception KeyError: KeyError(4367876816,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 21, in <module>
    from brubeckuploader.handlers import (
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/handlers.py", line 19, in <module>
    from brubeckuploader.base import Uploader
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/base.py", line 101
    logging.debug("image_info[2]: %s" % str((image_info[0]))
          ^
SyntaxError: invalid syntax
Exception KeyError: KeyError(4507926928,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/uploader/main.py", line 18, in <module>
    from brubeckuploader.handlers import (
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/handlers.py", line 19, in <module>
    from brubeckuploader.base import Uploader
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/base.py", line 101
    logging.debug("image_info[2]: %s" % str((image_info[0]))
          ^
SyntaxError: invalid syntax
Exception KeyError: KeyError(4309795536,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 21, in <module>
    from brubeckuploader.handlers import (
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/handlers.py", line 19, in <module>
    from brubeckuploader.base import Uploader
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/base.py", line 101
    logging.debug("image_info[2]: %s" % str((image_info[0]))
          ^
SyntaxError: invalid syntax
Exception KeyError: KeyError(4555583888,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/uploader/main.py", line 18, in <module>
    from brubeckuploader.handlers import (
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/handlers.py", line 19, in <module>
    from brubeckuploader.base import Uploader
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/base.py", line 101
    logging.debug("image_info[2]: %s" % str((image_info[0]))
          ^
SyntaxError: invalid syntax
Exception KeyError: KeyError(4502348496,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 21, in <module>
    from brubeckuploader.handlers import (
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/handlers.py", line 19, in <module>
    from brubeckuploader.base import Uploader
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/base.py", line 101
    logging.debug("image_info[2]: %s" % str((image_info[0]))
          ^
SyntaxError: invalid syntax
Exception KeyError: KeyError(4483133840,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/uploader/main.py", line 18, in <module>
    from brubeckuploader.handlers import (
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/handlers.py", line 19, in <module>
    from brubeckuploader.base import Uploader
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/base.py", line 101
    logging.debug("image_info[2]: %s" % str((image_info[0]))
          ^
SyntaxError: invalid syntax
Exception KeyError: KeyError(4475618000,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 21, in <module>
    from brubeckuploader.handlers import (
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/handlers.py", line 19, in <module>
    from brubeckuploader.base import Uploader
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/base.py", line 101
    logging.debug("image_info[2]: %s" % str((image_info[0]))
          ^
SyntaxError: invalid syntax
Exception KeyError: KeyError(4301742480,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/uploader/main.py", line 18, in <module>
    from brubeckuploader.handlers import (
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/handlers.py", line 19, in <module>
    from brubeckuploader.base import Uploader
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/base.py", line 101
    logging.debug("image_info[2]: %s" % str((image_info[0]))
          ^
SyntaxError: invalid syntax
Exception KeyError: KeyError(4564714192,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
INFO:root:Using project directory: .
DEBUG:root:loading settings from ./conf/qoorateserver/development.py
INFO:root:Using coroutine library: gevent
DEBUG:root:creating application db_conn pool
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
INFO:root:Using project directory: .
DEBUG:root:loading settings from ./conf/uploader/settings.py
INFO:root:Using coroutine library: gevent
DEBUG:root:******** START _service_registration *********
DEBUG:root:service_registration_passphrase: 137b789e-b7eb-475a-8d5a-b16ab544yurp
DEBUG:root:service_id: uploader
DEBUG:root:service_registration_addr: ipc://run/uploader/brubeck_svc_registration
DEBUG:root:service_passphrase: 137b789e-b7eb-475a-8d5a-b16ab544yurp
DEBUG:root:service_addr: ipc://run/uploader/brubeck_svc
DEBUG:root:service_response_addr: ipc://run/uploader/brubeck_svc_response
DEBUG:root:service_heartbeat_addr: None
DEBUG:root:service_heartbeat_timeout: 5
DEBUG:root:sender_id: a3e0c161388a41589424f34e890ff2f4
DEBUG:root:is_reregistration: 0
DEBUG:root:service_heartbeat_interval: 3
DEBUG:root:******** END _service_registration *********
DEBUG:root:register_service: (service_registration_addr, service_registration_passphrase,service_heartbeat_timeout,sender_id): (ipc://run/uploader/brubeck_svc_registration,137b789e-b7eb-475a-8d5a-b16ab544yurp, 5, a3e0c161388a41589424f34e890ff2f4)
DEBUG:root:service_registration sending request
DEBUG:root:service_registration waiting for response
Sun, 28 Jul 2013 13:56:22 GMT [ERROR] (errno: No such file or directory) End directory base with / in static/qoorateserver or it won't work right.'
Sun, 28 Jul 2013 13:56:22 GMT [ERROR] (errno: None) Failed to create target for route /q/static/
Sun, 28 Jul 2013 13:56:22 GMT [ERROR] (errno: None) End directory base with / in static/qoorateserver or it won't work right.'
Sun, 28 Jul 2013 13:56:22 GMT [ERROR] (errno: None) Failed to create target for route /q/robots.txt
Sun, 28 Jul 2013 13:56:22 GMT [ERROR] (errno: None) End directory base with / in static/qoorateserver or it won't work right.'
Sun, 28 Jul 2013 13:56:22 GMT [ERROR] (errno: None) Failed to create target for route /q/favicon.ico
Sun, 28 Jul 2013 13:56:22 GMT [INFO] (src/mime.c:49) MAX limits.mime_ext_len=128
Sun, 28 Jul 2013 13:56:22 GMT [INFO] (src/host.c:74) MAX limits.url_path=256, limits.host_name=256
Sun, 28 Jul 2013 13:56:22 GMT [INFO] (src/config/config.c:109) Loaded proxy 1:127.0.0.1:8081
Sun, 28 Jul 2013 13:56:22 GMT [INFO] (src/config/config.c:227) Loaded route 1:/:proxy for host 1:localhost
Sun, 28 Jul 2013 13:56:22 GMT [INFO] (src/handler.c:343) MAX limits.handler_stack=102400
Sun, 28 Jul 2013 13:56:22 GMT [INFO] (src/config/config.c:85) Loaded handler 1:ipc://run/qoorateserver/mongrel2_send:137b789e-b7eb-475a-8d5c-b16ab54493yu:ipc://run/qoorateserver/mongrel2_rcv:
Sun, 28 Jul 2013 13:56:22 GMT [INFO] (src/config/config.c:227) Loaded route 2:/q/:handler for host 1:localhost
Sun, 28 Jul 2013 13:56:22 GMT [INFO] (src/dir.c:195) MAX limits.dir_send_buffer=16384, limits.dir_max_path=256
Sun, 28 Jul 2013 13:56:22 GMT [INFO] (src/config/config.c:136) Loaded directory 1:static/qoorateserver/js/:index.html
Sun, 28 Jul 2013 13:56:22 GMT [INFO] (src/config/config.c:227) Loaded route 3:/q/js/:dir for host 1:localhost
Sun, 28 Jul 2013 13:56:22 GMT [INFO] (src/config/config.c:136) Loaded directory 2:static/qoorateserver/css/:index.html
Sun, 28 Jul 2013 13:56:22 GMT [INFO] (src/config/config.c:227) Loaded route 4:/q/css/:dir for host 1:localhost
Sun, 28 Jul 2013 13:56:22 GMT [INFO] (src/config/config.c:136) Loaded directory 3:static/qoorateserver/img/:index.html
Sun, 28 Jul 2013 13:56:22 GMT [INFO] (src/config/config.c:227) Loaded route 5:/q/img/:dir for host 1:localhost
Sun, 28 Jul 2013 13:56:22 GMT [INFO] (src/config/config.c:312) Loaded 1 hosts for server 1:fe76e442-da24-4708-b0ef-c4ahr2b7d131
Sun, 28 Jul 2013 13:56:22 GMT [INFO] (src/server.c:445) LOADING Handler ipc://run/qoorateserver/mongrel2_send
Sun, 28 Jul 2013 13:56:22 GMT [ERROR] (src/unixy.c:99: errno: No such file or directory) Failed to open PID file ../run/mongrel2.pid for reading.
Sun, 28 Jul 2013 13:56:22 GMT [INFO] (src/unixy.c:137) No previous mongrel2 running, continuing on.
Sun, 28 Jul 2013 13:56:22 GMT [INFO] (src/mongrel2.c:223) All loaded up, time to turn into a server.
Sun, 28 Jul 2013 13:56:22 GMT [INFO] (src/mongrel2.c:224) -- Starting Mongrel2/1.8.1. Copyright (C) Zed A. Shaw. Licensed BSD.

Sun, 28 Jul 2013 13:56:22 GMT [INFO] (src/mongrel2.c:225) -- Look in logs/error.log for startup messages and errors.
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
INFO:root:Using project directory: .
DEBUG:root:loading settings from ./conf/qoorateserver/development.py
INFO:root:Using coroutine library: gevent
DEBUG:root:creating application db_conn pool
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:None
DEBUG:root:{u'content-length': u'144523', u'PATTERN': u'/q/', u'x-forwarded-for': u'127.0.0.1', u'URI': u'/q/uploader?action=uploader&qqfile=Screen+Shot+2013-07-22+at+9.43.55+AM.png', u'accept': u'*/*', u'user-agent': u'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/28.0.1500.71 Safari/537.36', u'host': u'localhost', u'VERSION': u'HTTP/1.1', u'cookie': u'wordpress_8dec71ede39ad9ff3b3fbc03311bdc45=qoorate|1375142446|8148fbb3583470985c5fca59e75d635a; SBID=\\"!MZ6JnTJnDncb7k3n0Ya9Sg==?gAJVBFNCSURxAWN1dWlkClVVSUQKcQIpgXEDfXEEVQNpbnRxBYoQqUXRlREm8LXjTshLPYe7cXNihnEGLg==\\"; wordpress_test_cookie=WP Cookie check; wordpress_logged_in_8dec71ede39ad9ff3b3fbc03311bdc45=qoorate|1375142446|86fd9ec6d6a221f44c7b1244f05dcd23; QOOID=QOO51f460f57c582; QOOTID=QOOT51f460f57c593; wp-settings-time-1=1374970345', u'expect': u'100-continue', u'QUERY': u'action=uploader&qqfile=Screen+Shot+2013-07-22+at+9.43.55+AM.png', u'PATH': u'/q/uploader', u'content-type': u'application/x-www-form-urlencoded', u'METHOD': u'POST'}
DEBUG:root:TemporaryImageUploadHandler post
DEBUG:root:to_unicode
DEBUG:root:Screen Shot 2013-07-22 at 9.43.55 AM.png
DEBUG:root:Screen Shot 2013-07-22 at 9.43.55 AM.png
DEBUG:root:to_unicode
DEBUG:root:{'S3_PORT': 443, 'INIT_BUCKET': True, 'RETRY_INTERVAL': 60, 'S3_HOST': 's3.amazonaws.com', 'ACCEPTABLE_UPLOAD_MIME_TYPES': ['image/jpeg', 'image/gif', 'image/png'], 'IMAGE_INFO': [(None, 'JPEG', '_f', 'jpg'), ((300, 200), 'JPEG', '_t', 'jpg'), ((120, 200), 'JPEG', '_m', 'jpg'), ((170, 100), 'JPEG', '_f', 'jpg'), ((50, 50), 'JPEG', '_s', 'jpg')], 'TEMP_UPLOAD_DIR': 'tmp', 'SERVICE_INFO': {'SERVICE_ID': 'uploader', 'SERVICE_REGISTRATION_PASSPHRASE': '137b789e-b7eb-475a-8d5a-b16ab544yurp', 'ASYNC': False, 'SERVICE_REGISTRATION_ADDR': 'ipc://run/uploader/brubeck_svc_registration', 'SERVICE_ADDR': 'ipc://run/uploader/brubeck_svc'}, 'AMAZON_BUCKET': 'qoorate.brooklyncode', 'AMAZON_SECRET': 'K3NKUTZIZWQ9B1UzQcZpl5frT4VClA9Ud0gffWPC', 'AMAZON_KEY': 'AKIAIMJ3ACDQBKM4PBDQ'}
DEBUG:root:filename: Screen Shot 2013-07-22 at 9.43.55 AM.png
DEBUG:root:hash: 08903358ddb8befc6e45f19357afce59
DEBUG:root:download_file_name: ./tmp/08903358ddb8befc6e45f19357afce59
DEBUG:root:mime_type: image/png
DEBUG:root:checking mime_type: image/png
DEBUG:root:mime_type OK
DEBUG:root:width: 1412
DEBUG:root:height: 1088
DEBUG:root:['']
DEBUG:root:['']
DEBUG:root:to_unicode
DEBUG:root:œ°ìo∂Ó Ûwzã≈Ê/Sáfµ ÿ ”„AıAÁæ q Ÿ˝A‚ ∆Km«j›∂mõƒ ‰% ⁄ˆ F 9ê3 °ê‘â I π=¨áO6Ÿi¡x ëàÊ˚„ âéL8¿Êˇœ/z% aºöﬂ¸—ƒﬂ.d*˛ıO◊3Q -ì!'üa˚SI|Ò«k÷ÍÍë Â'Õ?œ‰3ÿ∂∑˛"Û≠ â¯≈ÖﬁƒÔû…i«Ë[?ÿŸ,[i˛w‚/z
DEBUG:root:œ°ìo∂Ó Ûwzã≈Ê/Sáfµ ÿ ”„AıAÁæ q Ÿ˝A‚ ∆Km«j›∂mõƒ ‰% ⁄ˆ F 9ê3 °ê‘â I π=¨áO6Ÿi¡x ëàÊ˚„ âéL8¿Êˇœ/z% aºöﬂ¸—ƒﬂ.d*˛ıO◊3Q -ì!'üa˚SI|Ò«k÷ÍÍë Â'Õ?œ‰3ÿ∂∑˛"Û≠ â¯≈ÖﬁƒÔû…i«Ë[?ÿŸ,[i˛w‚/z
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:Z É¡¢¢¢¨  .%z®‡∞≈” µL2otﬂC ﬂ˝∞@{R∏ 
DEBUG:root:Z É¡¢¢¢¨  .%z®‡∞≈” µL2otﬂC ﬂ˝∞@{R∏ 
DEBUG:root:to_unicode
INFO:root:200 POST /q/uploader (127.0.0.1)
DEBUG:root:None
DEBUG:root:{u'cookie': u'SBID="!MZ6JnTJnDncb7k3n0Ya9Sg==?gAJVBFNCSURxAWN1dWlkClVVSUQKcQIpgXEDfXEEVQNpbnRxBYoQqUXRlREm8LXjTshLPYe7cXNihnEGLg=="; wordpress_test_cookie=WP+Cookie+check; wordpress_logged_in_8dec71ede39ad9ff3b3fbc03311bdc45=qoorate%7C1375142446%7C86fd9ec6d6a221f44c7b1244f05dcd23; QOOID=QOO51f460f57c582; QOOTID=QOOT51f460f57c593; wp-settings-time-1=1374970345', u'accept-language': u'en-US,en;q=0.8', u'accept-encoding': u'gzip,deflate,sdch', u'PATTERN': u'/q/', u'x-forwarded-for': u'127.0.0.1', u'host': u'localhost', u'accept': u'image/webp,*/*;q=0.8', u'user-agent': u'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/28.0.1500.71 Safari/537.36', u'connection': u'keep-alive', u'VERSION': u'HTTP/1.1', u'referer': u'http://localhost:8081/?p=1', u'PATH': u'/q/uploader/images/08903358ddb8befc6e45f19357afce59', u'METHOD': u'GET', u'URI': u'/q/uploader/images/08903358ddb8befc6e45f19357afce59'}
DEBUG:root:TemporaryImageViewHandler get
DEBUG:root:filename: 08903358ddb8befc6e45f19357afce59
DEBUG:root:hash: <built-in function hash>
DEBUG:root:requested_file_name: ./tmp/08903358ddb8befc6e45f19357afce59
DEBUG:root:mime_type: image/png
INFO:root:200 GET /q/uploader/images/08903358ddb8befc6e45f19357afce59 (127.0.0.1)
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:set_table has q_short_name (12345)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10e35c1d0>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has q_short_name (12345)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10e35c250>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:feed.prepare, table: q_brooklyncode
DEBUG:root:FeedHandler post
DEBUG:root:Body -> 
 replyComment=test&thumbnailLarge=08903358ddb8befc6e45f19357afce59&replyPhoto=&action=addItem&location=5e13bbb73127b9fc424e3728c6500f28&referer=http%3A%2F%2Flocalhost%3A8081%2F%3Fp%3D1&q_short_name=12345&QOOID=QOO51f460f57c582&QOOTID=QOOT51f460f57c593
DEBUG:root:Arguments -> 
 {"thumbnailLarge": ["08903358ddb8befc6e45f19357afce59"], "QOOID": ["QOO51f460f57c582"], "QOOTID": ["QOOT51f460f57c593"], "q_short_name": ["12345"], "location": ["5e13bbb73127b9fc424e3728c6500f28"], "replyComment": ["test"], "action": ["addItem"], "referer": ["http://localhost:8081/?p=1"]}
DEBUG:root:to_unicode
DEBUG:root:addItem
DEBUG:root:addItem
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:addItem
DEBUG:root:addItem
DEBUG:root:to_unicode
DEBUG:root:action: addItem
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10e35c450>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10e35c5d0>
DEBUG:root:to_unicode
DEBUG:root:test
DEBUG:root:test
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:test
DEBUG:root:test
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:08903358ddb8befc6e45f19357afce59
DEBUG:root:08903358ddb8befc6e45f19357afce59
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:08903358ddb8befc6e45f19357afce59
DEBUG:root:08903358ddb8befc6e45f19357afce59
DEBUG:root:to_unicode
DEBUG:root:spawning upload
DEBUG:root:upload_to_S3 : 08903358ddb8befc6e45f19357afce59
DEBUG:root:upload_to_S3 : 08903358ddb8befc6e45f19357afce59
DEBUG:root:create_images_for_S3
DEBUG:root:file_path: tmp
DEBUG:root:file_name: 08903358ddb8befc6e45f19357afce59
DEBUG:root:filename: tmp/08903358ddb8befc6e45f19357afce59
DEBUG:root:create_images_for_S3 image_infos: [(None, 'JPEG', '_f', 'jpg'), ((300, 200), 'JPEG', '_t', 'jpg'), ((120, 200), 'JPEG', '_m', 'jpg'), ((170, 100), 'JPEG', '_f', 'jpg'), ((50, 50), 'JPEG', '_s', 'jpg')] 
DEBUG:root:create_images_for_S3  image_info: (None, 'JPEG', '_f', 'jpg') 
DEBUG:root:filename created: 08903358ddb8befc6e45f19357afce59_f.jpg
DEBUG:root:create_images_for_S3  image_info: ((300, 200), 'JPEG', '_t', 'jpg') 
DEBUG:root:image_info[0]: (300, 200)
DEBUG:root:image_info[1]: (300, 200)
DEBUG:root:image_info[2]: (300, 200)
DEBUG:root:image_info[0]: (300, 200)
DEBUG:root:filename created: 08903358ddb8befc6e45f19357afce59_t.jpg
DEBUG:root:create_images_for_S3  image_info: ((120, 200), 'JPEG', '_m', 'jpg') 
DEBUG:root:image_info[0]: (120, 200)
DEBUG:root:image_info[1]: (120, 200)
DEBUG:root:image_info[2]: (120, 200)
DEBUG:root:image_info[0]: (120, 200)
DEBUG:root:filename created: 08903358ddb8befc6e45f19357afce59_m.jpg
DEBUG:root:create_images_for_S3  image_info: ((170, 100), 'JPEG', '_f', 'jpg') 
DEBUG:root:image_info[0]: (170, 100)
DEBUG:root:image_info[1]: (170, 100)
DEBUG:root:image_info[2]: (170, 100)
DEBUG:root:image_info[0]: (170, 100)
DEBUG:root:filename created: 08903358ddb8befc6e45f19357afce59_f.jpg
DEBUG:root:create_images_for_S3  image_info: ((50, 50), 'JPEG', '_s', 'jpg') 
DEBUG:root:image_info[0]: (50, 50)
DEBUG:root:image_info[1]: (50, 50)
DEBUG:root:image_info[2]: (50, 50)
DEBUG:root:image_info[0]: (50, 50)
DEBUG:root:filename created: 08903358ddb8befc6e45f19357afce59_s.jpg
DEBUG:root:create_images_for_S3 return filenames: [u'08903358ddb8befc6e45f19357afce59_f.jpg', u'08903358ddb8befc6e45f19357afce59_t.jpg', u'08903358ddb8befc6e45f19357afce59_m.jpg', u'08903358ddb8befc6e45f19357afce59_f.jpg', u'08903358ddb8befc6e45f19357afce59_s.jpg'] 
DEBUG:root:file_names: [u'08903358ddb8befc6e45f19357afce59_f.jpg', u'08903358ddb8befc6e45f19357afce59_t.jpg', u'08903358ddb8befc6e45f19357afce59_m.jpg', u'08903358ddb8befc6e45f19357afce59_f.jpg', u'08903358ddb8befc6e45f19357afce59_s.jpg']
DEBUG:root:len(file_names): 5
DEBUG:boto:path=/
DEBUG:boto:auth_path=/qoorate.brooklyncode/
DEBUG:boto:Method: PUT
DEBUG:boto:Path: /
DEBUG:boto:Data: 
DEBUG:boto:Headers: {}
DEBUG:boto:Host: qoorate.brooklyncode.s3.amazonaws.com
DEBUG:boto:establishing HTTPS connection: host=qoorate.brooklyncode.s3.amazonaws.com, kwargs={}
DEBUG:boto:Token: None
DEBUG:boto:StringToSign:
PUT


Sun, 28 Jul 2013 13:56:38 GMT
/qoorate.brooklyncode/
DEBUG:boto:path=/
DEBUG:boto:auth_path=/qoorate.brooklyncode/
DEBUG:boto:path=/?policy
DEBUG:boto:auth_path=/qoorate.brooklyncode/?policy
DEBUG:boto:Method: PUT
DEBUG:boto:Path: /?policy
DEBUG:boto:Data: {
                    "Version": "2008-10-17",
                    "Statement": [
                        {
                            "Sid": "AddPerm",
                            "Effect": "Allow",
                            "Principal": {
                                "AWS": "*"
                            },
                            "Action": "s3:GetObject",
                            "Resource": "arn:aws:s3:::qoorate.brooklyncode/*"
                        }
                    ]
                }
            
DEBUG:boto:Headers: {}
DEBUG:boto:Host: qoorate.brooklyncode.s3.amazonaws.com
DEBUG:boto:Token: None
DEBUG:boto:StringToSign:
PUT


Sun, 28 Jul 2013 13:56:39 GMT
/qoorate.brooklyncode/?policy
DEBUG:root:create_images_for_S3
DEBUG:root:file_path: tmp
DEBUG:root:file_name: 08903358ddb8befc6e45f19357afce59
DEBUG:root:filename: tmp/08903358ddb8befc6e45f19357afce59
DEBUG:root:create_images_for_S3 image_infos: [(None, 'JPEG', '_f', 'jpg'), ((300, 200), 'JPEG', '_t', 'jpg'), ((120, 200), 'JPEG', '_m', 'jpg'), ((170, 100), 'JPEG', '_f', 'jpg'), ((50, 50), 'JPEG', '_s', 'jpg')] 
DEBUG:root:create_images_for_S3  image_info: (None, 'JPEG', '_f', 'jpg') 
DEBUG:root:filename created: 08903358ddb8befc6e45f19357afce59_f.jpg
DEBUG:root:create_images_for_S3  image_info: ((300, 200), 'JPEG', '_t', 'jpg') 
DEBUG:root:image_info[0]: (300, 200)
DEBUG:root:image_info[1]: (300, 200)
DEBUG:root:image_info[2]: (300, 200)
DEBUG:root:image_info[0]: (300, 200)
DEBUG:root:filename created: 08903358ddb8befc6e45f19357afce59_t.jpg
DEBUG:root:create_images_for_S3  image_info: ((120, 200), 'JPEG', '_m', 'jpg') 
DEBUG:root:image_info[0]: (120, 200)
DEBUG:root:image_info[1]: (120, 200)
DEBUG:root:image_info[2]: (120, 200)
DEBUG:root:image_info[0]: (120, 200)
DEBUG:root:filename created: 08903358ddb8befc6e45f19357afce59_m.jpg
DEBUG:root:create_images_for_S3  image_info: ((170, 100), 'JPEG', '_f', 'jpg') 
DEBUG:root:image_info[0]: (170, 100)
DEBUG:root:image_info[1]: (170, 100)
DEBUG:root:image_info[2]: (170, 100)
DEBUG:root:image_info[0]: (170, 100)
DEBUG:root:filename created: 08903358ddb8befc6e45f19357afce59_f.jpg
DEBUG:root:create_images_for_S3  image_info: ((50, 50), 'JPEG', '_s', 'jpg') 
DEBUG:root:image_info[0]: (50, 50)
DEBUG:root:image_info[1]: (50, 50)
DEBUG:root:image_info[2]: (50, 50)
DEBUG:root:image_info[0]: (50, 50)
DEBUG:root:filename created: 08903358ddb8befc6e45f19357afce59_s.jpg
DEBUG:root:create_images_for_S3 return filenames: [u'08903358ddb8befc6e45f19357afce59_f.jpg', u'08903358ddb8befc6e45f19357afce59_t.jpg', u'08903358ddb8befc6e45f19357afce59_m.jpg', u'08903358ddb8befc6e45f19357afce59_f.jpg', u'08903358ddb8befc6e45f19357afce59_s.jpg'] 
DEBUG:root:file_names: [u'08903358ddb8befc6e45f19357afce59_f.jpg', u'08903358ddb8befc6e45f19357afce59_t.jpg', u'08903358ddb8befc6e45f19357afce59_m.jpg', u'08903358ddb8befc6e45f19357afce59_f.jpg', u'08903358ddb8befc6e45f19357afce59_s.jpg']
DEBUG:root:images: [u'08903358ddb8befc6e45f19357afce59_f.jpg', u'08903358ddb8befc6e45f19357afce59_t.jpg', u'08903358ddb8befc6e45f19357afce59_m.jpg', u'08903358ddb8befc6e45f19357afce59_f.jpg', u'08903358ddb8befc6e45f19357afce59_s.jpg']
DEBUG:root:image_file_name: 08903358ddb8befc6e45f19357afce59_f.jpg
DEBUG:root:Uploading 08903358ddb8befc6e45f19357afce59_f.jpg to Amazon S3 bucket qoorate.brooklyncode
DEBUG:boto:path=/08903358ddb8befc6e45f19357afce59_f.jpg
DEBUG:boto:auth_path=/qoorate.brooklyncode/08903358ddb8befc6e45f19357afce59_f.jpg
DEBUG:boto:Method: PUT
DEBUG:boto:Path: /08903358ddb8befc6e45f19357afce59_f.jpg
DEBUG:boto:Data: 
DEBUG:boto:Headers: {'Content-Length': '107310', 'Content-MD5': 'bqPQ9pA2L2U60bngtSjHOA==', 'Content-Type': 'image/jpeg', 'Expect': '100-Continue', 'User-Agent': 'Boto/2.2.2 (darwin)'}
DEBUG:boto:Host: qoorate.brooklyncode.s3.amazonaws.com
DEBUG:boto:Token: None
DEBUG:boto:StringToSign:
PUT
bqPQ9pA2L2U60bngtSjHOA==
image/jpeg
Sun, 28 Jul 2013 13:56:39 GMT
/qoorate.brooklyncode/08903358ddb8befc6e45f19357afce59_f.jpg
DEBUG:boto:path=/08903358ddb8befc6e45f19357afce59_f.jpg
DEBUG:boto:auth_path=/qoorate.brooklyncode/08903358ddb8befc6e45f19357afce59_f.jpg
DEBUG:boto:path=/08903358ddb8befc6e45f19357afce59_f.jpg?acl
DEBUG:boto:auth_path=/qoorate.brooklyncode/08903358ddb8befc6e45f19357afce59_f.jpg?acl
DEBUG:boto:Method: PUT
DEBUG:boto:Path: /08903358ddb8befc6e45f19357afce59_f.jpg?acl
DEBUG:boto:Data: 
DEBUG:boto:Headers: {'x-amz-acl': 'public-read'}
DEBUG:boto:Host: qoorate.brooklyncode.s3.amazonaws.com
DEBUG:boto:Token: None
DEBUG:boto:StringToSign:
PUT


Sun, 28 Jul 2013 13:56:40 GMT
x-amz-acl:public-read
/qoorate.brooklyncode/08903358ddb8befc6e45f19357afce59_f.jpg?acl
DEBUG:root:image_file_name: 08903358ddb8befc6e45f19357afce59_t.jpg
DEBUG:root:Uploading 08903358ddb8befc6e45f19357afce59_t.jpg to Amazon S3 bucket qoorate.brooklyncode
Traceback (most recent call last):
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/gevent/greenlet.py", line 390, in run
    result = self._run(*self.args, **self.kwargs)
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 56, in upload_to_S3
    uploader.upload_to_S3(image_path)
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/base.py", line 207, in upload_to_S3
    k.set_contents_from_filename("%s/%s" % (file_path, image_file_name))
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/boto/s3/key.py", line 966, in set_contents_from_filename
    fp = open(filename, 'rb')
IOError: [Errno 2] No such file or directory: u'tmp/08903358ddb8befc6e45f19357afce59_t.jpg'
<Greenlet at 0x10e21fcd0: upload_to_S3({'S3_PORT': 443, 'INIT_BUCKET': True, 'RETRY_INTER, u'08903358ddb8befc6e45f19357afce59')> failed with IOError

DEBUG:root:spawned upload
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:http://localhost:8081/?p=1
DEBUG:root:http://localhost:8081/?p=1
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:http://localhost:8081/?p=1
DEBUG:root:http://localhost:8081/?p=1
DEBUG:root:to_unicode
DEBUG:root:MySqlApiQueryset create_one
DEBUG:root:MySqlApiQueryset create_one sql: 
                INSERT INTO `q_brooklyncode` 
                set id=%s,locationId=%s,relatedId=%s,parentId=%s,userId=%s,type=%s,name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s,createDate=%s 
                ON DUPLICATE KEY UPDATE
                name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s
                
DEBUG:root:execute
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:execute args: [None, 0L, 0L, 0L, 1L, 1L, u'test', u'5e13bbb73127b9fc424e3728c6500f28', None, 0L, 0L, 0L, 0L, 0L, 0L, 0L, '', None, u'08903358ddb8befc6e45f19357afce59', u'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 9, 56, 40, 311960), datetime.datetime(2013, 7, 28, 9, 56, 40, 311960), u'test', u'5e13bbb73127b9fc424e3728c6500f28', None, 0L, 0L, 0L, 0L, 0L, 0L, 0L, '', None, u'08903358ddb8befc6e45f19357afce59', u'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 9, 56, 40, 311960)]
DEBUG:root:escape_sql sql: 
                INSERT INTO `q_brooklyncode` 
                set id=%s,locationId=%s,relatedId=%s,parentId=%s,userId=%s,type=%s,name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s,createDate=%s 
                ON DUPLICATE KEY UPDATE
                name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s
                
DEBUG:root:escape_sql args: [None, 0L, 0L, 0L, 1L, 1L, u'test', u'5e13bbb73127b9fc424e3728c6500f28', None, 0L, 0L, 0L, 0L, 0L, 0L, 0L, '', None, u'08903358ddb8befc6e45f19357afce59', u'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 9, 56, 40, 311960), datetime.datetime(2013, 7, 28, 9, 56, 40, 311960), u'test', u'5e13bbb73127b9fc424e3728c6500f28', None, 0L, 0L, 0L, 0L, 0L, 0L, 0L, '', None, u'08903358ddb8befc6e45f19357afce59', u'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 9, 56, 40, 311960)]
DEBUG:root:
                INSERT INTO `q_brooklyncode` 
                set id=NULL,locationId=0,relatedId=0,parentId=0,userId=1,type=1,name='test',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=0,voteNumber=0,votesUp=0,votesDown=0,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge='08903358ddb8befc6e45f19357afce59',referer='http://localhost:8081/?p=1',changeDate='2013-07-28 09:56:40',createDate='2013-07-28 09:56:40' 
                ON DUPLICATE KEY UPDATE
                name='test',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=0,voteNumber=0,votesUp=0,votesDown=0,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge='08903358ddb8befc6e45f19357afce59',referer='http://localhost:8081/?p=1',changeDate='2013-07-28 09:56:40'
                
DEBUG:root:execute: 
                INSERT INTO `q_brooklyncode` 
                set id=NULL,locationId=0,relatedId=0,parentId=0,userId=1,type=1,name='test',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=0,voteNumber=0,votesUp=0,votesDown=0,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge='08903358ddb8befc6e45f19357afce59',referer='http://localhost:8081/?p=1',changeDate='2013-07-28 09:56:40',createDate='2013-07-28 09:56:40' 
                ON DUPLICATE KEY UPDATE
                name='test',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=0,voteNumber=0,votesUp=0,votesDown=0,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge='08903358ddb8befc6e45f19357afce59',referer='http://localhost:8081/?p=1',changeDate='2013-07-28 09:56:40'
                
DEBUG:root:MySqlApiQueryset create_one (status, affected_rows): (Created, 1)
DEBUG:root:inserted_id: 4)
DEBUG:root:update_child_count(Comment object)
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:escape_sql sql: 
            SELECT count(*) as `childCount`
            FROM `q_brooklyncode` `f`
            WHERE `f`.`parentId`= %s
            
DEBUG:root:escape_sql args: [4L]
DEBUG:root:
            SELECT count(*) as `childCount`
            FROM `q_brooklyncode` `f`
            WHERE `f`.`parentId`= 4
            
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10e35c890>
DEBUG:root:child_count: 0
DEBUG:root:MySqlApiQueryset create_one
DEBUG:root:MySqlApiQueryset create_one sql: 
                INSERT INTO `q_brooklyncode` 
                set id=%s,locationId=%s,relatedId=%s,parentId=%s,userId=%s,type=%s,name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s,createDate=%s 
                ON DUPLICATE KEY UPDATE
                name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s
                
DEBUG:root:execute
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:execute args: [4L, 0L, 0L, 0L, 1L, 1L, u'test', u'5e13bbb73127b9fc424e3728c6500f28', None, 0L, 0L, 0L, 0L, 0L, 0L, 0L, '', None, u'08903358ddb8befc6e45f19357afce59', u'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 9, 56, 40, 311960), datetime.datetime(2013, 7, 28, 9, 56, 40, 311960), u'test', u'5e13bbb73127b9fc424e3728c6500f28', None, 0L, 0L, 0L, 0L, 0L, 0L, 0L, '', None, u'08903358ddb8befc6e45f19357afce59', u'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 9, 56, 40, 311960)]
DEBUG:root:escape_sql sql: 
                INSERT INTO `q_brooklyncode` 
                set id=%s,locationId=%s,relatedId=%s,parentId=%s,userId=%s,type=%s,name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s,createDate=%s 
                ON DUPLICATE KEY UPDATE
                name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s
                
DEBUG:root:escape_sql args: [4L, 0L, 0L, 0L, 1L, 1L, u'test', u'5e13bbb73127b9fc424e3728c6500f28', None, 0L, 0L, 0L, 0L, 0L, 0L, 0L, '', None, u'08903358ddb8befc6e45f19357afce59', u'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 9, 56, 40, 311960), datetime.datetime(2013, 7, 28, 9, 56, 40, 311960), u'test', u'5e13bbb73127b9fc424e3728c6500f28', None, 0L, 0L, 0L, 0L, 0L, 0L, 0L, '', None, u'08903358ddb8befc6e45f19357afce59', u'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 9, 56, 40, 311960)]
DEBUG:root:
                INSERT INTO `q_brooklyncode` 
                set id=4,locationId=0,relatedId=0,parentId=0,userId=1,type=1,name='test',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=0,voteNumber=0,votesUp=0,votesDown=0,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge='08903358ddb8befc6e45f19357afce59',referer='http://localhost:8081/?p=1',changeDate='2013-07-28 09:56:40',createDate='2013-07-28 09:56:40' 
                ON DUPLICATE KEY UPDATE
                name='test',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=0,voteNumber=0,votesUp=0,votesDown=0,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge='08903358ddb8befc6e45f19357afce59',referer='http://localhost:8081/?p=1',changeDate='2013-07-28 09:56:40'
                
DEBUG:root:execute: 
                INSERT INTO `q_brooklyncode` 
                set id=4,locationId=0,relatedId=0,parentId=0,userId=1,type=1,name='test',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=0,voteNumber=0,votesUp=0,votesDown=0,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge='08903358ddb8befc6e45f19357afce59',referer='http://localhost:8081/?p=1',changeDate='2013-07-28 09:56:40',createDate='2013-07-28 09:56:40' 
                ON DUPLICATE KEY UPDATE
                name='test',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=0,voteNumber=0,votesUp=0,votesDown=0,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge='08903358ddb8befc6e45f19357afce59',referer='http://localhost:8081/?p=1',changeDate='2013-07-28 09:56:40'
                
DEBUG:root:item_exists
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:escape_sql sql: SELECT count(*) FROM `q_brooklyncode`  WHERE id = %s
DEBUG:root:escape_sql args: [4L]
DEBUG:root:SELECT count(*) FROM `q_brooklyncode`  WHERE id = 4
DEBUG:root:MySqlApiQueryset create_one (status, affected_rows): (NO CHANGES, 0)
DEBUG:root:MySqlApiQueryset create_one
DEBUG:root:MySqlApiQueryset create_one sql: 
                INSERT INTO `q_brooklyncode_images` 
                set id=%s,itemId=%s,s3Bucket=%s,thumbnailLargeHash=%s 
                ON DUPLICATE KEY UPDATE
                s3Bucket=%s,thumbnailLargeHash=%s
                
DEBUG:root:execute
DEBUG:root:execute args: [None, 4L, 'qoorate.brooklyncode', u'08903358ddb8befc6e45f19357afce59', 'qoorate.brooklyncode', u'08903358ddb8befc6e45f19357afce59']
DEBUG:root:escape_sql sql: 
                INSERT INTO `q_brooklyncode_images` 
                set id=%s,itemId=%s,s3Bucket=%s,thumbnailLargeHash=%s 
                ON DUPLICATE KEY UPDATE
                s3Bucket=%s,thumbnailLargeHash=%s
                
DEBUG:root:escape_sql args: [None, 4L, 'qoorate.brooklyncode', u'08903358ddb8befc6e45f19357afce59', 'qoorate.brooklyncode', u'08903358ddb8befc6e45f19357afce59']
DEBUG:root:
                INSERT INTO `q_brooklyncode_images` 
                set id=NULL,itemId=4,s3Bucket='qoorate.brooklyncode',thumbnailLargeHash='08903358ddb8befc6e45f19357afce59' 
                ON DUPLICATE KEY UPDATE
                s3Bucket='qoorate.brooklyncode',thumbnailLargeHash='08903358ddb8befc6e45f19357afce59'
                
DEBUG:root:execute: 
                INSERT INTO `q_brooklyncode_images` 
                set id=NULL,itemId=4,s3Bucket='qoorate.brooklyncode',thumbnailLargeHash='08903358ddb8befc6e45f19357afce59' 
                ON DUPLICATE KEY UPDATE
                s3Bucket='qoorate.brooklyncode',thumbnailLargeHash='08903358ddb8befc6e45f19357afce59'
                
DEBUG:root:MySqlApiQueryset create_one (status, affected_rows): (Created, 1)
DEBUG:root:inserted_id: 4)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10e35c9d0>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10e35cbd0>
DEBUG:root:CONTEXT: {'has_more_contributions': False, 'app': {'CHILD_PAGE_SIZE': 5, 'QOORATE_API_URI': 'http://qoorate.sethmurphy.com/q', 'TEMP_DIR': 'tmp', 'BACKGROUND_S3_UPLOAD': True, 'BROKEN_IMG_URI': 'http://localhost/q/img/blank.gif', 'POLLING_INTERVAL': 15, 'QOORATE_IMG_PATH': 'http://localhost/q/uploader/images/', 'S3_IMG_PATH': 'https://s3.amazonaws.com/qoorate.brooklyncode/', 'AMAZON_BUCKET': 'qoorate.brooklyncode', 'QOORATE_URI': 'http://qoorate.sethmurphy.com', 'PARENT_PAGE_SIZE': 5}, 'thumbnailLargeHash': u'08903358ddb8befc6e45f19357afce59', 'parentCount': 5, 'q_short_name': u'12345', 'is_admin': False, 'parent_tag': u'p_brooklyncode', 'moreIndex': 1, 'comments': [<Comment: Comment object>], 'location': u'5e13bbb73127b9fc424e3728c6500f28', 'current_user': <User: User object>, 'related_user': None, 'childCount': 5, 'comment_images': [('Created', <Image: Image object>)]}
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:unsanitizing: test
DEBUG:root:unsanitizing encoded ascii: test
DEBUG:root:unsanitizing encoded utf8: test
DEBUG:root: unsanitized: test
DEBUG:root:
     
        
            
            
            <div id="12345-4" class="q_item lv-1 vi-l tp-1">
                            <div class="q_inr p">
                <div class="q_data">
                    <div class="q_main">
                        <div class="q_inr">
                            <div class="q_top">
                                <div class="headerWrapper p">
                                    <a id="share_12345-4" href="#" class="do makeForm share 12345-4"><span>+ Share</span></a>
                                    <a id="flag_12345-4" href="#" class="do makeForm flag 12345-4"><span>Flag</span></a>
                                    <a id="delete_12345-4" href="#" class="do action deleteItem 12345-4"><span>Delete</span></a>
                                    <div class="q_clear"></div>
                                </div>
                            </div>
                            <div class="q_main_body">
                                <div class="q_txt">
                                    
                                    <div class="q_img">
                                        <img src="https://s3.amazonaws.com/qoorate.brooklyncode/08903358ddb8befc6e45f19357afce59_m.jpg" 
                                                onerror="ImgError(this, 'http://localhost/q/uploader/images/08903358ddb8befc6e45f19357afce59','http://localhost/q/img/blank.gif')">
                                    </div>
                                    <h3 class="itemName title type-1">test</h3>
                                    
                                </div>
                                <div class="q_clear"></div>
                            </div>
                            <div class="q_main_footer">
                                <div class="q_main_user">
                                    <div class="q_thumbnail">
                                        
                                        <img width="30" height="30" src="http://a0.twimg.com/profile_images/2793955592/297b32ce863d62ad496ccfab30b98ec2_normal.jpeg" onerror="ImgError(this, 'http://qrate.co/img/blank.gif')" />
                                        
                                    </div>
                                    <div class="q_user_info">
                                        
                                        <span class="q_usr"></span>
                                        
                                        <span class="time">0 seconds ago</span>
                                    </div>
                                    <div class="q_clear"></div>
                                </div>
                            </div>
                            <div class="q_bottom lv-1">
                                <fieldset class="reply bottom">
                                    <legend>Reply</legend>
                                    <div class="replyWrapper">
                                        <div class="inner">
                                            <a id="reply_12345-4" href="#" class="do makeForm replyComment 12345-4 reply"><span>Reply (<span class="replycount">0</span>)</span></a>
                                            <a id="toggle_12345-4" href="#" class="toggleReply tco-4 expand"><span></span></a>
                                            <div class="q_clear"></div>
                                        </div>
                                    </div>
                                    <div class="vote wrapper">
                                        <div class="inner">
                                            <div class="upVote wrap"><a href="#" class="do action upVote 12345-4"><span class="voted">0</span></a></div>
                                            <div class="downVote wrap"><a href="#" class="do action downVote 12345-4"><span class="voted">0</span></a></div>
                                            <div class="q_clear"></div>
                                        </div>
                                    </div>
                                </fieldset>
                                <div class="dyn 12345-4"></div>
                            </div>
                            <div class="q_clear"></div>
                        </div>
                    </div>
                </div>
                <div class="q_clear"></div>
            </div>
            <div class="q_clear"></div>
             
        
    

</div>

<div class="q_clear"></div>
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:escape_sql sql: 
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:escape_sql args: []
DEBUG:root:
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10e4d66d0>
DEBUG:root:Number of contributions 4
INFO:root:200 POST /q/feed (127.0.0.1)
DEBUG:root:None
DEBUG:root:{u'cookie': u'SBID="!MZ6JnTJnDncb7k3n0Ya9Sg==?gAJVBFNCSURxAWN1dWlkClVVSUQKcQIpgXEDfXEEVQNpbnRxBYoQqUXRlREm8LXjTshLPYe7cXNihnEGLg=="; wordpress_test_cookie=WP+Cookie+check; wordpress_logged_in_8dec71ede39ad9ff3b3fbc03311bdc45=qoorate%7C1375142446%7C86fd9ec6d6a221f44c7b1244f05dcd23; QOOID=QOO51f460f57c582; QOOTID=QOOT51f460f57c593; wp-settings-time-1=1374970345', u'accept-language': u'en-US,en;q=0.8', u'accept-encoding': u'gzip,deflate,sdch', u'PATTERN': u'/q/', u'x-forwarded-for': u'127.0.0.1', u'host': u'localhost', u'accept': u'image/webp,*/*;q=0.8', u'user-agent': u'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/28.0.1500.71 Safari/537.36', u'connection': u'keep-alive', u'VERSION': u'HTTP/1.1', u'referer': u'http://localhost:8081/?p=1', u'PATH': u'/q/uploader/images/08903358ddb8befc6e45f19357afce59', u'METHOD': u'GET', u'URI': u'/q/uploader/images/08903358ddb8befc6e45f19357afce59'}
DEBUG:root:TemporaryImageViewHandler get
DEBUG:root:filename: 08903358ddb8befc6e45f19357afce59
DEBUG:root:hash: <built-in function hash>
DEBUG:root:requested_file_name: ./tmp/08903358ddb8befc6e45f19357afce59
DEBUG:root:mime_type: image/png
INFO:root:200 GET /q/uploader/images/08903358ddb8befc6e45f19357afce59 (127.0.0.1)
Sun, 28 Jul 2013 14:13:02 GMT [ERROR] (errno: No such file or directory) End directory base with / in static/qoorateserver or it won't work right.'
Sun, 28 Jul 2013 14:13:02 GMT [ERROR] (errno: None) Failed to create target for route /q/static/
Sun, 28 Jul 2013 14:13:02 GMT [ERROR] (errno: None) End directory base with / in static/qoorateserver or it won't work right.'
Sun, 28 Jul 2013 14:13:02 GMT [ERROR] (errno: None) Failed to create target for route /q/robots.txt
Sun, 28 Jul 2013 14:13:02 GMT [ERROR] (errno: None) End directory base with / in static/qoorateserver or it won't work right.'
Sun, 28 Jul 2013 14:13:02 GMT [ERROR] (errno: None) Failed to create target for route /q/favicon.ico
Sun, 28 Jul 2013 14:13:02 GMT [INFO] (src/mime.c:49) MAX limits.mime_ext_len=128
Sun, 28 Jul 2013 14:13:02 GMT [INFO] (src/host.c:74) MAX limits.url_path=256, limits.host_name=256
Sun, 28 Jul 2013 14:13:02 GMT [INFO] (src/config/config.c:109) Loaded proxy 1:127.0.0.1:8081
Sun, 28 Jul 2013 14:13:02 GMT [INFO] (src/config/config.c:227) Loaded route 1:/:proxy for host 1:localhost
Sun, 28 Jul 2013 14:13:02 GMT [INFO] (src/handler.c:343) MAX limits.handler_stack=102400
Sun, 28 Jul 2013 14:13:02 GMT [INFO] (src/config/config.c:85) Loaded handler 1:ipc://run/qoorateserver/mongrel2_send:137b789e-b7eb-475a-8d5c-b16ab54493yu:ipc://run/qoorateserver/mongrel2_rcv:
Sun, 28 Jul 2013 14:13:02 GMT [INFO] (src/config/config.c:227) Loaded route 2:/q/:handler for host 1:localhost
Sun, 28 Jul 2013 14:13:02 GMT [INFO] (src/dir.c:195) MAX limits.dir_send_buffer=16384, limits.dir_max_path=256
Sun, 28 Jul 2013 14:13:02 GMT [INFO] (src/config/config.c:136) Loaded directory 1:static/qoorateserver/js/:index.html
Sun, 28 Jul 2013 14:13:02 GMT [INFO] (src/config/config.c:227) Loaded route 3:/q/js/:dir for host 1:localhost
Sun, 28 Jul 2013 14:13:02 GMT [INFO] (src/config/config.c:136) Loaded directory 2:static/qoorateserver/css/:index.html
Sun, 28 Jul 2013 14:13:02 GMT [INFO] (src/config/config.c:227) Loaded route 4:/q/css/:dir for host 1:localhost
Sun, 28 Jul 2013 14:13:02 GMT [INFO] (src/config/config.c:136) Loaded directory 3:static/qoorateserver/img/:index.html
Sun, 28 Jul 2013 14:13:02 GMT [INFO] (src/config/config.c:227) Loaded route 5:/q/img/:dir for host 1:localhost
Sun, 28 Jul 2013 14:13:02 GMT [INFO] (src/config/config.c:312) Loaded 1 hosts for server 1:fe76e442-da24-4708-b0ef-c4ahr2b7d131
Sun, 28 Jul 2013 14:13:02 GMT [INFO] (src/server.c:445) LOADING Handler ipc://run/qoorateserver/mongrel2_send
Sun, 28 Jul 2013 14:13:02 GMT [ERROR] (src/unixy.c:99: errno: No such file or directory) Failed to open PID file ../run/mongrel2.pid for reading.
Sun, 28 Jul 2013 14:13:02 GMT [INFO] (src/unixy.c:137) No previous mongrel2 running, continuing on.
Sun, 28 Jul 2013 14:13:02 GMT [INFO] (src/mongrel2.c:223) All loaded up, time to turn into a server.
Sun, 28 Jul 2013 14:13:02 GMT [INFO] (src/mongrel2.c:224) -- Starting Mongrel2/1.8.1. Copyright (C) Zed A. Shaw. Licensed BSD.

Sun, 28 Jul 2013 14:13:02 GMT [INFO] (src/mongrel2.c:225) -- Look in logs/error.log for startup messages and errors.
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
INFO:root:Using project directory: .
DEBUG:root:loading settings from ./conf/uploader/settings.py
INFO:root:Using coroutine library: gevent
DEBUG:root:******** START _service_registration *********
DEBUG:root:service_registration_passphrase: 137b789e-b7eb-475a-8d5a-b16ab544yurp
DEBUG:root:service_id: uploader
DEBUG:root:service_registration_addr: ipc://run/uploader/brubeck_svc_registration
DEBUG:root:service_passphrase: 137b789e-b7eb-475a-8d5a-b16ab544yurp
DEBUG:root:service_addr: ipc://run/uploader/brubeck_svc
DEBUG:root:service_response_addr: ipc://run/uploader/brubeck_svc_response
DEBUG:root:service_heartbeat_addr: None
DEBUG:root:service_heartbeat_timeout: 5
DEBUG:root:sender_id: 3fb1b99afad54800a7e823cf8b777f38
DEBUG:root:is_reregistration: 0
DEBUG:root:service_heartbeat_interval: 3
DEBUG:root:******** END _service_registration *********
DEBUG:root:register_service: (service_registration_addr, service_registration_passphrase,service_heartbeat_timeout,sender_id): (ipc://run/uploader/brubeck_svc_registration,137b789e-b7eb-475a-8d5a-b16ab544yurp, 5, 3fb1b99afad54800a7e823cf8b777f38)
DEBUG:root:service_registration sending request
DEBUG:root:service_registration waiting for response
INFO:root:Using project directory: .
DEBUG:root:loading settings from ./conf/qoorateserver/development.py
INFO:root:Using coroutine library: gevent
DEBUG:root:creating application db_conn pool
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:get EmbedHandler
DEBUG:root:to_unicode
DEBUG:root:embed_head
DEBUG:root:embed_head
DEBUG:root:to_unicode
DEBUG:root:action: embed_head 
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:set_table has key/secret
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = %s and `secret`= %s
        
DEBUG:root:escape_sql args: [u'12345', u'54321']
DEBUG:root:
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = '12345' and `secret`= '54321'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10813c1d0>
DEBUG:root:returning True from authencticate.
DEBUG:root:set_table authenticated
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10813c250>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has key/secret
DEBUG:root:returning `True` from authenticate cached.
DEBUG:root:set_table authenticated
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10813c450>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10813c5d0>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10813c7d0>
DEBUG:root:qoorate preferences: {
    "THEME": "grid",
    "EMBED_CONF_JS": "
        var qoorateConfig = {
            QOORATE_URI: 'http://localhost',
            QOORATE_API_URI: 'http://localhost/q',
            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',
            XHR_PROXY_URI: '/q/feed',
            XHR_UPLOAD_URI: '/q/uploader',
            POST_MAX_LEN: 1000,
            PARENT_PAGE_SIZE: 10,
            CHILD_PAGE_SIZE: 10,
            AUTO_SCROLL: 1,
            THEME: 'grid',
            GRID_COLUMNS: 3,
            GRID_COLUMN_TRIM: 15,
            GRID_ROW_TRIM: 15
        };
        var qoorateLang = {
            FLAG_SUCCESS: 'Thanks for flagging this!',
            SHARE_SUCCESS: 'Thank you for sharing!',
            DELETE_SUCCESS: 'Thank you. This item has been deleted.',
            SIGNIN: 'Sign in using',
            SIGNEDIN: 'Signed in via',    
            OK: 'OK',
            CANCEL: 'Cancel',
            LOGOUT: 'Log Out',
            TOGGLE_ON: '+',
            TOGGLE_OFF: '-',
            CONTRIBUTION: 'Contribution',
            CONTRIBUTIONS: 'Contributions',
            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',
            REMOVE: 'Remove',
            LINK: 'Insert a link',
            TOPIC_COMMENT: 'Pose a Yes/No Question',
            COMMENT: 'Your Comment',
            IMAGE_COMMENT: 'Image Caption',
            POST_TO: 'Post to',
            POST_ANONYMOUS: 'Post anonymously',
            NICKNAME: 'Post as ',
            DEFAULT_NICKNAME: 'Anonymous',
            REPLY_LINK_COMMENT: 'Say something about your link',
            SHARE_COMMENT: 'comment about this share...',
            PUBLISH_BUTTON: 'Publish',
            POST_BUTTON: 'Post',
            POST_TO_BUTTON: 'Post To',
            REPLY_BUTTON: 'Reply',
            SHARE_BUTTON: 'Share',
            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',
            SELECT_IMAGE: 'Select an Image',
            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',
            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],
            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],
            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]
        };
    "
}

DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:preferences EMBED_CONF_JS:         var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    
DEBUG:root:embed_head called
INFO:root:200 GET /q/embed (127.0.0.1)
DEBUG:root:get EmbedHandler
DEBUG:root:to_unicode
DEBUG:root:embed_content
DEBUG:root:embed_content
DEBUG:root:to_unicode
DEBUG:root:action: embed_content 
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:set_table has key/secret
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = %s and `secret`= %s
        
DEBUG:root:escape_sql args: [u'12345', u'54321']
DEBUG:root:
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = '12345' and `secret`= '54321'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10813c9d0>
DEBUG:root:returning True from authencticate.
DEBUG:root:set_table authenticated
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10813cbd0>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has key/secret
DEBUG:root:returning `True` from authenticate cached.
DEBUG:root:set_table authenticated
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10813cdd0>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x108141050>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x108141210>
DEBUG:root:qoorate preferences: {
    "THEME": "grid",
    "EMBED_CONF_JS": "
        var qoorateConfig = {
            QOORATE_URI: 'http://localhost',
            QOORATE_API_URI: 'http://localhost/q',
            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',
            XHR_PROXY_URI: '/q/feed',
            XHR_UPLOAD_URI: '/q/uploader',
            POST_MAX_LEN: 1000,
            PARENT_PAGE_SIZE: 10,
            CHILD_PAGE_SIZE: 10,
            AUTO_SCROLL: 1,
            THEME: 'grid',
            GRID_COLUMNS: 3,
            GRID_COLUMN_TRIM: 15,
            GRID_ROW_TRIM: 15
        };
        var qoorateLang = {
            FLAG_SUCCESS: 'Thanks for flagging this!',
            SHARE_SUCCESS: 'Thank you for sharing!',
            DELETE_SUCCESS: 'Thank you. This item has been deleted.',
            SIGNIN: 'Sign in using',
            SIGNEDIN: 'Signed in via',    
            OK: 'OK',
            CANCEL: 'Cancel',
            LOGOUT: 'Log Out',
            TOGGLE_ON: '+',
            TOGGLE_OFF: '-',
            CONTRIBUTION: 'Contribution',
            CONTRIBUTIONS: 'Contributions',
            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',
            REMOVE: 'Remove',
            LINK: 'Insert a link',
            TOPIC_COMMENT: 'Pose a Yes/No Question',
            COMMENT: 'Your Comment',
            IMAGE_COMMENT: 'Image Caption',
            POST_TO: 'Post to',
            POST_ANONYMOUS: 'Post anonymously',
            NICKNAME: 'Post as ',
            DEFAULT_NICKNAME: 'Anonymous',
            REPLY_LINK_COMMENT: 'Say something about your link',
            SHARE_COMMENT: 'comment about this share...',
            PUBLISH_BUTTON: 'Publish',
            POST_BUTTON: 'Post',
            POST_TO_BUTTON: 'Post To',
            REPLY_BUTTON: 'Reply',
            SHARE_BUTTON: 'Share',
            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',
            SELECT_IMAGE: 'Select an Image',
            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',
            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],
            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],
            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]
        };
    "
}

DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:preferences EMBED_CONF_JS:         var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    
DEBUG:root:embed_content called (key,secret): (12345,54321)
DEBUG:root:returning `True` from authenticate cached.
DEBUG:root:get_content_context
DEBUG:root:table: q_brooklyncode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:init_db_conn
DEBUG:root:NOT creating db_conn
DEBUG:root:1
DEBUG:root:5
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT f.`parent_sequence` , f.`child_sequence` , f.`id` , f.`locationId` , f.`relatedId`,
                f.`parentId` , f.`userId` , `u`.`username`, u.`thumbnailLarge` as userThumbnailLarge,
                ur.`username` as relatedUsername, ur.`thumbnailLarge` as relatedUserThumbnailLarge, f.`type`,
                f.`is_anonymous` , r.`is_anonymous` as `related_is_anonymous`, f.`name` , f.`location` ,f.`description`,f.`referer`,
                f.`voteCount` , f.`voteNumber` , f.`votesUp` ,f.`votesDown` , f.`flagCount`,  f.`childCount`, f.`sortOrder` , f.`status`,
                f.`thumbnailSmall` ,f.`thumbnailLarge` , f.`changeDate` , f.`createDate`, f.`nickname`, r.`nickname` as `related_nickname`
            FROM (
                # this query adds the sequence fields to filter by for paging
                SELECT  s1.*, @parentrownum := convert( IF( ( parentId = 0), @parentrownum +1, @parentrownum ), UNSIGNED INTEGER) AS parent_sequence,
                @childrownum := IF( ( @lastparent = parentId), @childrownum + 1, 0 ) AS child_sequence,
                @lastparent := if( parentId=0, id, parentId ) AS dummy_used_for_last_parent
                FROM
                    # QUERY 2: this query sorts the results properly
                    (SELECT s0.* FROM
                        # QUERY 1: This query gets the results we need with calculated fields to sort by
                        # We should probably have these fields in the database so they are indexed
                        (SELECT
                        CONVERT( if( parentId = 0, @parentVoteNumber:=voteNumber,
                            @parentVoteNumber ), SIGNED INTEGER ) as groupVoteNumber,          # Will order groups using parent voteNumber
                        CONVERT( if( parentId = 0, @parentVoteCount:=voteCount,
                            @parentVoteCount ), SIGNED INTEGER ) as groupVoteCount,            # Will order groups using parent voteCount
                        CONVERT( if( parentId = 0, @parentCreateDate:=createDate,
                            @parentCreateDate ), DATETIME ) as groupCreateDate,                # Will order groups using parent createDate
                        CONVERT( if(parentId=0, id, parentId), UNSIGNED INTEGER) as groupId,   # will order groups together
                        CONVERT( if(parentId = 0, 0, 1), UNSIGNED INTEGER) as isChild,         # will order parent first in group
                        r.*
                        FROM (
                            # this just makes sure our groups are grouped in parent child order
                            SELECT * from q_brooklyncode o  WHERE o.location = '5e13bbb73127b9fc424e3728c6500f28' ORDER BY
                             if( o.relatedId = 0, o.id, o.relatedId),
                             if( o.relatedId = 0, 0, o.id )
                            ) r,
                        ( SELECT @parentVoteNumber := 0 ) pvn,
                        ( SELECT @parentVoteCount  := 0 ) pvc,
                        ( SELECT @parentCreateDate := 0 ) pcd
                         WHERE location = '5e13bbb73127b9fc424e3728c6500f28' 
                    ) s0
                    
                    
                    ORDER BY
                    
                s0.groupVoteNumber DESC,
                s0.groupVoteCount DESC,
                s0.groupCreateDate ASC,
                 
                    groupId  ASC, # first order by group
                    isChild ASC, # Then make sure the parent is first
                    
                s0.voteNumber DESC,
                s0.voteCount DESC,
                s0.createDate ASC
                
            ) s1,
            ( SELECT @parentrownum := 0 ) pr,
            ( SELECT @childrownum := 0 ) cr, 
            ( SELECT @lastparent := -1 ) lp) f
            LEFT JOIN user u on u.id = f.userId
            LEFT JOIN q_brooklyncode r on r.id = f.relatedId
            LEFT JOIN user ur on ur.id = r.userId
            WHERE
            ((0 = 6 and parent_sequence >= 1) or parent_sequence BETWEEN 1 AND 6)
            AND
            ((0 = 6 and child_sequence >= 1) or (child_sequence=0 or child_sequence BETWEEN 1 AND 6))
        
DEBUG:root:escape_sql args: None
DEBUG:root:
            SELECT f.`parent_sequence` , f.`child_sequence` , f.`id` , f.`locationId` , f.`relatedId`,
                f.`parentId` , f.`userId` , `u`.`username`, u.`thumbnailLarge` as userThumbnailLarge,
                ur.`username` as relatedUsername, ur.`thumbnailLarge` as relatedUserThumbnailLarge, f.`type`,
                f.`is_anonymous` , r.`is_anonymous` as `related_is_anonymous`, f.`name` , f.`location` ,f.`description`,f.`referer`,
                f.`voteCount` , f.`voteNumber` , f.`votesUp` ,f.`votesDown` , f.`flagCount`,  f.`childCount`, f.`sortOrder` , f.`status`,
                f.`thumbnailSmall` ,f.`thumbnailLarge` , f.`changeDate` , f.`createDate`, f.`nickname`, r.`nickname` as `related_nickname`
            FROM (
                # this query adds the sequence fields to filter by for paging
                SELECT  s1.*, @parentrownum := convert( IF( ( parentId = 0), @parentrownum +1, @parentrownum ), UNSIGNED INTEGER) AS parent_sequence,
                @childrownum := IF( ( @lastparent = parentId), @childrownum + 1, 0 ) AS child_sequence,
                @lastparent := if( parentId=0, id, parentId ) AS dummy_used_for_last_parent
                FROM
                    # QUERY 2: this query sorts the results properly
                    (SELECT s0.* FROM
                        # QUERY 1: This query gets the results we need with calculated fields to sort by
                        # We should probably have these fields in the database so they are indexed
                        (SELECT
                        CONVERT( if( parentId = 0, @parentVoteNumber:=voteNumber,
                            @parentVoteNumber ), SIGNED INTEGER ) as groupVoteNumber,          # Will order groups using parent voteNumber
                        CONVERT( if( parentId = 0, @parentVoteCount:=voteCount,
                            @parentVoteCount ), SIGNED INTEGER ) as groupVoteCount,            # Will order groups using parent voteCount
                        CONVERT( if( parentId = 0, @parentCreateDate:=createDate,
                            @parentCreateDate ), DATETIME ) as groupCreateDate,                # Will order groups using parent createDate
                        CONVERT( if(parentId=0, id, parentId), UNSIGNED INTEGER) as groupId,   # will order groups together
                        CONVERT( if(parentId = 0, 0, 1), UNSIGNED INTEGER) as isChild,         # will order parent first in group
                        r.*
                        FROM (
                            # this just makes sure our groups are grouped in parent child order
                            SELECT * from q_brooklyncode o  WHERE o.location = '5e13bbb73127b9fc424e3728c6500f28' ORDER BY
                             if( o.relatedId = 0, o.id, o.relatedId),
                             if( o.relatedId = 0, 0, o.id )
                            ) r,
                        ( SELECT @parentVoteNumber := 0 ) pvn,
                        ( SELECT @parentVoteCount  := 0 ) pvc,
                        ( SELECT @parentCreateDate := 0 ) pcd
                         WHERE location = '5e13bbb73127b9fc424e3728c6500f28' 
                    ) s0
                    
                    
                    ORDER BY
                    
                s0.groupVoteNumber DESC,
                s0.groupVoteCount DESC,
                s0.groupCreateDate ASC,
                 
                    groupId  ASC, # first order by group
                    isChild ASC, # Then make sure the parent is first
                    
                s0.voteNumber DESC,
                s0.voteCount DESC,
                s0.createDate ASC
                
            ) s1,
            ( SELECT @parentrownum := 0 ) pr,
            ( SELECT @childrownum := 0 ) cr, 
            ( SELECT @lastparent := -1 ) lp) f
            LEFT JOIN user u on u.id = f.userId
            LEFT JOIN q_brooklyncode r on r.id = f.relatedId
            LEFT JOIN user ur on ur.id = r.userId
            WHERE
            ((0 = 6 and parent_sequence >= 1) or parent_sequence BETWEEN 1 AND 6)
            AND
            ((0 = 6 and child_sequence >= 1) or (child_sequence=0 or child_sequence BETWEEN 1 AND 6))
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10813c1d0>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = %s
        
DEBUG:root:escape_sql args: [1L]
DEBUG:root:
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = 1
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10813c250>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = %s
        
DEBUG:root:escape_sql args: [2L]
DEBUG:root:
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = 2
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10813c450>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = %s
        
DEBUG:root:escape_sql args: [3L]
DEBUG:root:
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = 3
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10813c5d0>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = %s
        
DEBUG:root:escape_sql args: [4L]
DEBUG:root:
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = 4
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10813c7d0>
DEBUG:root:Number of comments returned: 4
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:escape_sql args: []
DEBUG:root:
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10813c9d0>
DEBUG:root:Number of contributions 4
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10813cbd0>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10813cdd0>
DEBUG:root:to_unicode
DEBUG:root:embed_content
DEBUG:root:embed_content
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:embed_content
DEBUG:root:embed_content
DEBUG:root:to_unicode
INFO:root:200 GET /q/embed (127.0.0.1)
DEBUG:root:get EmbedHandler
DEBUG:root:to_unicode
DEBUG:root:embed_head
DEBUG:root:embed_head
DEBUG:root:to_unicode
DEBUG:root:action: embed_head 
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:set_table has key/secret
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = %s and `secret`= %s
        
DEBUG:root:escape_sql args: [u'12345', u'54321']
DEBUG:root:
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = '12345' and `secret`= '54321'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x108141050>
DEBUG:root:returning True from authencticate.
DEBUG:root:set_table authenticated
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x108141210>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has key/secret
DEBUG:root:returning `True` from authenticate cached.
DEBUG:root:set_table authenticated
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10813c1d0>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10813c250>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10813c450>
DEBUG:root:qoorate preferences: {
    "THEME": "grid",
    "EMBED_CONF_JS": "
        var qoorateConfig = {
            QOORATE_URI: 'http://localhost',
            QOORATE_API_URI: 'http://localhost/q',
            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',
            XHR_PROXY_URI: '/q/feed',
            XHR_UPLOAD_URI: '/q/uploader',
            POST_MAX_LEN: 1000,
            PARENT_PAGE_SIZE: 10,
            CHILD_PAGE_SIZE: 10,
            AUTO_SCROLL: 1,
            THEME: 'grid',
            GRID_COLUMNS: 3,
            GRID_COLUMN_TRIM: 15,
            GRID_ROW_TRIM: 15
        };
        var qoorateLang = {
            FLAG_SUCCESS: 'Thanks for flagging this!',
            SHARE_SUCCESS: 'Thank you for sharing!',
            DELETE_SUCCESS: 'Thank you. This item has been deleted.',
            SIGNIN: 'Sign in using',
            SIGNEDIN: 'Signed in via',    
            OK: 'OK',
            CANCEL: 'Cancel',
            LOGOUT: 'Log Out',
            TOGGLE_ON: '+',
            TOGGLE_OFF: '-',
            CONTRIBUTION: 'Contribution',
            CONTRIBUTIONS: 'Contributions',
            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',
            REMOVE: 'Remove',
            LINK: 'Insert a link',
            TOPIC_COMMENT: 'Pose a Yes/No Question',
            COMMENT: 'Your Comment',
            IMAGE_COMMENT: 'Image Caption',
            POST_TO: 'Post to',
            POST_ANONYMOUS: 'Post anonymously',
            NICKNAME: 'Post as ',
            DEFAULT_NICKNAME: 'Anonymous',
            REPLY_LINK_COMMENT: 'Say something about your link',
            SHARE_COMMENT: 'comment about this share...',
            PUBLISH_BUTTON: 'Publish',
            POST_BUTTON: 'Post',
            POST_TO_BUTTON: 'Post To',
            REPLY_BUTTON: 'Reply',
            SHARE_BUTTON: 'Share',
            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',
            SELECT_IMAGE: 'Select an Image',
            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',
            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],
            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],
            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]
        };
    "
}

DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:preferences EMBED_CONF_JS:         var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    
DEBUG:root:embed_head called
INFO:root:200 GET /q/embed (127.0.0.1)
DEBUG:root:get EmbedHandler
DEBUG:root:to_unicode
DEBUG:root:embed_content
DEBUG:root:embed_content
DEBUG:root:to_unicode
DEBUG:root:action: embed_content 
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:set_table has key/secret
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = %s and `secret`= %s
        
DEBUG:root:escape_sql args: [u'12345', u'54321']
DEBUG:root:
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = '12345' and `secret`= '54321'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10813c5d0>
DEBUG:root:returning True from authencticate.
DEBUG:root:set_table authenticated
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10813c7d0>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has key/secret
DEBUG:root:returning `True` from authenticate cached.
DEBUG:root:set_table authenticated
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10813c9d0>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10813cbd0>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10813cdd0>
DEBUG:root:qoorate preferences: {
    "THEME": "grid",
    "EMBED_CONF_JS": "
        var qoorateConfig = {
            QOORATE_URI: 'http://localhost',
            QOORATE_API_URI: 'http://localhost/q',
            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',
            XHR_PROXY_URI: '/q/feed',
            XHR_UPLOAD_URI: '/q/uploader',
            POST_MAX_LEN: 1000,
            PARENT_PAGE_SIZE: 10,
            CHILD_PAGE_SIZE: 10,
            AUTO_SCROLL: 1,
            THEME: 'grid',
            GRID_COLUMNS: 3,
            GRID_COLUMN_TRIM: 15,
            GRID_ROW_TRIM: 15
        };
        var qoorateLang = {
            FLAG_SUCCESS: 'Thanks for flagging this!',
            SHARE_SUCCESS: 'Thank you for sharing!',
            DELETE_SUCCESS: 'Thank you. This item has been deleted.',
            SIGNIN: 'Sign in using',
            SIGNEDIN: 'Signed in via',    
            OK: 'OK',
            CANCEL: 'Cancel',
            LOGOUT: 'Log Out',
            TOGGLE_ON: '+',
            TOGGLE_OFF: '-',
            CONTRIBUTION: 'Contribution',
            CONTRIBUTIONS: 'Contributions',
            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',
            REMOVE: 'Remove',
            LINK: 'Insert a link',
            TOPIC_COMMENT: 'Pose a Yes/No Question',
            COMMENT: 'Your Comment',
            IMAGE_COMMENT: 'Image Caption',
            POST_TO: 'Post to',
            POST_ANONYMOUS: 'Post anonymously',
            NICKNAME: 'Post as ',
            DEFAULT_NICKNAME: 'Anonymous',
            REPLY_LINK_COMMENT: 'Say something about your link',
            SHARE_COMMENT: 'comment about this share...',
            PUBLISH_BUTTON: 'Publish',
            POST_BUTTON: 'Post',
            POST_TO_BUTTON: 'Post To',
            REPLY_BUTTON: 'Reply',
            SHARE_BUTTON: 'Share',
            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',
            SELECT_IMAGE: 'Select an Image',
            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',
            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],
            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],
            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]
        };
    "
}

DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:preferences EMBED_CONF_JS:         var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    
DEBUG:root:embed_content called (key,secret): (12345,54321)
DEBUG:root:returning `True` from authenticate cached.
DEBUG:root:get_content_context
DEBUG:root:table: q_brooklyncode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:init_db_conn
DEBUG:root:NOT creating db_conn
DEBUG:root:1
DEBUG:root:5
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT f.`parent_sequence` , f.`child_sequence` , f.`id` , f.`locationId` , f.`relatedId`,
                f.`parentId` , f.`userId` , `u`.`username`, u.`thumbnailLarge` as userThumbnailLarge,
                ur.`username` as relatedUsername, ur.`thumbnailLarge` as relatedUserThumbnailLarge, f.`type`,
                f.`is_anonymous` , r.`is_anonymous` as `related_is_anonymous`, f.`name` , f.`location` ,f.`description`,f.`referer`,
                f.`voteCount` , f.`voteNumber` , f.`votesUp` ,f.`votesDown` , f.`flagCount`,  f.`childCount`, f.`sortOrder` , f.`status`,
                f.`thumbnailSmall` ,f.`thumbnailLarge` , f.`changeDate` , f.`createDate`, f.`nickname`, r.`nickname` as `related_nickname`
            FROM (
                # this query adds the sequence fields to filter by for paging
                SELECT  s1.*, @parentrownum := convert( IF( ( parentId = 0), @parentrownum +1, @parentrownum ), UNSIGNED INTEGER) AS parent_sequence,
                @childrownum := IF( ( @lastparent = parentId), @childrownum + 1, 0 ) AS child_sequence,
                @lastparent := if( parentId=0, id, parentId ) AS dummy_used_for_last_parent
                FROM
                    # QUERY 2: this query sorts the results properly
                    (SELECT s0.* FROM
                        # QUERY 1: This query gets the results we need with calculated fields to sort by
                        # We should probably have these fields in the database so they are indexed
                        (SELECT
                        CONVERT( if( parentId = 0, @parentVoteNumber:=voteNumber,
                            @parentVoteNumber ), SIGNED INTEGER ) as groupVoteNumber,          # Will order groups using parent voteNumber
                        CONVERT( if( parentId = 0, @parentVoteCount:=voteCount,
                            @parentVoteCount ), SIGNED INTEGER ) as groupVoteCount,            # Will order groups using parent voteCount
                        CONVERT( if( parentId = 0, @parentCreateDate:=createDate,
                            @parentCreateDate ), DATETIME ) as groupCreateDate,                # Will order groups using parent createDate
                        CONVERT( if(parentId=0, id, parentId), UNSIGNED INTEGER) as groupId,   # will order groups together
                        CONVERT( if(parentId = 0, 0, 1), UNSIGNED INTEGER) as isChild,         # will order parent first in group
                        r.*
                        FROM (
                            # this just makes sure our groups are grouped in parent child order
                            SELECT * from q_brooklyncode o  WHERE o.location = '5e13bbb73127b9fc424e3728c6500f28' ORDER BY
                             if( o.relatedId = 0, o.id, o.relatedId),
                             if( o.relatedId = 0, 0, o.id )
                            ) r,
                        ( SELECT @parentVoteNumber := 0 ) pvn,
                        ( SELECT @parentVoteCount  := 0 ) pvc,
                        ( SELECT @parentCreateDate := 0 ) pcd
                         WHERE location = '5e13bbb73127b9fc424e3728c6500f28' 
                    ) s0
                    
                    
                    ORDER BY
                    
                s0.groupVoteNumber DESC,
                s0.groupVoteCount DESC,
                s0.groupCreateDate ASC,
                 
                    groupId  ASC, # first order by group
                    isChild ASC, # Then make sure the parent is first
                    
                s0.voteNumber DESC,
                s0.voteCount DESC,
                s0.createDate ASC
                
            ) s1,
            ( SELECT @parentrownum := 0 ) pr,
            ( SELECT @childrownum := 0 ) cr, 
            ( SELECT @lastparent := -1 ) lp) f
            LEFT JOIN user u on u.id = f.userId
            LEFT JOIN q_brooklyncode r on r.id = f.relatedId
            LEFT JOIN user ur on ur.id = r.userId
            WHERE
            ((0 = 6 and parent_sequence >= 1) or parent_sequence BETWEEN 1 AND 6)
            AND
            ((0 = 6 and child_sequence >= 1) or (child_sequence=0 or child_sequence BETWEEN 1 AND 6))
        
DEBUG:root:escape_sql args: None
DEBUG:root:
            SELECT f.`parent_sequence` , f.`child_sequence` , f.`id` , f.`locationId` , f.`relatedId`,
                f.`parentId` , f.`userId` , `u`.`username`, u.`thumbnailLarge` as userThumbnailLarge,
                ur.`username` as relatedUsername, ur.`thumbnailLarge` as relatedUserThumbnailLarge, f.`type`,
                f.`is_anonymous` , r.`is_anonymous` as `related_is_anonymous`, f.`name` , f.`location` ,f.`description`,f.`referer`,
                f.`voteCount` , f.`voteNumber` , f.`votesUp` ,f.`votesDown` , f.`flagCount`,  f.`childCount`, f.`sortOrder` , f.`status`,
                f.`thumbnailSmall` ,f.`thumbnailLarge` , f.`changeDate` , f.`createDate`, f.`nickname`, r.`nickname` as `related_nickname`
            FROM (
                # this query adds the sequence fields to filter by for paging
                SELECT  s1.*, @parentrownum := convert( IF( ( parentId = 0), @parentrownum +1, @parentrownum ), UNSIGNED INTEGER) AS parent_sequence,
                @childrownum := IF( ( @lastparent = parentId), @childrownum + 1, 0 ) AS child_sequence,
                @lastparent := if( parentId=0, id, parentId ) AS dummy_used_for_last_parent
                FROM
                    # QUERY 2: this query sorts the results properly
                    (SELECT s0.* FROM
                        # QUERY 1: This query gets the results we need with calculated fields to sort by
                        # We should probably have these fields in the database so they are indexed
                        (SELECT
                        CONVERT( if( parentId = 0, @parentVoteNumber:=voteNumber,
                            @parentVoteNumber ), SIGNED INTEGER ) as groupVoteNumber,          # Will order groups using parent voteNumber
                        CONVERT( if( parentId = 0, @parentVoteCount:=voteCount,
                            @parentVoteCount ), SIGNED INTEGER ) as groupVoteCount,            # Will order groups using parent voteCount
                        CONVERT( if( parentId = 0, @parentCreateDate:=createDate,
                            @parentCreateDate ), DATETIME ) as groupCreateDate,                # Will order groups using parent createDate
                        CONVERT( if(parentId=0, id, parentId), UNSIGNED INTEGER) as groupId,   # will order groups together
                        CONVERT( if(parentId = 0, 0, 1), UNSIGNED INTEGER) as isChild,         # will order parent first in group
                        r.*
                        FROM (
                            # this just makes sure our groups are grouped in parent child order
                            SELECT * from q_brooklyncode o  WHERE o.location = '5e13bbb73127b9fc424e3728c6500f28' ORDER BY
                             if( o.relatedId = 0, o.id, o.relatedId),
                             if( o.relatedId = 0, 0, o.id )
                            ) r,
                        ( SELECT @parentVoteNumber := 0 ) pvn,
                        ( SELECT @parentVoteCount  := 0 ) pvc,
                        ( SELECT @parentCreateDate := 0 ) pcd
                         WHERE location = '5e13bbb73127b9fc424e3728c6500f28' 
                    ) s0
                    
                    
                    ORDER BY
                    
                s0.groupVoteNumber DESC,
                s0.groupVoteCount DESC,
                s0.groupCreateDate ASC,
                 
                    groupId  ASC, # first order by group
                    isChild ASC, # Then make sure the parent is first
                    
                s0.voteNumber DESC,
                s0.voteCount DESC,
                s0.createDate ASC
                
            ) s1,
            ( SELECT @parentrownum := 0 ) pr,
            ( SELECT @childrownum := 0 ) cr, 
            ( SELECT @lastparent := -1 ) lp) f
            LEFT JOIN user u on u.id = f.userId
            LEFT JOIN q_brooklyncode r on r.id = f.relatedId
            LEFT JOIN user ur on ur.id = r.userId
            WHERE
            ((0 = 6 and parent_sequence >= 1) or parent_sequence BETWEEN 1 AND 6)
            AND
            ((0 = 6 and child_sequence >= 1) or (child_sequence=0 or child_sequence BETWEEN 1 AND 6))
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x108141050>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = %s
        
DEBUG:root:escape_sql args: [1L]
DEBUG:root:
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = 1
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x108141210>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = %s
        
DEBUG:root:escape_sql args: [2L]
DEBUG:root:
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = 2
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10813c1d0>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = %s
        
DEBUG:root:escape_sql args: [3L]
DEBUG:root:
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = 3
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10813c250>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = %s
        
DEBUG:root:escape_sql args: [4L]
DEBUG:root:
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = 4
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10813c450>
DEBUG:root:Number of comments returned: 4
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:escape_sql args: []
DEBUG:root:
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10813c5d0>
DEBUG:root:Number of contributions 4
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10813c7d0>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10813c9d0>
DEBUG:root:to_unicode
DEBUG:root:embed_content
DEBUG:root:embed_content
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:embed_content
DEBUG:root:embed_content
DEBUG:root:to_unicode
INFO:root:200 GET /q/embed (127.0.0.1)
DEBUG:root:None
DEBUG:root:{u'content-length': u'326549', u'PATTERN': u'/q/', u'x-forwarded-for': u'127.0.0.1', u'URI': u'/q/uploader?action=uploader&qqfile=Screen+Shot+2013-06-25+at+11.35.06+AM.png', u'accept': u'*/*', u'user-agent': u'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/28.0.1500.71 Safari/537.36', u'host': u'localhost', u'VERSION': u'HTTP/1.1', u'cookie': u'wordpress_8dec71ede39ad9ff3b3fbc03311bdc45=qoorate|1375142446|8148fbb3583470985c5fca59e75d635a; SBID=\\"!MZ6JnTJnDncb7k3n0Ya9Sg==?gAJVBFNCSURxAWN1dWlkClVVSUQKcQIpgXEDfXEEVQNpbnRxBYoQqUXRlREm8LXjTshLPYe7cXNihnEGLg==\\"; wordpress_test_cookie=WP Cookie check; wordpress_logged_in_8dec71ede39ad9ff3b3fbc03311bdc45=qoorate|1375142446|86fd9ec6d6a221f44c7b1244f05dcd23; QOOID=QOO51f460f57c582; QOOTID=QOOT51f460f57c593; wp-settings-time-1=1374970345', u'expect': u'100-continue', u'QUERY': u'action=uploader&qqfile=Screen+Shot+2013-06-25+at+11.35.06+AM.png', u'PATH': u'/q/uploader', u'content-type': u'application/x-www-form-urlencoded', u'METHOD': u'POST'}
DEBUG:root:TemporaryImageUploadHandler post
DEBUG:root:to_unicode
DEBUG:root:Screen Shot 2013-06-25 at 11.35.06 AM.png
DEBUG:root:Screen Shot 2013-06-25 at 11.35.06 AM.png
DEBUG:root:to_unicode
DEBUG:root:{'S3_PORT': 443, 'INIT_BUCKET': True, 'RETRY_INTERVAL': 60, 'S3_HOST': 's3.amazonaws.com', 'ACCEPTABLE_UPLOAD_MIME_TYPES': ['image/jpeg', 'image/gif', 'image/png'], 'IMAGE_INFO': [(None, 'JPEG', '_f', 'jpg'), ((300, 200), 'JPEG', '_t', 'jpg'), ((120, 200), 'JPEG', '_m', 'jpg'), ((170, 100), 'JPEG', '_f', 'jpg'), ((50, 50), 'JPEG', '_s', 'jpg')], 'TEMP_UPLOAD_DIR': 'tmp', 'SERVICE_INFO': {'SERVICE_ID': 'uploader', 'SERVICE_REGISTRATION_PASSPHRASE': '137b789e-b7eb-475a-8d5a-b16ab544yurp', 'ASYNC': False, 'SERVICE_REGISTRATION_ADDR': 'ipc://run/uploader/brubeck_svc_registration', 'SERVICE_ADDR': 'ipc://run/uploader/brubeck_svc'}, 'AMAZON_BUCKET': 'qoorate.brooklyncode', 'AMAZON_SECRET': 'K3NKUTZIZWQ9B1UzQcZpl5frT4VClA9Ud0gffWPC', 'AMAZON_KEY': 'AKIAIMJ3ACDQBKM4PBDQ'}
DEBUG:root:filename: Screen Shot 2013-06-25 at 11.35.06 AM.png
DEBUG:root:hash: 5eb0d697f262ec32e210dc2c0b58df69
DEBUG:root:download_file_name: ./tmp/5eb0d697f262ec32e210dc2c0b58df69
DEBUG:root:mime_type: image/png
DEBUG:root:checking mime_type: image/png
DEBUG:root:mime_type OK
DEBUG:root:width: 2234
DEBUG:root:height: 1602
DEBUG:root:['']
DEBUG:root:['']
DEBUG:root:to_unicode
DEBUG:root:òÀ”∫√X∑œ nr"EGz¨Å˝ fÔ¶ (îå§N58XT  B ZãC–ár Ñ*    8È¢≈W§_5ÉrØs$Ù¥  „‘ nê¡›Ô¡˝5ü_HÌ√$ `y è πHS )q Aü≈’   -gÚ}4 ÿq M 2ªÕ  Ä†øê 5„”¢Æ ,-±Và∏ÎÉ ∏øé^Q‚2∫Åä í à%)B ®‹oh(èyàC€‡\ um|´d© ¸“ò[gﬂ±I∑˝†5x	 s @m¯yv 2D xqí ∞’æÊ≥a]ë†X~Õe)≥*¯… (ì⁄ = ÓO˘c…ò ˙u ı{œìÓ t{€ Ã‡o” p¡L’ÔW*òU#— ˜ì 6>DÁ∫È‚FRYÃK∞ßln‘œI O¬)Q —@í úø¢úÅ ÄÿÑ≈X CZg‚*ÿ!fõR Ç Ã3K≈(¯ ˝íçÀ±Ò…ﬁÁgìi†)‡"^`òÄè m‰#≤¸œF\§Í"vtï(È”ìòc j z|á ≤ò[à üö«b Oc6=±≥±X∑l$vV1‡@‡$ u2ız ~‘∂fWƒv'    €úlÂCwy^x”–ÊØﬂ£u Æ x N™`ÍÃîK I„rÉN´ 	ùW•%PÁ uQó/ËvÉœ"∆xDY¿pMO< ¢ Ü≈•“\»— A∂ K∑[TƒÖ\›ñÛ~j O‰ òH ÿ»  π†Ê# «â ¬Ù~›5∏Øaú 7cç|íh¶” ÏD|∂8:∑ Æ∞ìÅŸ GœgtP?t  >õó8 Á´›¶´ç»  Aù=ëú•π˜Î€_´ ú.≈‘ ,?Ç?º úV
DEBUG:root:òÀ”∫√X∑œ nr"EGz¨Å˝ fÔ¶ (îå§N58XT  B ZãC–ár Ñ*    8È¢≈W§_5ÉrØs$Ù¥  „‘ nê¡›Ô¡˝5ü_HÌ√$ `y è πHS )q Aü≈’   -gÚ}4 ÿq M 2ªÕ  Ä†øê 5„”¢Æ ,-±Và∏ÎÉ ∏øé^Q‚2∫Åä í à%)B ®‹oh(èyàC€‡\ um|´d© ¸“ò[gﬂ±I∑˝†5x	 s @m¯yv 2D xqí ∞’æÊ≥a]ë†X~Õe)≥*¯… (ì⁄ = ÓO˘c…ò ˙u ı{œìÓ t{€ Ã‡o” p¡L’ÔW*òU#— ˜ì 6>DÁ∫È‚FRYÃK∞ßln‘œI O¬)Q —@í úø¢úÅ ÄÿÑ≈X CZg‚*ÿ!fõR Ç Ã3K≈(¯ ˝íçÀ±Ò…ﬁÁgìi†)‡"^`òÄè m‰#≤¸œF\§Í"vtï(È”ìòc j z|á ≤ò[à üö«b Oc6=±≥±X∑l$vV1‡@‡$ u2ız ~‘∂fWƒv'    €úlÂCwy^x”–ÊØﬂ£u Æ x N™`ÍÃîK I„rÉN´ 	ùW•%PÁ uQó/ËvÉœ"∆xDY¿pMO< ¢ Ü≈•“\»— A∂ K∑[TƒÖ\›ñÛ~j O‰ òH ÿ»  π†Ê# «â ¬Ù~›5∏Øaú 7cç|íh¶” ÏD|∂8:∑ Æ∞ìÅŸ GœgtP?t  >õó8 Á´›¶´ç»  Aù=ëú•π˜Î€_´ ú.≈‘ ,?Ç?º úV
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:`äÊb¬é2è´ å•ìNÄ BQé6gKç€l°( ò%xŸ π“ ¶áâ–Çiz@`∫¸Ö R$∏õÖ
»ùñµ
¬ê´ê'?:Ûÿ
DEBUG:root:`äÊb¬é2è´ å•ìNÄ BQé6gKç€l°( ò%xŸ π“ ¶áâ–Çiz@`∫¸Ö R$∏õÖ
»ùñµ
¬ê´ê'?:Ûÿ
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:8ªhhŒÛwJD˙Hü£ƒ,æoÓÄ◊˙É]ˇ˝^ø≥éπﬁì	¶^îqı ±¶{bäŸ	¸‰∆éO~4U”öñõ%æ‰™¨ecb}™¶   ˇı Ôq‡ >W¢d≥Fœ ±O{céÅOå	J‡ >Ú¢à ◊æ]E" {⁄›≈7 ìg∂t~ˆΩ°*¥Äd°b bı IŸ^øˇ CÖ  ›ÒdÓXöêç≤Ÿ∑ûˆ R, ﬁk• óÒÌö} ¥üÙŒ û_~¥-˝k ã ﬂtÒ›z„ë¿  Å˙Ò≤Ds ©óM ƒú ºâpºjKÁ™µ∆£⁄‡‡	d .Á8 ÜKf/ŒúU 9i∏j⁄ ç7∏<û√k:>_cÆ∑Ö !º …‚´4óéÊË÷5<˝£ÀÉ`%W ><ã˛⁄§¨ [ñøos"®rrﬁ”◊®VÛ™/¥kéxh˚™Ye”3oæF1êÜs∏àÀõR¡Z≥ë@H˚∫É¯TÊÓ√»ƒ "pé 8À3`"µj’Øx—B Ç—ôX
…ÔoUÂÖ$2—)íãAeCeEà≥ ®
DEBUG:root:8ªhhŒÛwJD˙Hü£ƒ,æoÓÄ◊˙É]ˇ˝^ø≥éπﬁì	¶^îqı ±¶{bäŸ	¸‰∆éO~4U”öñõ%æ‰™¨ecb}™¶   ˇı Ôq‡ >W¢d≥Fœ ±O{céÅOå	J‡ >Ú¢à ◊æ]E" {⁄›≈7 ìg∂t~ˆΩ°*¥Äd°b bı IŸ^øˇ CÖ  ›ÒdÓXöêç≤Ÿ∑ûˆ R, ﬁk• óÒÌö} ¥üÙŒ û_~¥-˝k ã ﬂtÒ›z„ë¿  Å˙Ò≤Ds ©óM ƒú ºâpºjKÁ™µ∆£⁄‡‡	d .Á8 ÜKf/ŒúU 9i∏j⁄ ç7∏<û√k:>_cÆ∑Ö !º …‚´4óéÊË÷5<˝£ÀÉ`%W ><ã˛⁄§¨ [ñøos"®rrﬁ”◊®VÛ™/¥kéxh˚™Ye”3oæF1êÜs∏àÀõR¡Z≥ë@H˚∫É¯TÊÓ√»ƒ "pé 8À3`"µj’Øx—B Ç—ôX
…ÔoUÂÖ$2—)íãAeCeEà≥ ®
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:i z≈FmÚLíå	åJ”ﬂCÆ~}√/%mE:’º˘∫…eäL Åñî∂v”5’écG 1:˜∑h»72	®µ_¯Ç.Õ˜—¿3lWÉcÁ áØs \ œ—Æ£Vù0˝
‹\Æè∂Eª¨T ÎóŒ—îÁ…t
úq≥=f∫ÆŒu˛å„TÎ– éä≤úó_ÕIê ¢Ä¿à#@, œøyå«<Ã∆
DEBUG:root:i z≈FmÚLíå	åJ”ﬂCÆ~}√/%mE:’º˘∫…eäL Åñî∂v”5’écG 1:˜∑h»72	®µ_¯Ç.Õ˜—¿3lWÉcÁ áØs \ œ—Æ£Vù0˝
‹\Æè∂Eª¨T ÎóŒ—îÁ…t
úq≥=f∫ÆŒu˛å„TÎ– éä≤úó_ÕIê ¢Ä¿à#@, œøyå«<Ã∆
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:¸líL	◊éÌXÕ≠Ot ú/1Ò˜=ù14xwÁ@ Q8¬◊õ^˙» PZj‘ ôw,3 ÂÂö5/â‡˘ÚÔM }–‚ÍB“õ ¢ÿŸ‚h4Ò  A2î!ûMOeÒú }ﬂ °µ   Ω*3ìçUvÃ≈≠:‘mr44q ÇJH’2F>O/4’⁄ 
DEBUG:root:¸líL	◊éÌXÕ≠Ot ú/1Ò˜=ù14xwÁ@ Q8¬◊õ^˙» PZj‘ ôw,3 ÂÂö5/â‡˘ÚÔM }–‚ÍB“õ ¢ÿŸ‚h4Ò  A2î!ûMOeÒú }ﬂ °µ   Ω*3ìçUvÃ≈≠:‘mr44q ÇJH’2F>O/4’⁄ 
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:©qN ∆ûrÂ_√û¯ßüÿR%cH˝¨p¨<˝‰S√üˇê◊B∞n^◊¨C.   Ä@ø  π®ﬂ–C≈@       Ä    @       Ä  Ë! ˆñ á<uáııSá≠àü05q»w ç MQˇó˜ﬁ ŒÀsŸ*l9 v  FI™zbÆ”.,∂, I(πˇ~çÂ‘ÁY™„ ∏Ùxÿπ6À A˝œ∂ 
RÌvÏ	 %˚€ |oùËñO ¥ﬂqL˘Õ™öãk YÅŸ"«
DEBUG:root:©qN ∆ûrÂ_√û¯ßüÿR%cH˝¨p¨<˝‰S√üˇê◊B∞n^◊¨C.   Ä@ø  π®ﬂ–C≈@       Ä    @       Ä  Ë! ˆñ á<uáııSá≠àü05q»w ç MQˇó˜ﬁ ŒÀsŸ*l9 v  FI™zbÆ”.,∂, I(πˇ~çÂ‘ÁY™„ ∏Ùxÿπ6À A˝œ∂ 
RÌvÏ	 %˚€ |oùËñO ¥ﬂqL˘Õ™öãk YÅŸ"«
DEBUG:root:to_unicode
INFO:root:200 POST /q/uploader (127.0.0.1)
DEBUG:root:None
DEBUG:root:{u'cookie': u'SBID="!MZ6JnTJnDncb7k3n0Ya9Sg==?gAJVBFNCSURxAWN1dWlkClVVSUQKcQIpgXEDfXEEVQNpbnRxBYoQqUXRlREm8LXjTshLPYe7cXNihnEGLg=="; wordpress_test_cookie=WP+Cookie+check; wordpress_logged_in_8dec71ede39ad9ff3b3fbc03311bdc45=qoorate%7C1375142446%7C86fd9ec6d6a221f44c7b1244f05dcd23; QOOID=QOO51f460f57c582; QOOTID=QOOT51f460f57c593; wp-settings-time-1=1374970345', u'accept-language': u'en-US,en;q=0.8', u'accept-encoding': u'gzip,deflate,sdch', u'PATTERN': u'/q/', u'x-forwarded-for': u'127.0.0.1', u'host': u'localhost', u'accept': u'image/webp,*/*;q=0.8', u'user-agent': u'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/28.0.1500.71 Safari/537.36', u'connection': u'keep-alive', u'VERSION': u'HTTP/1.1', u'referer': u'http://localhost:8081/?p=1', u'PATH': u'/q/uploader/images/5eb0d697f262ec32e210dc2c0b58df69', u'METHOD': u'GET', u'URI': u'/q/uploader/images/5eb0d697f262ec32e210dc2c0b58df69'}
DEBUG:root:TemporaryImageViewHandler get
DEBUG:root:filename: 5eb0d697f262ec32e210dc2c0b58df69
DEBUG:root:hash: <built-in function hash>
DEBUG:root:requested_file_name: ./tmp/5eb0d697f262ec32e210dc2c0b58df69
DEBUG:root:mime_type: image/png
INFO:root:200 GET /q/uploader/images/5eb0d697f262ec32e210dc2c0b58df69 (127.0.0.1)
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:set_table has q_short_name (12345)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10813cbd0>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has q_short_name (12345)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10813cdd0>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:feed.prepare, table: q_brooklyncode
DEBUG:root:FeedHandler post
DEBUG:root:Body -> 
 replyComment=test&thumbnailLarge=5eb0d697f262ec32e210dc2c0b58df69&replyPhoto=&action=addItem&location=5e13bbb73127b9fc424e3728c6500f28&referer=http%3A%2F%2Flocalhost%3A8081%2F%3Fp%3D1&q_short_name=12345&QOOID=QOO51f460f57c582&QOOTID=QOOT51f460f57c593
DEBUG:root:Arguments -> 
 {"thumbnailLarge": ["5eb0d697f262ec32e210dc2c0b58df69"], "QOOID": ["QOO51f460f57c582"], "QOOTID": ["QOOT51f460f57c593"], "q_short_name": ["12345"], "location": ["5e13bbb73127b9fc424e3728c6500f28"], "replyComment": ["test"], "action": ["addItem"], "referer": ["http://localhost:8081/?p=1"]}
DEBUG:root:to_unicode
DEBUG:root:addItem
DEBUG:root:addItem
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:addItem
DEBUG:root:addItem
DEBUG:root:to_unicode
DEBUG:root:action: addItem
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x108141050>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x108141210>
DEBUG:root:to_unicode
DEBUG:root:test
DEBUG:root:test
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:test
DEBUG:root:test
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:5eb0d697f262ec32e210dc2c0b58df69
DEBUG:root:5eb0d697f262ec32e210dc2c0b58df69
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:5eb0d697f262ec32e210dc2c0b58df69
DEBUG:root:5eb0d697f262ec32e210dc2c0b58df69
DEBUG:root:to_unicode
DEBUG:root:spawning upload
DEBUG:root:upload_to_S3 : 5eb0d697f262ec32e210dc2c0b58df69
DEBUG:root:upload_to_S3 : 5eb0d697f262ec32e210dc2c0b58df69
DEBUG:root:create_images_for_S3
DEBUG:root:file_path: tmp
DEBUG:root:file_name: 5eb0d697f262ec32e210dc2c0b58df69
DEBUG:root:filename: tmp/5eb0d697f262ec32e210dc2c0b58df69
DEBUG:root:create_images_for_S3 image_infos: [(None, 'JPEG', '_f', 'jpg'), ((300, 200), 'JPEG', '_t', 'jpg'), ((120, 200), 'JPEG', '_m', 'jpg'), ((170, 100), 'JPEG', '_f', 'jpg'), ((50, 50), 'JPEG', '_s', 'jpg')] 
DEBUG:root:create_images_for_S3  image_info: (None, 'JPEG', '_f', 'jpg') 
DEBUG:root:filename created: 5eb0d697f262ec32e210dc2c0b58df69_f.jpg
DEBUG:root:create_images_for_S3  image_info: ((300, 200), 'JPEG', '_t', 'jpg') 
DEBUG:root:image_info[0]: (300, 200)
DEBUG:root:image_info[1]: JPEG
DEBUG:root:image_info[2]: _t
DEBUG:root:image_info[3]: jpg
DEBUG:root:filename created: 5eb0d697f262ec32e210dc2c0b58df69_t.jpg
DEBUG:root:create_images_for_S3  image_info: ((120, 200), 'JPEG', '_m', 'jpg') 
DEBUG:root:image_info[0]: (120, 200)
DEBUG:root:image_info[1]: JPEG
DEBUG:root:image_info[2]: _m
DEBUG:root:image_info[3]: jpg
DEBUG:root:filename created: 5eb0d697f262ec32e210dc2c0b58df69_m.jpg
DEBUG:root:create_images_for_S3  image_info: ((170, 100), 'JPEG', '_f', 'jpg') 
DEBUG:root:image_info[0]: (170, 100)
DEBUG:root:image_info[1]: JPEG
DEBUG:root:image_info[2]: _f
DEBUG:root:image_info[3]: jpg
DEBUG:root:filename created: 5eb0d697f262ec32e210dc2c0b58df69_f.jpg
DEBUG:root:create_images_for_S3  image_info: ((50, 50), 'JPEG', '_s', 'jpg') 
DEBUG:root:image_info[0]: (50, 50)
DEBUG:root:image_info[1]: JPEG
DEBUG:root:image_info[2]: _s
DEBUG:root:image_info[3]: jpg
DEBUG:root:filename created: 5eb0d697f262ec32e210dc2c0b58df69_s.jpg
DEBUG:root:create_images_for_S3 return filenames: [u'5eb0d697f262ec32e210dc2c0b58df69_f.jpg', u'5eb0d697f262ec32e210dc2c0b58df69_t.jpg', u'5eb0d697f262ec32e210dc2c0b58df69_m.jpg', u'5eb0d697f262ec32e210dc2c0b58df69_f.jpg', u'5eb0d697f262ec32e210dc2c0b58df69_s.jpg'] 
DEBUG:root:file_names: [u'5eb0d697f262ec32e210dc2c0b58df69_f.jpg', u'5eb0d697f262ec32e210dc2c0b58df69_t.jpg', u'5eb0d697f262ec32e210dc2c0b58df69_m.jpg', u'5eb0d697f262ec32e210dc2c0b58df69_f.jpg', u'5eb0d697f262ec32e210dc2c0b58df69_s.jpg']
DEBUG:root:len(file_names): 5
DEBUG:boto:path=/
DEBUG:boto:auth_path=/qoorate.brooklyncode/
DEBUG:boto:Method: PUT
DEBUG:boto:Path: /
DEBUG:boto:Data: 
DEBUG:boto:Headers: {}
DEBUG:boto:Host: qoorate.brooklyncode.s3.amazonaws.com
DEBUG:boto:establishing HTTPS connection: host=qoorate.brooklyncode.s3.amazonaws.com, kwargs={}
DEBUG:boto:Token: None
DEBUG:boto:StringToSign:
PUT


Sun, 28 Jul 2013 14:13:42 GMT
/qoorate.brooklyncode/
DEBUG:boto:encountered DNSError exception, reconnecting
DEBUG:boto:establishing HTTPS connection: host=qoorate.brooklyncode.s3.amazonaws.com, kwargs={}
DEBUG:boto:Token: None
DEBUG:boto:StringToSign:
PUT


Sun, 28 Jul 2013 14:13:42 GMT
/qoorate.brooklyncode/
DEBUG:root:get EmbedHandler
DEBUG:root:to_unicode
DEBUG:root:embed_head
DEBUG:root:embed_head
DEBUG:root:to_unicode
DEBUG:root:action: embed_head 
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:set_table has key/secret
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = %s and `secret`= %s
        
DEBUG:root:escape_sql args: [u'12345', u'54321']
DEBUG:root:
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = '12345' and `secret`= '54321'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10813c1d0>
DEBUG:root:returning True from authencticate.
DEBUG:root:set_table authenticated
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10813c250>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has key/secret
DEBUG:root:returning `True` from authenticate cached.
DEBUG:root:set_table authenticated
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10813c450>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10813c5d0>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10813c7d0>
DEBUG:root:qoorate preferences: {
    "THEME": "grid",
    "EMBED_CONF_JS": "
        var qoorateConfig = {
            QOORATE_URI: 'http://localhost',
            QOORATE_API_URI: 'http://localhost/q',
            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',
            XHR_PROXY_URI: '/q/feed',
            XHR_UPLOAD_URI: '/q/uploader',
            POST_MAX_LEN: 1000,
            PARENT_PAGE_SIZE: 10,
            CHILD_PAGE_SIZE: 10,
            AUTO_SCROLL: 1,
            THEME: 'grid',
            GRID_COLUMNS: 3,
            GRID_COLUMN_TRIM: 15,
            GRID_ROW_TRIM: 15
        };
        var qoorateLang = {
            FLAG_SUCCESS: 'Thanks for flagging this!',
            SHARE_SUCCESS: 'Thank you for sharing!',
            DELETE_SUCCESS: 'Thank you. This item has been deleted.',
            SIGNIN: 'Sign in using',
            SIGNEDIN: 'Signed in via',    
            OK: 'OK',
            CANCEL: 'Cancel',
            LOGOUT: 'Log Out',
            TOGGLE_ON: '+',
            TOGGLE_OFF: '-',
            CONTRIBUTION: 'Contribution',
            CONTRIBUTIONS: 'Contributions',
            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',
            REMOVE: 'Remove',
            LINK: 'Insert a link',
            TOPIC_COMMENT: 'Pose a Yes/No Question',
            COMMENT: 'Your Comment',
            IMAGE_COMMENT: 'Image Caption',
            POST_TO: 'Post to',
            POST_ANONYMOUS: 'Post anonymously',
            NICKNAME: 'Post as ',
            DEFAULT_NICKNAME: 'Anonymous',
            REPLY_LINK_COMMENT: 'Say something about your link',
            SHARE_COMMENT: 'comment about this share...',
            PUBLISH_BUTTON: 'Publish',
            POST_BUTTON: 'Post',
            POST_TO_BUTTON: 'Post To',
            REPLY_BUTTON: 'Reply',
            SHARE_BUTTON: 'Share',
            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',
            SELECT_IMAGE: 'Select an Image',
            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',
            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],
            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],
            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]
        };
    "
}

DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:preferences EMBED_CONF_JS:         var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    
DEBUG:root:embed_head called
INFO:root:200 GET /q/embed (127.0.0.1)
DEBUG:root:get EmbedHandler
DEBUG:root:to_unicode
DEBUG:root:embed_content
DEBUG:root:embed_content
DEBUG:root:to_unicode
DEBUG:root:action: embed_content 
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:set_table has key/secret
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = %s and `secret`= %s
        
DEBUG:root:escape_sql args: [u'12345', u'54321']
DEBUG:root:
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = '12345' and `secret`= '54321'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10813c9d0>
DEBUG:root:returning True from authencticate.
DEBUG:root:set_table authenticated
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10813cbd0>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has key/secret
DEBUG:root:returning `True` from authenticate cached.
DEBUG:root:set_table authenticated
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10813cdd0>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x108141050>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x108141210>
DEBUG:root:qoorate preferences: {
    "THEME": "grid",
    "EMBED_CONF_JS": "
        var qoorateConfig = {
            QOORATE_URI: 'http://localhost',
            QOORATE_API_URI: 'http://localhost/q',
            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',
            XHR_PROXY_URI: '/q/feed',
            XHR_UPLOAD_URI: '/q/uploader',
            POST_MAX_LEN: 1000,
            PARENT_PAGE_SIZE: 10,
            CHILD_PAGE_SIZE: 10,
            AUTO_SCROLL: 1,
            THEME: 'grid',
            GRID_COLUMNS: 3,
            GRID_COLUMN_TRIM: 15,
            GRID_ROW_TRIM: 15
        };
        var qoorateLang = {
            FLAG_SUCCESS: 'Thanks for flagging this!',
            SHARE_SUCCESS: 'Thank you for sharing!',
            DELETE_SUCCESS: 'Thank you. This item has been deleted.',
            SIGNIN: 'Sign in using',
            SIGNEDIN: 'Signed in via',    
            OK: 'OK',
            CANCEL: 'Cancel',
            LOGOUT: 'Log Out',
            TOGGLE_ON: '+',
            TOGGLE_OFF: '-',
            CONTRIBUTION: 'Contribution',
            CONTRIBUTIONS: 'Contributions',
            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',
            REMOVE: 'Remove',
            LINK: 'Insert a link',
            TOPIC_COMMENT: 'Pose a Yes/No Question',
            COMMENT: 'Your Comment',
            IMAGE_COMMENT: 'Image Caption',
            POST_TO: 'Post to',
            POST_ANONYMOUS: 'Post anonymously',
            NICKNAME: 'Post as ',
            DEFAULT_NICKNAME: 'Anonymous',
            REPLY_LINK_COMMENT: 'Say something about your link',
            SHARE_COMMENT: 'comment about this share...',
            PUBLISH_BUTTON: 'Publish',
            POST_BUTTON: 'Post',
            POST_TO_BUTTON: 'Post To',
            REPLY_BUTTON: 'Reply',
            SHARE_BUTTON: 'Share',
            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',
            SELECT_IMAGE: 'Select an Image',
            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',
            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],
            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],
            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]
        };
    "
}

DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:preferences EMBED_CONF_JS:         var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    
DEBUG:root:embed_content called (key,secret): (12345,54321)
DEBUG:root:returning `True` from authenticate cached.
DEBUG:root:get_content_context
DEBUG:root:table: q_brooklyncode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:init_db_conn
DEBUG:root:NOT creating db_conn
DEBUG:root:1
DEBUG:root:5
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT f.`parent_sequence` , f.`child_sequence` , f.`id` , f.`locationId` , f.`relatedId`,
                f.`parentId` , f.`userId` , `u`.`username`, u.`thumbnailLarge` as userThumbnailLarge,
                ur.`username` as relatedUsername, ur.`thumbnailLarge` as relatedUserThumbnailLarge, f.`type`,
                f.`is_anonymous` , r.`is_anonymous` as `related_is_anonymous`, f.`name` , f.`location` ,f.`description`,f.`referer`,
                f.`voteCount` , f.`voteNumber` , f.`votesUp` ,f.`votesDown` , f.`flagCount`,  f.`childCount`, f.`sortOrder` , f.`status`,
                f.`thumbnailSmall` ,f.`thumbnailLarge` , f.`changeDate` , f.`createDate`, f.`nickname`, r.`nickname` as `related_nickname`
            FROM (
                # this query adds the sequence fields to filter by for paging
                SELECT  s1.*, @parentrownum := convert( IF( ( parentId = 0), @parentrownum +1, @parentrownum ), UNSIGNED INTEGER) AS parent_sequence,
                @childrownum := IF( ( @lastparent = parentId), @childrownum + 1, 0 ) AS child_sequence,
                @lastparent := if( parentId=0, id, parentId ) AS dummy_used_for_last_parent
                FROM
                    # QUERY 2: this query sorts the results properly
                    (SELECT s0.* FROM
                        # QUERY 1: This query gets the results we need with calculated fields to sort by
                        # We should probably have these fields in the database so they are indexed
                        (SELECT
                        CONVERT( if( parentId = 0, @parentVoteNumber:=voteNumber,
                            @parentVoteNumber ), SIGNED INTEGER ) as groupVoteNumber,          # Will order groups using parent voteNumber
                        CONVERT( if( parentId = 0, @parentVoteCount:=voteCount,
                            @parentVoteCount ), SIGNED INTEGER ) as groupVoteCount,            # Will order groups using parent voteCount
                        CONVERT( if( parentId = 0, @parentCreateDate:=createDate,
                            @parentCreateDate ), DATETIME ) as groupCreateDate,                # Will order groups using parent createDate
                        CONVERT( if(parentId=0, id, parentId), UNSIGNED INTEGER) as groupId,   # will order groups together
                        CONVERT( if(parentId = 0, 0, 1), UNSIGNED INTEGER) as isChild,         # will order parent first in group
                        r.*
                        FROM (
                            # this just makes sure our groups are grouped in parent child order
                            SELECT * from q_brooklyncode o  WHERE o.location = '5e13bbb73127b9fc424e3728c6500f28' ORDER BY
                             if( o.relatedId = 0, o.id, o.relatedId),
                             if( o.relatedId = 0, 0, o.id )
                            ) r,
                        ( SELECT @parentVoteNumber := 0 ) pvn,
                        ( SELECT @parentVoteCount  := 0 ) pvc,
                        ( SELECT @parentCreateDate := 0 ) pcd
                         WHERE location = '5e13bbb73127b9fc424e3728c6500f28' 
                    ) s0
                    
                    
                    ORDER BY
                    
                s0.groupVoteNumber DESC,
                s0.groupVoteCount DESC,
                s0.groupCreateDate ASC,
                 
                    groupId  ASC, # first order by group
                    isChild ASC, # Then make sure the parent is first
                    
                s0.voteNumber DESC,
                s0.voteCount DESC,
                s0.createDate ASC
                
            ) s1,
            ( SELECT @parentrownum := 0 ) pr,
            ( SELECT @childrownum := 0 ) cr, 
            ( SELECT @lastparent := -1 ) lp) f
            LEFT JOIN user u on u.id = f.userId
            LEFT JOIN q_brooklyncode r on r.id = f.relatedId
            LEFT JOIN user ur on ur.id = r.userId
            WHERE
            ((0 = 6 and parent_sequence >= 1) or parent_sequence BETWEEN 1 AND 6)
            AND
            ((0 = 6 and child_sequence >= 1) or (child_sequence=0 or child_sequence BETWEEN 1 AND 6))
        
DEBUG:root:escape_sql args: None
DEBUG:root:
            SELECT f.`parent_sequence` , f.`child_sequence` , f.`id` , f.`locationId` , f.`relatedId`,
                f.`parentId` , f.`userId` , `u`.`username`, u.`thumbnailLarge` as userThumbnailLarge,
                ur.`username` as relatedUsername, ur.`thumbnailLarge` as relatedUserThumbnailLarge, f.`type`,
                f.`is_anonymous` , r.`is_anonymous` as `related_is_anonymous`, f.`name` , f.`location` ,f.`description`,f.`referer`,
                f.`voteCount` , f.`voteNumber` , f.`votesUp` ,f.`votesDown` , f.`flagCount`,  f.`childCount`, f.`sortOrder` , f.`status`,
                f.`thumbnailSmall` ,f.`thumbnailLarge` , f.`changeDate` , f.`createDate`, f.`nickname`, r.`nickname` as `related_nickname`
            FROM (
                # this query adds the sequence fields to filter by for paging
                SELECT  s1.*, @parentrownum := convert( IF( ( parentId = 0), @parentrownum +1, @parentrownum ), UNSIGNED INTEGER) AS parent_sequence,
                @childrownum := IF( ( @lastparent = parentId), @childrownum + 1, 0 ) AS child_sequence,
                @lastparent := if( parentId=0, id, parentId ) AS dummy_used_for_last_parent
                FROM
                    # QUERY 2: this query sorts the results properly
                    (SELECT s0.* FROM
                        # QUERY 1: This query gets the results we need with calculated fields to sort by
                        # We should probably have these fields in the database so they are indexed
                        (SELECT
                        CONVERT( if( parentId = 0, @parentVoteNumber:=voteNumber,
                            @parentVoteNumber ), SIGNED INTEGER ) as groupVoteNumber,          # Will order groups using parent voteNumber
                        CONVERT( if( parentId = 0, @parentVoteCount:=voteCount,
                            @parentVoteCount ), SIGNED INTEGER ) as groupVoteCount,            # Will order groups using parent voteCount
                        CONVERT( if( parentId = 0, @parentCreateDate:=createDate,
                            @parentCreateDate ), DATETIME ) as groupCreateDate,                # Will order groups using parent createDate
                        CONVERT( if(parentId=0, id, parentId), UNSIGNED INTEGER) as groupId,   # will order groups together
                        CONVERT( if(parentId = 0, 0, 1), UNSIGNED INTEGER) as isChild,         # will order parent first in group
                        r.*
                        FROM (
                            # this just makes sure our groups are grouped in parent child order
                            SELECT * from q_brooklyncode o  WHERE o.location = '5e13bbb73127b9fc424e3728c6500f28' ORDER BY
                             if( o.relatedId = 0, o.id, o.relatedId),
                             if( o.relatedId = 0, 0, o.id )
                            ) r,
                        ( SELECT @parentVoteNumber := 0 ) pvn,
                        ( SELECT @parentVoteCount  := 0 ) pvc,
                        ( SELECT @parentCreateDate := 0 ) pcd
                         WHERE location = '5e13bbb73127b9fc424e3728c6500f28' 
                    ) s0
                    
                    
                    ORDER BY
                    
                s0.groupVoteNumber DESC,
                s0.groupVoteCount DESC,
                s0.groupCreateDate ASC,
                 
                    groupId  ASC, # first order by group
                    isChild ASC, # Then make sure the parent is first
                    
                s0.voteNumber DESC,
                s0.voteCount DESC,
                s0.createDate ASC
                
            ) s1,
            ( SELECT @parentrownum := 0 ) pr,
            ( SELECT @childrownum := 0 ) cr, 
            ( SELECT @lastparent := -1 ) lp) f
            LEFT JOIN user u on u.id = f.userId
            LEFT JOIN q_brooklyncode r on r.id = f.relatedId
            LEFT JOIN user ur on ur.id = r.userId
            WHERE
            ((0 = 6 and parent_sequence >= 1) or parent_sequence BETWEEN 1 AND 6)
            AND
            ((0 = 6 and child_sequence >= 1) or (child_sequence=0 or child_sequence BETWEEN 1 AND 6))
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10813c1d0>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = %s
        
DEBUG:root:escape_sql args: [1L]
DEBUG:root:
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = 1
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10813c250>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = %s
        
DEBUG:root:escape_sql args: [2L]
DEBUG:root:
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = 2
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10813c450>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = %s
        
DEBUG:root:escape_sql args: [3L]
DEBUG:root:
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = 3
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10813c5d0>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = %s
        
DEBUG:root:escape_sql args: [4L]
DEBUG:root:
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = 4
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10813c7d0>
DEBUG:root:Number of comments returned: 4
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:escape_sql args: []
DEBUG:root:
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10813c9d0>
DEBUG:root:Number of contributions 4
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10813cbd0>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10813cdd0>
DEBUG:root:to_unicode
DEBUG:root:embed_content
DEBUG:root:embed_content
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:embed_content
DEBUG:root:embed_content
DEBUG:root:to_unicode
INFO:root:200 GET /q/embed (127.0.0.1)
DEBUG:boto:encountered DNSError exception, reconnecting
DEBUG:boto:establishing HTTPS connection: host=qoorate.brooklyncode.s3.amazonaws.com, kwargs={}
DEBUG:boto:Token: None
DEBUG:boto:StringToSign:
PUT


Sun, 28 Jul 2013 14:13:42 GMT
/qoorate.brooklyncode/
DEBUG:boto:encountered DNSError exception, reconnecting
DEBUG:boto:establishing HTTPS connection: host=qoorate.brooklyncode.s3.amazonaws.com, kwargs={}
DEBUG:boto:Token: None
DEBUG:boto:StringToSign:
PUT


Sun, 28 Jul 2013 14:13:42 GMT
/qoorate.brooklyncode/
DEBUG:boto:encountered DNSError exception, reconnecting
DEBUG:boto:establishing HTTPS connection: host=qoorate.brooklyncode.s3.amazonaws.com, kwargs={}
DEBUG:boto:Token: None
DEBUG:boto:StringToSign:
PUT


Sun, 28 Jul 2013 14:13:42 GMT
/qoorate.brooklyncode/
DEBUG:boto:encountered DNSError exception, reconnecting
DEBUG:boto:establishing HTTPS connection: host=qoorate.brooklyncode.s3.amazonaws.com, kwargs={}
DEBUG:boto:Token: None
DEBUG:boto:StringToSign:
PUT


Sun, 28 Jul 2013 14:13:42 GMT
/qoorate.brooklyncode/
DEBUG:boto:encountered DNSError exception, reconnecting
DEBUG:boto:establishing HTTPS connection: host=qoorate.brooklyncode.s3.amazonaws.com, kwargs={}
DEBUG:boto:Token: None
DEBUG:boto:StringToSign:
PUT


Sun, 28 Jul 2013 14:13:42 GMT
/qoorate.brooklyncode/
DEBUG:boto:encountered DNSError exception, reconnecting
DEBUG:boto:establishing HTTPS connection: host=qoorate.brooklyncode.s3.amazonaws.com, kwargs={}
Traceback (most recent call last):
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/gevent/greenlet.py", line 390, in run
    result = self._run(*self.args, **self.kwargs)
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 56, in upload_to_S3
    uploader.upload_to_S3(image_path)
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_uploader-0.1.6-py2.7.egg/brubeckuploader/base.py", line 181, in upload_to_S3
    bucket = conn.create_bucket(bucket_name)
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/boto/s3/connection.py", line 413, in create_bucket
    data=data)
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/boto/s3/connection.py", line 449, in make_request
    override_num_retries=override_num_retries)
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/boto/connection.py", line 829, in make_request
    return self._mexe(http_request, sender, override_num_retries)
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/boto/connection.py", line 794, in _mexe
    raise e
DNSError: [Errno 67] request timed out
<Greenlet at 0x107ff62d0: upload_to_S3({'S3_PORT': 443, 'INIT_BUCKET': True, 'RETRY_INTER, u'5eb0d697f262ec32e210dc2c0b58df69')> failed with DNSError

DEBUG:root:spawned upload
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:http://localhost:8081/?p=1
DEBUG:root:http://localhost:8081/?p=1
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:http://localhost:8081/?p=1
DEBUG:root:http://localhost:8081/?p=1
DEBUG:root:to_unicode
DEBUG:root:MySqlApiQueryset create_one
DEBUG:root:MySqlApiQueryset create_one sql: 
                INSERT INTO `q_brooklyncode` 
                set id=%s,locationId=%s,relatedId=%s,parentId=%s,userId=%s,type=%s,name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s,createDate=%s 
                ON DUPLICATE KEY UPDATE
                name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s
                
DEBUG:root:execute
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:execute args: [None, 0L, 0L, 0L, 1L, 1L, u'test', u'5e13bbb73127b9fc424e3728c6500f28', None, 0L, 0L, 0L, 0L, 0L, 0L, 0L, '', None, u'5eb0d697f262ec32e210dc2c0b58df69', u'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 10, 25, 50, 93276), datetime.datetime(2013, 7, 28, 10, 25, 50, 93276), u'test', u'5e13bbb73127b9fc424e3728c6500f28', None, 0L, 0L, 0L, 0L, 0L, 0L, 0L, '', None, u'5eb0d697f262ec32e210dc2c0b58df69', u'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 10, 25, 50, 93276)]
DEBUG:root:escape_sql sql: 
                INSERT INTO `q_brooklyncode` 
                set id=%s,locationId=%s,relatedId=%s,parentId=%s,userId=%s,type=%s,name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s,createDate=%s 
                ON DUPLICATE KEY UPDATE
                name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s
                
DEBUG:root:escape_sql args: [None, 0L, 0L, 0L, 1L, 1L, u'test', u'5e13bbb73127b9fc424e3728c6500f28', None, 0L, 0L, 0L, 0L, 0L, 0L, 0L, '', None, u'5eb0d697f262ec32e210dc2c0b58df69', u'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 10, 25, 50, 93276), datetime.datetime(2013, 7, 28, 10, 25, 50, 93276), u'test', u'5e13bbb73127b9fc424e3728c6500f28', None, 0L, 0L, 0L, 0L, 0L, 0L, 0L, '', None, u'5eb0d697f262ec32e210dc2c0b58df69', u'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 10, 25, 50, 93276)]
DEBUG:root:
                INSERT INTO `q_brooklyncode` 
                set id=NULL,locationId=0,relatedId=0,parentId=0,userId=1,type=1,name='test',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=0,voteNumber=0,votesUp=0,votesDown=0,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge='5eb0d697f262ec32e210dc2c0b58df69',referer='http://localhost:8081/?p=1',changeDate='2013-07-28 10:25:50',createDate='2013-07-28 10:25:50' 
                ON DUPLICATE KEY UPDATE
                name='test',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=0,voteNumber=0,votesUp=0,votesDown=0,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge='5eb0d697f262ec32e210dc2c0b58df69',referer='http://localhost:8081/?p=1',changeDate='2013-07-28 10:25:50'
                
DEBUG:root:execute: 
                INSERT INTO `q_brooklyncode` 
                set id=NULL,locationId=0,relatedId=0,parentId=0,userId=1,type=1,name='test',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=0,voteNumber=0,votesUp=0,votesDown=0,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge='5eb0d697f262ec32e210dc2c0b58df69',referer='http://localhost:8081/?p=1',changeDate='2013-07-28 10:25:50',createDate='2013-07-28 10:25:50' 
                ON DUPLICATE KEY UPDATE
                name='test',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=0,voteNumber=0,votesUp=0,votesDown=0,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge='5eb0d697f262ec32e210dc2c0b58df69',referer='http://localhost:8081/?p=1',changeDate='2013-07-28 10:25:50'
                
DEBUG:root:MySqlApiQueryset create_one (status, affected_rows): (Created, 1)
DEBUG:root:inserted_id: 5)
DEBUG:root:update_child_count(Comment object)
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:escape_sql sql: 
            SELECT count(*) as `childCount`
            FROM `q_brooklyncode` `f`
            WHERE `f`.`parentId`= %s
            
DEBUG:root:escape_sql args: [5L]
DEBUG:root:
            SELECT count(*) as `childCount`
            FROM `q_brooklyncode` `f`
            WHERE `f`.`parentId`= 5
            
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1081c9dd0>
DEBUG:root:child_count: 0
DEBUG:root:MySqlApiQueryset create_one
DEBUG:root:MySqlApiQueryset create_one sql: 
                INSERT INTO `q_brooklyncode` 
                set id=%s,locationId=%s,relatedId=%s,parentId=%s,userId=%s,type=%s,name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s,createDate=%s 
                ON DUPLICATE KEY UPDATE
                name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s
                
DEBUG:root:execute
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:execute args: [5L, 0L, 0L, 0L, 1L, 1L, u'test', u'5e13bbb73127b9fc424e3728c6500f28', None, 0L, 0L, 0L, 0L, 0L, 0L, 0L, '', None, u'5eb0d697f262ec32e210dc2c0b58df69', u'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 10, 25, 50, 93276), datetime.datetime(2013, 7, 28, 10, 25, 50, 93276), u'test', u'5e13bbb73127b9fc424e3728c6500f28', None, 0L, 0L, 0L, 0L, 0L, 0L, 0L, '', None, u'5eb0d697f262ec32e210dc2c0b58df69', u'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 10, 25, 50, 93276)]
DEBUG:root:escape_sql sql: 
                INSERT INTO `q_brooklyncode` 
                set id=%s,locationId=%s,relatedId=%s,parentId=%s,userId=%s,type=%s,name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s,createDate=%s 
                ON DUPLICATE KEY UPDATE
                name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s
                
DEBUG:root:escape_sql args: [5L, 0L, 0L, 0L, 1L, 1L, u'test', u'5e13bbb73127b9fc424e3728c6500f28', None, 0L, 0L, 0L, 0L, 0L, 0L, 0L, '', None, u'5eb0d697f262ec32e210dc2c0b58df69', u'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 10, 25, 50, 93276), datetime.datetime(2013, 7, 28, 10, 25, 50, 93276), u'test', u'5e13bbb73127b9fc424e3728c6500f28', None, 0L, 0L, 0L, 0L, 0L, 0L, 0L, '', None, u'5eb0d697f262ec32e210dc2c0b58df69', u'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 10, 25, 50, 93276)]
DEBUG:root:
                INSERT INTO `q_brooklyncode` 
                set id=5,locationId=0,relatedId=0,parentId=0,userId=1,type=1,name='test',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=0,voteNumber=0,votesUp=0,votesDown=0,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge='5eb0d697f262ec32e210dc2c0b58df69',referer='http://localhost:8081/?p=1',changeDate='2013-07-28 10:25:50',createDate='2013-07-28 10:25:50' 
                ON DUPLICATE KEY UPDATE
                name='test',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=0,voteNumber=0,votesUp=0,votesDown=0,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge='5eb0d697f262ec32e210dc2c0b58df69',referer='http://localhost:8081/?p=1',changeDate='2013-07-28 10:25:50'
                
DEBUG:root:execute: 
                INSERT INTO `q_brooklyncode` 
                set id=5,locationId=0,relatedId=0,parentId=0,userId=1,type=1,name='test',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=0,voteNumber=0,votesUp=0,votesDown=0,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge='5eb0d697f262ec32e210dc2c0b58df69',referer='http://localhost:8081/?p=1',changeDate='2013-07-28 10:25:50',createDate='2013-07-28 10:25:50' 
                ON DUPLICATE KEY UPDATE
                name='test',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=0,voteNumber=0,votesUp=0,votesDown=0,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge='5eb0d697f262ec32e210dc2c0b58df69',referer='http://localhost:8081/?p=1',changeDate='2013-07-28 10:25:50'
                
DEBUG:root:item_exists
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:escape_sql sql: SELECT count(*) FROM `q_brooklyncode`  WHERE id = %s
DEBUG:root:escape_sql args: [5L]
DEBUG:root:SELECT count(*) FROM `q_brooklyncode`  WHERE id = 5
DEBUG:root:MySqlApiQueryset create_one (status, affected_rows): (NO CHANGES, 0)
DEBUG:root:MySqlApiQueryset create_one
DEBUG:root:MySqlApiQueryset create_one sql: 
                INSERT INTO `q_brooklyncode_images` 
                set id=%s,itemId=%s,s3Bucket=%s,thumbnailLargeHash=%s 
                ON DUPLICATE KEY UPDATE
                s3Bucket=%s,thumbnailLargeHash=%s
                
DEBUG:root:execute
DEBUG:root:execute args: [None, 5L, 'qoorate.brooklyncode', u'5eb0d697f262ec32e210dc2c0b58df69', 'qoorate.brooklyncode', u'5eb0d697f262ec32e210dc2c0b58df69']
DEBUG:root:escape_sql sql: 
                INSERT INTO `q_brooklyncode_images` 
                set id=%s,itemId=%s,s3Bucket=%s,thumbnailLargeHash=%s 
                ON DUPLICATE KEY UPDATE
                s3Bucket=%s,thumbnailLargeHash=%s
                
DEBUG:root:escape_sql args: [None, 5L, 'qoorate.brooklyncode', u'5eb0d697f262ec32e210dc2c0b58df69', 'qoorate.brooklyncode', u'5eb0d697f262ec32e210dc2c0b58df69']
DEBUG:root:
                INSERT INTO `q_brooklyncode_images` 
                set id=NULL,itemId=5,s3Bucket='qoorate.brooklyncode',thumbnailLargeHash='5eb0d697f262ec32e210dc2c0b58df69' 
                ON DUPLICATE KEY UPDATE
                s3Bucket='qoorate.brooklyncode',thumbnailLargeHash='5eb0d697f262ec32e210dc2c0b58df69'
                
DEBUG:root:execute: 
                INSERT INTO `q_brooklyncode_images` 
                set id=NULL,itemId=5,s3Bucket='qoorate.brooklyncode',thumbnailLargeHash='5eb0d697f262ec32e210dc2c0b58df69' 
                ON DUPLICATE KEY UPDATE
                s3Bucket='qoorate.brooklyncode',thumbnailLargeHash='5eb0d697f262ec32e210dc2c0b58df69'
                
DEBUG:root:MySqlApiQueryset create_one (status, affected_rows): (Created, 1)
DEBUG:root:inserted_id: 5)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x108141210>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10813c1d0>
DEBUG:root:CONTEXT: {'has_more_contributions': False, 'app': {'CHILD_PAGE_SIZE': 5, 'QOORATE_API_URI': 'http://qoorate.sethmurphy.com/q', 'TEMP_DIR': 'tmp', 'BACKGROUND_S3_UPLOAD': True, 'BROKEN_IMG_URI': 'http://localhost/q/img/blank.gif', 'POLLING_INTERVAL': 15, 'QOORATE_IMG_PATH': 'http://localhost/q/uploader/images/', 'S3_IMG_PATH': 'https://s3.amazonaws.com/qoorate.brooklyncode/', 'AMAZON_BUCKET': 'qoorate.brooklyncode', 'QOORATE_URI': 'http://qoorate.sethmurphy.com', 'PARENT_PAGE_SIZE': 5}, 'thumbnailLargeHash': u'5eb0d697f262ec32e210dc2c0b58df69', 'parentCount': 5, 'q_short_name': u'12345', 'is_admin': False, 'parent_tag': u'p_brooklyncode', 'moreIndex': 1, 'comments': [<Comment: Comment object>], 'location': u'5e13bbb73127b9fc424e3728c6500f28', 'current_user': <User: User object>, 'related_user': None, 'childCount': 5, 'comment_images': [('Created', <Image: Image object>)]}
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:unsanitizing: test
DEBUG:root:unsanitizing encoded ascii: test
DEBUG:root:unsanitizing encoded utf8: test
DEBUG:root: unsanitized: test
DEBUG:root:
     
        
            
            
            <div id="12345-5" class="q_item lv-1 vi-l tp-1">
                            <div class="q_inr p">
                <div class="q_data">
                    <div class="q_main">
                        <div class="q_inr">
                            <div class="q_top">
                                <div class="headerWrapper p">
                                    <a id="share_12345-5" href="#" class="do makeForm share 12345-5"><span>+ Share</span></a>
                                    <a id="flag_12345-5" href="#" class="do makeForm flag 12345-5"><span>Flag</span></a>
                                    <a id="delete_12345-5" href="#" class="do action deleteItem 12345-5"><span>Delete</span></a>
                                    <div class="q_clear"></div>
                                </div>
                            </div>
                            <div class="q_main_body">
                                <div class="q_txt">
                                    
                                    <div class="q_img">
                                        <img src="https://s3.amazonaws.com/qoorate.brooklyncode/5eb0d697f262ec32e210dc2c0b58df69_m.jpg" 
                                                onerror="ImgError(this, 'http://localhost/q/uploader/images/5eb0d697f262ec32e210dc2c0b58df69','http://localhost/q/img/blank.gif')">
                                    </div>
                                    <h3 class="itemName title type-1">test</h3>
                                    
                                </div>
                                <div class="q_clear"></div>
                            </div>
                            <div class="q_main_footer">
                                <div class="q_main_user">
                                    <div class="q_thumbnail">
                                        
                                        <img width="30" height="30" src="http://a0.twimg.com/profile_images/2793955592/297b32ce863d62ad496ccfab30b98ec2_normal.jpeg" onerror="ImgError(this, 'http://qrate.co/img/blank.gif')" />
                                        
                                    </div>
                                    <div class="q_user_info">
                                        
                                        <span class="q_usr"></span>
                                        
                                        <span class="time">0 seconds ago</span>
                                    </div>
                                    <div class="q_clear"></div>
                                </div>
                            </div>
                            <div class="q_bottom lv-1">
                                <fieldset class="reply bottom">
                                    <legend>Reply</legend>
                                    <div class="replyWrapper">
                                        <div class="inner">
                                            <a id="reply_12345-5" href="#" class="do makeForm replyComment 12345-5 reply"><span>Reply (<span class="replycount">0</span>)</span></a>
                                            <a id="toggle_12345-5" href="#" class="toggleReply tco-5 expand"><span></span></a>
                                            <div class="q_clear"></div>
                                        </div>
                                    </div>
                                    <div class="vote wrapper">
                                        <div class="inner">
                                            <div class="upVote wrap"><a href="#" class="do action upVote 12345-5"><span class="voted">0</span></a></div>
                                            <div class="downVote wrap"><a href="#" class="do action downVote 12345-5"><span class="voted">0</span></a></div>
                                            <div class="q_clear"></div>
                                        </div>
                                    </div>
                                </fieldset>
                                <div class="dyn 12345-5"></div>
                            </div>
                            <div class="q_clear"></div>
                        </div>
                    </div>
                </div>
                <div class="q_clear"></div>
            </div>
            <div class="q_clear"></div>
             
        
    

</div>

<div class="q_clear"></div>
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:escape_sql sql: 
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:escape_sql args: []
DEBUG:root:
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x108293290>
DEBUG:root:Number of contributions 5
INFO:root:200 POST /q/feed (127.0.0.1)
ERROR:root:DISCONNECT
Sun, 28 Jul 2013 23:52:04 GMT [ERROR] (errno: No such file or directory) End directory base with / in static/qoorateserver or it won't work right.'
Sun, 28 Jul 2013 23:52:04 GMT [ERROR] (errno: None) Failed to create target for route /q/static/
Sun, 28 Jul 2013 23:52:04 GMT [ERROR] (errno: None) End directory base with / in static/qoorateserver or it won't work right.'
Sun, 28 Jul 2013 23:52:04 GMT [ERROR] (errno: None) Failed to create target for route /q/robots.txt
Sun, 28 Jul 2013 23:52:04 GMT [ERROR] (errno: None) End directory base with / in static/qoorateserver or it won't work right.'
Sun, 28 Jul 2013 23:52:04 GMT [ERROR] (errno: None) Failed to create target for route /q/favicon.ico
Sun, 28 Jul 2013 23:52:04 GMT [INFO] (src/mime.c:49) MAX limits.mime_ext_len=128
Sun, 28 Jul 2013 23:52:04 GMT [INFO] (src/host.c:74) MAX limits.url_path=256, limits.host_name=256
Sun, 28 Jul 2013 23:52:04 GMT [INFO] (src/config/config.c:109) Loaded proxy 1:127.0.0.1:8081
Sun, 28 Jul 2013 23:52:04 GMT [INFO] (src/config/config.c:227) Loaded route 1:/:proxy for host 1:localhost
Sun, 28 Jul 2013 23:52:04 GMT [INFO] (src/handler.c:343) MAX limits.handler_stack=102400
Sun, 28 Jul 2013 23:52:04 GMT [INFO] (src/config/config.c:85) Loaded handler 1:ipc://run/qoorateserver/mongrel2_send:137b789e-b7eb-475a-8d5c-b16ab54493yu:ipc://run/qoorateserver/mongrel2_rcv:
Sun, 28 Jul 2013 23:52:04 GMT [INFO] (src/config/config.c:227) Loaded route 2:/q/:handler for host 1:localhost
Sun, 28 Jul 2013 23:52:04 GMT [INFO] (src/dir.c:195) MAX limits.dir_send_buffer=16384, limits.dir_max_path=256
Sun, 28 Jul 2013 23:52:04 GMT [INFO] (src/config/config.c:136) Loaded directory 1:static/qoorateserver/js/:index.html
Sun, 28 Jul 2013 23:52:04 GMT [INFO] (src/config/config.c:227) Loaded route 3:/q/js/:dir for host 1:localhost
Sun, 28 Jul 2013 23:52:04 GMT [INFO] (src/config/config.c:136) Loaded directory 2:static/qoorateserver/css/:index.html
Sun, 28 Jul 2013 23:52:04 GMT [INFO] (src/config/config.c:227) Loaded route 4:/q/css/:dir for host 1:localhost
Sun, 28 Jul 2013 23:52:04 GMT [INFO] (src/config/config.c:136) Loaded directory 3:static/qoorateserver/img/:index.html
Sun, 28 Jul 2013 23:52:04 GMT [INFO] (src/config/config.c:227) Loaded route 5:/q/img/:dir for host 1:localhost
Sun, 28 Jul 2013 23:52:04 GMT [INFO] (src/config/config.c:312) Loaded 1 hosts for server 1:fe76e442-da24-4708-b0ef-c4ahr2b7d131
Sun, 28 Jul 2013 23:52:04 GMT [INFO] (src/server.c:445) LOADING Handler ipc://run/qoorateserver/mongrel2_send
Sun, 28 Jul 2013 23:52:04 GMT [ERROR] (src/unixy.c:99: errno: No such file or directory) Failed to open PID file ../run/mongrel2.pid for reading.
Sun, 28 Jul 2013 23:52:04 GMT [INFO] (src/unixy.c:137) No previous mongrel2 running, continuing on.
Sun, 28 Jul 2013 23:52:04 GMT [INFO] (src/mongrel2.c:223) All loaded up, time to turn into a server.
Sun, 28 Jul 2013 23:52:04 GMT [INFO] (src/mongrel2.c:224) -- Starting Mongrel2/1.8.1. Copyright (C) Zed A. Shaw. Licensed BSD.

Sun, 28 Jul 2013 23:52:04 GMT [INFO] (src/mongrel2.c:225) -- Look in logs/error.log for startup messages and errors.
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
INFO:root:Using project directory: .
DEBUG:root:loading settings from ./conf/uploader/settings.py
INFO:root:Using coroutine library: gevent
DEBUG:root:******** START _service_registration *********
DEBUG:root:service_registration_passphrase: 137b789e-b7eb-475a-8d5a-b16ab544yurp
DEBUG:root:service_id: uploader
DEBUG:root:service_registration_addr: ipc://run/uploader/brubeck_svc_registration
DEBUG:root:service_passphrase: 137b789e-b7eb-475a-8d5a-b16ab544yurp
DEBUG:root:service_addr: ipc://run/uploader/brubeck_svc
DEBUG:root:service_response_addr: ipc://run/uploader/brubeck_svc_response
DEBUG:root:service_heartbeat_addr: None
DEBUG:root:service_heartbeat_timeout: 5
DEBUG:root:sender_id: 40567629abd543a993f5aaae8a8aca6f
DEBUG:root:is_reregistration: 0
DEBUG:root:service_heartbeat_interval: 3
DEBUG:root:******** END _service_registration *********
DEBUG:root:register_service: (service_registration_addr, service_registration_passphrase,service_heartbeat_timeout,sender_id): (ipc://run/uploader/brubeck_svc_registration,137b789e-b7eb-475a-8d5a-b16ab544yurp, 5, 40567629abd543a993f5aaae8a8aca6f)
DEBUG:root:service_registration sending request
DEBUG:root:service_registration waiting for response
INFO:root:Using project directory: .
DEBUG:root:loading settings from ./conf/qoorateserver/development.py
INFO:root:Using coroutine library: gevent
DEBUG:root:creating application db_conn pool
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:get EmbedHandler
DEBUG:root:to_unicode
DEBUG:root:embed_head
DEBUG:root:embed_head
DEBUG:root:to_unicode
DEBUG:root:action: embed_head 
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:set_table has key/secret
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = %s and `secret`= %s
        
DEBUG:root:escape_sql args: [u'12345', u'54321']
DEBUG:root:
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = '12345' and `secret`= '54321'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100b7e1d0>
DEBUG:root:returning True from authencticate.
DEBUG:root:set_table authenticated
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100b7e250>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has key/secret
DEBUG:root:returning `True` from authenticate cached.
DEBUG:root:set_table authenticated
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100b7e450>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100b7e5d0>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100b7e7d0>
DEBUG:root:qoorate preferences: {
    "THEME": "grid",
    "EMBED_CONF_JS": "
        var qoorateConfig = {
            QOORATE_URI: 'http://localhost',
            QOORATE_API_URI: 'http://localhost/q',
            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',
            XHR_PROXY_URI: '/q/feed',
            XHR_UPLOAD_URI: '/q/uploader',
            POST_MAX_LEN: 1000,
            PARENT_PAGE_SIZE: 10,
            CHILD_PAGE_SIZE: 10,
            AUTO_SCROLL: 1,
            THEME: 'grid',
            GRID_COLUMNS: 3,
            GRID_COLUMN_TRIM: 15,
            GRID_ROW_TRIM: 15
        };
        var qoorateLang = {
            FLAG_SUCCESS: 'Thanks for flagging this!',
            SHARE_SUCCESS: 'Thank you for sharing!',
            DELETE_SUCCESS: 'Thank you. This item has been deleted.',
            SIGNIN: 'Sign in using',
            SIGNEDIN: 'Signed in via',    
            OK: 'OK',
            CANCEL: 'Cancel',
            LOGOUT: 'Log Out',
            TOGGLE_ON: '+',
            TOGGLE_OFF: '-',
            CONTRIBUTION: 'Contribution',
            CONTRIBUTIONS: 'Contributions',
            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',
            REMOVE: 'Remove',
            LINK: 'Insert a link',
            TOPIC_COMMENT: 'Pose a Yes/No Question',
            COMMENT: 'Your Comment',
            IMAGE_COMMENT: 'Image Caption',
            POST_TO: 'Post to',
            POST_ANONYMOUS: 'Post anonymously',
            NICKNAME: 'Post as ',
            DEFAULT_NICKNAME: 'Anonymous',
            REPLY_LINK_COMMENT: 'Say something about your link',
            SHARE_COMMENT: 'comment about this share...',
            PUBLISH_BUTTON: 'Publish',
            POST_BUTTON: 'Post',
            POST_TO_BUTTON: 'Post To',
            REPLY_BUTTON: 'Reply',
            SHARE_BUTTON: 'Share',
            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',
            SELECT_IMAGE: 'Select an Image',
            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',
            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],
            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],
            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]
        };
    "
}

DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:preferences EMBED_CONF_JS:         var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    
DEBUG:root:embed_head called
INFO:root:200 GET /q/embed (127.0.0.1)
DEBUG:root:get EmbedHandler
DEBUG:root:to_unicode
DEBUG:root:embed_content
DEBUG:root:embed_content
DEBUG:root:to_unicode
DEBUG:root:action: embed_content 
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:set_table has key/secret
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = %s and `secret`= %s
        
DEBUG:root:escape_sql args: [u'12345', u'54321']
DEBUG:root:
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = '12345' and `secret`= '54321'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100b7e9d0>
DEBUG:root:returning True from authencticate.
DEBUG:root:set_table authenticated
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100b7ebd0>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has key/secret
DEBUG:root:returning `True` from authenticate cached.
DEBUG:root:set_table authenticated
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100b7edd0>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100b83050>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100b83210>
DEBUG:root:qoorate preferences: {
    "THEME": "grid",
    "EMBED_CONF_JS": "
        var qoorateConfig = {
            QOORATE_URI: 'http://localhost',
            QOORATE_API_URI: 'http://localhost/q',
            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',
            XHR_PROXY_URI: '/q/feed',
            XHR_UPLOAD_URI: '/q/uploader',
            POST_MAX_LEN: 1000,
            PARENT_PAGE_SIZE: 10,
            CHILD_PAGE_SIZE: 10,
            AUTO_SCROLL: 1,
            THEME: 'grid',
            GRID_COLUMNS: 3,
            GRID_COLUMN_TRIM: 15,
            GRID_ROW_TRIM: 15
        };
        var qoorateLang = {
            FLAG_SUCCESS: 'Thanks for flagging this!',
            SHARE_SUCCESS: 'Thank you for sharing!',
            DELETE_SUCCESS: 'Thank you. This item has been deleted.',
            SIGNIN: 'Sign in using',
            SIGNEDIN: 'Signed in via',    
            OK: 'OK',
            CANCEL: 'Cancel',
            LOGOUT: 'Log Out',
            TOGGLE_ON: '+',
            TOGGLE_OFF: '-',
            CONTRIBUTION: 'Contribution',
            CONTRIBUTIONS: 'Contributions',
            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',
            REMOVE: 'Remove',
            LINK: 'Insert a link',
            TOPIC_COMMENT: 'Pose a Yes/No Question',
            COMMENT: 'Your Comment',
            IMAGE_COMMENT: 'Image Caption',
            POST_TO: 'Post to',
            POST_ANONYMOUS: 'Post anonymously',
            NICKNAME: 'Post as ',
            DEFAULT_NICKNAME: 'Anonymous',
            REPLY_LINK_COMMENT: 'Say something about your link',
            SHARE_COMMENT: 'comment about this share...',
            PUBLISH_BUTTON: 'Publish',
            POST_BUTTON: 'Post',
            POST_TO_BUTTON: 'Post To',
            REPLY_BUTTON: 'Reply',
            SHARE_BUTTON: 'Share',
            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',
            SELECT_IMAGE: 'Select an Image',
            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',
            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],
            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],
            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]
        };
    "
}

DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:preferences EMBED_CONF_JS:         var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    
DEBUG:root:embed_content called (key,secret): (12345,54321)
DEBUG:root:returning `True` from authenticate cached.
DEBUG:root:get_content_context
DEBUG:root:table: q_brooklyncode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:init_db_conn
DEBUG:root:NOT creating db_conn
DEBUG:root:1
DEBUG:root:5
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT f.`parent_sequence` , f.`child_sequence` , f.`id` , f.`locationId` , f.`relatedId`,
                f.`parentId` , f.`userId` , `u`.`username`, u.`thumbnailLarge` as userThumbnailLarge,
                ur.`username` as relatedUsername, ur.`thumbnailLarge` as relatedUserThumbnailLarge, f.`type`,
                f.`is_anonymous` , r.`is_anonymous` as `related_is_anonymous`, f.`name` , f.`location` ,f.`description`,f.`referer`,
                f.`voteCount` , f.`voteNumber` , f.`votesUp` ,f.`votesDown` , f.`flagCount`,  f.`childCount`, f.`sortOrder` , f.`status`,
                f.`thumbnailSmall` ,f.`thumbnailLarge` , f.`changeDate` , f.`createDate`, f.`nickname`, r.`nickname` as `related_nickname`
            FROM (
                # this query adds the sequence fields to filter by for paging
                SELECT  s1.*, @parentrownum := convert( IF( ( parentId = 0), @parentrownum +1, @parentrownum ), UNSIGNED INTEGER) AS parent_sequence,
                @childrownum := IF( ( @lastparent = parentId), @childrownum + 1, 0 ) AS child_sequence,
                @lastparent := if( parentId=0, id, parentId ) AS dummy_used_for_last_parent
                FROM
                    # QUERY 2: this query sorts the results properly
                    (SELECT s0.* FROM
                        # QUERY 1: This query gets the results we need with calculated fields to sort by
                        # We should probably have these fields in the database so they are indexed
                        (SELECT
                        CONVERT( if( parentId = 0, @parentVoteNumber:=voteNumber,
                            @parentVoteNumber ), SIGNED INTEGER ) as groupVoteNumber,          # Will order groups using parent voteNumber
                        CONVERT( if( parentId = 0, @parentVoteCount:=voteCount,
                            @parentVoteCount ), SIGNED INTEGER ) as groupVoteCount,            # Will order groups using parent voteCount
                        CONVERT( if( parentId = 0, @parentCreateDate:=createDate,
                            @parentCreateDate ), DATETIME ) as groupCreateDate,                # Will order groups using parent createDate
                        CONVERT( if(parentId=0, id, parentId), UNSIGNED INTEGER) as groupId,   # will order groups together
                        CONVERT( if(parentId = 0, 0, 1), UNSIGNED INTEGER) as isChild,         # will order parent first in group
                        r.*
                        FROM (
                            # this just makes sure our groups are grouped in parent child order
                            SELECT * from q_brooklyncode o  WHERE o.location = '5e13bbb73127b9fc424e3728c6500f28' ORDER BY
                             if( o.relatedId = 0, o.id, o.relatedId),
                             if( o.relatedId = 0, 0, o.id )
                            ) r,
                        ( SELECT @parentVoteNumber := 0 ) pvn,
                        ( SELECT @parentVoteCount  := 0 ) pvc,
                        ( SELECT @parentCreateDate := 0 ) pcd
                         WHERE location = '5e13bbb73127b9fc424e3728c6500f28' 
                    ) s0
                    
                    
                    ORDER BY
                    
                s0.groupVoteNumber DESC,
                s0.groupVoteCount DESC,
                s0.groupCreateDate ASC,
                 
                    groupId  ASC, # first order by group
                    isChild ASC, # Then make sure the parent is first
                    
                s0.voteNumber DESC,
                s0.voteCount DESC,
                s0.createDate ASC
                
            ) s1,
            ( SELECT @parentrownum := 0 ) pr,
            ( SELECT @childrownum := 0 ) cr, 
            ( SELECT @lastparent := -1 ) lp) f
            LEFT JOIN user u on u.id = f.userId
            LEFT JOIN q_brooklyncode r on r.id = f.relatedId
            LEFT JOIN user ur on ur.id = r.userId
            WHERE
            ((0 = 6 and parent_sequence >= 1) or parent_sequence BETWEEN 1 AND 6)
            AND
            ((0 = 6 and child_sequence >= 1) or (child_sequence=0 or child_sequence BETWEEN 1 AND 6))
        
DEBUG:root:escape_sql args: None
DEBUG:root:
            SELECT f.`parent_sequence` , f.`child_sequence` , f.`id` , f.`locationId` , f.`relatedId`,
                f.`parentId` , f.`userId` , `u`.`username`, u.`thumbnailLarge` as userThumbnailLarge,
                ur.`username` as relatedUsername, ur.`thumbnailLarge` as relatedUserThumbnailLarge, f.`type`,
                f.`is_anonymous` , r.`is_anonymous` as `related_is_anonymous`, f.`name` , f.`location` ,f.`description`,f.`referer`,
                f.`voteCount` , f.`voteNumber` , f.`votesUp` ,f.`votesDown` , f.`flagCount`,  f.`childCount`, f.`sortOrder` , f.`status`,
                f.`thumbnailSmall` ,f.`thumbnailLarge` , f.`changeDate` , f.`createDate`, f.`nickname`, r.`nickname` as `related_nickname`
            FROM (
                # this query adds the sequence fields to filter by for paging
                SELECT  s1.*, @parentrownum := convert( IF( ( parentId = 0), @parentrownum +1, @parentrownum ), UNSIGNED INTEGER) AS parent_sequence,
                @childrownum := IF( ( @lastparent = parentId), @childrownum + 1, 0 ) AS child_sequence,
                @lastparent := if( parentId=0, id, parentId ) AS dummy_used_for_last_parent
                FROM
                    # QUERY 2: this query sorts the results properly
                    (SELECT s0.* FROM
                        # QUERY 1: This query gets the results we need with calculated fields to sort by
                        # We should probably have these fields in the database so they are indexed
                        (SELECT
                        CONVERT( if( parentId = 0, @parentVoteNumber:=voteNumber,
                            @parentVoteNumber ), SIGNED INTEGER ) as groupVoteNumber,          # Will order groups using parent voteNumber
                        CONVERT( if( parentId = 0, @parentVoteCount:=voteCount,
                            @parentVoteCount ), SIGNED INTEGER ) as groupVoteCount,            # Will order groups using parent voteCount
                        CONVERT( if( parentId = 0, @parentCreateDate:=createDate,
                            @parentCreateDate ), DATETIME ) as groupCreateDate,                # Will order groups using parent createDate
                        CONVERT( if(parentId=0, id, parentId), UNSIGNED INTEGER) as groupId,   # will order groups together
                        CONVERT( if(parentId = 0, 0, 1), UNSIGNED INTEGER) as isChild,         # will order parent first in group
                        r.*
                        FROM (
                            # this just makes sure our groups are grouped in parent child order
                            SELECT * from q_brooklyncode o  WHERE o.location = '5e13bbb73127b9fc424e3728c6500f28' ORDER BY
                             if( o.relatedId = 0, o.id, o.relatedId),
                             if( o.relatedId = 0, 0, o.id )
                            ) r,
                        ( SELECT @parentVoteNumber := 0 ) pvn,
                        ( SELECT @parentVoteCount  := 0 ) pvc,
                        ( SELECT @parentCreateDate := 0 ) pcd
                         WHERE location = '5e13bbb73127b9fc424e3728c6500f28' 
                    ) s0
                    
                    
                    ORDER BY
                    
                s0.groupVoteNumber DESC,
                s0.groupVoteCount DESC,
                s0.groupCreateDate ASC,
                 
                    groupId  ASC, # first order by group
                    isChild ASC, # Then make sure the parent is first
                    
                s0.voteNumber DESC,
                s0.voteCount DESC,
                s0.createDate ASC
                
            ) s1,
            ( SELECT @parentrownum := 0 ) pr,
            ( SELECT @childrownum := 0 ) cr, 
            ( SELECT @lastparent := -1 ) lp) f
            LEFT JOIN user u on u.id = f.userId
            LEFT JOIN q_brooklyncode r on r.id = f.relatedId
            LEFT JOIN user ur on ur.id = r.userId
            WHERE
            ((0 = 6 and parent_sequence >= 1) or parent_sequence BETWEEN 1 AND 6)
            AND
            ((0 = 6 and child_sequence >= 1) or (child_sequence=0 or child_sequence BETWEEN 1 AND 6))
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100b7e1d0>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = %s
        
DEBUG:root:escape_sql args: [1L]
DEBUG:root:
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = 1
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100b7e250>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = %s
        
DEBUG:root:escape_sql args: [2L]
DEBUG:root:
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = 2
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100b7e450>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = %s
        
DEBUG:root:escape_sql args: [3L]
DEBUG:root:
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = 3
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100b7e5d0>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = %s
        
DEBUG:root:escape_sql args: [4L]
DEBUG:root:
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = 4
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100b7e7d0>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = %s
        
DEBUG:root:escape_sql args: [5L]
DEBUG:root:
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = 5
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100b7e9d0>
DEBUG:root:Number of comments returned: 5
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:escape_sql args: []
DEBUG:root:
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100b7ebd0>
DEBUG:root:Number of contributions 5
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100b7edd0>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100b83050>
DEBUG:root:to_unicode
DEBUG:root:embed_content
DEBUG:root:embed_content
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:embed_content
DEBUG:root:embed_content
DEBUG:root:to_unicode
INFO:root:200 GET /q/embed (127.0.0.1)
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:set_table has q_short_name (12345)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100b83210>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has q_short_name (12345)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100b7e1d0>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:feed.prepare, table: q_brooklyncode
DEBUG:root:FeedHandler post
DEBUG:root:Body -> 
 action=getMore&location=5e13bbb73127b9fc424e3728c6500f28&referer=http%3A%2F%2Flocalhost%3A8081%2F%3Fp%3D1&q_short_name=12345&QOOID=QOO51f460f57c582&QOOTID=QOOT51f460f57c593&relatedId=5&moreIndex=11&sort=voting
DEBUG:root:Arguments -> 
 {"sort": ["voting"], "moreIndex": ["11"], "QOOID": ["QOO51f460f57c582"], "QOOTID": ["QOOT51f460f57c593"], "q_short_name": ["12345"], "location": ["5e13bbb73127b9fc424e3728c6500f28"], "action": ["getMore"], "referer": ["http://localhost:8081/?p=1"], "relatedId": ["5"]}
DEBUG:root:to_unicode
DEBUG:root:getMore
DEBUG:root:getMore
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:getMore
DEBUG:root:getMore
DEBUG:root:to_unicode
DEBUG:root:action: getMore
DEBUG:root:to_unicode
DEBUG:root:voting
DEBUG:root:voting
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:voting
DEBUG:root:voting
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:11
DEBUG:root:11
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:11
DEBUG:root:11
DEBUG:root:to_unicode
DEBUG:root:init_db_conn
DEBUG:root:NOT creating db_conn
DEBUG:root:11
DEBUG:root:5
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT f.`parent_sequence` , f.`child_sequence` , f.`id` , f.`locationId` , f.`relatedId`,
                f.`parentId` , f.`userId` , `u`.`username`, u.`thumbnailLarge` as userThumbnailLarge,
                ur.`username` as relatedUsername, ur.`thumbnailLarge` as relatedUserThumbnailLarge, f.`type`,
                f.`is_anonymous` , r.`is_anonymous` as `related_is_anonymous`, f.`name` , f.`location` ,f.`description`,f.`referer`,
                f.`voteCount` , f.`voteNumber` , f.`votesUp` ,f.`votesDown` , f.`flagCount`,  f.`childCount`, f.`sortOrder` , f.`status`,
                f.`thumbnailSmall` ,f.`thumbnailLarge` , f.`changeDate` , f.`createDate`, f.`nickname`, r.`nickname` as `related_nickname`
            FROM (
                # this query adds the sequence fields to filter by for paging
                SELECT  s1.*, @parentrownum := convert( IF( ( parentId = 0), @parentrownum +1, @parentrownum ), UNSIGNED INTEGER) AS parent_sequence,
                @childrownum := IF( ( @lastparent = parentId), @childrownum + 1, 0 ) AS child_sequence,
                @lastparent := if( parentId=0, id, parentId ) AS dummy_used_for_last_parent
                FROM
                    # QUERY 2: this query sorts the results properly
                    (SELECT s0.* FROM
                        # QUERY 1: This query gets the results we need with calculated fields to sort by
                        # We should probably have these fields in the database so they are indexed
                        (SELECT
                        CONVERT( if( parentId = 0, @parentVoteNumber:=voteNumber,
                            @parentVoteNumber ), SIGNED INTEGER ) as groupVoteNumber,          # Will order groups using parent voteNumber
                        CONVERT( if( parentId = 0, @parentVoteCount:=voteCount,
                            @parentVoteCount ), SIGNED INTEGER ) as groupVoteCount,            # Will order groups using parent voteCount
                        CONVERT( if( parentId = 0, @parentCreateDate:=createDate,
                            @parentCreateDate ), DATETIME ) as groupCreateDate,                # Will order groups using parent createDate
                        CONVERT( if(parentId=0, id, parentId), UNSIGNED INTEGER) as groupId,   # will order groups together
                        CONVERT( if(parentId = 0, 0, 1), UNSIGNED INTEGER) as isChild,         # will order parent first in group
                        r.*
                        FROM (
                            # this just makes sure our groups are grouped in parent child order
                            SELECT * from q_brooklyncode o  WHERE o.location = '5e13bbb73127b9fc424e3728c6500f28' ORDER BY
                             if( o.relatedId = 0, o.id, o.relatedId),
                             if( o.relatedId = 0, 0, o.id )
                            ) r,
                        ( SELECT @parentVoteNumber := 0 ) pvn,
                        ( SELECT @parentVoteCount  := 0 ) pvc,
                        ( SELECT @parentCreateDate := 0 ) pcd
                         WHERE location = '5e13bbb73127b9fc424e3728c6500f28' 
                    ) s0
                    
                    
                    ORDER BY
                    
                s0.groupVoteNumber DESC,
                s0.groupVoteCount DESC,
                s0.groupCreateDate ASC,
                 
                    groupId  ASC, # first order by group
                    isChild ASC, # Then make sure the parent is first
                    
                s0.voteNumber DESC,
                s0.voteCount DESC,
                s0.createDate ASC
                
            ) s1,
            ( SELECT @parentrownum := 0 ) pr,
            ( SELECT @childrownum := 0 ) cr, 
            ( SELECT @lastparent := -1 ) lp) f
            LEFT JOIN user u on u.id = f.userId
            LEFT JOIN q_brooklyncode r on r.id = f.relatedId
            LEFT JOIN user ur on ur.id = r.userId
            WHERE
            ((0 = 16 and parent_sequence >= 11) or parent_sequence BETWEEN 11 AND 16)
            AND
            ((0 = 6 and child_sequence >= 1) or (child_sequence=0 or child_sequence BETWEEN 1 AND 6))
        
DEBUG:root:escape_sql args: None
DEBUG:root:
            SELECT f.`parent_sequence` , f.`child_sequence` , f.`id` , f.`locationId` , f.`relatedId`,
                f.`parentId` , f.`userId` , `u`.`username`, u.`thumbnailLarge` as userThumbnailLarge,
                ur.`username` as relatedUsername, ur.`thumbnailLarge` as relatedUserThumbnailLarge, f.`type`,
                f.`is_anonymous` , r.`is_anonymous` as `related_is_anonymous`, f.`name` , f.`location` ,f.`description`,f.`referer`,
                f.`voteCount` , f.`voteNumber` , f.`votesUp` ,f.`votesDown` , f.`flagCount`,  f.`childCount`, f.`sortOrder` , f.`status`,
                f.`thumbnailSmall` ,f.`thumbnailLarge` , f.`changeDate` , f.`createDate`, f.`nickname`, r.`nickname` as `related_nickname`
            FROM (
                # this query adds the sequence fields to filter by for paging
                SELECT  s1.*, @parentrownum := convert( IF( ( parentId = 0), @parentrownum +1, @parentrownum ), UNSIGNED INTEGER) AS parent_sequence,
                @childrownum := IF( ( @lastparent = parentId), @childrownum + 1, 0 ) AS child_sequence,
                @lastparent := if( parentId=0, id, parentId ) AS dummy_used_for_last_parent
                FROM
                    # QUERY 2: this query sorts the results properly
                    (SELECT s0.* FROM
                        # QUERY 1: This query gets the results we need with calculated fields to sort by
                        # We should probably have these fields in the database so they are indexed
                        (SELECT
                        CONVERT( if( parentId = 0, @parentVoteNumber:=voteNumber,
                            @parentVoteNumber ), SIGNED INTEGER ) as groupVoteNumber,          # Will order groups using parent voteNumber
                        CONVERT( if( parentId = 0, @parentVoteCount:=voteCount,
                            @parentVoteCount ), SIGNED INTEGER ) as groupVoteCount,            # Will order groups using parent voteCount
                        CONVERT( if( parentId = 0, @parentCreateDate:=createDate,
                            @parentCreateDate ), DATETIME ) as groupCreateDate,                # Will order groups using parent createDate
                        CONVERT( if(parentId=0, id, parentId), UNSIGNED INTEGER) as groupId,   # will order groups together
                        CONVERT( if(parentId = 0, 0, 1), UNSIGNED INTEGER) as isChild,         # will order parent first in group
                        r.*
                        FROM (
                            # this just makes sure our groups are grouped in parent child order
                            SELECT * from q_brooklyncode o  WHERE o.location = '5e13bbb73127b9fc424e3728c6500f28' ORDER BY
                             if( o.relatedId = 0, o.id, o.relatedId),
                             if( o.relatedId = 0, 0, o.id )
                            ) r,
                        ( SELECT @parentVoteNumber := 0 ) pvn,
                        ( SELECT @parentVoteCount  := 0 ) pvc,
                        ( SELECT @parentCreateDate := 0 ) pcd
                         WHERE location = '5e13bbb73127b9fc424e3728c6500f28' 
                    ) s0
                    
                    
                    ORDER BY
                    
                s0.groupVoteNumber DESC,
                s0.groupVoteCount DESC,
                s0.groupCreateDate ASC,
                 
                    groupId  ASC, # first order by group
                    isChild ASC, # Then make sure the parent is first
                    
                s0.voteNumber DESC,
                s0.voteCount DESC,
                s0.createDate ASC
                
            ) s1,
            ( SELECT @parentrownum := 0 ) pr,
            ( SELECT @childrownum := 0 ) cr, 
            ( SELECT @lastparent := -1 ) lp) f
            LEFT JOIN user u on u.id = f.userId
            LEFT JOIN q_brooklyncode r on r.id = f.relatedId
            LEFT JOIN user ur on ur.id = r.userId
            WHERE
            ((0 = 16 and parent_sequence >= 11) or parent_sequence BETWEEN 11 AND 16)
            AND
            ((0 = 6 and child_sequence >= 1) or (child_sequence=0 or child_sequence BETWEEN 1 AND 6))
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100b7e250>
DEBUG:root:Number of comments returned: 0
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100b7e450>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100b7e5d0>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100b7e7d0>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100b7e9d0>
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:escape_sql sql: 
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:escape_sql args: []
DEBUG:root:
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100c10110>
DEBUG:root:Number of contributions 5
INFO:root:200 POST /q/feed (127.0.0.1)
DEBUG:root:get EmbedHandler
DEBUG:root:to_unicode
DEBUG:root:embed_head
DEBUG:root:embed_head
DEBUG:root:to_unicode
DEBUG:root:action: embed_head 
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:set_table has key/secret
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = %s and `secret`= %s
        
DEBUG:root:escape_sql args: [u'12345', u'54321']
DEBUG:root:
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = '12345' and `secret`= '54321'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100b7ebd0>
DEBUG:root:returning True from authencticate.
DEBUG:root:set_table authenticated
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100b7edd0>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has key/secret
DEBUG:root:returning `True` from authenticate cached.
DEBUG:root:set_table authenticated
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100b83050>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100b83210>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100b7e1d0>
DEBUG:root:qoorate preferences: {
    "THEME": "grid",
    "EMBED_CONF_JS": "
        var qoorateConfig = {
            QOORATE_URI: 'http://localhost',
            QOORATE_API_URI: 'http://localhost/q',
            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',
            XHR_PROXY_URI: '/q/feed',
            XHR_UPLOAD_URI: '/q/uploader',
            POST_MAX_LEN: 1000,
            PARENT_PAGE_SIZE: 10,
            CHILD_PAGE_SIZE: 10,
            AUTO_SCROLL: 1,
            THEME: 'grid',
            GRID_COLUMNS: 3,
            GRID_COLUMN_TRIM: 15,
            GRID_ROW_TRIM: 15
        };
        var qoorateLang = {
            FLAG_SUCCESS: 'Thanks for flagging this!',
            SHARE_SUCCESS: 'Thank you for sharing!',
            DELETE_SUCCESS: 'Thank you. This item has been deleted.',
            SIGNIN: 'Sign in using',
            SIGNEDIN: 'Signed in via',    
            OK: 'OK',
            CANCEL: 'Cancel',
            LOGOUT: 'Log Out',
            TOGGLE_ON: '+',
            TOGGLE_OFF: '-',
            CONTRIBUTION: 'Contribution',
            CONTRIBUTIONS: 'Contributions',
            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',
            REMOVE: 'Remove',
            LINK: 'Insert a link',
            TOPIC_COMMENT: 'Pose a Yes/No Question',
            COMMENT: 'Your Comment',
            IMAGE_COMMENT: 'Image Caption',
            POST_TO: 'Post to',
            POST_ANONYMOUS: 'Post anonymously',
            NICKNAME: 'Post as ',
            DEFAULT_NICKNAME: 'Anonymous',
            REPLY_LINK_COMMENT: 'Say something about your link',
            SHARE_COMMENT: 'comment about this share...',
            PUBLISH_BUTTON: 'Publish',
            POST_BUTTON: 'Post',
            POST_TO_BUTTON: 'Post To',
            REPLY_BUTTON: 'Reply',
            SHARE_BUTTON: 'Share',
            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',
            SELECT_IMAGE: 'Select an Image',
            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',
            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],
            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],
            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]
        };
    "
}

DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:preferences EMBED_CONF_JS:         var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    
DEBUG:root:embed_head called
INFO:root:200 GET /q/embed (127.0.0.1)
DEBUG:root:get EmbedHandler
DEBUG:root:to_unicode
DEBUG:root:embed_content
DEBUG:root:embed_content
DEBUG:root:to_unicode
DEBUG:root:action: embed_content 
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:set_table has key/secret
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = %s and `secret`= %s
        
DEBUG:root:escape_sql args: [u'12345', u'54321']
DEBUG:root:
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = '12345' and `secret`= '54321'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100b7e250>
DEBUG:root:returning True from authencticate.
DEBUG:root:set_table authenticated
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100b7e450>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has key/secret
DEBUG:root:returning `True` from authenticate cached.
DEBUG:root:set_table authenticated
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100b7e5d0>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100b7e7d0>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100b7e9d0>
DEBUG:root:qoorate preferences: {
    "THEME": "grid",
    "EMBED_CONF_JS": "
        var qoorateConfig = {
            QOORATE_URI: 'http://localhost',
            QOORATE_API_URI: 'http://localhost/q',
            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',
            XHR_PROXY_URI: '/q/feed',
            XHR_UPLOAD_URI: '/q/uploader',
            POST_MAX_LEN: 1000,
            PARENT_PAGE_SIZE: 10,
            CHILD_PAGE_SIZE: 10,
            AUTO_SCROLL: 1,
            THEME: 'grid',
            GRID_COLUMNS: 3,
            GRID_COLUMN_TRIM: 15,
            GRID_ROW_TRIM: 15
        };
        var qoorateLang = {
            FLAG_SUCCESS: 'Thanks for flagging this!',
            SHARE_SUCCESS: 'Thank you for sharing!',
            DELETE_SUCCESS: 'Thank you. This item has been deleted.',
            SIGNIN: 'Sign in using',
            SIGNEDIN: 'Signed in via',    
            OK: 'OK',
            CANCEL: 'Cancel',
            LOGOUT: 'Log Out',
            TOGGLE_ON: '+',
            TOGGLE_OFF: '-',
            CONTRIBUTION: 'Contribution',
            CONTRIBUTIONS: 'Contributions',
            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',
            REMOVE: 'Remove',
            LINK: 'Insert a link',
            TOPIC_COMMENT: 'Pose a Yes/No Question',
            COMMENT: 'Your Comment',
            IMAGE_COMMENT: 'Image Caption',
            POST_TO: 'Post to',
            POST_ANONYMOUS: 'Post anonymously',
            NICKNAME: 'Post as ',
            DEFAULT_NICKNAME: 'Anonymous',
            REPLY_LINK_COMMENT: 'Say something about your link',
            SHARE_COMMENT: 'comment about this share...',
            PUBLISH_BUTTON: 'Publish',
            POST_BUTTON: 'Post',
            POST_TO_BUTTON: 'Post To',
            REPLY_BUTTON: 'Reply',
            SHARE_BUTTON: 'Share',
            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',
            SELECT_IMAGE: 'Select an Image',
            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',
            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],
            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],
            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]
        };
    "
}

DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:preferences EMBED_CONF_JS:         var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    
DEBUG:root:embed_content called (key,secret): (12345,54321)
DEBUG:root:returning `True` from authenticate cached.
DEBUG:root:get_content_context
DEBUG:root:table: q_brooklyncode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:init_db_conn
DEBUG:root:NOT creating db_conn
DEBUG:root:1
DEBUG:root:5
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT f.`parent_sequence` , f.`child_sequence` , f.`id` , f.`locationId` , f.`relatedId`,
                f.`parentId` , f.`userId` , `u`.`username`, u.`thumbnailLarge` as userThumbnailLarge,
                ur.`username` as relatedUsername, ur.`thumbnailLarge` as relatedUserThumbnailLarge, f.`type`,
                f.`is_anonymous` , r.`is_anonymous` as `related_is_anonymous`, f.`name` , f.`location` ,f.`description`,f.`referer`,
                f.`voteCount` , f.`voteNumber` , f.`votesUp` ,f.`votesDown` , f.`flagCount`,  f.`childCount`, f.`sortOrder` , f.`status`,
                f.`thumbnailSmall` ,f.`thumbnailLarge` , f.`changeDate` , f.`createDate`, f.`nickname`, r.`nickname` as `related_nickname`
            FROM (
                # this query adds the sequence fields to filter by for paging
                SELECT  s1.*, @parentrownum := convert( IF( ( parentId = 0), @parentrownum +1, @parentrownum ), UNSIGNED INTEGER) AS parent_sequence,
                @childrownum := IF( ( @lastparent = parentId), @childrownum + 1, 0 ) AS child_sequence,
                @lastparent := if( parentId=0, id, parentId ) AS dummy_used_for_last_parent
                FROM
                    # QUERY 2: this query sorts the results properly
                    (SELECT s0.* FROM
                        # QUERY 1: This query gets the results we need with calculated fields to sort by
                        # We should probably have these fields in the database so they are indexed
                        (SELECT
                        CONVERT( if( parentId = 0, @parentVoteNumber:=voteNumber,
                            @parentVoteNumber ), SIGNED INTEGER ) as groupVoteNumber,          # Will order groups using parent voteNumber
                        CONVERT( if( parentId = 0, @parentVoteCount:=voteCount,
                            @parentVoteCount ), SIGNED INTEGER ) as groupVoteCount,            # Will order groups using parent voteCount
                        CONVERT( if( parentId = 0, @parentCreateDate:=createDate,
                            @parentCreateDate ), DATETIME ) as groupCreateDate,                # Will order groups using parent createDate
                        CONVERT( if(parentId=0, id, parentId), UNSIGNED INTEGER) as groupId,   # will order groups together
                        CONVERT( if(parentId = 0, 0, 1), UNSIGNED INTEGER) as isChild,         # will order parent first in group
                        r.*
                        FROM (
                            # this just makes sure our groups are grouped in parent child order
                            SELECT * from q_brooklyncode o  WHERE o.location = '5e13bbb73127b9fc424e3728c6500f28' ORDER BY
                             if( o.relatedId = 0, o.id, o.relatedId),
                             if( o.relatedId = 0, 0, o.id )
                            ) r,
                        ( SELECT @parentVoteNumber := 0 ) pvn,
                        ( SELECT @parentVoteCount  := 0 ) pvc,
                        ( SELECT @parentCreateDate := 0 ) pcd
                         WHERE location = '5e13bbb73127b9fc424e3728c6500f28' 
                    ) s0
                    
                    
                    ORDER BY
                    
                s0.groupVoteNumber DESC,
                s0.groupVoteCount DESC,
                s0.groupCreateDate ASC,
                 
                    groupId  ASC, # first order by group
                    isChild ASC, # Then make sure the parent is first
                    
                s0.voteNumber DESC,
                s0.voteCount DESC,
                s0.createDate ASC
                
            ) s1,
            ( SELECT @parentrownum := 0 ) pr,
            ( SELECT @childrownum := 0 ) cr, 
            ( SELECT @lastparent := -1 ) lp) f
            LEFT JOIN user u on u.id = f.userId
            LEFT JOIN q_brooklyncode r on r.id = f.relatedId
            LEFT JOIN user ur on ur.id = r.userId
            WHERE
            ((0 = 6 and parent_sequence >= 1) or parent_sequence BETWEEN 1 AND 6)
            AND
            ((0 = 6 and child_sequence >= 1) or (child_sequence=0 or child_sequence BETWEEN 1 AND 6))
        
DEBUG:root:escape_sql args: None
DEBUG:root:
            SELECT f.`parent_sequence` , f.`child_sequence` , f.`id` , f.`locationId` , f.`relatedId`,
                f.`parentId` , f.`userId` , `u`.`username`, u.`thumbnailLarge` as userThumbnailLarge,
                ur.`username` as relatedUsername, ur.`thumbnailLarge` as relatedUserThumbnailLarge, f.`type`,
                f.`is_anonymous` , r.`is_anonymous` as `related_is_anonymous`, f.`name` , f.`location` ,f.`description`,f.`referer`,
                f.`voteCount` , f.`voteNumber` , f.`votesUp` ,f.`votesDown` , f.`flagCount`,  f.`childCount`, f.`sortOrder` , f.`status`,
                f.`thumbnailSmall` ,f.`thumbnailLarge` , f.`changeDate` , f.`createDate`, f.`nickname`, r.`nickname` as `related_nickname`
            FROM (
                # this query adds the sequence fields to filter by for paging
                SELECT  s1.*, @parentrownum := convert( IF( ( parentId = 0), @parentrownum +1, @parentrownum ), UNSIGNED INTEGER) AS parent_sequence,
                @childrownum := IF( ( @lastparent = parentId), @childrownum + 1, 0 ) AS child_sequence,
                @lastparent := if( parentId=0, id, parentId ) AS dummy_used_for_last_parent
                FROM
                    # QUERY 2: this query sorts the results properly
                    (SELECT s0.* FROM
                        # QUERY 1: This query gets the results we need with calculated fields to sort by
                        # We should probably have these fields in the database so they are indexed
                        (SELECT
                        CONVERT( if( parentId = 0, @parentVoteNumber:=voteNumber,
                            @parentVoteNumber ), SIGNED INTEGER ) as groupVoteNumber,          # Will order groups using parent voteNumber
                        CONVERT( if( parentId = 0, @parentVoteCount:=voteCount,
                            @parentVoteCount ), SIGNED INTEGER ) as groupVoteCount,            # Will order groups using parent voteCount
                        CONVERT( if( parentId = 0, @parentCreateDate:=createDate,
                            @parentCreateDate ), DATETIME ) as groupCreateDate,                # Will order groups using parent createDate
                        CONVERT( if(parentId=0, id, parentId), UNSIGNED INTEGER) as groupId,   # will order groups together
                        CONVERT( if(parentId = 0, 0, 1), UNSIGNED INTEGER) as isChild,         # will order parent first in group
                        r.*
                        FROM (
                            # this just makes sure our groups are grouped in parent child order
                            SELECT * from q_brooklyncode o  WHERE o.location = '5e13bbb73127b9fc424e3728c6500f28' ORDER BY
                             if( o.relatedId = 0, o.id, o.relatedId),
                             if( o.relatedId = 0, 0, o.id )
                            ) r,
                        ( SELECT @parentVoteNumber := 0 ) pvn,
                        ( SELECT @parentVoteCount  := 0 ) pvc,
                        ( SELECT @parentCreateDate := 0 ) pcd
                         WHERE location = '5e13bbb73127b9fc424e3728c6500f28' 
                    ) s0
                    
                    
                    ORDER BY
                    
                s0.groupVoteNumber DESC,
                s0.groupVoteCount DESC,
                s0.groupCreateDate ASC,
                 
                    groupId  ASC, # first order by group
                    isChild ASC, # Then make sure the parent is first
                    
                s0.voteNumber DESC,
                s0.voteCount DESC,
                s0.createDate ASC
                
            ) s1,
            ( SELECT @parentrownum := 0 ) pr,
            ( SELECT @childrownum := 0 ) cr, 
            ( SELECT @lastparent := -1 ) lp) f
            LEFT JOIN user u on u.id = f.userId
            LEFT JOIN q_brooklyncode r on r.id = f.relatedId
            LEFT JOIN user ur on ur.id = r.userId
            WHERE
            ((0 = 6 and parent_sequence >= 1) or parent_sequence BETWEEN 1 AND 6)
            AND
            ((0 = 6 and child_sequence >= 1) or (child_sequence=0 or child_sequence BETWEEN 1 AND 6))
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100b7ebd0>
DEBUG:root:Number of comments returned: 0
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:escape_sql args: []
DEBUG:root:
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100b7edd0>
DEBUG:root:Number of contributions 0
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100b83050>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100b83210>
DEBUG:root:to_unicode
DEBUG:root:embed_content
DEBUG:root:embed_content
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:embed_content
DEBUG:root:embed_content
DEBUG:root:to_unicode
INFO:root:200 GET /q/embed (127.0.0.1)
DEBUG:root:None
DEBUG:root:{u'content-length': u'326549', u'PATTERN': u'/q/', u'x-forwarded-for': u'127.0.0.1', u'URI': u'/q/uploader?action=uploader&qqfile=Screen+Shot+2013-06-25+at+11.35.06+AM.png', u'accept': u'*/*', u'user-agent': u'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/28.0.1500.71 Safari/537.36', u'host': u'localhost', u'VERSION': u'HTTP/1.1', u'cookie': u'wordpress_8dec71ede39ad9ff3b3fbc03311bdc45=qoorate|1375142446|8148fbb3583470985c5fca59e75d635a; SBID=\\"!MZ6JnTJnDncb7k3n0Ya9Sg==?gAJVBFNCSURxAWN1dWlkClVVSUQKcQIpgXEDfXEEVQNpbnRxBYoQqUXRlREm8LXjTshLPYe7cXNihnEGLg==\\"; wordpress_test_cookie=WP Cookie check; wordpress_logged_in_8dec71ede39ad9ff3b3fbc03311bdc45=qoorate|1375142446|86fd9ec6d6a221f44c7b1244f05dcd23; QOOID=QOO51f460f57c582; QOOTID=QOOT51f460f57c593; wp-settings-time-1=1374970345', u'expect': u'100-continue', u'QUERY': u'action=uploader&qqfile=Screen+Shot+2013-06-25+at+11.35.06+AM.png', u'PATH': u'/q/uploader', u'content-type': u'application/x-www-form-urlencoded', u'METHOD': u'POST'}
DEBUG:root:TemporaryImageUploadHandler post
DEBUG:root:to_unicode
DEBUG:root:Screen Shot 2013-06-25 at 11.35.06 AM.png
DEBUG:root:Screen Shot 2013-06-25 at 11.35.06 AM.png
DEBUG:root:to_unicode
DEBUG:root:{'S3_PORT': 443, 'INIT_BUCKET': True, 'RETRY_INTERVAL': 60, 'S3_HOST': 's3.amazonaws.com', 'ACCEPTABLE_UPLOAD_MIME_TYPES': ['image/jpeg', 'image/gif', 'image/png'], 'IMAGE_INFO': [(None, 'JPEG', '_f', 'jpg'), ((300, 200), 'JPEG', '_t', 'jpg'), ((120, 200), 'JPEG', '_m', 'jpg'), ((170, 100), 'JPEG', '_f', 'jpg'), ((50, 50), 'JPEG', '_s', 'jpg')], 'TEMP_UPLOAD_DIR': 'tmp', 'SERVICE_INFO': {'SERVICE_ID': 'uploader', 'SERVICE_REGISTRATION_PASSPHRASE': '137b789e-b7eb-475a-8d5a-b16ab544yurp', 'ASYNC': False, 'SERVICE_REGISTRATION_ADDR': 'ipc://run/uploader/brubeck_svc_registration', 'SERVICE_ADDR': 'ipc://run/uploader/brubeck_svc'}, 'AMAZON_BUCKET': 'qoorate.brooklyncode', 'AMAZON_SECRET': 'K3NKUTZIZWQ9B1UzQcZpl5frT4VClA9Ud0gffWPC', 'AMAZON_KEY': 'AKIAIMJ3ACDQBKM4PBDQ'}
DEBUG:root:filename: Screen Shot 2013-06-25 at 11.35.06 AM.png
DEBUG:root:hash: 1fe8a631d5522d10e2cf2e4fabedc90b
DEBUG:root:download_file_name: ./tmp/1fe8a631d5522d10e2cf2e4fabedc90b
DEBUG:root:mime_type: image/png
DEBUG:root:checking mime_type: image/png
DEBUG:root:mime_type OK
DEBUG:root:width: 2234
DEBUG:root:height: 1602
DEBUG:root:['']
DEBUG:root:['']
DEBUG:root:to_unicode
DEBUG:root:òÀ”∫√X∑œ nr"EGz¨Å˝ fÔ¶ (îå§N58XT  B ZãC–ár Ñ*    8È¢≈W§_5ÉrØs$Ù¥  „‘ nê¡›Ô¡˝5ü_HÌ√$ `y è πHS )q Aü≈’   -gÚ}4 ÿq M 2ªÕ  Ä†øê 5„”¢Æ ,-±Và∏ÎÉ ∏øé^Q‚2∫Åä í à%)B ®‹oh(èyàC€‡\ um|´d© ¸“ò[gﬂ±I∑˝†5x	 s @m¯yv 2D xqí ∞’æÊ≥a]ë†X~Õe)≥*¯… (ì⁄ = ÓO˘c…ò ˙u ı{œìÓ t{€ Ã‡o” p¡L’ÔW*òU#— ˜ì 6>DÁ∫È‚FRYÃK∞ßln‘œI O¬)Q —@í úø¢úÅ ÄÿÑ≈X CZg‚*ÿ!fõR Ç Ã3K≈(¯ ˝íçÀ±Ò…ﬁÁgìi†)‡"^`òÄè m‰#≤¸œF\§Í"vtï(È”ìòc j z|á ≤ò[à üö«b Oc6=±≥±X∑l$vV1‡@‡$ u2ız ~‘∂fWƒv'    €úlÂCwy^x”–ÊØﬂ£u Æ x N™`ÍÃîK I„rÉN´ 	ùW•%PÁ uQó/ËvÉœ"∆xDY¿pMO< ¢ Ü≈•“\»— A∂ K∑[TƒÖ\›ñÛ~j O‰ òH ÿ»  π†Ê# «â ¬Ù~›5∏Øaú 7cç|íh¶” ÏD|∂8:∑ Æ∞ìÅŸ GœgtP?t  >õó8 Á´›¶´ç»  Aù=ëú•π˜Î€_´ ú.≈‘ ,?Ç?º úV
DEBUG:root:òÀ”∫√X∑œ nr"EGz¨Å˝ fÔ¶ (îå§N58XT  B ZãC–ár Ñ*    8È¢≈W§_5ÉrØs$Ù¥  „‘ nê¡›Ô¡˝5ü_HÌ√$ `y è πHS )q Aü≈’   -gÚ}4 ÿq M 2ªÕ  Ä†øê 5„”¢Æ ,-±Và∏ÎÉ ∏øé^Q‚2∫Åä í à%)B ®‹oh(èyàC€‡\ um|´d© ¸“ò[gﬂ±I∑˝†5x	 s @m¯yv 2D xqí ∞’æÊ≥a]ë†X~Õe)≥*¯… (ì⁄ = ÓO˘c…ò ˙u ı{œìÓ t{€ Ã‡o” p¡L’ÔW*òU#— ˜ì 6>DÁ∫È‚FRYÃK∞ßln‘œI O¬)Q —@í úø¢úÅ ÄÿÑ≈X CZg‚*ÿ!fõR Ç Ã3K≈(¯ ˝íçÀ±Ò…ﬁÁgìi†)‡"^`òÄè m‰#≤¸œF\§Í"vtï(È”ìòc j z|á ≤ò[à üö«b Oc6=±≥±X∑l$vV1‡@‡$ u2ız ~‘∂fWƒv'    €úlÂCwy^x”–ÊØﬂ£u Æ x N™`ÍÃîK I„rÉN´ 	ùW•%PÁ uQó/ËvÉœ"∆xDY¿pMO< ¢ Ü≈•“\»— A∂ K∑[TƒÖ\›ñÛ~j O‰ òH ÿ»  π†Ê# «â ¬Ù~›5∏Øaú 7cç|íh¶” ÏD|∂8:∑ Æ∞ìÅŸ GœgtP?t  >õó8 Á´›¶´ç»  Aù=ëú•π˜Î€_´ ú.≈‘ ,?Ç?º úV
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:`äÊb¬é2è´ å•ìNÄ BQé6gKç€l°( ò%xŸ π“ ¶áâ–Çiz@`∫¸Ö R$∏õÖ
»ùñµ
¬ê´ê'?:Ûÿ
DEBUG:root:`äÊb¬é2è´ å•ìNÄ BQé6gKç€l°( ò%xŸ π“ ¶áâ–Çiz@`∫¸Ö R$∏õÖ
»ùñµ
¬ê´ê'?:Ûÿ
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:8ªhhŒÛwJD˙Hü£ƒ,æoÓÄ◊˙É]ˇ˝^ø≥éπﬁì	¶^îqı ±¶{bäŸ	¸‰∆éO~4U”öñõ%æ‰™¨ecb}™¶   ˇı Ôq‡ >W¢d≥Fœ ±O{céÅOå	J‡ >Ú¢à ◊æ]E" {⁄›≈7 ìg∂t~ˆΩ°*¥Äd°b bı IŸ^øˇ CÖ  ›ÒdÓXöêç≤Ÿ∑ûˆ R, ﬁk• óÒÌö} ¥üÙŒ û_~¥-˝k ã ﬂtÒ›z„ë¿  Å˙Ò≤Ds ©óM ƒú ºâpºjKÁ™µ∆£⁄‡‡	d .Á8 ÜKf/ŒúU 9i∏j⁄ ç7∏<û√k:>_cÆ∑Ö !º …‚´4óéÊË÷5<˝£ÀÉ`%W ><ã˛⁄§¨ [ñøos"®rrﬁ”◊®VÛ™/¥kéxh˚™Ye”3oæF1êÜs∏àÀõR¡Z≥ë@H˚∫É¯TÊÓ√»ƒ "pé 8À3`"µj’Øx—B Ç—ôX
…ÔoUÂÖ$2—)íãAeCeEà≥ ®
DEBUG:root:8ªhhŒÛwJD˙Hü£ƒ,æoÓÄ◊˙É]ˇ˝^ø≥éπﬁì	¶^îqı ±¶{bäŸ	¸‰∆éO~4U”öñõ%æ‰™¨ecb}™¶   ˇı Ôq‡ >W¢d≥Fœ ±O{céÅOå	J‡ >Ú¢à ◊æ]E" {⁄›≈7 ìg∂t~ˆΩ°*¥Äd°b bı IŸ^øˇ CÖ  ›ÒdÓXöêç≤Ÿ∑ûˆ R, ﬁk• óÒÌö} ¥üÙŒ û_~¥-˝k ã ﬂtÒ›z„ë¿  Å˙Ò≤Ds ©óM ƒú ºâpºjKÁ™µ∆£⁄‡‡	d .Á8 ÜKf/ŒúU 9i∏j⁄ ç7∏<û√k:>_cÆ∑Ö !º …‚´4óéÊË÷5<˝£ÀÉ`%W ><ã˛⁄§¨ [ñøos"®rrﬁ”◊®VÛ™/¥kéxh˚™Ye”3oæF1êÜs∏àÀõR¡Z≥ë@H˚∫É¯TÊÓ√»ƒ "pé 8À3`"µj’Øx—B Ç—ôX
…ÔoUÂÖ$2—)íãAeCeEà≥ ®
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:i z≈FmÚLíå	åJ”ﬂCÆ~}√/%mE:’º˘∫…eäL Åñî∂v”5’écG 1:˜∑h»72	®µ_¯Ç.Õ˜—¿3lWÉcÁ áØs \ œ—Æ£Vù0˝
‹\Æè∂Eª¨T ÎóŒ—îÁ…t
úq≥=f∫ÆŒu˛å„TÎ– éä≤úó_ÕIê ¢Ä¿à#@, œøyå«<Ã∆
DEBUG:root:i z≈FmÚLíå	åJ”ﬂCÆ~}√/%mE:’º˘∫…eäL Åñî∂v”5’écG 1:˜∑h»72	®µ_¯Ç.Õ˜—¿3lWÉcÁ áØs \ œ—Æ£Vù0˝
‹\Æè∂Eª¨T ÎóŒ—îÁ…t
úq≥=f∫ÆŒu˛å„TÎ– éä≤úó_ÕIê ¢Ä¿à#@, œøyå«<Ã∆
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:¸líL	◊éÌXÕ≠Ot ú/1Ò˜=ù14xwÁ@ Q8¬◊õ^˙» PZj‘ ôw,3 ÂÂö5/â‡˘ÚÔM }–‚ÍB“õ ¢ÿŸ‚h4Ò  A2î!ûMOeÒú }ﬂ °µ   Ω*3ìçUvÃ≈≠:‘mr44q ÇJH’2F>O/4’⁄ 
DEBUG:root:¸líL	◊éÌXÕ≠Ot ú/1Ò˜=ù14xwÁ@ Q8¬◊õ^˙» PZj‘ ôw,3 ÂÂö5/â‡˘ÚÔM }–‚ÍB“õ ¢ÿŸ‚h4Ò  A2î!ûMOeÒú }ﬂ °µ   Ω*3ìçUvÃ≈≠:‘mr44q ÇJH’2F>O/4’⁄ 
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:©qN ∆ûrÂ_√û¯ßüÿR%cH˝¨p¨<˝‰S√üˇê◊B∞n^◊¨C.   Ä@ø  π®ﬂ–C≈@       Ä    @       Ä  Ë! ˆñ á<uáııSá≠àü05q»w ç MQˇó˜ﬁ ŒÀsŸ*l9 v  FI™zbÆ”.,∂, I(πˇ~çÂ‘ÁY™„ ∏Ùxÿπ6À A˝œ∂ 
RÌvÏ	 %˚€ |oùËñO ¥ﬂqL˘Õ™öãk YÅŸ"«
DEBUG:root:©qN ∆ûrÂ_√û¯ßüÿR%cH˝¨p¨<˝‰S√üˇê◊B∞n^◊¨C.   Ä@ø  π®ﬂ–C≈@       Ä    @       Ä  Ë! ˆñ á<uáııSá≠àü05q»w ç MQˇó˜ﬁ ŒÀsŸ*l9 v  FI™zbÆ”.,∂, I(πˇ~çÂ‘ÁY™„ ∏Ùxÿπ6À A˝œ∂ 
RÌvÏ	 %˚€ |oùËñO ¥ﬂqL˘Õ™öãk YÅŸ"«
DEBUG:root:to_unicode
INFO:root:200 POST /q/uploader (127.0.0.1)
DEBUG:root:None
DEBUG:root:{u'cookie': u'SBID="!MZ6JnTJnDncb7k3n0Ya9Sg==?gAJVBFNCSURxAWN1dWlkClVVSUQKcQIpgXEDfXEEVQNpbnRxBYoQqUXRlREm8LXjTshLPYe7cXNihnEGLg=="; wordpress_test_cookie=WP+Cookie+check; wordpress_logged_in_8dec71ede39ad9ff3b3fbc03311bdc45=qoorate%7C1375142446%7C86fd9ec6d6a221f44c7b1244f05dcd23; QOOID=QOO51f460f57c582; QOOTID=QOOT51f460f57c593; wp-settings-time-1=1374970345', u'accept-language': u'en-US,en;q=0.8', u'accept-encoding': u'gzip,deflate,sdch', u'PATTERN': u'/q/', u'x-forwarded-for': u'127.0.0.1', u'host': u'localhost', u'accept': u'image/webp,*/*;q=0.8', u'user-agent': u'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/28.0.1500.71 Safari/537.36', u'connection': u'keep-alive', u'VERSION': u'HTTP/1.1', u'referer': u'http://localhost:8081/?p=1', u'PATH': u'/q/uploader/images/1fe8a631d5522d10e2cf2e4fabedc90b', u'METHOD': u'GET', u'URI': u'/q/uploader/images/1fe8a631d5522d10e2cf2e4fabedc90b'}
DEBUG:root:TemporaryImageViewHandler get
DEBUG:root:filename: 1fe8a631d5522d10e2cf2e4fabedc90b
DEBUG:root:hash: <built-in function hash>
DEBUG:root:requested_file_name: ./tmp/1fe8a631d5522d10e2cf2e4fabedc90b
DEBUG:root:mime_type: image/png
INFO:root:200 GET /q/uploader/images/1fe8a631d5522d10e2cf2e4fabedc90b (127.0.0.1)
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:set_table has q_short_name (12345)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100b7e1d0>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has q_short_name (12345)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100b7e250>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:feed.prepare, table: q_brooklyncode
DEBUG:root:FeedHandler post
DEBUG:root:Body -> 
 replyComment=test&thumbnailLarge=1fe8a631d5522d10e2cf2e4fabedc90b&replyPhoto=&action=addItem&location=5e13bbb73127b9fc424e3728c6500f28&referer=http%3A%2F%2Flocalhost%3A8081%2F%3Fp%3D1&q_short_name=12345&QOOID=QOO51f460f57c582&QOOTID=QOOT51f460f57c593
DEBUG:root:Arguments -> 
 {"thumbnailLarge": ["1fe8a631d5522d10e2cf2e4fabedc90b"], "QOOID": ["QOO51f460f57c582"], "QOOTID": ["QOOT51f460f57c593"], "q_short_name": ["12345"], "location": ["5e13bbb73127b9fc424e3728c6500f28"], "replyComment": ["test"], "action": ["addItem"], "referer": ["http://localhost:8081/?p=1"]}
DEBUG:root:to_unicode
DEBUG:root:addItem
DEBUG:root:addItem
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:addItem
DEBUG:root:addItem
DEBUG:root:to_unicode
DEBUG:root:action: addItem
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100b7e450>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100b7e5d0>
DEBUG:root:to_unicode
DEBUG:root:test
DEBUG:root:test
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:test
DEBUG:root:test
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:1fe8a631d5522d10e2cf2e4fabedc90b
DEBUG:root:1fe8a631d5522d10e2cf2e4fabedc90b
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:1fe8a631d5522d10e2cf2e4fabedc90b
DEBUG:root:1fe8a631d5522d10e2cf2e4fabedc90b
DEBUG:root:to_unicode
DEBUG:root:spawning upload
DEBUG:root:upload_to_S3 : 1fe8a631d5522d10e2cf2e4fabedc90b
DEBUG:root:upload_to_S3 : 1fe8a631d5522d10e2cf2e4fabedc90b
DEBUG:root:create_images_for_S3
DEBUG:root:file_path: tmp
DEBUG:root:file_name: 1fe8a631d5522d10e2cf2e4fabedc90b
DEBUG:root:filename: tmp/1fe8a631d5522d10e2cf2e4fabedc90b
DEBUG:root:create_images_for_S3 image_infos: [(None, 'JPEG', '_f', 'jpg'), ((300, 200), 'JPEG', '_t', 'jpg'), ((120, 200), 'JPEG', '_m', 'jpg'), ((170, 100), 'JPEG', '_f', 'jpg'), ((50, 50), 'JPEG', '_s', 'jpg')] 
DEBUG:root:create_images_for_S3  image_info: (None, 'JPEG', '_f', 'jpg') 
DEBUG:root:filename created: 1fe8a631d5522d10e2cf2e4fabedc90b_f.jpg
DEBUG:root:create_images_for_S3  image_info: ((300, 200), 'JPEG', '_t', 'jpg') 
DEBUG:root:image_info[0]: (300, 200)
DEBUG:root:image_info[1]: JPEG
DEBUG:root:image_info[2]: _t
DEBUG:root:image_info[3]: jpg
DEBUG:root:filename created: 1fe8a631d5522d10e2cf2e4fabedc90b_t.jpg
DEBUG:root:create_images_for_S3  image_info: ((120, 200), 'JPEG', '_m', 'jpg') 
DEBUG:root:image_info[0]: (120, 200)
DEBUG:root:image_info[1]: JPEG
DEBUG:root:image_info[2]: _m
DEBUG:root:image_info[3]: jpg
DEBUG:root:filename created: 1fe8a631d5522d10e2cf2e4fabedc90b_m.jpg
DEBUG:root:create_images_for_S3  image_info: ((170, 100), 'JPEG', '_f', 'jpg') 
DEBUG:root:image_info[0]: (170, 100)
DEBUG:root:image_info[1]: JPEG
DEBUG:root:image_info[2]: _f
DEBUG:root:image_info[3]: jpg
DEBUG:root:filename created: 1fe8a631d5522d10e2cf2e4fabedc90b_f.jpg
DEBUG:root:create_images_for_S3  image_info: ((50, 50), 'JPEG', '_s', 'jpg') 
DEBUG:root:image_info[0]: (50, 50)
DEBUG:root:image_info[1]: JPEG
DEBUG:root:image_info[2]: _s
DEBUG:root:image_info[3]: jpg
DEBUG:root:filename created: 1fe8a631d5522d10e2cf2e4fabedc90b_s.jpg
DEBUG:root:create_images_for_S3 return filenames: [u'1fe8a631d5522d10e2cf2e4fabedc90b_f.jpg', u'1fe8a631d5522d10e2cf2e4fabedc90b_t.jpg', u'1fe8a631d5522d10e2cf2e4fabedc90b_m.jpg', u'1fe8a631d5522d10e2cf2e4fabedc90b_f.jpg', u'1fe8a631d5522d10e2cf2e4fabedc90b_s.jpg'] 
DEBUG:root:file_names: [u'1fe8a631d5522d10e2cf2e4fabedc90b_f.jpg', u'1fe8a631d5522d10e2cf2e4fabedc90b_t.jpg', u'1fe8a631d5522d10e2cf2e4fabedc90b_m.jpg', u'1fe8a631d5522d10e2cf2e4fabedc90b_f.jpg', u'1fe8a631d5522d10e2cf2e4fabedc90b_s.jpg']
DEBUG:root:len(file_names): 5
DEBUG:boto:path=/
DEBUG:boto:auth_path=/qoorate.brooklyncode/
DEBUG:boto:Method: PUT
DEBUG:boto:Path: /
DEBUG:boto:Data: 
DEBUG:boto:Headers: {}
DEBUG:boto:Host: qoorate.brooklyncode.s3.amazonaws.com
DEBUG:boto:establishing HTTPS connection: host=qoorate.brooklyncode.s3.amazonaws.com, kwargs={}
DEBUG:boto:Token: None
DEBUG:boto:StringToSign:
PUT


Sun, 28 Jul 2013 23:53:35 GMT
/qoorate.brooklyncode/
DEBUG:boto:path=/
DEBUG:boto:auth_path=/qoorate.brooklyncode/
DEBUG:boto:path=/?policy
DEBUG:boto:auth_path=/qoorate.brooklyncode/?policy
DEBUG:boto:Method: PUT
DEBUG:boto:Path: /?policy
DEBUG:boto:Data: {
                    "Version": "2008-10-17",
                    "Statement": [
                        {
                            "Sid": "AddPerm",
                            "Effect": "Allow",
                            "Principal": {
                                "AWS": "*"
                            },
                            "Action": "s3:GetObject",
                            "Resource": "arn:aws:s3:::qoorate.brooklyncode/*"
                        }
                    ]
                }
            
DEBUG:boto:Headers: {}
DEBUG:boto:Host: qoorate.brooklyncode.s3.amazonaws.com
DEBUG:boto:Token: None
DEBUG:boto:StringToSign:
PUT


Sun, 28 Jul 2013 23:53:36 GMT
/qoorate.brooklyncode/?policy
DEBUG:root:create_images_for_S3
DEBUG:root:file_path: tmp
DEBUG:root:file_name: 1fe8a631d5522d10e2cf2e4fabedc90b
DEBUG:root:filename: tmp/1fe8a631d5522d10e2cf2e4fabedc90b
DEBUG:root:create_images_for_S3 image_infos: [(None, 'JPEG', '_f', 'jpg'), ((300, 200), 'JPEG', '_t', 'jpg'), ((120, 200), 'JPEG', '_m', 'jpg'), ((170, 100), 'JPEG', '_f', 'jpg'), ((50, 50), 'JPEG', '_s', 'jpg')] 
DEBUG:root:create_images_for_S3  image_info: (None, 'JPEG', '_f', 'jpg') 
DEBUG:root:filename created: 1fe8a631d5522d10e2cf2e4fabedc90b_f.jpg
DEBUG:root:create_images_for_S3  image_info: ((300, 200), 'JPEG', '_t', 'jpg') 
DEBUG:root:image_info[0]: (300, 200)
DEBUG:root:image_info[1]: JPEG
DEBUG:root:image_info[2]: _t
DEBUG:root:image_info[3]: jpg
DEBUG:root:filename created: 1fe8a631d5522d10e2cf2e4fabedc90b_t.jpg
DEBUG:root:create_images_for_S3  image_info: ((120, 200), 'JPEG', '_m', 'jpg') 
DEBUG:root:image_info[0]: (120, 200)
DEBUG:root:image_info[1]: JPEG
DEBUG:root:image_info[2]: _m
DEBUG:root:image_info[3]: jpg
DEBUG:root:filename created: 1fe8a631d5522d10e2cf2e4fabedc90b_m.jpg
DEBUG:root:create_images_for_S3  image_info: ((170, 100), 'JPEG', '_f', 'jpg') 
DEBUG:root:image_info[0]: (170, 100)
DEBUG:root:image_info[1]: JPEG
DEBUG:root:image_info[2]: _f
DEBUG:root:image_info[3]: jpg
DEBUG:root:filename created: 1fe8a631d5522d10e2cf2e4fabedc90b_f.jpg
DEBUG:root:create_images_for_S3  image_info: ((50, 50), 'JPEG', '_s', 'jpg') 
DEBUG:root:image_info[0]: (50, 50)
DEBUG:root:image_info[1]: JPEG
DEBUG:root:image_info[2]: _s
DEBUG:root:image_info[3]: jpg
DEBUG:root:filename created: 1fe8a631d5522d10e2cf2e4fabedc90b_s.jpg
DEBUG:root:create_images_for_S3 return filenames: [u'1fe8a631d5522d10e2cf2e4fabedc90b_f.jpg', u'1fe8a631d5522d10e2cf2e4fabedc90b_t.jpg', u'1fe8a631d5522d10e2cf2e4fabedc90b_m.jpg', u'1fe8a631d5522d10e2cf2e4fabedc90b_f.jpg', u'1fe8a631d5522d10e2cf2e4fabedc90b_s.jpg'] 
DEBUG:root:file_names: [u'1fe8a631d5522d10e2cf2e4fabedc90b_f.jpg', u'1fe8a631d5522d10e2cf2e4fabedc90b_t.jpg', u'1fe8a631d5522d10e2cf2e4fabedc90b_m.jpg', u'1fe8a631d5522d10e2cf2e4fabedc90b_f.jpg', u'1fe8a631d5522d10e2cf2e4fabedc90b_s.jpg']
DEBUG:root:images: [u'1fe8a631d5522d10e2cf2e4fabedc90b_f.jpg', u'1fe8a631d5522d10e2cf2e4fabedc90b_t.jpg', u'1fe8a631d5522d10e2cf2e4fabedc90b_m.jpg', u'1fe8a631d5522d10e2cf2e4fabedc90b_f.jpg', u'1fe8a631d5522d10e2cf2e4fabedc90b_s.jpg']
DEBUG:root:image_file_name: 1fe8a631d5522d10e2cf2e4fabedc90b_f.jpg
DEBUG:root:Uploading 1fe8a631d5522d10e2cf2e4fabedc90b_f.jpg to Amazon S3 bucket qoorate.brooklyncode
DEBUG:boto:path=/1fe8a631d5522d10e2cf2e4fabedc90b_f.jpg
DEBUG:boto:auth_path=/qoorate.brooklyncode/1fe8a631d5522d10e2cf2e4fabedc90b_f.jpg
DEBUG:boto:Method: PUT
DEBUG:boto:Path: /1fe8a631d5522d10e2cf2e4fabedc90b_f.jpg
DEBUG:boto:Data: 
DEBUG:boto:Headers: {'Content-Length': '2906', 'Content-MD5': '3w92jeom5TJe9IIMdPFWhw==', 'Content-Type': 'image/jpeg', 'Expect': '100-Continue', 'User-Agent': 'Boto/2.2.2 (darwin)'}
DEBUG:boto:Host: qoorate.brooklyncode.s3.amazonaws.com
DEBUG:boto:Token: None
DEBUG:boto:StringToSign:
PUT
3w92jeom5TJe9IIMdPFWhw==
image/jpeg
Sun, 28 Jul 2013 23:53:37 GMT
/qoorate.brooklyncode/1fe8a631d5522d10e2cf2e4fabedc90b_f.jpg
DEBUG:boto:path=/1fe8a631d5522d10e2cf2e4fabedc90b_f.jpg
DEBUG:boto:auth_path=/qoorate.brooklyncode/1fe8a631d5522d10e2cf2e4fabedc90b_f.jpg
DEBUG:boto:path=/1fe8a631d5522d10e2cf2e4fabedc90b_f.jpg?acl
DEBUG:boto:auth_path=/qoorate.brooklyncode/1fe8a631d5522d10e2cf2e4fabedc90b_f.jpg?acl
DEBUG:boto:Method: PUT
DEBUG:boto:Path: /1fe8a631d5522d10e2cf2e4fabedc90b_f.jpg?acl
DEBUG:boto:Data: 
DEBUG:boto:Headers: {'x-amz-acl': 'public-read'}
DEBUG:boto:Host: qoorate.brooklyncode.s3.amazonaws.com
DEBUG:boto:Token: None
DEBUG:boto:StringToSign:
PUT


Sun, 28 Jul 2013 23:53:37 GMT
x-amz-acl:public-read
/qoorate.brooklyncode/1fe8a631d5522d10e2cf2e4fabedc90b_f.jpg?acl
DEBUG:root:image_file_name: 1fe8a631d5522d10e2cf2e4fabedc90b_t.jpg
DEBUG:root:Uploading 1fe8a631d5522d10e2cf2e4fabedc90b_t.jpg to Amazon S3 bucket qoorate.brooklyncode
DEBUG:boto:path=/1fe8a631d5522d10e2cf2e4fabedc90b_t.jpg
DEBUG:boto:auth_path=/qoorate.brooklyncode/1fe8a631d5522d10e2cf2e4fabedc90b_t.jpg
DEBUG:boto:Method: PUT
DEBUG:boto:Path: /1fe8a631d5522d10e2cf2e4fabedc90b_t.jpg
DEBUG:boto:Data: 
DEBUG:boto:Headers: {'Content-Length': '10882', 'Content-MD5': 'Pot+s3j73LCT/Y3SA/b6Bw==', 'Content-Type': 'image/jpeg', 'Expect': '100-Continue', 'User-Agent': 'Boto/2.2.2 (darwin)'}
DEBUG:boto:Host: qoorate.brooklyncode.s3.amazonaws.com
DEBUG:boto:Token: None
DEBUG:boto:StringToSign:
PUT
Pot+s3j73LCT/Y3SA/b6Bw==
image/jpeg
Sun, 28 Jul 2013 23:53:37 GMT
/qoorate.brooklyncode/1fe8a631d5522d10e2cf2e4fabedc90b_t.jpg
DEBUG:boto:path=/1fe8a631d5522d10e2cf2e4fabedc90b_t.jpg
DEBUG:boto:auth_path=/qoorate.brooklyncode/1fe8a631d5522d10e2cf2e4fabedc90b_t.jpg
DEBUG:boto:path=/1fe8a631d5522d10e2cf2e4fabedc90b_t.jpg?acl
DEBUG:boto:auth_path=/qoorate.brooklyncode/1fe8a631d5522d10e2cf2e4fabedc90b_t.jpg?acl
DEBUG:boto:Method: PUT
DEBUG:boto:Path: /1fe8a631d5522d10e2cf2e4fabedc90b_t.jpg?acl
DEBUG:boto:Data: 
DEBUG:boto:Headers: {'x-amz-acl': 'public-read'}
DEBUG:boto:Host: qoorate.brooklyncode.s3.amazonaws.com
DEBUG:boto:Token: None
DEBUG:boto:StringToSign:
PUT


Sun, 28 Jul 2013 23:53:37 GMT
x-amz-acl:public-read
/qoorate.brooklyncode/1fe8a631d5522d10e2cf2e4fabedc90b_t.jpg?acl
DEBUG:root:image_file_name: 1fe8a631d5522d10e2cf2e4fabedc90b_m.jpg
DEBUG:root:Uploading 1fe8a631d5522d10e2cf2e4fabedc90b_m.jpg to Amazon S3 bucket qoorate.brooklyncode
DEBUG:boto:path=/1fe8a631d5522d10e2cf2e4fabedc90b_m.jpg
DEBUG:boto:auth_path=/qoorate.brooklyncode/1fe8a631d5522d10e2cf2e4fabedc90b_m.jpg
DEBUG:boto:Method: PUT
DEBUG:boto:Path: /1fe8a631d5522d10e2cf2e4fabedc90b_m.jpg
DEBUG:boto:Data: 
DEBUG:boto:Headers: {'Content-Length': '2906', 'Content-MD5': '3w92jeom5TJe9IIMdPFWhw==', 'Content-Type': 'image/jpeg', 'Expect': '100-Continue', 'User-Agent': 'Boto/2.2.2 (darwin)'}
DEBUG:boto:Host: qoorate.brooklyncode.s3.amazonaws.com
DEBUG:boto:Token: None
DEBUG:boto:StringToSign:
PUT
3w92jeom5TJe9IIMdPFWhw==
image/jpeg
Sun, 28 Jul 2013 23:53:37 GMT
/qoorate.brooklyncode/1fe8a631d5522d10e2cf2e4fabedc90b_m.jpg
DEBUG:boto:path=/1fe8a631d5522d10e2cf2e4fabedc90b_m.jpg
DEBUG:boto:auth_path=/qoorate.brooklyncode/1fe8a631d5522d10e2cf2e4fabedc90b_m.jpg
DEBUG:boto:path=/1fe8a631d5522d10e2cf2e4fabedc90b_m.jpg?acl
DEBUG:boto:auth_path=/qoorate.brooklyncode/1fe8a631d5522d10e2cf2e4fabedc90b_m.jpg?acl
DEBUG:boto:Method: PUT
DEBUG:boto:Path: /1fe8a631d5522d10e2cf2e4fabedc90b_m.jpg?acl
DEBUG:boto:Data: 
DEBUG:boto:Headers: {'x-amz-acl': 'public-read'}
DEBUG:boto:Host: qoorate.brooklyncode.s3.amazonaws.com
DEBUG:boto:Token: None
DEBUG:boto:StringToSign:
PUT


Sun, 28 Jul 2013 23:53:37 GMT
x-amz-acl:public-read
/qoorate.brooklyncode/1fe8a631d5522d10e2cf2e4fabedc90b_m.jpg?acl
DEBUG:root:image_file_name: 1fe8a631d5522d10e2cf2e4fabedc90b_f.jpg
DEBUG:root:Uploading 1fe8a631d5522d10e2cf2e4fabedc90b_f.jpg to Amazon S3 bucket qoorate.brooklyncode
DEBUG:boto:path=/1fe8a631d5522d10e2cf2e4fabedc90b_f.jpg
DEBUG:boto:auth_path=/qoorate.brooklyncode/1fe8a631d5522d10e2cf2e4fabedc90b_f.jpg
DEBUG:boto:Method: PUT
DEBUG:boto:Path: /1fe8a631d5522d10e2cf2e4fabedc90b_f.jpg
DEBUG:boto:Data: 
DEBUG:boto:Headers: {'Content-Length': '2906', 'Content-MD5': '3w92jeom5TJe9IIMdPFWhw==', 'Content-Type': 'image/jpeg', 'Expect': '100-Continue', 'User-Agent': 'Boto/2.2.2 (darwin)'}
DEBUG:boto:Host: qoorate.brooklyncode.s3.amazonaws.com
DEBUG:boto:Token: None
DEBUG:boto:StringToSign:
PUT
3w92jeom5TJe9IIMdPFWhw==
image/jpeg
Sun, 28 Jul 2013 23:53:38 GMT
/qoorate.brooklyncode/1fe8a631d5522d10e2cf2e4fabedc90b_f.jpg
DEBUG:boto:path=/1fe8a631d5522d10e2cf2e4fabedc90b_f.jpg
DEBUG:boto:auth_path=/qoorate.brooklyncode/1fe8a631d5522d10e2cf2e4fabedc90b_f.jpg
DEBUG:boto:path=/1fe8a631d5522d10e2cf2e4fabedc90b_f.jpg?acl
DEBUG:boto:auth_path=/qoorate.brooklyncode/1fe8a631d5522d10e2cf2e4fabedc90b_f.jpg?acl
DEBUG:boto:Method: PUT
DEBUG:boto:Path: /1fe8a631d5522d10e2cf2e4fabedc90b_f.jpg?acl
DEBUG:boto:Data: 
DEBUG:boto:Headers: {'x-amz-acl': 'public-read'}
DEBUG:boto:Host: qoorate.brooklyncode.s3.amazonaws.com
DEBUG:boto:Token: None
DEBUG:boto:StringToSign:
PUT


Sun, 28 Jul 2013 23:53:38 GMT
x-amz-acl:public-read
/qoorate.brooklyncode/1fe8a631d5522d10e2cf2e4fabedc90b_f.jpg?acl
DEBUG:root:image_file_name: 1fe8a631d5522d10e2cf2e4fabedc90b_s.jpg
DEBUG:root:Uploading 1fe8a631d5522d10e2cf2e4fabedc90b_s.jpg to Amazon S3 bucket qoorate.brooklyncode
DEBUG:boto:path=/1fe8a631d5522d10e2cf2e4fabedc90b_s.jpg
DEBUG:boto:auth_path=/qoorate.brooklyncode/1fe8a631d5522d10e2cf2e4fabedc90b_s.jpg
DEBUG:boto:Method: PUT
DEBUG:boto:Path: /1fe8a631d5522d10e2cf2e4fabedc90b_s.jpg
DEBUG:boto:Data: 
DEBUG:boto:Headers: {'Content-Length': '1046', 'Content-MD5': '4xZXCwGi9NF//6Edrgy03w==', 'Content-Type': 'image/jpeg', 'Expect': '100-Continue', 'User-Agent': 'Boto/2.2.2 (darwin)'}
DEBUG:boto:Host: qoorate.brooklyncode.s3.amazonaws.com
DEBUG:boto:Token: None
DEBUG:boto:StringToSign:
PUT
4xZXCwGi9NF//6Edrgy03w==
image/jpeg
Sun, 28 Jul 2013 23:53:38 GMT
/qoorate.brooklyncode/1fe8a631d5522d10e2cf2e4fabedc90b_s.jpg
DEBUG:boto:path=/1fe8a631d5522d10e2cf2e4fabedc90b_s.jpg
DEBUG:boto:auth_path=/qoorate.brooklyncode/1fe8a631d5522d10e2cf2e4fabedc90b_s.jpg
DEBUG:boto:path=/1fe8a631d5522d10e2cf2e4fabedc90b_s.jpg?acl
DEBUG:boto:auth_path=/qoorate.brooklyncode/1fe8a631d5522d10e2cf2e4fabedc90b_s.jpg?acl
DEBUG:boto:Method: PUT
DEBUG:boto:Path: /1fe8a631d5522d10e2cf2e4fabedc90b_s.jpg?acl
DEBUG:boto:Data: 
DEBUG:boto:Headers: {'x-amz-acl': 'public-read'}
DEBUG:boto:Host: qoorate.brooklyncode.s3.amazonaws.com
DEBUG:boto:Token: None
DEBUG:boto:StringToSign:
PUT


Sun, 28 Jul 2013 23:53:38 GMT
x-amz-acl:public-read
/qoorate.brooklyncode/1fe8a631d5522d10e2cf2e4fabedc90b_s.jpg?acl
DEBUG:root:spawned upload
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:http://localhost:8081/?p=1
DEBUG:root:http://localhost:8081/?p=1
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:http://localhost:8081/?p=1
DEBUG:root:http://localhost:8081/?p=1
DEBUG:root:to_unicode
DEBUG:root:MySqlApiQueryset create_one
DEBUG:root:MySqlApiQueryset create_one sql: 
                INSERT INTO `q_brooklyncode` 
                set id=%s,locationId=%s,relatedId=%s,parentId=%s,userId=%s,type=%s,name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s,createDate=%s 
                ON DUPLICATE KEY UPDATE
                name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s
                
DEBUG:root:execute
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:execute args: [None, 0L, 0L, 0L, 1L, 1L, u'test', u'5e13bbb73127b9fc424e3728c6500f28', None, 0L, 0L, 0L, 0L, 0L, 0L, 0L, '', None, u'1fe8a631d5522d10e2cf2e4fabedc90b', u'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 19, 53, 38, 355293), datetime.datetime(2013, 7, 28, 19, 53, 38, 355293), u'test', u'5e13bbb73127b9fc424e3728c6500f28', None, 0L, 0L, 0L, 0L, 0L, 0L, 0L, '', None, u'1fe8a631d5522d10e2cf2e4fabedc90b', u'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 19, 53, 38, 355293)]
DEBUG:root:escape_sql sql: 
                INSERT INTO `q_brooklyncode` 
                set id=%s,locationId=%s,relatedId=%s,parentId=%s,userId=%s,type=%s,name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s,createDate=%s 
                ON DUPLICATE KEY UPDATE
                name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s
                
DEBUG:root:escape_sql args: [None, 0L, 0L, 0L, 1L, 1L, u'test', u'5e13bbb73127b9fc424e3728c6500f28', None, 0L, 0L, 0L, 0L, 0L, 0L, 0L, '', None, u'1fe8a631d5522d10e2cf2e4fabedc90b', u'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 19, 53, 38, 355293), datetime.datetime(2013, 7, 28, 19, 53, 38, 355293), u'test', u'5e13bbb73127b9fc424e3728c6500f28', None, 0L, 0L, 0L, 0L, 0L, 0L, 0L, '', None, u'1fe8a631d5522d10e2cf2e4fabedc90b', u'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 19, 53, 38, 355293)]
DEBUG:root:
                INSERT INTO `q_brooklyncode` 
                set id=NULL,locationId=0,relatedId=0,parentId=0,userId=1,type=1,name='test',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=0,voteNumber=0,votesUp=0,votesDown=0,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge='1fe8a631d5522d10e2cf2e4fabedc90b',referer='http://localhost:8081/?p=1',changeDate='2013-07-28 19:53:38',createDate='2013-07-28 19:53:38' 
                ON DUPLICATE KEY UPDATE
                name='test',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=0,voteNumber=0,votesUp=0,votesDown=0,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge='1fe8a631d5522d10e2cf2e4fabedc90b',referer='http://localhost:8081/?p=1',changeDate='2013-07-28 19:53:38'
                
DEBUG:root:execute: 
                INSERT INTO `q_brooklyncode` 
                set id=NULL,locationId=0,relatedId=0,parentId=0,userId=1,type=1,name='test',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=0,voteNumber=0,votesUp=0,votesDown=0,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge='1fe8a631d5522d10e2cf2e4fabedc90b',referer='http://localhost:8081/?p=1',changeDate='2013-07-28 19:53:38',createDate='2013-07-28 19:53:38' 
                ON DUPLICATE KEY UPDATE
                name='test',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=0,voteNumber=0,votesUp=0,votesDown=0,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge='1fe8a631d5522d10e2cf2e4fabedc90b',referer='http://localhost:8081/?p=1',changeDate='2013-07-28 19:53:38'
                
DEBUG:root:MySqlApiQueryset create_one (status, affected_rows): (Created, 1)
DEBUG:root:inserted_id: 1)
DEBUG:root:update_child_count(Comment object)
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:escape_sql sql: 
            SELECT count(*) as `childCount`
            FROM `q_brooklyncode` `f`
            WHERE `f`.`parentId`= %s
            
DEBUG:root:escape_sql args: [1L]
DEBUG:root:
            SELECT count(*) as `childCount`
            FROM `q_brooklyncode` `f`
            WHERE `f`.`parentId`= 1
            
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100c32850>
DEBUG:root:child_count: 0
DEBUG:root:MySqlApiQueryset create_one
DEBUG:root:MySqlApiQueryset create_one sql: 
                INSERT INTO `q_brooklyncode` 
                set id=%s,locationId=%s,relatedId=%s,parentId=%s,userId=%s,type=%s,name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s,createDate=%s 
                ON DUPLICATE KEY UPDATE
                name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s
                
DEBUG:root:execute
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:execute args: [1L, 0L, 0L, 0L, 1L, 1L, u'test', u'5e13bbb73127b9fc424e3728c6500f28', None, 0L, 0L, 0L, 0L, 0L, 0L, 0L, '', None, u'1fe8a631d5522d10e2cf2e4fabedc90b', u'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 19, 53, 38, 355293), datetime.datetime(2013, 7, 28, 19, 53, 38, 355293), u'test', u'5e13bbb73127b9fc424e3728c6500f28', None, 0L, 0L, 0L, 0L, 0L, 0L, 0L, '', None, u'1fe8a631d5522d10e2cf2e4fabedc90b', u'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 19, 53, 38, 355293)]
DEBUG:root:escape_sql sql: 
                INSERT INTO `q_brooklyncode` 
                set id=%s,locationId=%s,relatedId=%s,parentId=%s,userId=%s,type=%s,name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s,createDate=%s 
                ON DUPLICATE KEY UPDATE
                name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s
                
DEBUG:root:escape_sql args: [1L, 0L, 0L, 0L, 1L, 1L, u'test', u'5e13bbb73127b9fc424e3728c6500f28', None, 0L, 0L, 0L, 0L, 0L, 0L, 0L, '', None, u'1fe8a631d5522d10e2cf2e4fabedc90b', u'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 19, 53, 38, 355293), datetime.datetime(2013, 7, 28, 19, 53, 38, 355293), u'test', u'5e13bbb73127b9fc424e3728c6500f28', None, 0L, 0L, 0L, 0L, 0L, 0L, 0L, '', None, u'1fe8a631d5522d10e2cf2e4fabedc90b', u'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 19, 53, 38, 355293)]
DEBUG:root:
                INSERT INTO `q_brooklyncode` 
                set id=1,locationId=0,relatedId=0,parentId=0,userId=1,type=1,name='test',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=0,voteNumber=0,votesUp=0,votesDown=0,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge='1fe8a631d5522d10e2cf2e4fabedc90b',referer='http://localhost:8081/?p=1',changeDate='2013-07-28 19:53:38',createDate='2013-07-28 19:53:38' 
                ON DUPLICATE KEY UPDATE
                name='test',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=0,voteNumber=0,votesUp=0,votesDown=0,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge='1fe8a631d5522d10e2cf2e4fabedc90b',referer='http://localhost:8081/?p=1',changeDate='2013-07-28 19:53:38'
                
DEBUG:root:execute: 
                INSERT INTO `q_brooklyncode` 
                set id=1,locationId=0,relatedId=0,parentId=0,userId=1,type=1,name='test',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=0,voteNumber=0,votesUp=0,votesDown=0,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge='1fe8a631d5522d10e2cf2e4fabedc90b',referer='http://localhost:8081/?p=1',changeDate='2013-07-28 19:53:38',createDate='2013-07-28 19:53:38' 
                ON DUPLICATE KEY UPDATE
                name='test',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=0,voteNumber=0,votesUp=0,votesDown=0,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge='1fe8a631d5522d10e2cf2e4fabedc90b',referer='http://localhost:8081/?p=1',changeDate='2013-07-28 19:53:38'
                
DEBUG:root:item_exists
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:escape_sql sql: SELECT count(*) FROM `q_brooklyncode`  WHERE id = %s
DEBUG:root:escape_sql args: [1L]
DEBUG:root:SELECT count(*) FROM `q_brooklyncode`  WHERE id = 1
DEBUG:root:MySqlApiQueryset create_one (status, affected_rows): (NO CHANGES, 0)
DEBUG:root:MySqlApiQueryset create_one
DEBUG:root:MySqlApiQueryset create_one sql: 
                INSERT INTO `q_brooklyncode_images` 
                set id=%s,itemId=%s,s3Bucket=%s,thumbnailLargeHash=%s 
                ON DUPLICATE KEY UPDATE
                s3Bucket=%s,thumbnailLargeHash=%s
                
DEBUG:root:execute
DEBUG:root:execute args: [None, 1L, 'qoorate.brooklyncode', u'1fe8a631d5522d10e2cf2e4fabedc90b', 'qoorate.brooklyncode', u'1fe8a631d5522d10e2cf2e4fabedc90b']
DEBUG:root:escape_sql sql: 
                INSERT INTO `q_brooklyncode_images` 
                set id=%s,itemId=%s,s3Bucket=%s,thumbnailLargeHash=%s 
                ON DUPLICATE KEY UPDATE
                s3Bucket=%s,thumbnailLargeHash=%s
                
DEBUG:root:escape_sql args: [None, 1L, 'qoorate.brooklyncode', u'1fe8a631d5522d10e2cf2e4fabedc90b', 'qoorate.brooklyncode', u'1fe8a631d5522d10e2cf2e4fabedc90b']
DEBUG:root:
                INSERT INTO `q_brooklyncode_images` 
                set id=NULL,itemId=1,s3Bucket='qoorate.brooklyncode',thumbnailLargeHash='1fe8a631d5522d10e2cf2e4fabedc90b' 
                ON DUPLICATE KEY UPDATE
                s3Bucket='qoorate.brooklyncode',thumbnailLargeHash='1fe8a631d5522d10e2cf2e4fabedc90b'
                
DEBUG:root:execute: 
                INSERT INTO `q_brooklyncode_images` 
                set id=NULL,itemId=1,s3Bucket='qoorate.brooklyncode',thumbnailLargeHash='1fe8a631d5522d10e2cf2e4fabedc90b' 
                ON DUPLICATE KEY UPDATE
                s3Bucket='qoorate.brooklyncode',thumbnailLargeHash='1fe8a631d5522d10e2cf2e4fabedc90b'
                
DEBUG:root:MySqlApiQueryset create_one (status, affected_rows): (Created, 1)
DEBUG:root:inserted_id: 1)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100b7e9d0>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100b7ebd0>
DEBUG:root:CONTEXT: {'has_more_contributions': False, 'app': {'CHILD_PAGE_SIZE': 5, 'QOORATE_API_URI': 'http://localhost/q', 'TEMP_DIR': 'tmp', 'BACKGROUND_S3_UPLOAD': True, 'BROKEN_IMG_URI': 'http://localhost/q/img/blank.gif', 'POLLING_INTERVAL': 15, 'QOORATE_IMG_PATH': 'http://localhost/q/uploader/images/', 'S3_IMG_PATH': 'https://s3.amazonaws.com/qoorate.brooklyncode/', 'AMAZON_BUCKET': 'qoorate.brooklyncode', 'QOORATE_URI': 'http://localhost', 'PARENT_PAGE_SIZE': 5}, 'thumbnailLargeHash': u'1fe8a631d5522d10e2cf2e4fabedc90b', 'parentCount': 5, 'q_short_name': u'12345', 'is_admin': False, 'parent_tag': u'p_brooklyncode', 'moreIndex': 1, 'comments': [<Comment: Comment object>], 'location': u'5e13bbb73127b9fc424e3728c6500f28', 'current_user': <User: User object>, 'related_user': None, 'childCount': 5, 'comment_images': [('Created', <Image: Image object>)]}
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:unsanitizing: test
DEBUG:root:unsanitizing encoded ascii: test
DEBUG:root:unsanitizing encoded utf8: test
DEBUG:root: unsanitized: test
DEBUG:root:
     
        
            
            
            <div id="12345-1" class="q_item lv-1 vi-l tp-1">
                            <div class="q_inr p">
                <div class="q_data">
                    <div class="q_main">
                        <div class="q_inr">
                            <div class="q_top">
                                <div class="headerWrapper p">
                                    <a id="share_12345-1" href="#" class="do makeForm share 12345-1"><span>+ Share</span></a>
                                    <a id="flag_12345-1" href="#" class="do makeForm flag 12345-1"><span>Flag</span></a>
                                    <a id="delete_12345-1" href="#" class="do action deleteItem 12345-1"><span>Delete</span></a>
                                    <div class="q_clear"></div>
                                </div>
                            </div>
                            <div class="q_main_body">
                                <div class="q_txt">
                                    
                                    <div class="q_img">
                                        <img src="https://s3.amazonaws.com/qoorate.brooklyncode/1fe8a631d5522d10e2cf2e4fabedc90b_m.jpg" 
                                                onerror="ImgError(this, 'http://localhost/q/uploader/images/1fe8a631d5522d10e2cf2e4fabedc90b','http://localhost/q/img/blank.gif')">
                                    </div>
                                    <h3 class="itemName title type-1">test</h3>
                                    
                                </div>
                                <div class="q_clear"></div>
                            </div>
                            <div class="q_main_footer">
                                <div class="q_main_user">
                                    <div class="q_thumbnail">
                                        
                                        <img width="30" height="30" src="http://a0.twimg.com/profile_images/2793955592/297b32ce863d62ad496ccfab30b98ec2_normal.jpeg" onerror="ImgError(this, 'http://qrate.co/img/blank.gif')" />
                                        
                                    </div>
                                    <div class="q_user_info">
                                        
                                        <span class="q_usr"></span>
                                        
                                        <span class="time">0 seconds ago</span>
                                    </div>
                                    <div class="q_clear"></div>
                                </div>
                            </div>
                            <div class="q_bottom lv-1">
                                <fieldset class="reply bottom">
                                    <legend>Reply</legend>
                                    <div class="replyWrapper">
                                        <div class="inner">
                                            <a id="reply_12345-1" href="#" class="do makeForm replyComment 12345-1 reply"><span>Reply (<span class="replycount">0</span>)</span></a>
                                            <a id="toggle_12345-1" href="#" class="toggleReply tco-1 expand"><span></span></a>
                                            <div class="q_clear"></div>
                                        </div>
                                    </div>
                                    <div class="vote wrapper">
                                        <div class="inner">
                                            <div class="upVote wrap"><a href="#" class="do action upVote 12345-1"><span class="voted">0</span></a></div>
                                            <div class="downVote wrap"><a href="#" class="do action downVote 12345-1"><span class="voted">0</span></a></div>
                                            <div class="q_clear"></div>
                                        </div>
                                    </div>
                                </fieldset>
                                <div class="dyn 12345-1"></div>
                            </div>
                            <div class="q_clear"></div>
                        </div>
                    </div>
                </div>
                <div class="q_clear"></div>
            </div>
            <div class="q_clear"></div>
             
        
    

</div>

<div class="q_clear"></div>
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:escape_sql sql: 
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:escape_sql args: []
DEBUG:root:
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100cdaa90>
DEBUG:root:Number of contributions 1
INFO:root:200 POST /q/feed (127.0.0.1)
DEBUG:root:None
DEBUG:root:{u'content-length': u'21394', u'PATTERN': u'/q/', u'x-forwarded-for': u'127.0.0.1', u'URI': u'/q/uploader?action=uploader&qqfile=Screen+Shot+2013-07-19+at+10.00.33+AM.png', u'accept': u'*/*', u'user-agent': u'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/28.0.1500.71 Safari/537.36', u'host': u'localhost', u'VERSION': u'HTTP/1.1', u'cookie': u'wordpress_8dec71ede39ad9ff3b3fbc03311bdc45=qoorate|1375142446|8148fbb3583470985c5fca59e75d635a; SBID=\\"!MZ6JnTJnDncb7k3n0Ya9Sg==?gAJVBFNCSURxAWN1dWlkClVVSUQKcQIpgXEDfXEEVQNpbnRxBYoQqUXRlREm8LXjTshLPYe7cXNihnEGLg==\\"; wordpress_test_cookie=WP Cookie check; wordpress_logged_in_8dec71ede39ad9ff3b3fbc03311bdc45=qoorate|1375142446|86fd9ec6d6a221f44c7b1244f05dcd23; QOOID=QOO51f460f57c582; QOOTID=QOOT51f460f57c593; wp-settings-time-1=1374970345', u'expect': u'100-continue', u'QUERY': u'action=uploader&qqfile=Screen+Shot+2013-07-19+at+10.00.33+AM.png', u'PATH': u'/q/uploader', u'content-type': u'application/x-www-form-urlencoded', u'METHOD': u'POST'}
DEBUG:root:TemporaryImageUploadHandler post
DEBUG:root:to_unicode
DEBUG:root:Screen Shot 2013-07-19 at 10.00.33 AM.png
DEBUG:root:Screen Shot 2013-07-19 at 10.00.33 AM.png
DEBUG:root:to_unicode
DEBUG:root:{'S3_PORT': 443, 'INIT_BUCKET': True, 'RETRY_INTERVAL': 60, 'S3_HOST': 's3.amazonaws.com', 'ACCEPTABLE_UPLOAD_MIME_TYPES': ['image/jpeg', 'image/gif', 'image/png'], 'IMAGE_INFO': [(None, 'JPEG', '_f', 'jpg'), ((300, 200), 'JPEG', '_t', 'jpg'), ((120, 200), 'JPEG', '_m', 'jpg'), ((170, 100), 'JPEG', '_f', 'jpg'), ((50, 50), 'JPEG', '_s', 'jpg')], 'TEMP_UPLOAD_DIR': 'tmp', 'SERVICE_INFO': {'SERVICE_ID': 'uploader', 'SERVICE_REGISTRATION_PASSPHRASE': '137b789e-b7eb-475a-8d5a-b16ab544yurp', 'ASYNC': False, 'SERVICE_REGISTRATION_ADDR': 'ipc://run/uploader/brubeck_svc_registration', 'SERVICE_ADDR': 'ipc://run/uploader/brubeck_svc'}, 'AMAZON_BUCKET': 'qoorate.brooklyncode', 'AMAZON_SECRET': 'K3NKUTZIZWQ9B1UzQcZpl5frT4VClA9Ud0gffWPC', 'AMAZON_KEY': 'AKIAIMJ3ACDQBKM4PBDQ'}
DEBUG:root:filename: Screen Shot 2013-07-19 at 10.00.33 AM.png
DEBUG:root:hash: cfbb12022f81667e3c2746e3c80b2e1e
DEBUG:root:download_file_name: ./tmp/cfbb12022f81667e3c2746e3c80b2e1e
DEBUG:root:mime_type: image/png
DEBUG:root:checking mime_type: image/png
DEBUG:root:mime_type OK
DEBUG:root:width: 798
DEBUG:root:height: 374
DEBUG:root:['']
DEBUG:root:['']
INFO:root:200 POST /q/uploader (127.0.0.1)
DEBUG:root:None
DEBUG:root:{u'cookie': u'SBID="!MZ6JnTJnDncb7k3n0Ya9Sg==?gAJVBFNCSURxAWN1dWlkClVVSUQKcQIpgXEDfXEEVQNpbnRxBYoQqUXRlREm8LXjTshLPYe7cXNihnEGLg=="; wordpress_test_cookie=WP+Cookie+check; wordpress_logged_in_8dec71ede39ad9ff3b3fbc03311bdc45=qoorate%7C1375142446%7C86fd9ec6d6a221f44c7b1244f05dcd23; QOOID=QOO51f460f57c582; QOOTID=QOOT51f460f57c593; wp-settings-time-1=1374970345', u'accept-language': u'en-US,en;q=0.8', u'accept-encoding': u'gzip,deflate,sdch', u'PATTERN': u'/q/', u'x-forwarded-for': u'127.0.0.1', u'host': u'localhost', u'accept': u'image/webp,*/*;q=0.8', u'user-agent': u'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/28.0.1500.71 Safari/537.36', u'connection': u'keep-alive', u'VERSION': u'HTTP/1.1', u'referer': u'http://localhost:8081/?p=1', u'PATH': u'/q/uploader/images/cfbb12022f81667e3c2746e3c80b2e1e', u'METHOD': u'GET', u'URI': u'/q/uploader/images/cfbb12022f81667e3c2746e3c80b2e1e'}
DEBUG:root:TemporaryImageViewHandler get
DEBUG:root:filename: cfbb12022f81667e3c2746e3c80b2e1e
DEBUG:root:hash: <built-in function hash>
DEBUG:root:requested_file_name: ./tmp/cfbb12022f81667e3c2746e3c80b2e1e
DEBUG:root:mime_type: image/png
INFO:root:200 GET /q/uploader/images/cfbb12022f81667e3c2746e3c80b2e1e (127.0.0.1)
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:set_table has q_short_name (12345)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100b7edd0>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has q_short_name (12345)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100b83050>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:feed.prepare, table: q_brooklyncode
DEBUG:root:FeedHandler post
DEBUG:root:Body -> 
 replyComment=tester&thumbnailLarge=cfbb12022f81667e3c2746e3c80b2e1e&replyPhoto=&action=addItem&location=5e13bbb73127b9fc424e3728c6500f28&referer=http%3A%2F%2Flocalhost%3A8081%2F%3Fp%3D1&q_short_name=12345&QOOID=QOO51f460f57c582&QOOTID=QOOT51f460f57c593
DEBUG:root:Arguments -> 
 {"thumbnailLarge": ["cfbb12022f81667e3c2746e3c80b2e1e"], "QOOID": ["QOO51f460f57c582"], "QOOTID": ["QOOT51f460f57c593"], "q_short_name": ["12345"], "location": ["5e13bbb73127b9fc424e3728c6500f28"], "replyComment": ["tester"], "action": ["addItem"], "referer": ["http://localhost:8081/?p=1"]}
DEBUG:root:to_unicode
DEBUG:root:addItem
DEBUG:root:addItem
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:addItem
DEBUG:root:addItem
DEBUG:root:to_unicode
DEBUG:root:action: addItem
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100b83210>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100b7e1d0>
DEBUG:root:to_unicode
DEBUG:root:tester
DEBUG:root:tester
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:tester
DEBUG:root:tester
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:cfbb12022f81667e3c2746e3c80b2e1e
DEBUG:root:cfbb12022f81667e3c2746e3c80b2e1e
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:cfbb12022f81667e3c2746e3c80b2e1e
DEBUG:root:cfbb12022f81667e3c2746e3c80b2e1e
DEBUG:root:to_unicode
DEBUG:root:spawning upload
DEBUG:root:upload_to_S3 : cfbb12022f81667e3c2746e3c80b2e1e
DEBUG:root:upload_to_S3 : cfbb12022f81667e3c2746e3c80b2e1e
DEBUG:root:create_images_for_S3
DEBUG:root:file_path: tmp
DEBUG:root:file_name: cfbb12022f81667e3c2746e3c80b2e1e
DEBUG:root:filename: tmp/cfbb12022f81667e3c2746e3c80b2e1e
DEBUG:root:create_images_for_S3 image_infos: [(None, 'JPEG', '_f', 'jpg'), ((300, 200), 'JPEG', '_t', 'jpg'), ((120, 200), 'JPEG', '_m', 'jpg'), ((170, 100), 'JPEG', '_f', 'jpg'), ((50, 50), 'JPEG', '_s', 'jpg')] 
DEBUG:root:create_images_for_S3  image_info: (None, 'JPEG', '_f', 'jpg') 
DEBUG:root:filename created: cfbb12022f81667e3c2746e3c80b2e1e_f.jpg
DEBUG:root:create_images_for_S3  image_info: ((300, 200), 'JPEG', '_t', 'jpg') 
DEBUG:root:image_info[0]: (300, 200)
DEBUG:root:image_info[1]: JPEG
DEBUG:root:image_info[2]: _t
DEBUG:root:image_info[3]: jpg
DEBUG:root:filename created: cfbb12022f81667e3c2746e3c80b2e1e_t.jpg
DEBUG:root:create_images_for_S3  image_info: ((120, 200), 'JPEG', '_m', 'jpg') 
DEBUG:root:image_info[0]: (120, 200)
DEBUG:root:image_info[1]: JPEG
DEBUG:root:image_info[2]: _m
DEBUG:root:image_info[3]: jpg
DEBUG:root:filename created: cfbb12022f81667e3c2746e3c80b2e1e_m.jpg
DEBUG:root:create_images_for_S3  image_info: ((170, 100), 'JPEG', '_f', 'jpg') 
DEBUG:root:image_info[0]: (170, 100)
DEBUG:root:image_info[1]: JPEG
DEBUG:root:image_info[2]: _f
DEBUG:root:image_info[3]: jpg
DEBUG:root:filename created: cfbb12022f81667e3c2746e3c80b2e1e_f.jpg
DEBUG:root:create_images_for_S3  image_info: ((50, 50), 'JPEG', '_s', 'jpg') 
DEBUG:root:image_info[0]: (50, 50)
DEBUG:root:image_info[1]: JPEG
DEBUG:root:image_info[2]: _s
DEBUG:root:image_info[3]: jpg
DEBUG:root:filename created: cfbb12022f81667e3c2746e3c80b2e1e_s.jpg
DEBUG:root:create_images_for_S3 return filenames: [u'cfbb12022f81667e3c2746e3c80b2e1e_f.jpg', u'cfbb12022f81667e3c2746e3c80b2e1e_t.jpg', u'cfbb12022f81667e3c2746e3c80b2e1e_m.jpg', u'cfbb12022f81667e3c2746e3c80b2e1e_f.jpg', u'cfbb12022f81667e3c2746e3c80b2e1e_s.jpg'] 
DEBUG:root:file_names: [u'cfbb12022f81667e3c2746e3c80b2e1e_f.jpg', u'cfbb12022f81667e3c2746e3c80b2e1e_t.jpg', u'cfbb12022f81667e3c2746e3c80b2e1e_m.jpg', u'cfbb12022f81667e3c2746e3c80b2e1e_f.jpg', u'cfbb12022f81667e3c2746e3c80b2e1e_s.jpg']
DEBUG:root:len(file_names): 5
DEBUG:boto:path=/
DEBUG:boto:auth_path=/qoorate.brooklyncode/
DEBUG:boto:Method: PUT
DEBUG:boto:Path: /
DEBUG:boto:Data: 
DEBUG:boto:Headers: {}
DEBUG:boto:Host: qoorate.brooklyncode.s3.amazonaws.com
DEBUG:boto:Token: None
DEBUG:boto:StringToSign:
PUT


Sun, 28 Jul 2013 23:53:59 GMT
/qoorate.brooklyncode/
DEBUG:boto:encountered BadStatusLine exception, reconnecting
DEBUG:boto:establishing HTTPS connection: host=qoorate.brooklyncode.s3.amazonaws.com, kwargs={}
DEBUG:boto:Token: None
DEBUG:boto:StringToSign:
PUT


Sun, 28 Jul 2013 23:53:59 GMT
/qoorate.brooklyncode/
DEBUG:boto:path=/
DEBUG:boto:auth_path=/qoorate.brooklyncode/
DEBUG:boto:path=/?policy
DEBUG:boto:auth_path=/qoorate.brooklyncode/?policy
DEBUG:boto:Method: PUT
DEBUG:boto:Path: /?policy
DEBUG:boto:Data: {
                    "Version": "2008-10-17",
                    "Statement": [
                        {
                            "Sid": "AddPerm",
                            "Effect": "Allow",
                            "Principal": {
                                "AWS": "*"
                            },
                            "Action": "s3:GetObject",
                            "Resource": "arn:aws:s3:::qoorate.brooklyncode/*"
                        }
                    ]
                }
            
DEBUG:boto:Headers: {}
DEBUG:boto:Host: qoorate.brooklyncode.s3.amazonaws.com
DEBUG:boto:Token: None
DEBUG:boto:StringToSign:
PUT


Sun, 28 Jul 2013 23:53:59 GMT
/qoorate.brooklyncode/?policy
DEBUG:root:create_images_for_S3
DEBUG:root:file_path: tmp
DEBUG:root:file_name: cfbb12022f81667e3c2746e3c80b2e1e
DEBUG:root:filename: tmp/cfbb12022f81667e3c2746e3c80b2e1e
DEBUG:root:create_images_for_S3 image_infos: [(None, 'JPEG', '_f', 'jpg'), ((300, 200), 'JPEG', '_t', 'jpg'), ((120, 200), 'JPEG', '_m', 'jpg'), ((170, 100), 'JPEG', '_f', 'jpg'), ((50, 50), 'JPEG', '_s', 'jpg')] 
DEBUG:root:create_images_for_S3  image_info: (None, 'JPEG', '_f', 'jpg') 
DEBUG:root:filename created: cfbb12022f81667e3c2746e3c80b2e1e_f.jpg
DEBUG:root:create_images_for_S3  image_info: ((300, 200), 'JPEG', '_t', 'jpg') 
DEBUG:root:image_info[0]: (300, 200)
DEBUG:root:image_info[1]: JPEG
DEBUG:root:image_info[2]: _t
DEBUG:root:image_info[3]: jpg
DEBUG:root:filename created: cfbb12022f81667e3c2746e3c80b2e1e_t.jpg
DEBUG:root:create_images_for_S3  image_info: ((120, 200), 'JPEG', '_m', 'jpg') 
DEBUG:root:image_info[0]: (120, 200)
DEBUG:root:image_info[1]: JPEG
DEBUG:root:image_info[2]: _m
DEBUG:root:image_info[3]: jpg
DEBUG:root:filename created: cfbb12022f81667e3c2746e3c80b2e1e_m.jpg
DEBUG:root:create_images_for_S3  image_info: ((170, 100), 'JPEG', '_f', 'jpg') 
DEBUG:root:image_info[0]: (170, 100)
DEBUG:root:image_info[1]: JPEG
DEBUG:root:image_info[2]: _f
DEBUG:root:image_info[3]: jpg
DEBUG:root:filename created: cfbb12022f81667e3c2746e3c80b2e1e_f.jpg
DEBUG:root:create_images_for_S3  image_info: ((50, 50), 'JPEG', '_s', 'jpg') 
DEBUG:root:image_info[0]: (50, 50)
DEBUG:root:image_info[1]: JPEG
DEBUG:root:image_info[2]: _s
DEBUG:root:image_info[3]: jpg
DEBUG:root:filename created: cfbb12022f81667e3c2746e3c80b2e1e_s.jpg
DEBUG:root:create_images_for_S3 return filenames: [u'cfbb12022f81667e3c2746e3c80b2e1e_f.jpg', u'cfbb12022f81667e3c2746e3c80b2e1e_t.jpg', u'cfbb12022f81667e3c2746e3c80b2e1e_m.jpg', u'cfbb12022f81667e3c2746e3c80b2e1e_f.jpg', u'cfbb12022f81667e3c2746e3c80b2e1e_s.jpg'] 
DEBUG:root:file_names: [u'cfbb12022f81667e3c2746e3c80b2e1e_f.jpg', u'cfbb12022f81667e3c2746e3c80b2e1e_t.jpg', u'cfbb12022f81667e3c2746e3c80b2e1e_m.jpg', u'cfbb12022f81667e3c2746e3c80b2e1e_f.jpg', u'cfbb12022f81667e3c2746e3c80b2e1e_s.jpg']
DEBUG:root:images: [u'cfbb12022f81667e3c2746e3c80b2e1e_f.jpg', u'cfbb12022f81667e3c2746e3c80b2e1e_t.jpg', u'cfbb12022f81667e3c2746e3c80b2e1e_m.jpg', u'cfbb12022f81667e3c2746e3c80b2e1e_f.jpg', u'cfbb12022f81667e3c2746e3c80b2e1e_s.jpg']
DEBUG:root:image_file_name: cfbb12022f81667e3c2746e3c80b2e1e_f.jpg
DEBUG:root:Uploading cfbb12022f81667e3c2746e3c80b2e1e_f.jpg to Amazon S3 bucket qoorate.brooklyncode
DEBUG:boto:path=/cfbb12022f81667e3c2746e3c80b2e1e_f.jpg
DEBUG:boto:auth_path=/qoorate.brooklyncode/cfbb12022f81667e3c2746e3c80b2e1e_f.jpg
DEBUG:boto:Method: PUT
DEBUG:boto:Path: /cfbb12022f81667e3c2746e3c80b2e1e_f.jpg
DEBUG:boto:Data: 
DEBUG:boto:Headers: {'Content-Length': '1529', 'Content-MD5': 'FgEAa0zYHGSqM0tdHzTL7Q==', 'Content-Type': 'image/jpeg', 'Expect': '100-Continue', 'User-Agent': 'Boto/2.2.2 (darwin)'}
DEBUG:boto:Host: qoorate.brooklyncode.s3.amazonaws.com
DEBUG:boto:Token: None
DEBUG:boto:StringToSign:
PUT
FgEAa0zYHGSqM0tdHzTL7Q==
image/jpeg
Sun, 28 Jul 2013 23:53:59 GMT
/qoorate.brooklyncode/cfbb12022f81667e3c2746e3c80b2e1e_f.jpg
DEBUG:boto:path=/cfbb12022f81667e3c2746e3c80b2e1e_f.jpg
DEBUG:boto:auth_path=/qoorate.brooklyncode/cfbb12022f81667e3c2746e3c80b2e1e_f.jpg
DEBUG:boto:path=/cfbb12022f81667e3c2746e3c80b2e1e_f.jpg?acl
DEBUG:boto:auth_path=/qoorate.brooklyncode/cfbb12022f81667e3c2746e3c80b2e1e_f.jpg?acl
DEBUG:boto:Method: PUT
DEBUG:boto:Path: /cfbb12022f81667e3c2746e3c80b2e1e_f.jpg?acl
DEBUG:boto:Data: 
DEBUG:boto:Headers: {'x-amz-acl': 'public-read'}
DEBUG:boto:Host: qoorate.brooklyncode.s3.amazonaws.com
DEBUG:boto:Token: None
DEBUG:boto:StringToSign:
PUT


Sun, 28 Jul 2013 23:53:59 GMT
x-amz-acl:public-read
/qoorate.brooklyncode/cfbb12022f81667e3c2746e3c80b2e1e_f.jpg?acl
DEBUG:root:image_file_name: cfbb12022f81667e3c2746e3c80b2e1e_t.jpg
DEBUG:root:Uploading cfbb12022f81667e3c2746e3c80b2e1e_t.jpg to Amazon S3 bucket qoorate.brooklyncode
DEBUG:boto:path=/cfbb12022f81667e3c2746e3c80b2e1e_t.jpg
DEBUG:boto:auth_path=/qoorate.brooklyncode/cfbb12022f81667e3c2746e3c80b2e1e_t.jpg
DEBUG:boto:Method: PUT
DEBUG:boto:Path: /cfbb12022f81667e3c2746e3c80b2e1e_t.jpg
DEBUG:boto:Data: 
DEBUG:boto:Headers: {'Content-Length': '3310', 'Content-MD5': 't1sSM2m31hJlVShVinpkdg==', 'Content-Type': 'image/jpeg', 'Expect': '100-Continue', 'User-Agent': 'Boto/2.2.2 (darwin)'}
DEBUG:boto:Host: qoorate.brooklyncode.s3.amazonaws.com
DEBUG:boto:Token: None
DEBUG:boto:StringToSign:
PUT
t1sSM2m31hJlVShVinpkdg==
image/jpeg
Sun, 28 Jul 2013 23:53:59 GMT
/qoorate.brooklyncode/cfbb12022f81667e3c2746e3c80b2e1e_t.jpg
DEBUG:boto:path=/cfbb12022f81667e3c2746e3c80b2e1e_t.jpg
DEBUG:boto:auth_path=/qoorate.brooklyncode/cfbb12022f81667e3c2746e3c80b2e1e_t.jpg
DEBUG:boto:path=/cfbb12022f81667e3c2746e3c80b2e1e_t.jpg?acl
DEBUG:boto:auth_path=/qoorate.brooklyncode/cfbb12022f81667e3c2746e3c80b2e1e_t.jpg?acl
DEBUG:boto:Method: PUT
DEBUG:boto:Path: /cfbb12022f81667e3c2746e3c80b2e1e_t.jpg?acl
DEBUG:boto:Data: 
DEBUG:boto:Headers: {'x-amz-acl': 'public-read'}
DEBUG:boto:Host: qoorate.brooklyncode.s3.amazonaws.com
DEBUG:boto:Token: None
DEBUG:boto:StringToSign:
PUT


Sun, 28 Jul 2013 23:54:00 GMT
x-amz-acl:public-read
/qoorate.brooklyncode/cfbb12022f81667e3c2746e3c80b2e1e_t.jpg?acl
DEBUG:root:image_file_name: cfbb12022f81667e3c2746e3c80b2e1e_m.jpg
DEBUG:root:Uploading cfbb12022f81667e3c2746e3c80b2e1e_m.jpg to Amazon S3 bucket qoorate.brooklyncode
DEBUG:boto:path=/cfbb12022f81667e3c2746e3c80b2e1e_m.jpg
DEBUG:boto:auth_path=/qoorate.brooklyncode/cfbb12022f81667e3c2746e3c80b2e1e_m.jpg
DEBUG:boto:Method: PUT
DEBUG:boto:Path: /cfbb12022f81667e3c2746e3c80b2e1e_m.jpg
DEBUG:boto:Data: 
DEBUG:boto:Headers: {'Content-Length': '1529', 'Content-MD5': 'FgEAa0zYHGSqM0tdHzTL7Q==', 'Content-Type': 'image/jpeg', 'Expect': '100-Continue', 'User-Agent': 'Boto/2.2.2 (darwin)'}
DEBUG:boto:Host: qoorate.brooklyncode.s3.amazonaws.com
DEBUG:boto:Token: None
DEBUG:boto:StringToSign:
PUT
FgEAa0zYHGSqM0tdHzTL7Q==
image/jpeg
Sun, 28 Jul 2013 23:54:00 GMT
/qoorate.brooklyncode/cfbb12022f81667e3c2746e3c80b2e1e_m.jpg
DEBUG:boto:path=/cfbb12022f81667e3c2746e3c80b2e1e_m.jpg
DEBUG:boto:auth_path=/qoorate.brooklyncode/cfbb12022f81667e3c2746e3c80b2e1e_m.jpg
DEBUG:boto:path=/cfbb12022f81667e3c2746e3c80b2e1e_m.jpg?acl
DEBUG:boto:auth_path=/qoorate.brooklyncode/cfbb12022f81667e3c2746e3c80b2e1e_m.jpg?acl
DEBUG:boto:Method: PUT
DEBUG:boto:Path: /cfbb12022f81667e3c2746e3c80b2e1e_m.jpg?acl
DEBUG:boto:Data: 
DEBUG:boto:Headers: {'x-amz-acl': 'public-read'}
DEBUG:boto:Host: qoorate.brooklyncode.s3.amazonaws.com
DEBUG:boto:Token: None
DEBUG:boto:StringToSign:
PUT


Sun, 28 Jul 2013 23:54:00 GMT
x-amz-acl:public-read
/qoorate.brooklyncode/cfbb12022f81667e3c2746e3c80b2e1e_m.jpg?acl
DEBUG:root:image_file_name: cfbb12022f81667e3c2746e3c80b2e1e_f.jpg
DEBUG:root:Uploading cfbb12022f81667e3c2746e3c80b2e1e_f.jpg to Amazon S3 bucket qoorate.brooklyncode
DEBUG:boto:path=/cfbb12022f81667e3c2746e3c80b2e1e_f.jpg
DEBUG:boto:auth_path=/qoorate.brooklyncode/cfbb12022f81667e3c2746e3c80b2e1e_f.jpg
DEBUG:boto:Method: PUT
DEBUG:boto:Path: /cfbb12022f81667e3c2746e3c80b2e1e_f.jpg
DEBUG:boto:Data: 
DEBUG:boto:Headers: {'Content-Length': '1529', 'Content-MD5': 'FgEAa0zYHGSqM0tdHzTL7Q==', 'Content-Type': 'image/jpeg', 'Expect': '100-Continue', 'User-Agent': 'Boto/2.2.2 (darwin)'}
DEBUG:boto:Host: qoorate.brooklyncode.s3.amazonaws.com
DEBUG:boto:Token: None
DEBUG:boto:StringToSign:
PUT
FgEAa0zYHGSqM0tdHzTL7Q==
image/jpeg
Sun, 28 Jul 2013 23:54:00 GMT
/qoorate.brooklyncode/cfbb12022f81667e3c2746e3c80b2e1e_f.jpg
DEBUG:boto:path=/cfbb12022f81667e3c2746e3c80b2e1e_f.jpg
DEBUG:boto:auth_path=/qoorate.brooklyncode/cfbb12022f81667e3c2746e3c80b2e1e_f.jpg
DEBUG:boto:path=/cfbb12022f81667e3c2746e3c80b2e1e_f.jpg?acl
DEBUG:boto:auth_path=/qoorate.brooklyncode/cfbb12022f81667e3c2746e3c80b2e1e_f.jpg?acl
DEBUG:boto:Method: PUT
DEBUG:boto:Path: /cfbb12022f81667e3c2746e3c80b2e1e_f.jpg?acl
DEBUG:boto:Data: 
DEBUG:boto:Headers: {'x-amz-acl': 'public-read'}
DEBUG:boto:Host: qoorate.brooklyncode.s3.amazonaws.com
DEBUG:boto:Token: None
DEBUG:boto:StringToSign:
PUT


Sun, 28 Jul 2013 23:54:00 GMT
x-amz-acl:public-read
/qoorate.brooklyncode/cfbb12022f81667e3c2746e3c80b2e1e_f.jpg?acl
DEBUG:root:image_file_name: cfbb12022f81667e3c2746e3c80b2e1e_s.jpg
DEBUG:root:Uploading cfbb12022f81667e3c2746e3c80b2e1e_s.jpg to Amazon S3 bucket qoorate.brooklyncode
DEBUG:boto:path=/cfbb12022f81667e3c2746e3c80b2e1e_s.jpg
DEBUG:boto:auth_path=/qoorate.brooklyncode/cfbb12022f81667e3c2746e3c80b2e1e_s.jpg
DEBUG:boto:Method: PUT
DEBUG:boto:Path: /cfbb12022f81667e3c2746e3c80b2e1e_s.jpg
DEBUG:boto:Data: 
DEBUG:boto:Headers: {'Content-Length': '955', 'Content-MD5': 'gx29roQQV2WRPjNaY8M+UA==', 'Content-Type': 'image/jpeg', 'Expect': '100-Continue', 'User-Agent': 'Boto/2.2.2 (darwin)'}
DEBUG:boto:Host: qoorate.brooklyncode.s3.amazonaws.com
DEBUG:boto:Token: None
DEBUG:boto:StringToSign:
PUT
gx29roQQV2WRPjNaY8M+UA==
image/jpeg
Sun, 28 Jul 2013 23:54:00 GMT
/qoorate.brooklyncode/cfbb12022f81667e3c2746e3c80b2e1e_s.jpg
DEBUG:boto:path=/cfbb12022f81667e3c2746e3c80b2e1e_s.jpg
DEBUG:boto:auth_path=/qoorate.brooklyncode/cfbb12022f81667e3c2746e3c80b2e1e_s.jpg
DEBUG:boto:path=/cfbb12022f81667e3c2746e3c80b2e1e_s.jpg?acl
DEBUG:boto:auth_path=/qoorate.brooklyncode/cfbb12022f81667e3c2746e3c80b2e1e_s.jpg?acl
DEBUG:boto:Method: PUT
DEBUG:boto:Path: /cfbb12022f81667e3c2746e3c80b2e1e_s.jpg?acl
DEBUG:boto:Data: 
DEBUG:boto:Headers: {'x-amz-acl': 'public-read'}
DEBUG:boto:Host: qoorate.brooklyncode.s3.amazonaws.com
DEBUG:boto:Token: None
DEBUG:boto:StringToSign:
PUT


Sun, 28 Jul 2013 23:54:00 GMT
x-amz-acl:public-read
/qoorate.brooklyncode/cfbb12022f81667e3c2746e3c80b2e1e_s.jpg?acl
DEBUG:root:spawned upload
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:http://localhost:8081/?p=1
DEBUG:root:http://localhost:8081/?p=1
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:http://localhost:8081/?p=1
DEBUG:root:http://localhost:8081/?p=1
DEBUG:root:to_unicode
DEBUG:root:MySqlApiQueryset create_one
DEBUG:root:MySqlApiQueryset create_one sql: 
                INSERT INTO `q_brooklyncode` 
                set id=%s,locationId=%s,relatedId=%s,parentId=%s,userId=%s,type=%s,name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s,createDate=%s 
                ON DUPLICATE KEY UPDATE
                name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s
                
DEBUG:root:execute
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:execute args: [None, 0L, 0L, 0L, 1L, 1L, u'tester', u'5e13bbb73127b9fc424e3728c6500f28', None, 0L, 0L, 0L, 0L, 0L, 0L, 0L, '', None, u'cfbb12022f81667e3c2746e3c80b2e1e', u'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 19, 54, 0, 609007), datetime.datetime(2013, 7, 28, 19, 54, 0, 609007), u'tester', u'5e13bbb73127b9fc424e3728c6500f28', None, 0L, 0L, 0L, 0L, 0L, 0L, 0L, '', None, u'cfbb12022f81667e3c2746e3c80b2e1e', u'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 19, 54, 0, 609007)]
DEBUG:root:escape_sql sql: 
                INSERT INTO `q_brooklyncode` 
                set id=%s,locationId=%s,relatedId=%s,parentId=%s,userId=%s,type=%s,name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s,createDate=%s 
                ON DUPLICATE KEY UPDATE
                name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s
                
DEBUG:root:escape_sql args: [None, 0L, 0L, 0L, 1L, 1L, u'tester', u'5e13bbb73127b9fc424e3728c6500f28', None, 0L, 0L, 0L, 0L, 0L, 0L, 0L, '', None, u'cfbb12022f81667e3c2746e3c80b2e1e', u'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 19, 54, 0, 609007), datetime.datetime(2013, 7, 28, 19, 54, 0, 609007), u'tester', u'5e13bbb73127b9fc424e3728c6500f28', None, 0L, 0L, 0L, 0L, 0L, 0L, 0L, '', None, u'cfbb12022f81667e3c2746e3c80b2e1e', u'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 19, 54, 0, 609007)]
DEBUG:root:
                INSERT INTO `q_brooklyncode` 
                set id=NULL,locationId=0,relatedId=0,parentId=0,userId=1,type=1,name='tester',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=0,voteNumber=0,votesUp=0,votesDown=0,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge='cfbb12022f81667e3c2746e3c80b2e1e',referer='http://localhost:8081/?p=1',changeDate='2013-07-28 19:54:00',createDate='2013-07-28 19:54:00' 
                ON DUPLICATE KEY UPDATE
                name='tester',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=0,voteNumber=0,votesUp=0,votesDown=0,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge='cfbb12022f81667e3c2746e3c80b2e1e',referer='http://localhost:8081/?p=1',changeDate='2013-07-28 19:54:00'
                
DEBUG:root:execute: 
                INSERT INTO `q_brooklyncode` 
                set id=NULL,locationId=0,relatedId=0,parentId=0,userId=1,type=1,name='tester',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=0,voteNumber=0,votesUp=0,votesDown=0,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge='cfbb12022f81667e3c2746e3c80b2e1e',referer='http://localhost:8081/?p=1',changeDate='2013-07-28 19:54:00',createDate='2013-07-28 19:54:00' 
                ON DUPLICATE KEY UPDATE
                name='tester',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=0,voteNumber=0,votesUp=0,votesDown=0,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge='cfbb12022f81667e3c2746e3c80b2e1e',referer='http://localhost:8081/?p=1',changeDate='2013-07-28 19:54:00'
                
DEBUG:root:MySqlApiQueryset create_one (status, affected_rows): (Created, 1)
DEBUG:root:inserted_id: 2)
DEBUG:root:update_child_count(Comment object)
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:escape_sql sql: 
            SELECT count(*) as `childCount`
            FROM `q_brooklyncode` `f`
            WHERE `f`.`parentId`= %s
            
DEBUG:root:escape_sql args: [2L]
DEBUG:root:
            SELECT count(*) as `childCount`
            FROM `q_brooklyncode` `f`
            WHERE `f`.`parentId`= 2
            
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100c10890>
DEBUG:root:child_count: 0
DEBUG:root:MySqlApiQueryset create_one
DEBUG:root:MySqlApiQueryset create_one sql: 
                INSERT INTO `q_brooklyncode` 
                set id=%s,locationId=%s,relatedId=%s,parentId=%s,userId=%s,type=%s,name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s,createDate=%s 
                ON DUPLICATE KEY UPDATE
                name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s
                
DEBUG:root:execute
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:execute args: [2L, 0L, 0L, 0L, 1L, 1L, u'tester', u'5e13bbb73127b9fc424e3728c6500f28', None, 0L, 0L, 0L, 0L, 0L, 0L, 0L, '', None, u'cfbb12022f81667e3c2746e3c80b2e1e', u'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 19, 54, 0, 609007), datetime.datetime(2013, 7, 28, 19, 54, 0, 609007), u'tester', u'5e13bbb73127b9fc424e3728c6500f28', None, 0L, 0L, 0L, 0L, 0L, 0L, 0L, '', None, u'cfbb12022f81667e3c2746e3c80b2e1e', u'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 19, 54, 0, 609007)]
DEBUG:root:escape_sql sql: 
                INSERT INTO `q_brooklyncode` 
                set id=%s,locationId=%s,relatedId=%s,parentId=%s,userId=%s,type=%s,name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s,createDate=%s 
                ON DUPLICATE KEY UPDATE
                name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s
                
DEBUG:root:escape_sql args: [2L, 0L, 0L, 0L, 1L, 1L, u'tester', u'5e13bbb73127b9fc424e3728c6500f28', None, 0L, 0L, 0L, 0L, 0L, 0L, 0L, '', None, u'cfbb12022f81667e3c2746e3c80b2e1e', u'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 19, 54, 0, 609007), datetime.datetime(2013, 7, 28, 19, 54, 0, 609007), u'tester', u'5e13bbb73127b9fc424e3728c6500f28', None, 0L, 0L, 0L, 0L, 0L, 0L, 0L, '', None, u'cfbb12022f81667e3c2746e3c80b2e1e', u'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 19, 54, 0, 609007)]
DEBUG:root:
                INSERT INTO `q_brooklyncode` 
                set id=2,locationId=0,relatedId=0,parentId=0,userId=1,type=1,name='tester',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=0,voteNumber=0,votesUp=0,votesDown=0,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge='cfbb12022f81667e3c2746e3c80b2e1e',referer='http://localhost:8081/?p=1',changeDate='2013-07-28 19:54:00',createDate='2013-07-28 19:54:00' 
                ON DUPLICATE KEY UPDATE
                name='tester',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=0,voteNumber=0,votesUp=0,votesDown=0,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge='cfbb12022f81667e3c2746e3c80b2e1e',referer='http://localhost:8081/?p=1',changeDate='2013-07-28 19:54:00'
                
DEBUG:root:execute: 
                INSERT INTO `q_brooklyncode` 
                set id=2,locationId=0,relatedId=0,parentId=0,userId=1,type=1,name='tester',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=0,voteNumber=0,votesUp=0,votesDown=0,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge='cfbb12022f81667e3c2746e3c80b2e1e',referer='http://localhost:8081/?p=1',changeDate='2013-07-28 19:54:00',createDate='2013-07-28 19:54:00' 
                ON DUPLICATE KEY UPDATE
                name='tester',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=0,voteNumber=0,votesUp=0,votesDown=0,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge='cfbb12022f81667e3c2746e3c80b2e1e',referer='http://localhost:8081/?p=1',changeDate='2013-07-28 19:54:00'
                
DEBUG:root:item_exists
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:escape_sql sql: SELECT count(*) FROM `q_brooklyncode`  WHERE id = %s
DEBUG:root:escape_sql args: [2L]
DEBUG:root:SELECT count(*) FROM `q_brooklyncode`  WHERE id = 2
DEBUG:root:MySqlApiQueryset create_one (status, affected_rows): (NO CHANGES, 0)
DEBUG:root:MySqlApiQueryset create_one
DEBUG:root:MySqlApiQueryset create_one sql: 
                INSERT INTO `q_brooklyncode_images` 
                set id=%s,itemId=%s,s3Bucket=%s,thumbnailLargeHash=%s 
                ON DUPLICATE KEY UPDATE
                s3Bucket=%s,thumbnailLargeHash=%s
                
DEBUG:root:execute
DEBUG:root:execute args: [None, 2L, 'qoorate.brooklyncode', u'cfbb12022f81667e3c2746e3c80b2e1e', 'qoorate.brooklyncode', u'cfbb12022f81667e3c2746e3c80b2e1e']
DEBUG:root:escape_sql sql: 
                INSERT INTO `q_brooklyncode_images` 
                set id=%s,itemId=%s,s3Bucket=%s,thumbnailLargeHash=%s 
                ON DUPLICATE KEY UPDATE
                s3Bucket=%s,thumbnailLargeHash=%s
                
DEBUG:root:escape_sql args: [None, 2L, 'qoorate.brooklyncode', u'cfbb12022f81667e3c2746e3c80b2e1e', 'qoorate.brooklyncode', u'cfbb12022f81667e3c2746e3c80b2e1e']
DEBUG:root:
                INSERT INTO `q_brooklyncode_images` 
                set id=NULL,itemId=2,s3Bucket='qoorate.brooklyncode',thumbnailLargeHash='cfbb12022f81667e3c2746e3c80b2e1e' 
                ON DUPLICATE KEY UPDATE
                s3Bucket='qoorate.brooklyncode',thumbnailLargeHash='cfbb12022f81667e3c2746e3c80b2e1e'
                
DEBUG:root:execute: 
                INSERT INTO `q_brooklyncode_images` 
                set id=NULL,itemId=2,s3Bucket='qoorate.brooklyncode',thumbnailLargeHash='cfbb12022f81667e3c2746e3c80b2e1e' 
                ON DUPLICATE KEY UPDATE
                s3Bucket='qoorate.brooklyncode',thumbnailLargeHash='cfbb12022f81667e3c2746e3c80b2e1e'
                
DEBUG:root:MySqlApiQueryset create_one (status, affected_rows): (Created, 1)
DEBUG:root:inserted_id: 2)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100b7e450>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100b7e5d0>
DEBUG:root:CONTEXT: {'has_more_contributions': False, 'app': {'CHILD_PAGE_SIZE': 5, 'QOORATE_API_URI': 'http://localhost/q', 'TEMP_DIR': 'tmp', 'BACKGROUND_S3_UPLOAD': True, 'BROKEN_IMG_URI': 'http://localhost/q/img/blank.gif', 'POLLING_INTERVAL': 15, 'QOORATE_IMG_PATH': 'http://localhost/q/uploader/images/', 'S3_IMG_PATH': 'https://s3.amazonaws.com/qoorate.brooklyncode/', 'AMAZON_BUCKET': 'qoorate.brooklyncode', 'QOORATE_URI': 'http://localhost', 'PARENT_PAGE_SIZE': 5}, 'thumbnailLargeHash': u'cfbb12022f81667e3c2746e3c80b2e1e', 'parentCount': 5, 'q_short_name': u'12345', 'is_admin': False, 'parent_tag': u'p_brooklyncode', 'moreIndex': 1, 'comments': [<Comment: Comment object>], 'location': u'5e13bbb73127b9fc424e3728c6500f28', 'current_user': <User: User object>, 'related_user': None, 'childCount': 5, 'comment_images': [('Created', <Image: Image object>)]}
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:unsanitizing: tester
DEBUG:root:unsanitizing encoded ascii: tester
DEBUG:root:unsanitizing encoded utf8: tester
DEBUG:root: unsanitized: tester
DEBUG:root:
     
        
            
            
            <div id="12345-2" class="q_item lv-1 vi-l tp-1">
                            <div class="q_inr p">
                <div class="q_data">
                    <div class="q_main">
                        <div class="q_inr">
                            <div class="q_top">
                                <div class="headerWrapper p">
                                    <a id="share_12345-2" href="#" class="do makeForm share 12345-2"><span>+ Share</span></a>
                                    <a id="flag_12345-2" href="#" class="do makeForm flag 12345-2"><span>Flag</span></a>
                                    <a id="delete_12345-2" href="#" class="do action deleteItem 12345-2"><span>Delete</span></a>
                                    <div class="q_clear"></div>
                                </div>
                            </div>
                            <div class="q_main_body">
                                <div class="q_txt">
                                    
                                    <div class="q_img">
                                        <img src="https://s3.amazonaws.com/qoorate.brooklyncode/cfbb12022f81667e3c2746e3c80b2e1e_m.jpg" 
                                                onerror="ImgError(this, 'http://localhost/q/uploader/images/cfbb12022f81667e3c2746e3c80b2e1e','http://localhost/q/img/blank.gif')">
                                    </div>
                                    <h3 class="itemName title type-1">tester</h3>
                                    
                                </div>
                                <div class="q_clear"></div>
                            </div>
                            <div class="q_main_footer">
                                <div class="q_main_user">
                                    <div class="q_thumbnail">
                                        
                                        <img width="30" height="30" src="http://a0.twimg.com/profile_images/2793955592/297b32ce863d62ad496ccfab30b98ec2_normal.jpeg" onerror="ImgError(this, 'http://qrate.co/img/blank.gif')" />
                                        
                                    </div>
                                    <div class="q_user_info">
                                        
                                        <span class="q_usr"></span>
                                        
                                        <span class="time">0 seconds ago</span>
                                    </div>
                                    <div class="q_clear"></div>
                                </div>
                            </div>
                            <div class="q_bottom lv-1">
                                <fieldset class="reply bottom">
                                    <legend>Reply</legend>
                                    <div class="replyWrapper">
                                        <div class="inner">
                                            <a id="reply_12345-2" href="#" class="do makeForm replyComment 12345-2 reply"><span>Reply (<span class="replycount">0</span>)</span></a>
                                            <a id="toggle_12345-2" href="#" class="toggleReply tco-2 expand"><span></span></a>
                                            <div class="q_clear"></div>
                                        </div>
                                    </div>
                                    <div class="vote wrapper">
                                        <div class="inner">
                                            <div class="upVote wrap"><a href="#" class="do action upVote 12345-2"><span class="voted">0</span></a></div>
                                            <div class="downVote wrap"><a href="#" class="do action downVote 12345-2"><span class="voted">0</span></a></div>
                                            <div class="q_clear"></div>
                                        </div>
                                    </div>
                                </fieldset>
                                <div class="dyn 12345-2"></div>
                            </div>
                            <div class="q_clear"></div>
                        </div>
                    </div>
                </div>
                <div class="q_clear"></div>
            </div>
            <div class="q_clear"></div>
             
        
    

</div>

<div class="q_clear"></div>
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:escape_sql sql: 
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:escape_sql args: []
DEBUG:root:
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100cdaa10>
DEBUG:root:Number of contributions 2
INFO:root:200 POST /q/feed (127.0.0.1)
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:set_table has q_short_name (12345)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100b7e7d0>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has q_short_name (12345)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100b7e9d0>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:feed.prepare, table: q_brooklyncode
DEBUG:root:FeedHandler post
DEBUG:root:Body -> 
 action=upVote&location=5e13bbb73127b9fc424e3728c6500f28&referer=http%3A%2F%2Flocalhost%3A8081%2F%3Fp%3D1&q_short_name=12345&QOOID=QOO51f460f57c582&QOOTID=QOOT51f460f57c593&relatedId=2
DEBUG:root:Arguments -> 
 {"QOOID": ["QOO51f460f57c582"], "QOOTID": ["QOOT51f460f57c593"], "q_short_name": ["12345"], "location": ["5e13bbb73127b9fc424e3728c6500f28"], "action": ["upVote"], "referer": ["http://localhost:8081/?p=1"], "relatedId": ["2"]}
DEBUG:root:to_unicode
DEBUG:root:upVote
DEBUG:root:upVote
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:upVote
DEBUG:root:upVote
DEBUG:root:to_unicode
DEBUG:root:action: upVote
DEBUG:root:perform_vote(1)
DEBUG:root:to_unicode
DEBUG:root:2
DEBUG:root:2
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:2
DEBUG:root:2
DEBUG:root:to_unicode
DEBUG:root:MySqlApiQueryset read_one
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:escape_sql sql: SELECT `id`,`locationId`,`relatedId`,`parentId`,`userId`,`type`,`name`,`location`,`description`,`voteCount`,`voteNumber`,`votesUp`,`votesDown`,`flagCount`,`childCount`,`sortOrder`,`status`,`thumbnailSmall`,`thumbnailLarge`,`referer`,`changeDate`,`createDate` FROM `q_brooklyncode` WHERE ID = %s
DEBUG:root:escape_sql args: [2]
DEBUG:root:SELECT `id`,`locationId`,`relatedId`,`parentId`,`userId`,`type`,`name`,`location`,`description`,`voteCount`,`voteNumber`,`votesUp`,`votesDown`,`flagCount`,`childCount`,`sortOrder`,`status`,`thumbnailSmall`,`thumbnailLarge`,`referer`,`changeDate`,`createDate` FROM `q_brooklyncode` WHERE ID = 2
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100c0a550>
DEBUG:root:_vote(1, Comment object)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100b7ebd0>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100b7edd0>
DEBUG:root:user_id, item.userId: 1, 1
INFO:root:ERROR: (You cannot vote on your own contribution)Traceback (most recent call last):
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 314, in post
    self.perform_vote(self.UP)
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 744, in perform_vote
    vote = self._vote(direction, item)
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 828, in _vote
    raise Exception('You cannot vote on your own contribution')
Exception: You cannot vote on your own contribution

INFO:root:500 POST /q/feed (127.0.0.1)
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:set_table has q_short_name (12345)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100b83050>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has q_short_name (12345)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100b83210>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:feed.prepare, table: q_brooklyncode
DEBUG:root:FeedHandler post
DEBUG:root:Body -> 
 replyComment=&thumbnailLarge=cfbb12022f81667e3c2746e3c80b2e1e&replyPhoto=&action=sort&location=5e13bbb73127b9fc424e3728c6500f28&referer=http%3A%2F%2Flocalhost%3A8081%2F%3Fp%3D1&q_short_name=12345&QOOID=QOO51f460f57c582&QOOTID=QOOT51f460f57c593&sort=2
DEBUG:root:Arguments -> 
 {"sort": ["2"], "thumbnailLarge": ["cfbb12022f81667e3c2746e3c80b2e1e"], "QOOID": ["QOO51f460f57c582"], "QOOTID": ["QOOT51f460f57c593"], "q_short_name": ["12345"], "location": ["5e13bbb73127b9fc424e3728c6500f28"], "action": ["sort"], "referer": ["http://localhost:8081/?p=1"]}
DEBUG:root:to_unicode
DEBUG:root:sort
DEBUG:root:sort
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:sort
DEBUG:root:sort
DEBUG:root:to_unicode
DEBUG:root:action: sort
DEBUG:root:to_unicode
DEBUG:root:2
DEBUG:root:2
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:2
DEBUG:root:2
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:init_db_conn
DEBUG:root:NOT creating db_conn
DEBUG:root:1
DEBUG:root:5
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT f.`parent_sequence` , f.`child_sequence` , f.`id` , f.`locationId` , f.`relatedId`,
                f.`parentId` , f.`userId` , `u`.`username`, u.`thumbnailLarge` as userThumbnailLarge,
                ur.`username` as relatedUsername, ur.`thumbnailLarge` as relatedUserThumbnailLarge, f.`type`,
                f.`is_anonymous` , r.`is_anonymous` as `related_is_anonymous`, f.`name` , f.`location` ,f.`description`,f.`referer`,
                f.`voteCount` , f.`voteNumber` , f.`votesUp` ,f.`votesDown` , f.`flagCount`,  f.`childCount`, f.`sortOrder` , f.`status`,
                f.`thumbnailSmall` ,f.`thumbnailLarge` , f.`changeDate` , f.`createDate`, f.`nickname`, r.`nickname` as `related_nickname`
            FROM (
                # this query adds the sequence fields to filter by for paging
                SELECT  s1.*, @parentrownum := convert( IF( ( parentId = 0), @parentrownum +1, @parentrownum ), UNSIGNED INTEGER) AS parent_sequence,
                @childrownum := IF( ( @lastparent = parentId), @childrownum + 1, 0 ) AS child_sequence,
                @lastparent := if( parentId=0, id, parentId ) AS dummy_used_for_last_parent
                FROM
                    # QUERY 2: this query sorts the results properly
                    (SELECT s0.* FROM
                        # QUERY 1: This query gets the results we need with calculated fields to sort by
                        # We should probably have these fields in the database so they are indexed
                        (SELECT
                        CONVERT( if( parentId = 0, @parentVoteNumber:=voteNumber,
                            @parentVoteNumber ), SIGNED INTEGER ) as groupVoteNumber,          # Will order groups using parent voteNumber
                        CONVERT( if( parentId = 0, @parentVoteCount:=voteCount,
                            @parentVoteCount ), SIGNED INTEGER ) as groupVoteCount,            # Will order groups using parent voteCount
                        CONVERT( if( parentId = 0, @parentCreateDate:=createDate,
                            @parentCreateDate ), DATETIME ) as groupCreateDate,                # Will order groups using parent createDate
                        CONVERT( if(parentId=0, id, parentId), UNSIGNED INTEGER) as groupId,   # will order groups together
                        CONVERT( if(parentId = 0, 0, 1), UNSIGNED INTEGER) as isChild,         # will order parent first in group
                        r.*
                        FROM (
                            # this just makes sure our groups are grouped in parent child order
                            SELECT * from q_brooklyncode o  WHERE o.location = '5e13bbb73127b9fc424e3728c6500f28' ORDER BY
                             if( o.relatedId = 0, o.id, o.relatedId),
                             if( o.relatedId = 0, 0, o.id )
                            ) r,
                        ( SELECT @parentVoteNumber := 0 ) pvn,
                        ( SELECT @parentVoteCount  := 0 ) pvc,
                        ( SELECT @parentCreateDate := 0 ) pcd
                         WHERE location = '5e13bbb73127b9fc424e3728c6500f28' 
                    ) s0
                    
                    
                    ORDER BY
                    
                s0.groupCreateDate DESC,
                s0.groupVoteNumber DESC,
                s0.groupVoteCount DESC,
                 
                    groupId  ASC, # first order by group
                    isChild ASC, # Then make sure the parent is first
                    
                s0.createDate DESC,
                s0.voteNumber DESC,
                s0.voteCount DESC
                
            ) s1,
            ( SELECT @parentrownum := 0 ) pr,
            ( SELECT @childrownum := 0 ) cr, 
            ( SELECT @lastparent := -1 ) lp) f
            LEFT JOIN user u on u.id = f.userId
            LEFT JOIN q_brooklyncode r on r.id = f.relatedId
            LEFT JOIN user ur on ur.id = r.userId
            WHERE
            ((0 = 6 and parent_sequence >= 1) or parent_sequence BETWEEN 1 AND 6)
            AND
            ((0 = 6 and child_sequence >= 1) or (child_sequence=0 or child_sequence BETWEEN 1 AND 6))
        
DEBUG:root:escape_sql args: None
DEBUG:root:
            SELECT f.`parent_sequence` , f.`child_sequence` , f.`id` , f.`locationId` , f.`relatedId`,
                f.`parentId` , f.`userId` , `u`.`username`, u.`thumbnailLarge` as userThumbnailLarge,
                ur.`username` as relatedUsername, ur.`thumbnailLarge` as relatedUserThumbnailLarge, f.`type`,
                f.`is_anonymous` , r.`is_anonymous` as `related_is_anonymous`, f.`name` , f.`location` ,f.`description`,f.`referer`,
                f.`voteCount` , f.`voteNumber` , f.`votesUp` ,f.`votesDown` , f.`flagCount`,  f.`childCount`, f.`sortOrder` , f.`status`,
                f.`thumbnailSmall` ,f.`thumbnailLarge` , f.`changeDate` , f.`createDate`, f.`nickname`, r.`nickname` as `related_nickname`
            FROM (
                # this query adds the sequence fields to filter by for paging
                SELECT  s1.*, @parentrownum := convert( IF( ( parentId = 0), @parentrownum +1, @parentrownum ), UNSIGNED INTEGER) AS parent_sequence,
                @childrownum := IF( ( @lastparent = parentId), @childrownum + 1, 0 ) AS child_sequence,
                @lastparent := if( parentId=0, id, parentId ) AS dummy_used_for_last_parent
                FROM
                    # QUERY 2: this query sorts the results properly
                    (SELECT s0.* FROM
                        # QUERY 1: This query gets the results we need with calculated fields to sort by
                        # We should probably have these fields in the database so they are indexed
                        (SELECT
                        CONVERT( if( parentId = 0, @parentVoteNumber:=voteNumber,
                            @parentVoteNumber ), SIGNED INTEGER ) as groupVoteNumber,          # Will order groups using parent voteNumber
                        CONVERT( if( parentId = 0, @parentVoteCount:=voteCount,
                            @parentVoteCount ), SIGNED INTEGER ) as groupVoteCount,            # Will order groups using parent voteCount
                        CONVERT( if( parentId = 0, @parentCreateDate:=createDate,
                            @parentCreateDate ), DATETIME ) as groupCreateDate,                # Will order groups using parent createDate
                        CONVERT( if(parentId=0, id, parentId), UNSIGNED INTEGER) as groupId,   # will order groups together
                        CONVERT( if(parentId = 0, 0, 1), UNSIGNED INTEGER) as isChild,         # will order parent first in group
                        r.*
                        FROM (
                            # this just makes sure our groups are grouped in parent child order
                            SELECT * from q_brooklyncode o  WHERE o.location = '5e13bbb73127b9fc424e3728c6500f28' ORDER BY
                             if( o.relatedId = 0, o.id, o.relatedId),
                             if( o.relatedId = 0, 0, o.id )
                            ) r,
                        ( SELECT @parentVoteNumber := 0 ) pvn,
                        ( SELECT @parentVoteCount  := 0 ) pvc,
                        ( SELECT @parentCreateDate := 0 ) pcd
                         WHERE location = '5e13bbb73127b9fc424e3728c6500f28' 
                    ) s0
                    
                    
                    ORDER BY
                    
                s0.groupCreateDate DESC,
                s0.groupVoteNumber DESC,
                s0.groupVoteCount DESC,
                 
                    groupId  ASC, # first order by group
                    isChild ASC, # Then make sure the parent is first
                    
                s0.createDate DESC,
                s0.voteNumber DESC,
                s0.voteCount DESC
                
            ) s1,
            ( SELECT @parentrownum := 0 ) pr,
            ( SELECT @childrownum := 0 ) cr, 
            ( SELECT @lastparent := -1 ) lp) f
            LEFT JOIN user u on u.id = f.userId
            LEFT JOIN q_brooklyncode r on r.id = f.relatedId
            LEFT JOIN user ur on ur.id = r.userId
            WHERE
            ((0 = 6 and parent_sequence >= 1) or parent_sequence BETWEEN 1 AND 6)
            AND
            ((0 = 6 and child_sequence >= 1) or (child_sequence=0 or child_sequence BETWEEN 1 AND 6))
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100b7e1d0>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = %s
        
DEBUG:root:escape_sql args: [2L]
DEBUG:root:
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = 2
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100b7e250>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = %s
        
DEBUG:root:escape_sql args: [1L]
DEBUG:root:
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = 1
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100b7e450>
DEBUG:root:Number of comments returned: 2
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:escape_sql sql: 
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:escape_sql args: []
DEBUG:root:
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100c10950>
DEBUG:root:Number of contributions 2
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100b7e5d0>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100b7e7d0>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100b7e9d0>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100b7ebd0>
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:escape_sql sql: 
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:escape_sql args: []
DEBUG:root:
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100c10a10>
DEBUG:root:Number of contributions 2
INFO:root:200 POST /q/feed (127.0.0.1)
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:set_table has q_short_name (12345)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100b7edd0>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has q_short_name (12345)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100b83050>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:feed.prepare, table: q_brooklyncode
DEBUG:root:FeedHandler post
DEBUG:root:Body -> 
 replyComment=&thumbnailLarge=cfbb12022f81667e3c2746e3c80b2e1e&replyPhoto=&action=sort&location=5e13bbb73127b9fc424e3728c6500f28&referer=http%3A%2F%2Flocalhost%3A8081%2F%3Fp%3D1&q_short_name=12345&QOOID=QOO51f460f57c582&QOOTID=QOOT51f460f57c593&sort=3
DEBUG:root:Arguments -> 
 {"sort": ["3"], "thumbnailLarge": ["cfbb12022f81667e3c2746e3c80b2e1e"], "QOOID": ["QOO51f460f57c582"], "QOOTID": ["QOOT51f460f57c593"], "q_short_name": ["12345"], "location": ["5e13bbb73127b9fc424e3728c6500f28"], "action": ["sort"], "referer": ["http://localhost:8081/?p=1"]}
DEBUG:root:to_unicode
DEBUG:root:sort
DEBUG:root:sort
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:sort
DEBUG:root:sort
DEBUG:root:to_unicode
DEBUG:root:action: sort
DEBUG:root:to_unicode
DEBUG:root:3
DEBUG:root:3
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:3
DEBUG:root:3
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:init_db_conn
DEBUG:root:NOT creating db_conn
DEBUG:root:1
DEBUG:root:5
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT f.`parent_sequence` , f.`child_sequence` , f.`id` , f.`locationId` , f.`relatedId`,
                f.`parentId` , f.`userId` , `u`.`username`, u.`thumbnailLarge` as userThumbnailLarge,
                ur.`username` as relatedUsername, ur.`thumbnailLarge` as relatedUserThumbnailLarge, f.`type`,
                f.`is_anonymous` , r.`is_anonymous` as `related_is_anonymous`, f.`name` , f.`location` ,f.`description`,f.`referer`,
                f.`voteCount` , f.`voteNumber` , f.`votesUp` ,f.`votesDown` , f.`flagCount`,  f.`childCount`, f.`sortOrder` , f.`status`,
                f.`thumbnailSmall` ,f.`thumbnailLarge` , f.`changeDate` , f.`createDate`, f.`nickname`, r.`nickname` as `related_nickname`
            FROM (
                # this query adds the sequence fields to filter by for paging
                SELECT  s1.*, @parentrownum := convert( IF( ( parentId = 0), @parentrownum +1, @parentrownum ), UNSIGNED INTEGER) AS parent_sequence,
                @childrownum := IF( ( @lastparent = parentId), @childrownum + 1, 0 ) AS child_sequence,
                @lastparent := if( parentId=0, id, parentId ) AS dummy_used_for_last_parent
                FROM
                    # QUERY 2: this query sorts the results properly
                    (SELECT s0.* FROM
                        # QUERY 1: This query gets the results we need with calculated fields to sort by
                        # We should probably have these fields in the database so they are indexed
                        (SELECT
                        CONVERT( if( parentId = 0, @parentVoteNumber:=voteNumber,
                            @parentVoteNumber ), SIGNED INTEGER ) as groupVoteNumber,          # Will order groups using parent voteNumber
                        CONVERT( if( parentId = 0, @parentVoteCount:=voteCount,
                            @parentVoteCount ), SIGNED INTEGER ) as groupVoteCount,            # Will order groups using parent voteCount
                        CONVERT( if( parentId = 0, @parentCreateDate:=createDate,
                            @parentCreateDate ), DATETIME ) as groupCreateDate,                # Will order groups using parent createDate
                        CONVERT( if(parentId=0, id, parentId), UNSIGNED INTEGER) as groupId,   # will order groups together
                        CONVERT( if(parentId = 0, 0, 1), UNSIGNED INTEGER) as isChild,         # will order parent first in group
                        r.*
                        FROM (
                            # this just makes sure our groups are grouped in parent child order
                            SELECT * from q_brooklyncode o  WHERE o.location = '5e13bbb73127b9fc424e3728c6500f28' ORDER BY
                             if( o.relatedId = 0, o.id, o.relatedId),
                             if( o.relatedId = 0, 0, o.id )
                            ) r,
                        ( SELECT @parentVoteNumber := 0 ) pvn,
                        ( SELECT @parentVoteCount  := 0 ) pvc,
                        ( SELECT @parentCreateDate := 0 ) pcd
                         WHERE location = '5e13bbb73127b9fc424e3728c6500f28' 
                    ) s0
                    
                    
                    ORDER BY
                    
                s0.groupCreateDate ASC,
                s0.groupVoteNumber DESC,
                s0.groupVoteCount DESC,
                 
                    groupId  ASC, # first order by group
                    isChild ASC, # Then make sure the parent is first
                    
                s0.createDate ASC,
                s0.voteNumber DESC,
                s0.voteCount DESC
                
            ) s1,
            ( SELECT @parentrownum := 0 ) pr,
            ( SELECT @childrownum := 0 ) cr, 
            ( SELECT @lastparent := -1 ) lp) f
            LEFT JOIN user u on u.id = f.userId
            LEFT JOIN q_brooklyncode r on r.id = f.relatedId
            LEFT JOIN user ur on ur.id = r.userId
            WHERE
            ((0 = 6 and parent_sequence >= 1) or parent_sequence BETWEEN 1 AND 6)
            AND
            ((0 = 6 and child_sequence >= 1) or (child_sequence=0 or child_sequence BETWEEN 1 AND 6))
        
DEBUG:root:escape_sql args: None
DEBUG:root:
            SELECT f.`parent_sequence` , f.`child_sequence` , f.`id` , f.`locationId` , f.`relatedId`,
                f.`parentId` , f.`userId` , `u`.`username`, u.`thumbnailLarge` as userThumbnailLarge,
                ur.`username` as relatedUsername, ur.`thumbnailLarge` as relatedUserThumbnailLarge, f.`type`,
                f.`is_anonymous` , r.`is_anonymous` as `related_is_anonymous`, f.`name` , f.`location` ,f.`description`,f.`referer`,
                f.`voteCount` , f.`voteNumber` , f.`votesUp` ,f.`votesDown` , f.`flagCount`,  f.`childCount`, f.`sortOrder` , f.`status`,
                f.`thumbnailSmall` ,f.`thumbnailLarge` , f.`changeDate` , f.`createDate`, f.`nickname`, r.`nickname` as `related_nickname`
            FROM (
                # this query adds the sequence fields to filter by for paging
                SELECT  s1.*, @parentrownum := convert( IF( ( parentId = 0), @parentrownum +1, @parentrownum ), UNSIGNED INTEGER) AS parent_sequence,
                @childrownum := IF( ( @lastparent = parentId), @childrownum + 1, 0 ) AS child_sequence,
                @lastparent := if( parentId=0, id, parentId ) AS dummy_used_for_last_parent
                FROM
                    # QUERY 2: this query sorts the results properly
                    (SELECT s0.* FROM
                        # QUERY 1: This query gets the results we need with calculated fields to sort by
                        # We should probably have these fields in the database so they are indexed
                        (SELECT
                        CONVERT( if( parentId = 0, @parentVoteNumber:=voteNumber,
                            @parentVoteNumber ), SIGNED INTEGER ) as groupVoteNumber,          # Will order groups using parent voteNumber
                        CONVERT( if( parentId = 0, @parentVoteCount:=voteCount,
                            @parentVoteCount ), SIGNED INTEGER ) as groupVoteCount,            # Will order groups using parent voteCount
                        CONVERT( if( parentId = 0, @parentCreateDate:=createDate,
                            @parentCreateDate ), DATETIME ) as groupCreateDate,                # Will order groups using parent createDate
                        CONVERT( if(parentId=0, id, parentId), UNSIGNED INTEGER) as groupId,   # will order groups together
                        CONVERT( if(parentId = 0, 0, 1), UNSIGNED INTEGER) as isChild,         # will order parent first in group
                        r.*
                        FROM (
                            # this just makes sure our groups are grouped in parent child order
                            SELECT * from q_brooklyncode o  WHERE o.location = '5e13bbb73127b9fc424e3728c6500f28' ORDER BY
                             if( o.relatedId = 0, o.id, o.relatedId),
                             if( o.relatedId = 0, 0, o.id )
                            ) r,
                        ( SELECT @parentVoteNumber := 0 ) pvn,
                        ( SELECT @parentVoteCount  := 0 ) pvc,
                        ( SELECT @parentCreateDate := 0 ) pcd
                         WHERE location = '5e13bbb73127b9fc424e3728c6500f28' 
                    ) s0
                    
                    
                    ORDER BY
                    
                s0.groupCreateDate ASC,
                s0.groupVoteNumber DESC,
                s0.groupVoteCount DESC,
                 
                    groupId  ASC, # first order by group
                    isChild ASC, # Then make sure the parent is first
                    
                s0.createDate ASC,
                s0.voteNumber DESC,
                s0.voteCount DESC
                
            ) s1,
            ( SELECT @parentrownum := 0 ) pr,
            ( SELECT @childrownum := 0 ) cr, 
            ( SELECT @lastparent := -1 ) lp) f
            LEFT JOIN user u on u.id = f.userId
            LEFT JOIN q_brooklyncode r on r.id = f.relatedId
            LEFT JOIN user ur on ur.id = r.userId
            WHERE
            ((0 = 6 and parent_sequence >= 1) or parent_sequence BETWEEN 1 AND 6)
            AND
            ((0 = 6 and child_sequence >= 1) or (child_sequence=0 or child_sequence BETWEEN 1 AND 6))
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100b83210>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = %s
        
DEBUG:root:escape_sql args: [1L]
DEBUG:root:
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = 1
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100b7e1d0>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = %s
        
DEBUG:root:escape_sql args: [2L]
DEBUG:root:
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = 2
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100b7e250>
DEBUG:root:Number of comments returned: 2
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:escape_sql sql: 
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:escape_sql args: []
DEBUG:root:
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100c0a4d0>
DEBUG:root:Number of contributions 2
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100b7e450>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100b7e5d0>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100b7e7d0>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100b7e9d0>
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:escape_sql sql: 
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:escape_sql args: []
DEBUG:root:
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100c324d0>
DEBUG:root:Number of contributions 2
INFO:root:200 POST /q/feed (127.0.0.1)
DEBUG:root:get EmbedHandler
DEBUG:root:to_unicode
DEBUG:root:embed_head
DEBUG:root:embed_head
DEBUG:root:to_unicode
DEBUG:root:action: embed_head 
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:set_table has key/secret
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = %s and `secret`= %s
        
DEBUG:root:escape_sql args: [u'12345', u'54321']
DEBUG:root:
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = '12345' and `secret`= '54321'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100b7ebd0>
DEBUG:root:returning True from authencticate.
DEBUG:root:set_table authenticated
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100b7edd0>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has key/secret
DEBUG:root:returning `True` from authenticate cached.
DEBUG:root:set_table authenticated
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100b83050>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100b83210>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100b7e1d0>
DEBUG:root:qoorate preferences: {
    "THEME": "grid",
    "EMBED_CONF_JS": "
        var qoorateConfig = {
            QOORATE_URI: 'http://localhost',
            QOORATE_API_URI: 'http://localhost/q',
            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',
            XHR_PROXY_URI: '/q/feed',
            XHR_UPLOAD_URI: '/q/uploader',
            POST_MAX_LEN: 1000,
            PARENT_PAGE_SIZE: 10,
            CHILD_PAGE_SIZE: 10,
            AUTO_SCROLL: 1,
            THEME: 'grid',
            GRID_COLUMNS: 3,
            GRID_COLUMN_TRIM: 15,
            GRID_ROW_TRIM: 15
        };
        var qoorateLang = {
            FLAG_SUCCESS: 'Thanks for flagging this!',
            SHARE_SUCCESS: 'Thank you for sharing!',
            DELETE_SUCCESS: 'Thank you. This item has been deleted.',
            SIGNIN: 'Sign in using',
            SIGNEDIN: 'Signed in via',    
            OK: 'OK',
            CANCEL: 'Cancel',
            LOGOUT: 'Log Out',
            TOGGLE_ON: '+',
            TOGGLE_OFF: '-',
            CONTRIBUTION: 'Contribution',
            CONTRIBUTIONS: 'Contributions',
            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',
            REMOVE: 'Remove',
            LINK: 'Insert a link',
            TOPIC_COMMENT: 'Pose a Yes/No Question',
            COMMENT: 'Your Comment',
            IMAGE_COMMENT: 'Image Caption',
            POST_TO: 'Post to',
            POST_ANONYMOUS: 'Post anonymously',
            NICKNAME: 'Post as ',
            DEFAULT_NICKNAME: 'Anonymous',
            REPLY_LINK_COMMENT: 'Say something about your link',
            SHARE_COMMENT: 'comment about this share...',
            PUBLISH_BUTTON: 'Publish',
            POST_BUTTON: 'Post',
            POST_TO_BUTTON: 'Post To',
            REPLY_BUTTON: 'Reply',
            SHARE_BUTTON: 'Share',
            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',
            SELECT_IMAGE: 'Select an Image',
            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',
            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],
            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],
            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]
        };
    "
}

DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:preferences EMBED_CONF_JS:         var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    
DEBUG:root:embed_head called
INFO:root:200 GET /q/embed (127.0.0.1)
DEBUG:root:get EmbedHandler
DEBUG:root:to_unicode
DEBUG:root:embed_content
DEBUG:root:embed_content
DEBUG:root:to_unicode
DEBUG:root:action: embed_content 
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:set_table has key/secret
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = %s and `secret`= %s
        
DEBUG:root:escape_sql args: [u'12345', u'54321']
DEBUG:root:
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = '12345' and `secret`= '54321'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100b7e250>
DEBUG:root:returning True from authencticate.
DEBUG:root:set_table authenticated
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100b7e450>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has key/secret
DEBUG:root:returning `True` from authenticate cached.
DEBUG:root:set_table authenticated
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100b7e5d0>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100b7e7d0>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100b7e9d0>
DEBUG:root:qoorate preferences: {
    "THEME": "grid",
    "EMBED_CONF_JS": "
        var qoorateConfig = {
            QOORATE_URI: 'http://localhost',
            QOORATE_API_URI: 'http://localhost/q',
            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',
            XHR_PROXY_URI: '/q/feed',
            XHR_UPLOAD_URI: '/q/uploader',
            POST_MAX_LEN: 1000,
            PARENT_PAGE_SIZE: 10,
            CHILD_PAGE_SIZE: 10,
            AUTO_SCROLL: 1,
            THEME: 'grid',
            GRID_COLUMNS: 3,
            GRID_COLUMN_TRIM: 15,
            GRID_ROW_TRIM: 15
        };
        var qoorateLang = {
            FLAG_SUCCESS: 'Thanks for flagging this!',
            SHARE_SUCCESS: 'Thank you for sharing!',
            DELETE_SUCCESS: 'Thank you. This item has been deleted.',
            SIGNIN: 'Sign in using',
            SIGNEDIN: 'Signed in via',    
            OK: 'OK',
            CANCEL: 'Cancel',
            LOGOUT: 'Log Out',
            TOGGLE_ON: '+',
            TOGGLE_OFF: '-',
            CONTRIBUTION: 'Contribution',
            CONTRIBUTIONS: 'Contributions',
            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',
            REMOVE: 'Remove',
            LINK: 'Insert a link',
            TOPIC_COMMENT: 'Pose a Yes/No Question',
            COMMENT: 'Your Comment',
            IMAGE_COMMENT: 'Image Caption',
            POST_TO: 'Post to',
            POST_ANONYMOUS: 'Post anonymously',
            NICKNAME: 'Post as ',
            DEFAULT_NICKNAME: 'Anonymous',
            REPLY_LINK_COMMENT: 'Say something about your link',
            SHARE_COMMENT: 'comment about this share...',
            PUBLISH_BUTTON: 'Publish',
            POST_BUTTON: 'Post',
            POST_TO_BUTTON: 'Post To',
            REPLY_BUTTON: 'Reply',
            SHARE_BUTTON: 'Share',
            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',
            SELECT_IMAGE: 'Select an Image',
            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',
            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],
            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],
            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]
        };
    "
}

DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:preferences EMBED_CONF_JS:         var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    
DEBUG:root:embed_content called (key,secret): (12345,54321)
DEBUG:root:returning `True` from authenticate cached.
DEBUG:root:get_content_context
DEBUG:root:table: q_brooklyncode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:init_db_conn
DEBUG:root:NOT creating db_conn
DEBUG:root:1
DEBUG:root:5
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT f.`parent_sequence` , f.`child_sequence` , f.`id` , f.`locationId` , f.`relatedId`,
                f.`parentId` , f.`userId` , `u`.`username`, u.`thumbnailLarge` as userThumbnailLarge,
                ur.`username` as relatedUsername, ur.`thumbnailLarge` as relatedUserThumbnailLarge, f.`type`,
                f.`is_anonymous` , r.`is_anonymous` as `related_is_anonymous`, f.`name` , f.`location` ,f.`description`,f.`referer`,
                f.`voteCount` , f.`voteNumber` , f.`votesUp` ,f.`votesDown` , f.`flagCount`,  f.`childCount`, f.`sortOrder` , f.`status`,
                f.`thumbnailSmall` ,f.`thumbnailLarge` , f.`changeDate` , f.`createDate`, f.`nickname`, r.`nickname` as `related_nickname`
            FROM (
                # this query adds the sequence fields to filter by for paging
                SELECT  s1.*, @parentrownum := convert( IF( ( parentId = 0), @parentrownum +1, @parentrownum ), UNSIGNED INTEGER) AS parent_sequence,
                @childrownum := IF( ( @lastparent = parentId), @childrownum + 1, 0 ) AS child_sequence,
                @lastparent := if( parentId=0, id, parentId ) AS dummy_used_for_last_parent
                FROM
                    # QUERY 2: this query sorts the results properly
                    (SELECT s0.* FROM
                        # QUERY 1: This query gets the results we need with calculated fields to sort by
                        # We should probably have these fields in the database so they are indexed
                        (SELECT
                        CONVERT( if( parentId = 0, @parentVoteNumber:=voteNumber,
                            @parentVoteNumber ), SIGNED INTEGER ) as groupVoteNumber,          # Will order groups using parent voteNumber
                        CONVERT( if( parentId = 0, @parentVoteCount:=voteCount,
                            @parentVoteCount ), SIGNED INTEGER ) as groupVoteCount,            # Will order groups using parent voteCount
                        CONVERT( if( parentId = 0, @parentCreateDate:=createDate,
                            @parentCreateDate ), DATETIME ) as groupCreateDate,                # Will order groups using parent createDate
                        CONVERT( if(parentId=0, id, parentId), UNSIGNED INTEGER) as groupId,   # will order groups together
                        CONVERT( if(parentId = 0, 0, 1), UNSIGNED INTEGER) as isChild,         # will order parent first in group
                        r.*
                        FROM (
                            # this just makes sure our groups are grouped in parent child order
                            SELECT * from q_brooklyncode o  WHERE o.location = '5e13bbb73127b9fc424e3728c6500f28' ORDER BY
                             if( o.relatedId = 0, o.id, o.relatedId),
                             if( o.relatedId = 0, 0, o.id )
                            ) r,
                        ( SELECT @parentVoteNumber := 0 ) pvn,
                        ( SELECT @parentVoteCount  := 0 ) pvc,
                        ( SELECT @parentCreateDate := 0 ) pcd
                         WHERE location = '5e13bbb73127b9fc424e3728c6500f28' 
                    ) s0
                    
                    
                    ORDER BY
                    
                s0.groupVoteNumber DESC,
                s0.groupVoteCount DESC,
                s0.groupCreateDate ASC,
                 
                    groupId  ASC, # first order by group
                    isChild ASC, # Then make sure the parent is first
                    
                s0.voteNumber DESC,
                s0.voteCount DESC,
                s0.createDate ASC
                
            ) s1,
            ( SELECT @parentrownum := 0 ) pr,
            ( SELECT @childrownum := 0 ) cr, 
            ( SELECT @lastparent := -1 ) lp) f
            LEFT JOIN user u on u.id = f.userId
            LEFT JOIN q_brooklyncode r on r.id = f.relatedId
            LEFT JOIN user ur on ur.id = r.userId
            WHERE
            ((0 = 6 and parent_sequence >= 1) or parent_sequence BETWEEN 1 AND 6)
            AND
            ((0 = 6 and child_sequence >= 1) or (child_sequence=0 or child_sequence BETWEEN 1 AND 6))
        
DEBUG:root:escape_sql args: None
DEBUG:root:
            SELECT f.`parent_sequence` , f.`child_sequence` , f.`id` , f.`locationId` , f.`relatedId`,
                f.`parentId` , f.`userId` , `u`.`username`, u.`thumbnailLarge` as userThumbnailLarge,
                ur.`username` as relatedUsername, ur.`thumbnailLarge` as relatedUserThumbnailLarge, f.`type`,
                f.`is_anonymous` , r.`is_anonymous` as `related_is_anonymous`, f.`name` , f.`location` ,f.`description`,f.`referer`,
                f.`voteCount` , f.`voteNumber` , f.`votesUp` ,f.`votesDown` , f.`flagCount`,  f.`childCount`, f.`sortOrder` , f.`status`,
                f.`thumbnailSmall` ,f.`thumbnailLarge` , f.`changeDate` , f.`createDate`, f.`nickname`, r.`nickname` as `related_nickname`
            FROM (
                # this query adds the sequence fields to filter by for paging
                SELECT  s1.*, @parentrownum := convert( IF( ( parentId = 0), @parentrownum +1, @parentrownum ), UNSIGNED INTEGER) AS parent_sequence,
                @childrownum := IF( ( @lastparent = parentId), @childrownum + 1, 0 ) AS child_sequence,
                @lastparent := if( parentId=0, id, parentId ) AS dummy_used_for_last_parent
                FROM
                    # QUERY 2: this query sorts the results properly
                    (SELECT s0.* FROM
                        # QUERY 1: This query gets the results we need with calculated fields to sort by
                        # We should probably have these fields in the database so they are indexed
                        (SELECT
                        CONVERT( if( parentId = 0, @parentVoteNumber:=voteNumber,
                            @parentVoteNumber ), SIGNED INTEGER ) as groupVoteNumber,          # Will order groups using parent voteNumber
                        CONVERT( if( parentId = 0, @parentVoteCount:=voteCount,
                            @parentVoteCount ), SIGNED INTEGER ) as groupVoteCount,            # Will order groups using parent voteCount
                        CONVERT( if( parentId = 0, @parentCreateDate:=createDate,
                            @parentCreateDate ), DATETIME ) as groupCreateDate,                # Will order groups using parent createDate
                        CONVERT( if(parentId=0, id, parentId), UNSIGNED INTEGER) as groupId,   # will order groups together
                        CONVERT( if(parentId = 0, 0, 1), UNSIGNED INTEGER) as isChild,         # will order parent first in group
                        r.*
                        FROM (
                            # this just makes sure our groups are grouped in parent child order
                            SELECT * from q_brooklyncode o  WHERE o.location = '5e13bbb73127b9fc424e3728c6500f28' ORDER BY
                             if( o.relatedId = 0, o.id, o.relatedId),
                             if( o.relatedId = 0, 0, o.id )
                            ) r,
                        ( SELECT @parentVoteNumber := 0 ) pvn,
                        ( SELECT @parentVoteCount  := 0 ) pvc,
                        ( SELECT @parentCreateDate := 0 ) pcd
                         WHERE location = '5e13bbb73127b9fc424e3728c6500f28' 
                    ) s0
                    
                    
                    ORDER BY
                    
                s0.groupVoteNumber DESC,
                s0.groupVoteCount DESC,
                s0.groupCreateDate ASC,
                 
                    groupId  ASC, # first order by group
                    isChild ASC, # Then make sure the parent is first
                    
                s0.voteNumber DESC,
                s0.voteCount DESC,
                s0.createDate ASC
                
            ) s1,
            ( SELECT @parentrownum := 0 ) pr,
            ( SELECT @childrownum := 0 ) cr, 
            ( SELECT @lastparent := -1 ) lp) f
            LEFT JOIN user u on u.id = f.userId
            LEFT JOIN q_brooklyncode r on r.id = f.relatedId
            LEFT JOIN user ur on ur.id = r.userId
            WHERE
            ((0 = 6 and parent_sequence >= 1) or parent_sequence BETWEEN 1 AND 6)
            AND
            ((0 = 6 and child_sequence >= 1) or (child_sequence=0 or child_sequence BETWEEN 1 AND 6))
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100b7ebd0>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = %s
        
DEBUG:root:escape_sql args: [1L]
DEBUG:root:
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = 1
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100b7edd0>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = %s
        
DEBUG:root:escape_sql args: [2L]
DEBUG:root:
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = 2
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100b83050>
DEBUG:root:Number of comments returned: 2
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:escape_sql args: []
DEBUG:root:
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100b83210>
DEBUG:root:Number of contributions 2
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100b7e1d0>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100b7e250>
DEBUG:root:to_unicode
DEBUG:root:embed_content
DEBUG:root:embed_content
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:embed_content
DEBUG:root:embed_content
DEBUG:root:to_unicode
INFO:root:200 GET /q/embed (127.0.0.1)
Mon, 29 Jul 2013 00:01:43 GMT [ERROR] (errno: No such file or directory) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 00:01:43 GMT [ERROR] (errno: None) Failed to create target for route /q/static/
Mon, 29 Jul 2013 00:01:43 GMT [ERROR] (errno: None) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 00:01:43 GMT [ERROR] (errno: None) Failed to create target for route /q/robots.txt
Mon, 29 Jul 2013 00:01:43 GMT [ERROR] (errno: None) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 00:01:43 GMT [ERROR] (errno: None) Failed to create target for route /q/favicon.ico
Mon, 29 Jul 2013 00:01:43 GMT [INFO] (src/mime.c:49) MAX limits.mime_ext_len=128
Mon, 29 Jul 2013 00:01:43 GMT [INFO] (src/host.c:74) MAX limits.url_path=256, limits.host_name=256
Mon, 29 Jul 2013 00:01:43 GMT [INFO] (src/config/config.c:109) Loaded proxy 1:127.0.0.1:8081
Mon, 29 Jul 2013 00:01:43 GMT [INFO] (src/config/config.c:227) Loaded route 1:/:proxy for host 1:localhost
Mon, 29 Jul 2013 00:01:43 GMT [INFO] (src/handler.c:343) MAX limits.handler_stack=102400
Mon, 29 Jul 2013 00:01:43 GMT [INFO] (src/config/config.c:85) Loaded handler 1:ipc://run/qoorateserver/mongrel2_send:137b789e-b7eb-475a-8d5c-b16ab54493yu:ipc://run/qoorateserver/mongrel2_rcv:
Mon, 29 Jul 2013 00:01:43 GMT [INFO] (src/config/config.c:227) Loaded route 2:/q/:handler for host 1:localhost
Mon, 29 Jul 2013 00:01:43 GMT [INFO] (src/dir.c:195) MAX limits.dir_send_buffer=16384, limits.dir_max_path=256
Mon, 29 Jul 2013 00:01:43 GMT [INFO] (src/config/config.c:136) Loaded directory 1:static/qoorateserver/js/:index.html
Mon, 29 Jul 2013 00:01:43 GMT [INFO] (src/config/config.c:227) Loaded route 3:/q/js/:dir for host 1:localhost
Mon, 29 Jul 2013 00:01:43 GMT [INFO] (src/config/config.c:136) Loaded directory 2:static/qoorateserver/css/:index.html
Mon, 29 Jul 2013 00:01:43 GMT [INFO] (src/config/config.c:227) Loaded route 4:/q/css/:dir for host 1:localhost
Mon, 29 Jul 2013 00:01:43 GMT [INFO] (src/config/config.c:136) Loaded directory 3:static/qoorateserver/img/:index.html
Mon, 29 Jul 2013 00:01:43 GMT [INFO] (src/config/config.c:227) Loaded route 5:/q/img/:dir for host 1:localhost
Mon, 29 Jul 2013 00:01:43 GMT [INFO] (src/config/config.c:312) Loaded 1 hosts for server 1:fe76e442-da24-4708-b0ef-c4ahr2b7d131
Mon, 29 Jul 2013 00:01:43 GMT [INFO] (src/server.c:445) LOADING Handler ipc://run/qoorateserver/mongrel2_send
Mon, 29 Jul 2013 00:01:43 GMT [ERROR] (src/unixy.c:99: errno: No such file or directory) Failed to open PID file ../run/mongrel2.pid for reading.
Mon, 29 Jul 2013 00:01:43 GMT [INFO] (src/unixy.c:137) No previous mongrel2 running, continuing on.
Mon, 29 Jul 2013 00:01:43 GMT [INFO] (src/mongrel2.c:223) All loaded up, time to turn into a server.
Mon, 29 Jul 2013 00:01:43 GMT [INFO] (src/mongrel2.c:224) -- Starting Mongrel2/1.8.1. Copyright (C) Zed A. Shaw. Licensed BSD.

Mon, 29 Jul 2013 00:01:43 GMT [INFO] (src/mongrel2.c:225) -- Look in logs/error.log for startup messages and errors.
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
INFO:root:Using project directory: .
DEBUG:root:loading settings from ./conf/uploader/settings.py
INFO:root:Using coroutine library: gevent
DEBUG:root:******** START _service_registration *********
DEBUG:root:service_registration_passphrase: 137b789e-b7eb-475a-8d5a-b16ab544yurp
DEBUG:root:service_id: uploader
DEBUG:root:service_registration_addr: ipc://run/uploader/brubeck_svc_registration
DEBUG:root:service_passphrase: 137b789e-b7eb-475a-8d5a-b16ab544yurp
DEBUG:root:service_addr: ipc://run/uploader/brubeck_svc
DEBUG:root:service_response_addr: ipc://run/uploader/brubeck_svc_response
DEBUG:root:service_heartbeat_addr: None
DEBUG:root:service_heartbeat_timeout: 5
DEBUG:root:sender_id: 617ff8e3078a4460a7659e474b63d6db
DEBUG:root:is_reregistration: 0
DEBUG:root:service_heartbeat_interval: 3
DEBUG:root:******** END _service_registration *********
DEBUG:root:register_service: (service_registration_addr, service_registration_passphrase,service_heartbeat_timeout,sender_id): (ipc://run/uploader/brubeck_svc_registration,137b789e-b7eb-475a-8d5a-b16ab544yurp, 5, 617ff8e3078a4460a7659e474b63d6db)
DEBUG:root:service_registration sending request
DEBUG:root:service_registration waiting for response
INFO:root:Using project directory: .
DEBUG:root:loading settings from ./conf/qoorateserver/development.py
INFO:root:Using coroutine library: gevent
DEBUG:root:creating application db_conn pool
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:get EmbedHandler
DEBUG:root:to_unicode
DEBUG:root:embed_head
DEBUG:root:embed_head
DEBUG:root:to_unicode
DEBUG:root:action: embed_head 
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:set_table has key/secret
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = %s and `secret`= %s
        
DEBUG:root:escape_sql args: [u'12345', u'54321']
DEBUG:root:
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = '12345' and `secret`= '54321'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10631efd0>
DEBUG:root:returning True from authencticate.
DEBUG:root:set_table authenticated
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10632a090>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has key/secret
DEBUG:root:returning `True` from authenticate cached.
DEBUG:root:set_table authenticated
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10632a290>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10632a410>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10632a610>
DEBUG:root:qoorate preferences: {
    "THEME": "grid",
    "EMBED_CONF_JS": "
        var qoorateConfig = {
            QOORATE_URI: 'http://localhost',
            QOORATE_API_URI: 'http://localhost/q',
            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',
            XHR_PROXY_URI: '/q/feed',
            XHR_UPLOAD_URI: '/q/uploader',
            POST_MAX_LEN: 1000,
            PARENT_PAGE_SIZE: 10,
            CHILD_PAGE_SIZE: 10,
            AUTO_SCROLL: 1,
            THEME: 'grid',
            GRID_COLUMNS: 3,
            GRID_COLUMN_TRIM: 15,
            GRID_ROW_TRIM: 15
        };
        var qoorateLang = {
            FLAG_SUCCESS: 'Thanks for flagging this!',
            SHARE_SUCCESS: 'Thank you for sharing!',
            DELETE_SUCCESS: 'Thank you. This item has been deleted.',
            SIGNIN: 'Sign in using',
            SIGNEDIN: 'Signed in via',    
            OK: 'OK',
            CANCEL: 'Cancel',
            LOGOUT: 'Log Out',
            TOGGLE_ON: '+',
            TOGGLE_OFF: '-',
            CONTRIBUTION: 'Contribution',
            CONTRIBUTIONS: 'Contributions',
            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',
            REMOVE: 'Remove',
            LINK: 'Insert a link',
            TOPIC_COMMENT: 'Pose a Yes/No Question',
            COMMENT: 'Your Comment',
            IMAGE_COMMENT: 'Image Caption',
            POST_TO: 'Post to',
            POST_ANONYMOUS: 'Post anonymously',
            NICKNAME: 'Post as ',
            DEFAULT_NICKNAME: 'Anonymous',
            REPLY_LINK_COMMENT: 'Say something about your link',
            SHARE_COMMENT: 'comment about this share...',
            PUBLISH_BUTTON: 'Publish',
            POST_BUTTON: 'Post',
            POST_TO_BUTTON: 'Post To',
            REPLY_BUTTON: 'Reply',
            SHARE_BUTTON: 'Share',
            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',
            SELECT_IMAGE: 'Select an Image',
            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',
            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],
            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],
            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]
        };
    "
}

DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:preferences EMBED_CONF_JS:         var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    
DEBUG:root:embed_head called
INFO:root:200 GET /q/embed (127.0.0.1)
DEBUG:root:get EmbedHandler
DEBUG:root:to_unicode
DEBUG:root:embed_content
DEBUG:root:embed_content
DEBUG:root:to_unicode
DEBUG:root:action: embed_content 
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:set_table has key/secret
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = %s and `secret`= %s
        
DEBUG:root:escape_sql args: [u'12345', u'54321']
DEBUG:root:
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = '12345' and `secret`= '54321'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10632a810>
DEBUG:root:returning True from authencticate.
DEBUG:root:set_table authenticated
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10632aa10>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has key/secret
DEBUG:root:returning `True` from authenticate cached.
DEBUG:root:set_table authenticated
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10632ac10>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10632ae10>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x106330050>
DEBUG:root:qoorate preferences: {
    "THEME": "grid",
    "EMBED_CONF_JS": "
        var qoorateConfig = {
            QOORATE_URI: 'http://localhost',
            QOORATE_API_URI: 'http://localhost/q',
            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',
            XHR_PROXY_URI: '/q/feed',
            XHR_UPLOAD_URI: '/q/uploader',
            POST_MAX_LEN: 1000,
            PARENT_PAGE_SIZE: 10,
            CHILD_PAGE_SIZE: 10,
            AUTO_SCROLL: 1,
            THEME: 'grid',
            GRID_COLUMNS: 3,
            GRID_COLUMN_TRIM: 15,
            GRID_ROW_TRIM: 15
        };
        var qoorateLang = {
            FLAG_SUCCESS: 'Thanks for flagging this!',
            SHARE_SUCCESS: 'Thank you for sharing!',
            DELETE_SUCCESS: 'Thank you. This item has been deleted.',
            SIGNIN: 'Sign in using',
            SIGNEDIN: 'Signed in via',    
            OK: 'OK',
            CANCEL: 'Cancel',
            LOGOUT: 'Log Out',
            TOGGLE_ON: '+',
            TOGGLE_OFF: '-',
            CONTRIBUTION: 'Contribution',
            CONTRIBUTIONS: 'Contributions',
            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',
            REMOVE: 'Remove',
            LINK: 'Insert a link',
            TOPIC_COMMENT: 'Pose a Yes/No Question',
            COMMENT: 'Your Comment',
            IMAGE_COMMENT: 'Image Caption',
            POST_TO: 'Post to',
            POST_ANONYMOUS: 'Post anonymously',
            NICKNAME: 'Post as ',
            DEFAULT_NICKNAME: 'Anonymous',
            REPLY_LINK_COMMENT: 'Say something about your link',
            SHARE_COMMENT: 'comment about this share...',
            PUBLISH_BUTTON: 'Publish',
            POST_BUTTON: 'Post',
            POST_TO_BUTTON: 'Post To',
            REPLY_BUTTON: 'Reply',
            SHARE_BUTTON: 'Share',
            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',
            SELECT_IMAGE: 'Select an Image',
            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',
            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],
            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],
            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]
        };
    "
}

DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:preferences EMBED_CONF_JS:         var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    
DEBUG:root:embed_content called (key,secret): (12345,54321)
DEBUG:root:returning `True` from authenticate cached.
DEBUG:root:get_content_context
DEBUG:root:table: q_brooklyncode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:init_db_conn
DEBUG:root:NOT creating db_conn
DEBUG:root:1
DEBUG:root:5
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT f.`parent_sequence` , f.`child_sequence` , f.`id` , f.`locationId` , f.`relatedId`,
                f.`parentId` , f.`userId` , `u`.`username`, u.`thumbnailLarge` as userThumbnailLarge,
                ur.`username` as relatedUsername, ur.`thumbnailLarge` as relatedUserThumbnailLarge, f.`type`,
                f.`is_anonymous` , r.`is_anonymous` as `related_is_anonymous`, f.`name` , f.`location` ,f.`description`,f.`referer`,
                f.`voteCount` , f.`voteNumber` , f.`votesUp` ,f.`votesDown` , f.`flagCount`,  f.`childCount`, f.`sortOrder` , f.`status`,
                f.`thumbnailSmall` ,f.`thumbnailLarge` , f.`changeDate` , f.`createDate`, f.`nickname`, r.`nickname` as `related_nickname`
            FROM (
                # this query adds the sequence fields to filter by for paging
                SELECT  s1.*, @parentrownum := convert( IF( ( parentId = 0), @parentrownum +1, @parentrownum ), UNSIGNED INTEGER) AS parent_sequence,
                @childrownum := IF( ( @lastparent = parentId), @childrownum + 1, 0 ) AS child_sequence,
                @lastparent := if( parentId=0, id, parentId ) AS dummy_used_for_last_parent
                FROM
                    # QUERY 2: this query sorts the results properly
                    (SELECT s0.* FROM
                        # QUERY 1: This query gets the results we need with calculated fields to sort by
                        # We should probably have these fields in the database so they are indexed
                        (SELECT
                        CONVERT( if( parentId = 0, @parentVoteNumber:=voteNumber,
                            @parentVoteNumber ), SIGNED INTEGER ) as groupVoteNumber,          # Will order groups using parent voteNumber
                        CONVERT( if( parentId = 0, @parentVoteCount:=voteCount,
                            @parentVoteCount ), SIGNED INTEGER ) as groupVoteCount,            # Will order groups using parent voteCount
                        CONVERT( if( parentId = 0, @parentCreateDate:=createDate,
                            @parentCreateDate ), DATETIME ) as groupCreateDate,                # Will order groups using parent createDate
                        CONVERT( if(parentId=0, id, parentId), UNSIGNED INTEGER) as groupId,   # will order groups together
                        CONVERT( if(parentId = 0, 0, 1), UNSIGNED INTEGER) as isChild,         # will order parent first in group
                        r.*
                        FROM (
                            # this just makes sure our groups are grouped in parent child order
                            SELECT * from q_brooklyncode o  WHERE o.location = '5e13bbb73127b9fc424e3728c6500f28' ORDER BY
                             if( o.relatedId = 0, o.id, o.relatedId),
                             if( o.relatedId = 0, 0, o.id )
                            ) r,
                        ( SELECT @parentVoteNumber := 0 ) pvn,
                        ( SELECT @parentVoteCount  := 0 ) pvc,
                        ( SELECT @parentCreateDate := 0 ) pcd
                         WHERE location = '5e13bbb73127b9fc424e3728c6500f28' 
                    ) s0
                    
                    
                    ORDER BY
                    
                s0.groupVoteNumber DESC,
                s0.groupVoteCount DESC,
                s0.groupCreateDate ASC,
                 
                    groupId  ASC, # first order by group
                    isChild ASC, # Then make sure the parent is first
                    
                s0.voteNumber DESC,
                s0.voteCount DESC,
                s0.createDate ASC
                
            ) s1,
            ( SELECT @parentrownum := 0 ) pr,
            ( SELECT @childrownum := 0 ) cr, 
            ( SELECT @lastparent := -1 ) lp) f
            LEFT JOIN user u on u.id = f.userId
            LEFT JOIN q_brooklyncode r on r.id = f.relatedId
            LEFT JOIN user ur on ur.id = r.userId
            WHERE
            ((0 = 6 and parent_sequence >= 1) or parent_sequence BETWEEN 1 AND 6)
            AND
            ((0 = 6 and child_sequence >= 1) or (child_sequence=0 or child_sequence BETWEEN 1 AND 6))
        
DEBUG:root:escape_sql args: None
DEBUG:root:
            SELECT f.`parent_sequence` , f.`child_sequence` , f.`id` , f.`locationId` , f.`relatedId`,
                f.`parentId` , f.`userId` , `u`.`username`, u.`thumbnailLarge` as userThumbnailLarge,
                ur.`username` as relatedUsername, ur.`thumbnailLarge` as relatedUserThumbnailLarge, f.`type`,
                f.`is_anonymous` , r.`is_anonymous` as `related_is_anonymous`, f.`name` , f.`location` ,f.`description`,f.`referer`,
                f.`voteCount` , f.`voteNumber` , f.`votesUp` ,f.`votesDown` , f.`flagCount`,  f.`childCount`, f.`sortOrder` , f.`status`,
                f.`thumbnailSmall` ,f.`thumbnailLarge` , f.`changeDate` , f.`createDate`, f.`nickname`, r.`nickname` as `related_nickname`
            FROM (
                # this query adds the sequence fields to filter by for paging
                SELECT  s1.*, @parentrownum := convert( IF( ( parentId = 0), @parentrownum +1, @parentrownum ), UNSIGNED INTEGER) AS parent_sequence,
                @childrownum := IF( ( @lastparent = parentId), @childrownum + 1, 0 ) AS child_sequence,
                @lastparent := if( parentId=0, id, parentId ) AS dummy_used_for_last_parent
                FROM
                    # QUERY 2: this query sorts the results properly
                    (SELECT s0.* FROM
                        # QUERY 1: This query gets the results we need with calculated fields to sort by
                        # We should probably have these fields in the database so they are indexed
                        (SELECT
                        CONVERT( if( parentId = 0, @parentVoteNumber:=voteNumber,
                            @parentVoteNumber ), SIGNED INTEGER ) as groupVoteNumber,          # Will order groups using parent voteNumber
                        CONVERT( if( parentId = 0, @parentVoteCount:=voteCount,
                            @parentVoteCount ), SIGNED INTEGER ) as groupVoteCount,            # Will order groups using parent voteCount
                        CONVERT( if( parentId = 0, @parentCreateDate:=createDate,
                            @parentCreateDate ), DATETIME ) as groupCreateDate,                # Will order groups using parent createDate
                        CONVERT( if(parentId=0, id, parentId), UNSIGNED INTEGER) as groupId,   # will order groups together
                        CONVERT( if(parentId = 0, 0, 1), UNSIGNED INTEGER) as isChild,         # will order parent first in group
                        r.*
                        FROM (
                            # this just makes sure our groups are grouped in parent child order
                            SELECT * from q_brooklyncode o  WHERE o.location = '5e13bbb73127b9fc424e3728c6500f28' ORDER BY
                             if( o.relatedId = 0, o.id, o.relatedId),
                             if( o.relatedId = 0, 0, o.id )
                            ) r,
                        ( SELECT @parentVoteNumber := 0 ) pvn,
                        ( SELECT @parentVoteCount  := 0 ) pvc,
                        ( SELECT @parentCreateDate := 0 ) pcd
                         WHERE location = '5e13bbb73127b9fc424e3728c6500f28' 
                    ) s0
                    
                    
                    ORDER BY
                    
                s0.groupVoteNumber DESC,
                s0.groupVoteCount DESC,
                s0.groupCreateDate ASC,
                 
                    groupId  ASC, # first order by group
                    isChild ASC, # Then make sure the parent is first
                    
                s0.voteNumber DESC,
                s0.voteCount DESC,
                s0.createDate ASC
                
            ) s1,
            ( SELECT @parentrownum := 0 ) pr,
            ( SELECT @childrownum := 0 ) cr, 
            ( SELECT @lastparent := -1 ) lp) f
            LEFT JOIN user u on u.id = f.userId
            LEFT JOIN q_brooklyncode r on r.id = f.relatedId
            LEFT JOIN user ur on ur.id = r.userId
            WHERE
            ((0 = 6 and parent_sequence >= 1) or parent_sequence BETWEEN 1 AND 6)
            AND
            ((0 = 6 and child_sequence >= 1) or (child_sequence=0 or child_sequence BETWEEN 1 AND 6))
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10631efd0>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = %s
        
DEBUG:root:escape_sql args: [1L]
DEBUG:root:
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = 1
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10632a090>
DEBUG:root:[]
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = %s
        
DEBUG:root:escape_sql args: [2L]
DEBUG:root:
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = 2
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10632a290>
DEBUG:root:[]
DEBUG:root:Number of comments returned: 2
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:escape_sql args: []
DEBUG:root:
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10632a410>
DEBUG:root:Number of contributions 2
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10632a610>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10632a810>
DEBUG:root:to_unicode
DEBUG:root:embed_content
DEBUG:root:embed_content
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:embed_content
DEBUG:root:embed_content
DEBUG:root:to_unicode
INFO:root:200 GET /q/embed (127.0.0.1)
Mon, 29 Jul 2013 00:03:55 GMT [ERROR] (errno: No such file or directory) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 00:03:55 GMT [ERROR] (errno: None) Failed to create target for route /q/static/
Mon, 29 Jul 2013 00:03:55 GMT [ERROR] (errno: None) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 00:03:55 GMT [ERROR] (errno: None) Failed to create target for route /q/robots.txt
Mon, 29 Jul 2013 00:03:55 GMT [ERROR] (errno: None) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 00:03:55 GMT [ERROR] (errno: None) Failed to create target for route /q/favicon.ico
Mon, 29 Jul 2013 00:03:55 GMT [INFO] (src/mime.c:49) MAX limits.mime_ext_len=128
Mon, 29 Jul 2013 00:03:55 GMT [INFO] (src/host.c:74) MAX limits.url_path=256, limits.host_name=256
Mon, 29 Jul 2013 00:03:55 GMT [INFO] (src/config/config.c:109) Loaded proxy 1:127.0.0.1:8081
Mon, 29 Jul 2013 00:03:55 GMT [INFO] (src/config/config.c:227) Loaded route 1:/:proxy for host 1:localhost
Mon, 29 Jul 2013 00:03:55 GMT [INFO] (src/handler.c:343) MAX limits.handler_stack=102400
Mon, 29 Jul 2013 00:03:55 GMT [INFO] (src/config/config.c:85) Loaded handler 1:ipc://run/qoorateserver/mongrel2_send:137b789e-b7eb-475a-8d5c-b16ab54493yu:ipc://run/qoorateserver/mongrel2_rcv:
Mon, 29 Jul 2013 00:03:55 GMT [INFO] (src/config/config.c:227) Loaded route 2:/q/:handler for host 1:localhost
Mon, 29 Jul 2013 00:03:55 GMT [INFO] (src/dir.c:195) MAX limits.dir_send_buffer=16384, limits.dir_max_path=256
Mon, 29 Jul 2013 00:03:55 GMT [INFO] (src/config/config.c:136) Loaded directory 1:static/qoorateserver/js/:index.html
Mon, 29 Jul 2013 00:03:55 GMT [INFO] (src/config/config.c:227) Loaded route 3:/q/js/:dir for host 1:localhost
Mon, 29 Jul 2013 00:03:55 GMT [INFO] (src/config/config.c:136) Loaded directory 2:static/qoorateserver/css/:index.html
Mon, 29 Jul 2013 00:03:55 GMT [INFO] (src/config/config.c:227) Loaded route 4:/q/css/:dir for host 1:localhost
Mon, 29 Jul 2013 00:03:55 GMT [INFO] (src/config/config.c:136) Loaded directory 3:static/qoorateserver/img/:index.html
Mon, 29 Jul 2013 00:03:55 GMT [INFO] (src/config/config.c:227) Loaded route 5:/q/img/:dir for host 1:localhost
Mon, 29 Jul 2013 00:03:55 GMT [INFO] (src/config/config.c:312) Loaded 1 hosts for server 1:fe76e442-da24-4708-b0ef-c4ahr2b7d131
Mon, 29 Jul 2013 00:03:55 GMT [INFO] (src/server.c:445) LOADING Handler ipc://run/qoorateserver/mongrel2_send
Mon, 29 Jul 2013 00:03:55 GMT [ERROR] (src/unixy.c:99: errno: No such file or directory) Failed to open PID file ../run/mongrel2.pid for reading.
Mon, 29 Jul 2013 00:03:55 GMT [INFO] (src/unixy.c:137) No previous mongrel2 running, continuing on.
Mon, 29 Jul 2013 00:03:55 GMT [INFO] (src/mongrel2.c:223) All loaded up, time to turn into a server.
Mon, 29 Jul 2013 00:03:55 GMT [INFO] (src/mongrel2.c:224) -- Starting Mongrel2/1.8.1. Copyright (C) Zed A. Shaw. Licensed BSD.

Mon, 29 Jul 2013 00:03:55 GMT [INFO] (src/mongrel2.c:225) -- Look in logs/error.log for startup messages and errors.
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
INFO:root:Using project directory: .
DEBUG:root:loading settings from ./conf/uploader/settings.py
INFO:root:Using coroutine library: gevent
DEBUG:root:******** START _service_registration *********
DEBUG:root:service_registration_passphrase: 137b789e-b7eb-475a-8d5a-b16ab544yurp
DEBUG:root:service_id: uploader
DEBUG:root:service_registration_addr: ipc://run/uploader/brubeck_svc_registration
DEBUG:root:service_passphrase: 137b789e-b7eb-475a-8d5a-b16ab544yurp
DEBUG:root:service_addr: ipc://run/uploader/brubeck_svc
DEBUG:root:service_response_addr: ipc://run/uploader/brubeck_svc_response
DEBUG:root:service_heartbeat_addr: None
DEBUG:root:service_heartbeat_timeout: 5
DEBUG:root:sender_id: d992682ab2ae4b11bb4f30d2b752ee82
DEBUG:root:is_reregistration: 0
DEBUG:root:service_heartbeat_interval: 3
DEBUG:root:******** END _service_registration *********
DEBUG:root:register_service: (service_registration_addr, service_registration_passphrase,service_heartbeat_timeout,sender_id): (ipc://run/uploader/brubeck_svc_registration,137b789e-b7eb-475a-8d5a-b16ab544yurp, 5, d992682ab2ae4b11bb4f30d2b752ee82)
DEBUG:root:service_registration sending request
DEBUG:root:service_registration waiting for response
INFO:root:Using project directory: .
DEBUG:root:loading settings from ./conf/qoorateserver/development.py
INFO:root:Using coroutine library: gevent
DEBUG:root:creating application db_conn pool
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:get EmbedHandler
DEBUG:root:to_unicode
DEBUG:root:embed_head
DEBUG:root:embed_head
DEBUG:root:to_unicode
DEBUG:root:action: embed_head 
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:set_table has key/secret
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = %s and `secret`= %s
        
DEBUG:root:escape_sql args: [u'12345', u'54321']
DEBUG:root:
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = '12345' and `secret`= '54321'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10a4f9fd0>
DEBUG:root:returning True from authencticate.
DEBUG:root:set_table authenticated
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10a505090>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has key/secret
DEBUG:root:returning `True` from authenticate cached.
DEBUG:root:set_table authenticated
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10a505290>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10a505410>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10a505610>
DEBUG:root:qoorate preferences: {
    "THEME": "grid",
    "EMBED_CONF_JS": "
        var qoorateConfig = {
            QOORATE_URI: 'http://localhost',
            QOORATE_API_URI: 'http://localhost/q',
            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',
            XHR_PROXY_URI: '/q/feed',
            XHR_UPLOAD_URI: '/q/uploader',
            POST_MAX_LEN: 1000,
            PARENT_PAGE_SIZE: 10,
            CHILD_PAGE_SIZE: 10,
            AUTO_SCROLL: 1,
            THEME: 'grid',
            GRID_COLUMNS: 3,
            GRID_COLUMN_TRIM: 15,
            GRID_ROW_TRIM: 15
        };
        var qoorateLang = {
            FLAG_SUCCESS: 'Thanks for flagging this!',
            SHARE_SUCCESS: 'Thank you for sharing!',
            DELETE_SUCCESS: 'Thank you. This item has been deleted.',
            SIGNIN: 'Sign in using',
            SIGNEDIN: 'Signed in via',    
            OK: 'OK',
            CANCEL: 'Cancel',
            LOGOUT: 'Log Out',
            TOGGLE_ON: '+',
            TOGGLE_OFF: '-',
            CONTRIBUTION: 'Contribution',
            CONTRIBUTIONS: 'Contributions',
            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',
            REMOVE: 'Remove',
            LINK: 'Insert a link',
            TOPIC_COMMENT: 'Pose a Yes/No Question',
            COMMENT: 'Your Comment',
            IMAGE_COMMENT: 'Image Caption',
            POST_TO: 'Post to',
            POST_ANONYMOUS: 'Post anonymously',
            NICKNAME: 'Post as ',
            DEFAULT_NICKNAME: 'Anonymous',
            REPLY_LINK_COMMENT: 'Say something about your link',
            SHARE_COMMENT: 'comment about this share...',
            PUBLISH_BUTTON: 'Publish',
            POST_BUTTON: 'Post',
            POST_TO_BUTTON: 'Post To',
            REPLY_BUTTON: 'Reply',
            SHARE_BUTTON: 'Share',
            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',
            SELECT_IMAGE: 'Select an Image',
            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',
            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],
            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],
            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]
        };
    "
}

DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:preferences EMBED_CONF_JS:         var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    
DEBUG:root:embed_head called
INFO:root:200 GET /q/embed (127.0.0.1)
DEBUG:root:get EmbedHandler
DEBUG:root:to_unicode
DEBUG:root:embed_content
DEBUG:root:embed_content
DEBUG:root:to_unicode
DEBUG:root:action: embed_content 
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:set_table has key/secret
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = %s and `secret`= %s
        
DEBUG:root:escape_sql args: [u'12345', u'54321']
DEBUG:root:
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = '12345' and `secret`= '54321'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10a505810>
DEBUG:root:returning True from authencticate.
DEBUG:root:set_table authenticated
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10a505a10>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has key/secret
DEBUG:root:returning `True` from authenticate cached.
DEBUG:root:set_table authenticated
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10a505c10>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10a505e10>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10a50b050>
DEBUG:root:qoorate preferences: {
    "THEME": "grid",
    "EMBED_CONF_JS": "
        var qoorateConfig = {
            QOORATE_URI: 'http://localhost',
            QOORATE_API_URI: 'http://localhost/q',
            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',
            XHR_PROXY_URI: '/q/feed',
            XHR_UPLOAD_URI: '/q/uploader',
            POST_MAX_LEN: 1000,
            PARENT_PAGE_SIZE: 10,
            CHILD_PAGE_SIZE: 10,
            AUTO_SCROLL: 1,
            THEME: 'grid',
            GRID_COLUMNS: 3,
            GRID_COLUMN_TRIM: 15,
            GRID_ROW_TRIM: 15
        };
        var qoorateLang = {
            FLAG_SUCCESS: 'Thanks for flagging this!',
            SHARE_SUCCESS: 'Thank you for sharing!',
            DELETE_SUCCESS: 'Thank you. This item has been deleted.',
            SIGNIN: 'Sign in using',
            SIGNEDIN: 'Signed in via',    
            OK: 'OK',
            CANCEL: 'Cancel',
            LOGOUT: 'Log Out',
            TOGGLE_ON: '+',
            TOGGLE_OFF: '-',
            CONTRIBUTION: 'Contribution',
            CONTRIBUTIONS: 'Contributions',
            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',
            REMOVE: 'Remove',
            LINK: 'Insert a link',
            TOPIC_COMMENT: 'Pose a Yes/No Question',
            COMMENT: 'Your Comment',
            IMAGE_COMMENT: 'Image Caption',
            POST_TO: 'Post to',
            POST_ANONYMOUS: 'Post anonymously',
            NICKNAME: 'Post as ',
            DEFAULT_NICKNAME: 'Anonymous',
            REPLY_LINK_COMMENT: 'Say something about your link',
            SHARE_COMMENT: 'comment about this share...',
            PUBLISH_BUTTON: 'Publish',
            POST_BUTTON: 'Post',
            POST_TO_BUTTON: 'Post To',
            REPLY_BUTTON: 'Reply',
            SHARE_BUTTON: 'Share',
            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',
            SELECT_IMAGE: 'Select an Image',
            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',
            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],
            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],
            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]
        };
    "
}

DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:preferences EMBED_CONF_JS:         var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    
DEBUG:root:embed_content called (key,secret): (12345,54321)
DEBUG:root:returning `True` from authenticate cached.
DEBUG:root:get_content_context
DEBUG:root:table: q_brooklyncode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:init_db_conn
DEBUG:root:NOT creating db_conn
DEBUG:root:1
DEBUG:root:5
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT f.`parent_sequence` , f.`child_sequence` , f.`id` , f.`locationId` , f.`relatedId`,
                f.`parentId` , f.`userId` , `u`.`username`, u.`thumbnailLarge` as userThumbnailLarge,
                ur.`username` as relatedUsername, ur.`thumbnailLarge` as relatedUserThumbnailLarge, f.`type`,
                f.`is_anonymous` , r.`is_anonymous` as `related_is_anonymous`, f.`name` , f.`location` ,f.`description`,f.`referer`,
                f.`voteCount` , f.`voteNumber` , f.`votesUp` ,f.`votesDown` , f.`flagCount`,  f.`childCount`, f.`sortOrder` , f.`status`,
                f.`thumbnailSmall` ,f.`thumbnailLarge` , f.`changeDate` , f.`createDate`, f.`nickname`, r.`nickname` as `related_nickname`
            FROM (
                # this query adds the sequence fields to filter by for paging
                SELECT  s1.*, @parentrownum := convert( IF( ( parentId = 0), @parentrownum +1, @parentrownum ), UNSIGNED INTEGER) AS parent_sequence,
                @childrownum := IF( ( @lastparent = parentId), @childrownum + 1, 0 ) AS child_sequence,
                @lastparent := if( parentId=0, id, parentId ) AS dummy_used_for_last_parent
                FROM
                    # QUERY 2: this query sorts the results properly
                    (SELECT s0.* FROM
                        # QUERY 1: This query gets the results we need with calculated fields to sort by
                        # We should probably have these fields in the database so they are indexed
                        (SELECT
                        CONVERT( if( parentId = 0, @parentVoteNumber:=voteNumber,
                            @parentVoteNumber ), SIGNED INTEGER ) as groupVoteNumber,          # Will order groups using parent voteNumber
                        CONVERT( if( parentId = 0, @parentVoteCount:=voteCount,
                            @parentVoteCount ), SIGNED INTEGER ) as groupVoteCount,            # Will order groups using parent voteCount
                        CONVERT( if( parentId = 0, @parentCreateDate:=createDate,
                            @parentCreateDate ), DATETIME ) as groupCreateDate,                # Will order groups using parent createDate
                        CONVERT( if(parentId=0, id, parentId), UNSIGNED INTEGER) as groupId,   # will order groups together
                        CONVERT( if(parentId = 0, 0, 1), UNSIGNED INTEGER) as isChild,         # will order parent first in group
                        r.*
                        FROM (
                            # this just makes sure our groups are grouped in parent child order
                            SELECT * from q_brooklyncode o  WHERE o.location = '5e13bbb73127b9fc424e3728c6500f28' ORDER BY
                             if( o.relatedId = 0, o.id, o.relatedId),
                             if( o.relatedId = 0, 0, o.id )
                            ) r,
                        ( SELECT @parentVoteNumber := 0 ) pvn,
                        ( SELECT @parentVoteCount  := 0 ) pvc,
                        ( SELECT @parentCreateDate := 0 ) pcd
                         WHERE location = '5e13bbb73127b9fc424e3728c6500f28' 
                    ) s0
                    
                    
                    ORDER BY
                    
                s0.groupVoteNumber DESC,
                s0.groupVoteCount DESC,
                s0.groupCreateDate ASC,
                 
                    groupId  ASC, # first order by group
                    isChild ASC, # Then make sure the parent is first
                    
                s0.voteNumber DESC,
                s0.voteCount DESC,
                s0.createDate ASC
                
            ) s1,
            ( SELECT @parentrownum := 0 ) pr,
            ( SELECT @childrownum := 0 ) cr, 
            ( SELECT @lastparent := -1 ) lp) f
            LEFT JOIN user u on u.id = f.userId
            LEFT JOIN q_brooklyncode r on r.id = f.relatedId
            LEFT JOIN user ur on ur.id = r.userId
            WHERE
            ((0 = 6 and parent_sequence >= 1) or parent_sequence BETWEEN 1 AND 6)
            AND
            ((0 = 6 and child_sequence >= 1) or (child_sequence=0 or child_sequence BETWEEN 1 AND 6))
        
DEBUG:root:escape_sql args: None
DEBUG:root:
            SELECT f.`parent_sequence` , f.`child_sequence` , f.`id` , f.`locationId` , f.`relatedId`,
                f.`parentId` , f.`userId` , `u`.`username`, u.`thumbnailLarge` as userThumbnailLarge,
                ur.`username` as relatedUsername, ur.`thumbnailLarge` as relatedUserThumbnailLarge, f.`type`,
                f.`is_anonymous` , r.`is_anonymous` as `related_is_anonymous`, f.`name` , f.`location` ,f.`description`,f.`referer`,
                f.`voteCount` , f.`voteNumber` , f.`votesUp` ,f.`votesDown` , f.`flagCount`,  f.`childCount`, f.`sortOrder` , f.`status`,
                f.`thumbnailSmall` ,f.`thumbnailLarge` , f.`changeDate` , f.`createDate`, f.`nickname`, r.`nickname` as `related_nickname`
            FROM (
                # this query adds the sequence fields to filter by for paging
                SELECT  s1.*, @parentrownum := convert( IF( ( parentId = 0), @parentrownum +1, @parentrownum ), UNSIGNED INTEGER) AS parent_sequence,
                @childrownum := IF( ( @lastparent = parentId), @childrownum + 1, 0 ) AS child_sequence,
                @lastparent := if( parentId=0, id, parentId ) AS dummy_used_for_last_parent
                FROM
                    # QUERY 2: this query sorts the results properly
                    (SELECT s0.* FROM
                        # QUERY 1: This query gets the results we need with calculated fields to sort by
                        # We should probably have these fields in the database so they are indexed
                        (SELECT
                        CONVERT( if( parentId = 0, @parentVoteNumber:=voteNumber,
                            @parentVoteNumber ), SIGNED INTEGER ) as groupVoteNumber,          # Will order groups using parent voteNumber
                        CONVERT( if( parentId = 0, @parentVoteCount:=voteCount,
                            @parentVoteCount ), SIGNED INTEGER ) as groupVoteCount,            # Will order groups using parent voteCount
                        CONVERT( if( parentId = 0, @parentCreateDate:=createDate,
                            @parentCreateDate ), DATETIME ) as groupCreateDate,                # Will order groups using parent createDate
                        CONVERT( if(parentId=0, id, parentId), UNSIGNED INTEGER) as groupId,   # will order groups together
                        CONVERT( if(parentId = 0, 0, 1), UNSIGNED INTEGER) as isChild,         # will order parent first in group
                        r.*
                        FROM (
                            # this just makes sure our groups are grouped in parent child order
                            SELECT * from q_brooklyncode o  WHERE o.location = '5e13bbb73127b9fc424e3728c6500f28' ORDER BY
                             if( o.relatedId = 0, o.id, o.relatedId),
                             if( o.relatedId = 0, 0, o.id )
                            ) r,
                        ( SELECT @parentVoteNumber := 0 ) pvn,
                        ( SELECT @parentVoteCount  := 0 ) pvc,
                        ( SELECT @parentCreateDate := 0 ) pcd
                         WHERE location = '5e13bbb73127b9fc424e3728c6500f28' 
                    ) s0
                    
                    
                    ORDER BY
                    
                s0.groupVoteNumber DESC,
                s0.groupVoteCount DESC,
                s0.groupCreateDate ASC,
                 
                    groupId  ASC, # first order by group
                    isChild ASC, # Then make sure the parent is first
                    
                s0.voteNumber DESC,
                s0.voteCount DESC,
                s0.createDate ASC
                
            ) s1,
            ( SELECT @parentrownum := 0 ) pr,
            ( SELECT @childrownum := 0 ) cr, 
            ( SELECT @lastparent := -1 ) lp) f
            LEFT JOIN user u on u.id = f.userId
            LEFT JOIN q_brooklyncode r on r.id = f.relatedId
            LEFT JOIN user ur on ur.id = r.userId
            WHERE
            ((0 = 6 and parent_sequence >= 1) or parent_sequence BETWEEN 1 AND 6)
            AND
            ((0 = 6 and child_sequence >= 1) or (child_sequence=0 or child_sequence BETWEEN 1 AND 6))
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10a4f9fd0>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = %s
        
DEBUG:root:escape_sql args: [1L]
DEBUG:root:
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = 1
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10a505090>
DEBUG:root:comment.images: []
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = %s
        
DEBUG:root:escape_sql args: [2L]
DEBUG:root:
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = 2
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10a505290>
DEBUG:root:comment.images: []
DEBUG:root:Number of comments returned: 2
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:escape_sql args: []
DEBUG:root:
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10a505410>
DEBUG:root:Number of contributions 2
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10a505610>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10a505810>
DEBUG:root:to_unicode
DEBUG:root:embed_content
DEBUG:root:embed_content
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:embed_content
DEBUG:root:embed_content
DEBUG:root:to_unicode
INFO:root:200 GET /q/embed (127.0.0.1)
Mon, 29 Jul 2013 00:05:19 GMT [ERROR] (errno: No such file or directory) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 00:05:19 GMT [ERROR] (errno: None) Failed to create target for route /q/static/
Mon, 29 Jul 2013 00:05:19 GMT [ERROR] (errno: None) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 00:05:19 GMT [ERROR] (errno: None) Failed to create target for route /q/robots.txt
Mon, 29 Jul 2013 00:05:19 GMT [ERROR] (errno: None) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 00:05:19 GMT [ERROR] (errno: None) Failed to create target for route /q/favicon.ico
Mon, 29 Jul 2013 00:05:19 GMT [INFO] (src/mime.c:49) MAX limits.mime_ext_len=128
Mon, 29 Jul 2013 00:05:19 GMT [INFO] (src/host.c:74) MAX limits.url_path=256, limits.host_name=256
Mon, 29 Jul 2013 00:05:19 GMT [INFO] (src/config/config.c:109) Loaded proxy 1:127.0.0.1:8081
Mon, 29 Jul 2013 00:05:19 GMT [INFO] (src/config/config.c:227) Loaded route 1:/:proxy for host 1:localhost
Mon, 29 Jul 2013 00:05:19 GMT [INFO] (src/handler.c:343) MAX limits.handler_stack=102400
Mon, 29 Jul 2013 00:05:19 GMT [INFO] (src/config/config.c:85) Loaded handler 1:ipc://run/qoorateserver/mongrel2_send:137b789e-b7eb-475a-8d5c-b16ab54493yu:ipc://run/qoorateserver/mongrel2_rcv:
Mon, 29 Jul 2013 00:05:19 GMT [INFO] (src/config/config.c:227) Loaded route 2:/q/:handler for host 1:localhost
Mon, 29 Jul 2013 00:05:19 GMT [INFO] (src/dir.c:195) MAX limits.dir_send_buffer=16384, limits.dir_max_path=256
Mon, 29 Jul 2013 00:05:19 GMT [INFO] (src/config/config.c:136) Loaded directory 1:static/qoorateserver/js/:index.html
Mon, 29 Jul 2013 00:05:19 GMT [INFO] (src/config/config.c:227) Loaded route 3:/q/js/:dir for host 1:localhost
Mon, 29 Jul 2013 00:05:19 GMT [INFO] (src/config/config.c:136) Loaded directory 2:static/qoorateserver/css/:index.html
Mon, 29 Jul 2013 00:05:19 GMT [INFO] (src/config/config.c:227) Loaded route 4:/q/css/:dir for host 1:localhost
Mon, 29 Jul 2013 00:05:19 GMT [INFO] (src/config/config.c:136) Loaded directory 3:static/qoorateserver/img/:index.html
Mon, 29 Jul 2013 00:05:19 GMT [INFO] (src/config/config.c:227) Loaded route 5:/q/img/:dir for host 1:localhost
Mon, 29 Jul 2013 00:05:19 GMT [INFO] (src/config/config.c:312) Loaded 1 hosts for server 1:fe76e442-da24-4708-b0ef-c4ahr2b7d131
Mon, 29 Jul 2013 00:05:19 GMT [INFO] (src/server.c:445) LOADING Handler ipc://run/qoorateserver/mongrel2_send
Mon, 29 Jul 2013 00:05:19 GMT [ERROR] (src/unixy.c:99: errno: No such file or directory) Failed to open PID file ../run/mongrel2.pid for reading.
Mon, 29 Jul 2013 00:05:19 GMT [INFO] (src/unixy.c:137) No previous mongrel2 running, continuing on.
Mon, 29 Jul 2013 00:05:19 GMT [INFO] (src/mongrel2.c:223) All loaded up, time to turn into a server.
Mon, 29 Jul 2013 00:05:19 GMT [INFO] (src/mongrel2.c:224) -- Starting Mongrel2/1.8.1. Copyright (C) Zed A. Shaw. Licensed BSD.

Mon, 29 Jul 2013 00:05:19 GMT [INFO] (src/mongrel2.c:225) -- Look in logs/error.log for startup messages and errors.
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
INFO:root:Using project directory: .
DEBUG:root:loading settings from ./conf/uploader/settings.py
INFO:root:Using coroutine library: gevent
DEBUG:root:******** START _service_registration *********
DEBUG:root:service_registration_passphrase: 137b789e-b7eb-475a-8d5a-b16ab544yurp
DEBUG:root:service_id: uploader
DEBUG:root:service_registration_addr: ipc://run/uploader/brubeck_svc_registration
DEBUG:root:service_passphrase: 137b789e-b7eb-475a-8d5a-b16ab544yurp
DEBUG:root:service_addr: ipc://run/uploader/brubeck_svc
DEBUG:root:service_response_addr: ipc://run/uploader/brubeck_svc_response
DEBUG:root:service_heartbeat_addr: None
DEBUG:root:service_heartbeat_timeout: 5
DEBUG:root:sender_id: 4b90aeab13124b8ab84d0ab45acdb440
DEBUG:root:is_reregistration: 0
DEBUG:root:service_heartbeat_interval: 3
DEBUG:root:******** END _service_registration *********
DEBUG:root:register_service: (service_registration_addr, service_registration_passphrase,service_heartbeat_timeout,sender_id): (ipc://run/uploader/brubeck_svc_registration,137b789e-b7eb-475a-8d5a-b16ab544yurp, 5, 4b90aeab13124b8ab84d0ab45acdb440)
DEBUG:root:service_registration sending request
DEBUG:root:service_registration waiting for response
INFO:root:Using project directory: .
DEBUG:root:loading settings from ./conf/qoorateserver/development.py
INFO:root:Using coroutine library: gevent
DEBUG:root:creating application db_conn pool
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:get EmbedHandler
DEBUG:root:to_unicode
DEBUG:root:embed_head
DEBUG:root:embed_head
DEBUG:root:to_unicode
DEBUG:root:action: embed_head 
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:set_table has key/secret
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = %s and `secret`= %s
        
DEBUG:root:escape_sql args: [u'12345', u'54321']
DEBUG:root:
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = '12345' and `secret`= '54321'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10131ff90>
DEBUG:root:returning True from authencticate.
DEBUG:root:set_table authenticated
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10132b050>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has key/secret
DEBUG:root:returning `True` from authenticate cached.
DEBUG:root:set_table authenticated
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10132b250>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10132b3d0>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10132b5d0>
DEBUG:root:qoorate preferences: {
    "THEME": "grid",
    "EMBED_CONF_JS": "
        var qoorateConfig = {
            QOORATE_URI: 'http://localhost',
            QOORATE_API_URI: 'http://localhost/q',
            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',
            XHR_PROXY_URI: '/q/feed',
            XHR_UPLOAD_URI: '/q/uploader',
            POST_MAX_LEN: 1000,
            PARENT_PAGE_SIZE: 10,
            CHILD_PAGE_SIZE: 10,
            AUTO_SCROLL: 1,
            THEME: 'grid',
            GRID_COLUMNS: 3,
            GRID_COLUMN_TRIM: 15,
            GRID_ROW_TRIM: 15
        };
        var qoorateLang = {
            FLAG_SUCCESS: 'Thanks for flagging this!',
            SHARE_SUCCESS: 'Thank you for sharing!',
            DELETE_SUCCESS: 'Thank you. This item has been deleted.',
            SIGNIN: 'Sign in using',
            SIGNEDIN: 'Signed in via',    
            OK: 'OK',
            CANCEL: 'Cancel',
            LOGOUT: 'Log Out',
            TOGGLE_ON: '+',
            TOGGLE_OFF: '-',
            CONTRIBUTION: 'Contribution',
            CONTRIBUTIONS: 'Contributions',
            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',
            REMOVE: 'Remove',
            LINK: 'Insert a link',
            TOPIC_COMMENT: 'Pose a Yes/No Question',
            COMMENT: 'Your Comment',
            IMAGE_COMMENT: 'Image Caption',
            POST_TO: 'Post to',
            POST_ANONYMOUS: 'Post anonymously',
            NICKNAME: 'Post as ',
            DEFAULT_NICKNAME: 'Anonymous',
            REPLY_LINK_COMMENT: 'Say something about your link',
            SHARE_COMMENT: 'comment about this share...',
            PUBLISH_BUTTON: 'Publish',
            POST_BUTTON: 'Post',
            POST_TO_BUTTON: 'Post To',
            REPLY_BUTTON: 'Reply',
            SHARE_BUTTON: 'Share',
            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',
            SELECT_IMAGE: 'Select an Image',
            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',
            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],
            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],
            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]
        };
    "
}

DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:preferences EMBED_CONF_JS:         var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    
DEBUG:root:embed_head called
INFO:root:200 GET /q/embed (127.0.0.1)
DEBUG:root:get EmbedHandler
DEBUG:root:to_unicode
DEBUG:root:embed_content
DEBUG:root:embed_content
DEBUG:root:to_unicode
DEBUG:root:action: embed_content 
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:set_table has key/secret
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = %s and `secret`= %s
        
DEBUG:root:escape_sql args: [u'12345', u'54321']
DEBUG:root:
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = '12345' and `secret`= '54321'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10132b7d0>
DEBUG:root:returning True from authencticate.
DEBUG:root:set_table authenticated
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10132b9d0>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has key/secret
DEBUG:root:returning `True` from authenticate cached.
DEBUG:root:set_table authenticated
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10132bbd0>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10132bdd0>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x101331050>
DEBUG:root:qoorate preferences: {
    "THEME": "grid",
    "EMBED_CONF_JS": "
        var qoorateConfig = {
            QOORATE_URI: 'http://localhost',
            QOORATE_API_URI: 'http://localhost/q',
            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',
            XHR_PROXY_URI: '/q/feed',
            XHR_UPLOAD_URI: '/q/uploader',
            POST_MAX_LEN: 1000,
            PARENT_PAGE_SIZE: 10,
            CHILD_PAGE_SIZE: 10,
            AUTO_SCROLL: 1,
            THEME: 'grid',
            GRID_COLUMNS: 3,
            GRID_COLUMN_TRIM: 15,
            GRID_ROW_TRIM: 15
        };
        var qoorateLang = {
            FLAG_SUCCESS: 'Thanks for flagging this!',
            SHARE_SUCCESS: 'Thank you for sharing!',
            DELETE_SUCCESS: 'Thank you. This item has been deleted.',
            SIGNIN: 'Sign in using',
            SIGNEDIN: 'Signed in via',    
            OK: 'OK',
            CANCEL: 'Cancel',
            LOGOUT: 'Log Out',
            TOGGLE_ON: '+',
            TOGGLE_OFF: '-',
            CONTRIBUTION: 'Contribution',
            CONTRIBUTIONS: 'Contributions',
            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',
            REMOVE: 'Remove',
            LINK: 'Insert a link',
            TOPIC_COMMENT: 'Pose a Yes/No Question',
            COMMENT: 'Your Comment',
            IMAGE_COMMENT: 'Image Caption',
            POST_TO: 'Post to',
            POST_ANONYMOUS: 'Post anonymously',
            NICKNAME: 'Post as ',
            DEFAULT_NICKNAME: 'Anonymous',
            REPLY_LINK_COMMENT: 'Say something about your link',
            SHARE_COMMENT: 'comment about this share...',
            PUBLISH_BUTTON: 'Publish',
            POST_BUTTON: 'Post',
            POST_TO_BUTTON: 'Post To',
            REPLY_BUTTON: 'Reply',
            SHARE_BUTTON: 'Share',
            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',
            SELECT_IMAGE: 'Select an Image',
            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',
            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],
            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],
            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]
        };
    "
}

DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:preferences EMBED_CONF_JS:         var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    
DEBUG:root:embed_content called (key,secret): (12345,54321)
DEBUG:root:returning `True` from authenticate cached.
DEBUG:root:get_content_context
DEBUG:root:table: q_brooklyncode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:init_db_conn
DEBUG:root:NOT creating db_conn
DEBUG:root:1
DEBUG:root:5
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT f.`parent_sequence` , f.`child_sequence` , f.`id` , f.`locationId` , f.`relatedId`,
                f.`parentId` , f.`userId` , `u`.`username`, u.`thumbnailLarge` as userThumbnailLarge,
                ur.`username` as relatedUsername, ur.`thumbnailLarge` as relatedUserThumbnailLarge, f.`type`,
                f.`is_anonymous` , r.`is_anonymous` as `related_is_anonymous`, f.`name` , f.`location` ,f.`description`,f.`referer`,
                f.`voteCount` , f.`voteNumber` , f.`votesUp` ,f.`votesDown` , f.`flagCount`,  f.`childCount`, f.`sortOrder` , f.`status`,
                f.`thumbnailSmall` ,f.`thumbnailLarge` , f.`changeDate` , f.`createDate`, f.`nickname`, r.`nickname` as `related_nickname`
            FROM (
                # this query adds the sequence fields to filter by for paging
                SELECT  s1.*, @parentrownum := convert( IF( ( parentId = 0), @parentrownum +1, @parentrownum ), UNSIGNED INTEGER) AS parent_sequence,
                @childrownum := IF( ( @lastparent = parentId), @childrownum + 1, 0 ) AS child_sequence,
                @lastparent := if( parentId=0, id, parentId ) AS dummy_used_for_last_parent
                FROM
                    # QUERY 2: this query sorts the results properly
                    (SELECT s0.* FROM
                        # QUERY 1: This query gets the results we need with calculated fields to sort by
                        # We should probably have these fields in the database so they are indexed
                        (SELECT
                        CONVERT( if( parentId = 0, @parentVoteNumber:=voteNumber,
                            @parentVoteNumber ), SIGNED INTEGER ) as groupVoteNumber,          # Will order groups using parent voteNumber
                        CONVERT( if( parentId = 0, @parentVoteCount:=voteCount,
                            @parentVoteCount ), SIGNED INTEGER ) as groupVoteCount,            # Will order groups using parent voteCount
                        CONVERT( if( parentId = 0, @parentCreateDate:=createDate,
                            @parentCreateDate ), DATETIME ) as groupCreateDate,                # Will order groups using parent createDate
                        CONVERT( if(parentId=0, id, parentId), UNSIGNED INTEGER) as groupId,   # will order groups together
                        CONVERT( if(parentId = 0, 0, 1), UNSIGNED INTEGER) as isChild,         # will order parent first in group
                        r.*
                        FROM (
                            # this just makes sure our groups are grouped in parent child order
                            SELECT * from q_brooklyncode o  WHERE o.location = '5e13bbb73127b9fc424e3728c6500f28' ORDER BY
                             if( o.relatedId = 0, o.id, o.relatedId),
                             if( o.relatedId = 0, 0, o.id )
                            ) r,
                        ( SELECT @parentVoteNumber := 0 ) pvn,
                        ( SELECT @parentVoteCount  := 0 ) pvc,
                        ( SELECT @parentCreateDate := 0 ) pcd
                         WHERE location = '5e13bbb73127b9fc424e3728c6500f28' 
                    ) s0
                    
                    
                    ORDER BY
                    
                s0.groupVoteNumber DESC,
                s0.groupVoteCount DESC,
                s0.groupCreateDate ASC,
                 
                    groupId  ASC, # first order by group
                    isChild ASC, # Then make sure the parent is first
                    
                s0.voteNumber DESC,
                s0.voteCount DESC,
                s0.createDate ASC
                
            ) s1,
            ( SELECT @parentrownum := 0 ) pr,
            ( SELECT @childrownum := 0 ) cr, 
            ( SELECT @lastparent := -1 ) lp) f
            LEFT JOIN user u on u.id = f.userId
            LEFT JOIN q_brooklyncode r on r.id = f.relatedId
            LEFT JOIN user ur on ur.id = r.userId
            WHERE
            ((0 = 6 and parent_sequence >= 1) or parent_sequence BETWEEN 1 AND 6)
            AND
            ((0 = 6 and child_sequence >= 1) or (child_sequence=0 or child_sequence BETWEEN 1 AND 6))
        
DEBUG:root:escape_sql args: None
DEBUG:root:
            SELECT f.`parent_sequence` , f.`child_sequence` , f.`id` , f.`locationId` , f.`relatedId`,
                f.`parentId` , f.`userId` , `u`.`username`, u.`thumbnailLarge` as userThumbnailLarge,
                ur.`username` as relatedUsername, ur.`thumbnailLarge` as relatedUserThumbnailLarge, f.`type`,
                f.`is_anonymous` , r.`is_anonymous` as `related_is_anonymous`, f.`name` , f.`location` ,f.`description`,f.`referer`,
                f.`voteCount` , f.`voteNumber` , f.`votesUp` ,f.`votesDown` , f.`flagCount`,  f.`childCount`, f.`sortOrder` , f.`status`,
                f.`thumbnailSmall` ,f.`thumbnailLarge` , f.`changeDate` , f.`createDate`, f.`nickname`, r.`nickname` as `related_nickname`
            FROM (
                # this query adds the sequence fields to filter by for paging
                SELECT  s1.*, @parentrownum := convert( IF( ( parentId = 0), @parentrownum +1, @parentrownum ), UNSIGNED INTEGER) AS parent_sequence,
                @childrownum := IF( ( @lastparent = parentId), @childrownum + 1, 0 ) AS child_sequence,
                @lastparent := if( parentId=0, id, parentId ) AS dummy_used_for_last_parent
                FROM
                    # QUERY 2: this query sorts the results properly
                    (SELECT s0.* FROM
                        # QUERY 1: This query gets the results we need with calculated fields to sort by
                        # We should probably have these fields in the database so they are indexed
                        (SELECT
                        CONVERT( if( parentId = 0, @parentVoteNumber:=voteNumber,
                            @parentVoteNumber ), SIGNED INTEGER ) as groupVoteNumber,          # Will order groups using parent voteNumber
                        CONVERT( if( parentId = 0, @parentVoteCount:=voteCount,
                            @parentVoteCount ), SIGNED INTEGER ) as groupVoteCount,            # Will order groups using parent voteCount
                        CONVERT( if( parentId = 0, @parentCreateDate:=createDate,
                            @parentCreateDate ), DATETIME ) as groupCreateDate,                # Will order groups using parent createDate
                        CONVERT( if(parentId=0, id, parentId), UNSIGNED INTEGER) as groupId,   # will order groups together
                        CONVERT( if(parentId = 0, 0, 1), UNSIGNED INTEGER) as isChild,         # will order parent first in group
                        r.*
                        FROM (
                            # this just makes sure our groups are grouped in parent child order
                            SELECT * from q_brooklyncode o  WHERE o.location = '5e13bbb73127b9fc424e3728c6500f28' ORDER BY
                             if( o.relatedId = 0, o.id, o.relatedId),
                             if( o.relatedId = 0, 0, o.id )
                            ) r,
                        ( SELECT @parentVoteNumber := 0 ) pvn,
                        ( SELECT @parentVoteCount  := 0 ) pvc,
                        ( SELECT @parentCreateDate := 0 ) pcd
                         WHERE location = '5e13bbb73127b9fc424e3728c6500f28' 
                    ) s0
                    
                    
                    ORDER BY
                    
                s0.groupVoteNumber DESC,
                s0.groupVoteCount DESC,
                s0.groupCreateDate ASC,
                 
                    groupId  ASC, # first order by group
                    isChild ASC, # Then make sure the parent is first
                    
                s0.voteNumber DESC,
                s0.voteCount DESC,
                s0.createDate ASC
                
            ) s1,
            ( SELECT @parentrownum := 0 ) pr,
            ( SELECT @childrownum := 0 ) cr, 
            ( SELECT @lastparent := -1 ) lp) f
            LEFT JOIN user u on u.id = f.userId
            LEFT JOIN q_brooklyncode r on r.id = f.relatedId
            LEFT JOIN user ur on ur.id = r.userId
            WHERE
            ((0 = 6 and parent_sequence >= 1) or parent_sequence BETWEEN 1 AND 6)
            AND
            ((0 = 6 and child_sequence >= 1) or (child_sequence=0 or child_sequence BETWEEN 1 AND 6))
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10131ff90>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = %s
        
DEBUG:root:escape_sql args: [1L]
DEBUG:root:
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = 1
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10132b050>
DEBUG:root:dictlist: {u'itemId': 1L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'1fe8a631d5522d10e2cf2e4fabedc90b', u'id': 1L}
DEBUG:root:comment.images: []
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = %s
        
DEBUG:root:escape_sql args: [2L]
DEBUG:root:
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = 2
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10132b250>
DEBUG:root:dictlist: {u'itemId': 2L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'cfbb12022f81667e3c2746e3c80b2e1e', u'id': 2L}
DEBUG:root:comment.images: []
DEBUG:root:Number of comments returned: 2
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:escape_sql args: []
DEBUG:root:
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10132b3d0>
DEBUG:root:Number of contributions 2
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10132b5d0>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10132b7d0>
DEBUG:root:to_unicode
DEBUG:root:embed_content
DEBUG:root:embed_content
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:embed_content
DEBUG:root:embed_content
DEBUG:root:to_unicode
INFO:root:200 GET /q/embed (127.0.0.1)
Mon, 29 Jul 2013 00:06:48 GMT [ERROR] (errno: No such file or directory) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 00:06:48 GMT [ERROR] (errno: None) Failed to create target for route /q/static/
Mon, 29 Jul 2013 00:06:48 GMT [ERROR] (errno: None) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 00:06:48 GMT [ERROR] (errno: None) Failed to create target for route /q/robots.txt
Mon, 29 Jul 2013 00:06:48 GMT [ERROR] (errno: None) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 00:06:48 GMT [ERROR] (errno: None) Failed to create target for route /q/favicon.ico
Mon, 29 Jul 2013 00:06:48 GMT [INFO] (src/mime.c:49) MAX limits.mime_ext_len=128
Mon, 29 Jul 2013 00:06:48 GMT [INFO] (src/host.c:74) MAX limits.url_path=256, limits.host_name=256
Mon, 29 Jul 2013 00:06:48 GMT [INFO] (src/config/config.c:109) Loaded proxy 1:127.0.0.1:8081
Mon, 29 Jul 2013 00:06:48 GMT [INFO] (src/config/config.c:227) Loaded route 1:/:proxy for host 1:localhost
Mon, 29 Jul 2013 00:06:48 GMT [INFO] (src/handler.c:343) MAX limits.handler_stack=102400
Mon, 29 Jul 2013 00:06:48 GMT [INFO] (src/config/config.c:85) Loaded handler 1:ipc://run/qoorateserver/mongrel2_send:137b789e-b7eb-475a-8d5c-b16ab54493yu:ipc://run/qoorateserver/mongrel2_rcv:
Mon, 29 Jul 2013 00:06:48 GMT [INFO] (src/config/config.c:227) Loaded route 2:/q/:handler for host 1:localhost
Mon, 29 Jul 2013 00:06:48 GMT [INFO] (src/dir.c:195) MAX limits.dir_send_buffer=16384, limits.dir_max_path=256
Mon, 29 Jul 2013 00:06:48 GMT [INFO] (src/config/config.c:136) Loaded directory 1:static/qoorateserver/js/:index.html
Mon, 29 Jul 2013 00:06:48 GMT [INFO] (src/config/config.c:227) Loaded route 3:/q/js/:dir for host 1:localhost
Mon, 29 Jul 2013 00:06:48 GMT [INFO] (src/config/config.c:136) Loaded directory 2:static/qoorateserver/css/:index.html
Mon, 29 Jul 2013 00:06:48 GMT [INFO] (src/config/config.c:227) Loaded route 4:/q/css/:dir for host 1:localhost
Mon, 29 Jul 2013 00:06:48 GMT [INFO] (src/config/config.c:136) Loaded directory 3:static/qoorateserver/img/:index.html
Mon, 29 Jul 2013 00:06:48 GMT [INFO] (src/config/config.c:227) Loaded route 5:/q/img/:dir for host 1:localhost
Mon, 29 Jul 2013 00:06:48 GMT [INFO] (src/config/config.c:312) Loaded 1 hosts for server 1:fe76e442-da24-4708-b0ef-c4ahr2b7d131
Mon, 29 Jul 2013 00:06:48 GMT [INFO] (src/server.c:445) LOADING Handler ipc://run/qoorateserver/mongrel2_send
Mon, 29 Jul 2013 00:06:48 GMT [ERROR] (src/unixy.c:99: errno: No such file or directory) Failed to open PID file ../run/mongrel2.pid for reading.
Mon, 29 Jul 2013 00:06:48 GMT [INFO] (src/unixy.c:137) No previous mongrel2 running, continuing on.
Mon, 29 Jul 2013 00:06:48 GMT [INFO] (src/mongrel2.c:223) All loaded up, time to turn into a server.
Mon, 29 Jul 2013 00:06:48 GMT [INFO] (src/mongrel2.c:224) -- Starting Mongrel2/1.8.1. Copyright (C) Zed A. Shaw. Licensed BSD.

Mon, 29 Jul 2013 00:06:48 GMT [INFO] (src/mongrel2.c:225) -- Look in logs/error.log for startup messages and errors.
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
INFO:root:Using project directory: .
DEBUG:root:loading settings from ./conf/uploader/settings.py
INFO:root:Using coroutine library: gevent
DEBUG:root:******** START _service_registration *********
DEBUG:root:service_registration_passphrase: 137b789e-b7eb-475a-8d5a-b16ab544yurp
DEBUG:root:service_id: uploader
DEBUG:root:service_registration_addr: ipc://run/uploader/brubeck_svc_registration
DEBUG:root:service_passphrase: 137b789e-b7eb-475a-8d5a-b16ab544yurp
DEBUG:root:service_addr: ipc://run/uploader/brubeck_svc
DEBUG:root:service_response_addr: ipc://run/uploader/brubeck_svc_response
DEBUG:root:service_heartbeat_addr: None
DEBUG:root:service_heartbeat_timeout: 5
DEBUG:root:sender_id: acc4e26bc95a4c2c95fb9eb2e2c78dab
DEBUG:root:is_reregistration: 0
DEBUG:root:service_heartbeat_interval: 3
DEBUG:root:******** END _service_registration *********
DEBUG:root:register_service: (service_registration_addr, service_registration_passphrase,service_heartbeat_timeout,sender_id): (ipc://run/uploader/brubeck_svc_registration,137b789e-b7eb-475a-8d5a-b16ab544yurp, 5, acc4e26bc95a4c2c95fb9eb2e2c78dab)
DEBUG:root:service_registration sending request
DEBUG:root:service_registration waiting for response
INFO:root:Using project directory: .
DEBUG:root:loading settings from ./conf/qoorateserver/development.py
INFO:root:Using coroutine library: gevent
DEBUG:root:creating application db_conn pool
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:get EmbedHandler
DEBUG:root:to_unicode
DEBUG:root:embed_head
DEBUG:root:embed_head
DEBUG:root:to_unicode
DEBUG:root:action: embed_head 
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:set_table has key/secret
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = %s and `secret`= %s
        
DEBUG:root:escape_sql args: [u'12345', u'54321']
DEBUG:root:
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = '12345' and `secret`= '54321'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x108761f90>
DEBUG:root:returning True from authencticate.
DEBUG:root:set_table authenticated
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10876d050>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has key/secret
DEBUG:root:returning `True` from authenticate cached.
DEBUG:root:set_table authenticated
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10876d250>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10876d3d0>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10876d5d0>
DEBUG:root:qoorate preferences: {
    "THEME": "grid",
    "EMBED_CONF_JS": "
        var qoorateConfig = {
            QOORATE_URI: 'http://localhost',
            QOORATE_API_URI: 'http://localhost/q',
            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',
            XHR_PROXY_URI: '/q/feed',
            XHR_UPLOAD_URI: '/q/uploader',
            POST_MAX_LEN: 1000,
            PARENT_PAGE_SIZE: 10,
            CHILD_PAGE_SIZE: 10,
            AUTO_SCROLL: 1,
            THEME: 'grid',
            GRID_COLUMNS: 3,
            GRID_COLUMN_TRIM: 15,
            GRID_ROW_TRIM: 15
        };
        var qoorateLang = {
            FLAG_SUCCESS: 'Thanks for flagging this!',
            SHARE_SUCCESS: 'Thank you for sharing!',
            DELETE_SUCCESS: 'Thank you. This item has been deleted.',
            SIGNIN: 'Sign in using',
            SIGNEDIN: 'Signed in via',    
            OK: 'OK',
            CANCEL: 'Cancel',
            LOGOUT: 'Log Out',
            TOGGLE_ON: '+',
            TOGGLE_OFF: '-',
            CONTRIBUTION: 'Contribution',
            CONTRIBUTIONS: 'Contributions',
            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',
            REMOVE: 'Remove',
            LINK: 'Insert a link',
            TOPIC_COMMENT: 'Pose a Yes/No Question',
            COMMENT: 'Your Comment',
            IMAGE_COMMENT: 'Image Caption',
            POST_TO: 'Post to',
            POST_ANONYMOUS: 'Post anonymously',
            NICKNAME: 'Post as ',
            DEFAULT_NICKNAME: 'Anonymous',
            REPLY_LINK_COMMENT: 'Say something about your link',
            SHARE_COMMENT: 'comment about this share...',
            PUBLISH_BUTTON: 'Publish',
            POST_BUTTON: 'Post',
            POST_TO_BUTTON: 'Post To',
            REPLY_BUTTON: 'Reply',
            SHARE_BUTTON: 'Share',
            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',
            SELECT_IMAGE: 'Select an Image',
            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',
            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],
            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],
            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]
        };
    "
}

DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:preferences EMBED_CONF_JS:         var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    
DEBUG:root:embed_head called
INFO:root:200 GET /q/embed (127.0.0.1)
DEBUG:root:get EmbedHandler
DEBUG:root:to_unicode
DEBUG:root:embed_content
DEBUG:root:embed_content
DEBUG:root:to_unicode
DEBUG:root:action: embed_content 
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:set_table has key/secret
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = %s and `secret`= %s
        
DEBUG:root:escape_sql args: [u'12345', u'54321']
DEBUG:root:
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = '12345' and `secret`= '54321'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10876d7d0>
DEBUG:root:returning True from authencticate.
DEBUG:root:set_table authenticated
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10876d9d0>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has key/secret
DEBUG:root:returning `True` from authenticate cached.
DEBUG:root:set_table authenticated
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10876dbd0>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10876ddd0>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x108773050>
DEBUG:root:qoorate preferences: {
    "THEME": "grid",
    "EMBED_CONF_JS": "
        var qoorateConfig = {
            QOORATE_URI: 'http://localhost',
            QOORATE_API_URI: 'http://localhost/q',
            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',
            XHR_PROXY_URI: '/q/feed',
            XHR_UPLOAD_URI: '/q/uploader',
            POST_MAX_LEN: 1000,
            PARENT_PAGE_SIZE: 10,
            CHILD_PAGE_SIZE: 10,
            AUTO_SCROLL: 1,
            THEME: 'grid',
            GRID_COLUMNS: 3,
            GRID_COLUMN_TRIM: 15,
            GRID_ROW_TRIM: 15
        };
        var qoorateLang = {
            FLAG_SUCCESS: 'Thanks for flagging this!',
            SHARE_SUCCESS: 'Thank you for sharing!',
            DELETE_SUCCESS: 'Thank you. This item has been deleted.',
            SIGNIN: 'Sign in using',
            SIGNEDIN: 'Signed in via',    
            OK: 'OK',
            CANCEL: 'Cancel',
            LOGOUT: 'Log Out',
            TOGGLE_ON: '+',
            TOGGLE_OFF: '-',
            CONTRIBUTION: 'Contribution',
            CONTRIBUTIONS: 'Contributions',
            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',
            REMOVE: 'Remove',
            LINK: 'Insert a link',
            TOPIC_COMMENT: 'Pose a Yes/No Question',
            COMMENT: 'Your Comment',
            IMAGE_COMMENT: 'Image Caption',
            POST_TO: 'Post to',
            POST_ANONYMOUS: 'Post anonymously',
            NICKNAME: 'Post as ',
            DEFAULT_NICKNAME: 'Anonymous',
            REPLY_LINK_COMMENT: 'Say something about your link',
            SHARE_COMMENT: 'comment about this share...',
            PUBLISH_BUTTON: 'Publish',
            POST_BUTTON: 'Post',
            POST_TO_BUTTON: 'Post To',
            REPLY_BUTTON: 'Reply',
            SHARE_BUTTON: 'Share',
            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',
            SELECT_IMAGE: 'Select an Image',
            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',
            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],
            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],
            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]
        };
    "
}

DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:preferences EMBED_CONF_JS:         var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    
DEBUG:root:embed_content called (key,secret): (12345,54321)
DEBUG:root:returning `True` from authenticate cached.
DEBUG:root:get_content_context
DEBUG:root:table: q_brooklyncode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:init_db_conn
DEBUG:root:NOT creating db_conn
DEBUG:root:1
DEBUG:root:5
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT f.`parent_sequence` , f.`child_sequence` , f.`id` , f.`locationId` , f.`relatedId`,
                f.`parentId` , f.`userId` , `u`.`username`, u.`thumbnailLarge` as userThumbnailLarge,
                ur.`username` as relatedUsername, ur.`thumbnailLarge` as relatedUserThumbnailLarge, f.`type`,
                f.`is_anonymous` , r.`is_anonymous` as `related_is_anonymous`, f.`name` , f.`location` ,f.`description`,f.`referer`,
                f.`voteCount` , f.`voteNumber` , f.`votesUp` ,f.`votesDown` , f.`flagCount`,  f.`childCount`, f.`sortOrder` , f.`status`,
                f.`thumbnailSmall` ,f.`thumbnailLarge` , f.`changeDate` , f.`createDate`, f.`nickname`, r.`nickname` as `related_nickname`
            FROM (
                # this query adds the sequence fields to filter by for paging
                SELECT  s1.*, @parentrownum := convert( IF( ( parentId = 0), @parentrownum +1, @parentrownum ), UNSIGNED INTEGER) AS parent_sequence,
                @childrownum := IF( ( @lastparent = parentId), @childrownum + 1, 0 ) AS child_sequence,
                @lastparent := if( parentId=0, id, parentId ) AS dummy_used_for_last_parent
                FROM
                    # QUERY 2: this query sorts the results properly
                    (SELECT s0.* FROM
                        # QUERY 1: This query gets the results we need with calculated fields to sort by
                        # We should probably have these fields in the database so they are indexed
                        (SELECT
                        CONVERT( if( parentId = 0, @parentVoteNumber:=voteNumber,
                            @parentVoteNumber ), SIGNED INTEGER ) as groupVoteNumber,          # Will order groups using parent voteNumber
                        CONVERT( if( parentId = 0, @parentVoteCount:=voteCount,
                            @parentVoteCount ), SIGNED INTEGER ) as groupVoteCount,            # Will order groups using parent voteCount
                        CONVERT( if( parentId = 0, @parentCreateDate:=createDate,
                            @parentCreateDate ), DATETIME ) as groupCreateDate,                # Will order groups using parent createDate
                        CONVERT( if(parentId=0, id, parentId), UNSIGNED INTEGER) as groupId,   # will order groups together
                        CONVERT( if(parentId = 0, 0, 1), UNSIGNED INTEGER) as isChild,         # will order parent first in group
                        r.*
                        FROM (
                            # this just makes sure our groups are grouped in parent child order
                            SELECT * from q_brooklyncode o  WHERE o.location = '5e13bbb73127b9fc424e3728c6500f28' ORDER BY
                             if( o.relatedId = 0, o.id, o.relatedId),
                             if( o.relatedId = 0, 0, o.id )
                            ) r,
                        ( SELECT @parentVoteNumber := 0 ) pvn,
                        ( SELECT @parentVoteCount  := 0 ) pvc,
                        ( SELECT @parentCreateDate := 0 ) pcd
                         WHERE location = '5e13bbb73127b9fc424e3728c6500f28' 
                    ) s0
                    
                    
                    ORDER BY
                    
                s0.groupVoteNumber DESC,
                s0.groupVoteCount DESC,
                s0.groupCreateDate ASC,
                 
                    groupId  ASC, # first order by group
                    isChild ASC, # Then make sure the parent is first
                    
                s0.voteNumber DESC,
                s0.voteCount DESC,
                s0.createDate ASC
                
            ) s1,
            ( SELECT @parentrownum := 0 ) pr,
            ( SELECT @childrownum := 0 ) cr, 
            ( SELECT @lastparent := -1 ) lp) f
            LEFT JOIN user u on u.id = f.userId
            LEFT JOIN q_brooklyncode r on r.id = f.relatedId
            LEFT JOIN user ur on ur.id = r.userId
            WHERE
            ((0 = 6 and parent_sequence >= 1) or parent_sequence BETWEEN 1 AND 6)
            AND
            ((0 = 6 and child_sequence >= 1) or (child_sequence=0 or child_sequence BETWEEN 1 AND 6))
        
DEBUG:root:escape_sql args: None
DEBUG:root:
            SELECT f.`parent_sequence` , f.`child_sequence` , f.`id` , f.`locationId` , f.`relatedId`,
                f.`parentId` , f.`userId` , `u`.`username`, u.`thumbnailLarge` as userThumbnailLarge,
                ur.`username` as relatedUsername, ur.`thumbnailLarge` as relatedUserThumbnailLarge, f.`type`,
                f.`is_anonymous` , r.`is_anonymous` as `related_is_anonymous`, f.`name` , f.`location` ,f.`description`,f.`referer`,
                f.`voteCount` , f.`voteNumber` , f.`votesUp` ,f.`votesDown` , f.`flagCount`,  f.`childCount`, f.`sortOrder` , f.`status`,
                f.`thumbnailSmall` ,f.`thumbnailLarge` , f.`changeDate` , f.`createDate`, f.`nickname`, r.`nickname` as `related_nickname`
            FROM (
                # this query adds the sequence fields to filter by for paging
                SELECT  s1.*, @parentrownum := convert( IF( ( parentId = 0), @parentrownum +1, @parentrownum ), UNSIGNED INTEGER) AS parent_sequence,
                @childrownum := IF( ( @lastparent = parentId), @childrownum + 1, 0 ) AS child_sequence,
                @lastparent := if( parentId=0, id, parentId ) AS dummy_used_for_last_parent
                FROM
                    # QUERY 2: this query sorts the results properly
                    (SELECT s0.* FROM
                        # QUERY 1: This query gets the results we need with calculated fields to sort by
                        # We should probably have these fields in the database so they are indexed
                        (SELECT
                        CONVERT( if( parentId = 0, @parentVoteNumber:=voteNumber,
                            @parentVoteNumber ), SIGNED INTEGER ) as groupVoteNumber,          # Will order groups using parent voteNumber
                        CONVERT( if( parentId = 0, @parentVoteCount:=voteCount,
                            @parentVoteCount ), SIGNED INTEGER ) as groupVoteCount,            # Will order groups using parent voteCount
                        CONVERT( if( parentId = 0, @parentCreateDate:=createDate,
                            @parentCreateDate ), DATETIME ) as groupCreateDate,                # Will order groups using parent createDate
                        CONVERT( if(parentId=0, id, parentId), UNSIGNED INTEGER) as groupId,   # will order groups together
                        CONVERT( if(parentId = 0, 0, 1), UNSIGNED INTEGER) as isChild,         # will order parent first in group
                        r.*
                        FROM (
                            # this just makes sure our groups are grouped in parent child order
                            SELECT * from q_brooklyncode o  WHERE o.location = '5e13bbb73127b9fc424e3728c6500f28' ORDER BY
                             if( o.relatedId = 0, o.id, o.relatedId),
                             if( o.relatedId = 0, 0, o.id )
                            ) r,
                        ( SELECT @parentVoteNumber := 0 ) pvn,
                        ( SELECT @parentVoteCount  := 0 ) pvc,
                        ( SELECT @parentCreateDate := 0 ) pcd
                         WHERE location = '5e13bbb73127b9fc424e3728c6500f28' 
                    ) s0
                    
                    
                    ORDER BY
                    
                s0.groupVoteNumber DESC,
                s0.groupVoteCount DESC,
                s0.groupCreateDate ASC,
                 
                    groupId  ASC, # first order by group
                    isChild ASC, # Then make sure the parent is first
                    
                s0.voteNumber DESC,
                s0.voteCount DESC,
                s0.createDate ASC
                
            ) s1,
            ( SELECT @parentrownum := 0 ) pr,
            ( SELECT @childrownum := 0 ) cr, 
            ( SELECT @lastparent := -1 ) lp) f
            LEFT JOIN user u on u.id = f.userId
            LEFT JOIN q_brooklyncode r on r.id = f.relatedId
            LEFT JOIN user ur on ur.id = r.userId
            WHERE
            ((0 = 6 and parent_sequence >= 1) or parent_sequence BETWEEN 1 AND 6)
            AND
            ((0 = 6 and child_sequence >= 1) or (child_sequence=0 or child_sequence BETWEEN 1 AND 6))
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x108761f90>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = %s
        
DEBUG:root:escape_sql args: [1L]
DEBUG:root:
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = 1
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10876d050>
DEBUG:root:dictlist: {u'itemId': 1L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'1fe8a631d5522d10e2cf2e4fabedc90b', u'id': 1L}
DEBUG:root:dictItem: {u'itemId': 1L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'1fe8a631d5522d10e2cf2e4fabedc90b', u'id': 1L}
DEBUG:root:comment.images: []
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = %s
        
DEBUG:root:escape_sql args: [2L]
DEBUG:root:
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = 2
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10876d250>
DEBUG:root:dictlist: {u'itemId': 2L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'cfbb12022f81667e3c2746e3c80b2e1e', u'id': 2L}
DEBUG:root:dictItem: {u'itemId': 2L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'cfbb12022f81667e3c2746e3c80b2e1e', u'id': 2L}
DEBUG:root:comment.images: []
DEBUG:root:Number of comments returned: 2
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:escape_sql args: []
DEBUG:root:
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10876d3d0>
DEBUG:root:Number of contributions 2
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10876d5d0>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10876d7d0>
DEBUG:root:to_unicode
DEBUG:root:embed_content
DEBUG:root:embed_content
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:embed_content
DEBUG:root:embed_content
DEBUG:root:to_unicode
INFO:root:200 GET /q/embed (127.0.0.1)
Mon, 29 Jul 2013 00:10:20 GMT [ERROR] (errno: No such file or directory) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 00:10:20 GMT [ERROR] (errno: None) Failed to create target for route /q/static/
Mon, 29 Jul 2013 00:10:20 GMT [ERROR] (errno: None) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 00:10:20 GMT [ERROR] (errno: None) Failed to create target for route /q/robots.txt
Mon, 29 Jul 2013 00:10:20 GMT [ERROR] (errno: None) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 00:10:20 GMT [ERROR] (errno: None) Failed to create target for route /q/favicon.ico
Mon, 29 Jul 2013 00:10:20 GMT [INFO] (src/mime.c:49) MAX limits.mime_ext_len=128
Mon, 29 Jul 2013 00:10:20 GMT [INFO] (src/host.c:74) MAX limits.url_path=256, limits.host_name=256
Mon, 29 Jul 2013 00:10:20 GMT [INFO] (src/config/config.c:109) Loaded proxy 1:127.0.0.1:8081
Mon, 29 Jul 2013 00:10:20 GMT [INFO] (src/config/config.c:227) Loaded route 1:/:proxy for host 1:localhost
Mon, 29 Jul 2013 00:10:20 GMT [INFO] (src/handler.c:343) MAX limits.handler_stack=102400
Mon, 29 Jul 2013 00:10:20 GMT [INFO] (src/config/config.c:85) Loaded handler 1:ipc://run/qoorateserver/mongrel2_send:137b789e-b7eb-475a-8d5c-b16ab54493yu:ipc://run/qoorateserver/mongrel2_rcv:
Mon, 29 Jul 2013 00:10:20 GMT [INFO] (src/config/config.c:227) Loaded route 2:/q/:handler for host 1:localhost
Mon, 29 Jul 2013 00:10:20 GMT [INFO] (src/dir.c:195) MAX limits.dir_send_buffer=16384, limits.dir_max_path=256
Mon, 29 Jul 2013 00:10:20 GMT [INFO] (src/config/config.c:136) Loaded directory 1:static/qoorateserver/js/:index.html
Mon, 29 Jul 2013 00:10:20 GMT [INFO] (src/config/config.c:227) Loaded route 3:/q/js/:dir for host 1:localhost
Mon, 29 Jul 2013 00:10:20 GMT [INFO] (src/config/config.c:136) Loaded directory 2:static/qoorateserver/css/:index.html
Mon, 29 Jul 2013 00:10:20 GMT [INFO] (src/config/config.c:227) Loaded route 4:/q/css/:dir for host 1:localhost
Mon, 29 Jul 2013 00:10:20 GMT [INFO] (src/config/config.c:136) Loaded directory 3:static/qoorateserver/img/:index.html
Mon, 29 Jul 2013 00:10:20 GMT [INFO] (src/config/config.c:227) Loaded route 5:/q/img/:dir for host 1:localhost
Mon, 29 Jul 2013 00:10:20 GMT [INFO] (src/config/config.c:312) Loaded 1 hosts for server 1:fe76e442-da24-4708-b0ef-c4ahr2b7d131
Mon, 29 Jul 2013 00:10:20 GMT [INFO] (src/server.c:445) LOADING Handler ipc://run/qoorateserver/mongrel2_send
Mon, 29 Jul 2013 00:10:20 GMT [ERROR] (src/unixy.c:99: errno: No such file or directory) Failed to open PID file ../run/mongrel2.pid for reading.
Mon, 29 Jul 2013 00:10:20 GMT [INFO] (src/unixy.c:137) No previous mongrel2 running, continuing on.
Mon, 29 Jul 2013 00:10:20 GMT [INFO] (src/mongrel2.c:223) All loaded up, time to turn into a server.
Mon, 29 Jul 2013 00:10:20 GMT [INFO] (src/mongrel2.c:224) -- Starting Mongrel2/1.8.1. Copyright (C) Zed A. Shaw. Licensed BSD.

Mon, 29 Jul 2013 00:10:20 GMT [INFO] (src/mongrel2.c:225) -- Look in logs/error.log for startup messages and errors.
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
INFO:root:Using project directory: .
DEBUG:root:loading settings from ./conf/uploader/settings.py
INFO:root:Using coroutine library: gevent
DEBUG:root:******** START _service_registration *********
DEBUG:root:service_registration_passphrase: 137b789e-b7eb-475a-8d5a-b16ab544yurp
DEBUG:root:service_id: uploader
DEBUG:root:service_registration_addr: ipc://run/uploader/brubeck_svc_registration
DEBUG:root:service_passphrase: 137b789e-b7eb-475a-8d5a-b16ab544yurp
DEBUG:root:service_addr: ipc://run/uploader/brubeck_svc
DEBUG:root:service_response_addr: ipc://run/uploader/brubeck_svc_response
DEBUG:root:service_heartbeat_addr: None
DEBUG:root:service_heartbeat_timeout: 5
DEBUG:root:sender_id: 56f00e197ef6482d94f696811cf8d31d
DEBUG:root:is_reregistration: 0
DEBUG:root:service_heartbeat_interval: 3
DEBUG:root:******** END _service_registration *********
DEBUG:root:register_service: (service_registration_addr, service_registration_passphrase,service_heartbeat_timeout,sender_id): (ipc://run/uploader/brubeck_svc_registration,137b789e-b7eb-475a-8d5a-b16ab544yurp, 5, 56f00e197ef6482d94f696811cf8d31d)
DEBUG:root:service_registration sending request
DEBUG:root:service_registration waiting for response
INFO:root:Using project directory: .
DEBUG:root:loading settings from ./conf/qoorateserver/development.py
INFO:root:Using coroutine library: gevent
DEBUG:root:creating application db_conn pool
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:get EmbedHandler
DEBUG:root:to_unicode
DEBUG:root:embed_head
DEBUG:root:embed_head
DEBUG:root:to_unicode
DEBUG:root:action: embed_head 
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:set_table has key/secret
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = %s and `secret`= %s
        
DEBUG:root:escape_sql args: [u'12345', u'54321']
DEBUG:root:
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = '12345' and `secret`= '54321'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x109f93f90>
DEBUG:root:returning True from authencticate.
DEBUG:root:set_table authenticated
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x109f9f050>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has key/secret
DEBUG:root:returning `True` from authenticate cached.
DEBUG:root:set_table authenticated
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x109f9f250>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x109f9f3d0>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x109f9f5d0>
DEBUG:root:qoorate preferences: {
    "THEME": "grid",
    "EMBED_CONF_JS": "
        var qoorateConfig = {
            QOORATE_URI: 'http://localhost',
            QOORATE_API_URI: 'http://localhost/q',
            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',
            XHR_PROXY_URI: '/q/feed',
            XHR_UPLOAD_URI: '/q/uploader',
            POST_MAX_LEN: 1000,
            PARENT_PAGE_SIZE: 10,
            CHILD_PAGE_SIZE: 10,
            AUTO_SCROLL: 1,
            THEME: 'grid',
            GRID_COLUMNS: 3,
            GRID_COLUMN_TRIM: 15,
            GRID_ROW_TRIM: 15
        };
        var qoorateLang = {
            FLAG_SUCCESS: 'Thanks for flagging this!',
            SHARE_SUCCESS: 'Thank you for sharing!',
            DELETE_SUCCESS: 'Thank you. This item has been deleted.',
            SIGNIN: 'Sign in using',
            SIGNEDIN: 'Signed in via',    
            OK: 'OK',
            CANCEL: 'Cancel',
            LOGOUT: 'Log Out',
            TOGGLE_ON: '+',
            TOGGLE_OFF: '-',
            CONTRIBUTION: 'Contribution',
            CONTRIBUTIONS: 'Contributions',
            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',
            REMOVE: 'Remove',
            LINK: 'Insert a link',
            TOPIC_COMMENT: 'Pose a Yes/No Question',
            COMMENT: 'Your Comment',
            IMAGE_COMMENT: 'Image Caption',
            POST_TO: 'Post to',
            POST_ANONYMOUS: 'Post anonymously',
            NICKNAME: 'Post as ',
            DEFAULT_NICKNAME: 'Anonymous',
            REPLY_LINK_COMMENT: 'Say something about your link',
            SHARE_COMMENT: 'comment about this share...',
            PUBLISH_BUTTON: 'Publish',
            POST_BUTTON: 'Post',
            POST_TO_BUTTON: 'Post To',
            REPLY_BUTTON: 'Reply',
            SHARE_BUTTON: 'Share',
            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',
            SELECT_IMAGE: 'Select an Image',
            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',
            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],
            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],
            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]
        };
    "
}

DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:preferences EMBED_CONF_JS:         var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    
DEBUG:root:embed_head called
INFO:root:200 GET /q/embed (127.0.0.1)
DEBUG:root:get EmbedHandler
DEBUG:root:to_unicode
DEBUG:root:embed_content
DEBUG:root:embed_content
DEBUG:root:to_unicode
DEBUG:root:action: embed_content 
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:set_table has key/secret
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = %s and `secret`= %s
        
DEBUG:root:escape_sql args: [u'12345', u'54321']
DEBUG:root:
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = '12345' and `secret`= '54321'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x109f9f7d0>
DEBUG:root:returning True from authencticate.
DEBUG:root:set_table authenticated
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x109f9f9d0>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has key/secret
DEBUG:root:returning `True` from authenticate cached.
DEBUG:root:set_table authenticated
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x109f9fbd0>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x109f9fdd0>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x109fa5050>
DEBUG:root:qoorate preferences: {
    "THEME": "grid",
    "EMBED_CONF_JS": "
        var qoorateConfig = {
            QOORATE_URI: 'http://localhost',
            QOORATE_API_URI: 'http://localhost/q',
            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',
            XHR_PROXY_URI: '/q/feed',
            XHR_UPLOAD_URI: '/q/uploader',
            POST_MAX_LEN: 1000,
            PARENT_PAGE_SIZE: 10,
            CHILD_PAGE_SIZE: 10,
            AUTO_SCROLL: 1,
            THEME: 'grid',
            GRID_COLUMNS: 3,
            GRID_COLUMN_TRIM: 15,
            GRID_ROW_TRIM: 15
        };
        var qoorateLang = {
            FLAG_SUCCESS: 'Thanks for flagging this!',
            SHARE_SUCCESS: 'Thank you for sharing!',
            DELETE_SUCCESS: 'Thank you. This item has been deleted.',
            SIGNIN: 'Sign in using',
            SIGNEDIN: 'Signed in via',    
            OK: 'OK',
            CANCEL: 'Cancel',
            LOGOUT: 'Log Out',
            TOGGLE_ON: '+',
            TOGGLE_OFF: '-',
            CONTRIBUTION: 'Contribution',
            CONTRIBUTIONS: 'Contributions',
            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',
            REMOVE: 'Remove',
            LINK: 'Insert a link',
            TOPIC_COMMENT: 'Pose a Yes/No Question',
            COMMENT: 'Your Comment',
            IMAGE_COMMENT: 'Image Caption',
            POST_TO: 'Post to',
            POST_ANONYMOUS: 'Post anonymously',
            NICKNAME: 'Post as ',
            DEFAULT_NICKNAME: 'Anonymous',
            REPLY_LINK_COMMENT: 'Say something about your link',
            SHARE_COMMENT: 'comment about this share...',
            PUBLISH_BUTTON: 'Publish',
            POST_BUTTON: 'Post',
            POST_TO_BUTTON: 'Post To',
            REPLY_BUTTON: 'Reply',
            SHARE_BUTTON: 'Share',
            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',
            SELECT_IMAGE: 'Select an Image',
            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',
            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],
            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],
            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]
        };
    "
}

DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:preferences EMBED_CONF_JS:         var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    
DEBUG:root:embed_content called (key,secret): (12345,54321)
DEBUG:root:returning `True` from authenticate cached.
DEBUG:root:get_content_context
DEBUG:root:table: q_brooklyncode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:init_db_conn
DEBUG:root:NOT creating db_conn
DEBUG:root:1
DEBUG:root:5
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT f.`parent_sequence` , f.`child_sequence` , f.`id` , f.`locationId` , f.`relatedId`,
                f.`parentId` , f.`userId` , `u`.`username`, u.`thumbnailLarge` as userThumbnailLarge,
                ur.`username` as relatedUsername, ur.`thumbnailLarge` as relatedUserThumbnailLarge, f.`type`,
                f.`is_anonymous` , r.`is_anonymous` as `related_is_anonymous`, f.`name` , f.`location` ,f.`description`,f.`referer`,
                f.`voteCount` , f.`voteNumber` , f.`votesUp` ,f.`votesDown` , f.`flagCount`,  f.`childCount`, f.`sortOrder` , f.`status`,
                f.`thumbnailSmall` ,f.`thumbnailLarge` , f.`changeDate` , f.`createDate`, f.`nickname`, r.`nickname` as `related_nickname`
            FROM (
                # this query adds the sequence fields to filter by for paging
                SELECT  s1.*, @parentrownum := convert( IF( ( parentId = 0), @parentrownum +1, @parentrownum ), UNSIGNED INTEGER) AS parent_sequence,
                @childrownum := IF( ( @lastparent = parentId), @childrownum + 1, 0 ) AS child_sequence,
                @lastparent := if( parentId=0, id, parentId ) AS dummy_used_for_last_parent
                FROM
                    # QUERY 2: this query sorts the results properly
                    (SELECT s0.* FROM
                        # QUERY 1: This query gets the results we need with calculated fields to sort by
                        # We should probably have these fields in the database so they are indexed
                        (SELECT
                        CONVERT( if( parentId = 0, @parentVoteNumber:=voteNumber,
                            @parentVoteNumber ), SIGNED INTEGER ) as groupVoteNumber,          # Will order groups using parent voteNumber
                        CONVERT( if( parentId = 0, @parentVoteCount:=voteCount,
                            @parentVoteCount ), SIGNED INTEGER ) as groupVoteCount,            # Will order groups using parent voteCount
                        CONVERT( if( parentId = 0, @parentCreateDate:=createDate,
                            @parentCreateDate ), DATETIME ) as groupCreateDate,                # Will order groups using parent createDate
                        CONVERT( if(parentId=0, id, parentId), UNSIGNED INTEGER) as groupId,   # will order groups together
                        CONVERT( if(parentId = 0, 0, 1), UNSIGNED INTEGER) as isChild,         # will order parent first in group
                        r.*
                        FROM (
                            # this just makes sure our groups are grouped in parent child order
                            SELECT * from q_brooklyncode o  WHERE o.location = '5e13bbb73127b9fc424e3728c6500f28' ORDER BY
                             if( o.relatedId = 0, o.id, o.relatedId),
                             if( o.relatedId = 0, 0, o.id )
                            ) r,
                        ( SELECT @parentVoteNumber := 0 ) pvn,
                        ( SELECT @parentVoteCount  := 0 ) pvc,
                        ( SELECT @parentCreateDate := 0 ) pcd
                         WHERE location = '5e13bbb73127b9fc424e3728c6500f28' 
                    ) s0
                    
                    
                    ORDER BY
                    
                s0.groupVoteNumber DESC,
                s0.groupVoteCount DESC,
                s0.groupCreateDate ASC,
                 
                    groupId  ASC, # first order by group
                    isChild ASC, # Then make sure the parent is first
                    
                s0.voteNumber DESC,
                s0.voteCount DESC,
                s0.createDate ASC
                
            ) s1,
            ( SELECT @parentrownum := 0 ) pr,
            ( SELECT @childrownum := 0 ) cr, 
            ( SELECT @lastparent := -1 ) lp) f
            LEFT JOIN user u on u.id = f.userId
            LEFT JOIN q_brooklyncode r on r.id = f.relatedId
            LEFT JOIN user ur on ur.id = r.userId
            WHERE
            ((0 = 6 and parent_sequence >= 1) or parent_sequence BETWEEN 1 AND 6)
            AND
            ((0 = 6 and child_sequence >= 1) or (child_sequence=0 or child_sequence BETWEEN 1 AND 6))
        
DEBUG:root:escape_sql args: None
DEBUG:root:
            SELECT f.`parent_sequence` , f.`child_sequence` , f.`id` , f.`locationId` , f.`relatedId`,
                f.`parentId` , f.`userId` , `u`.`username`, u.`thumbnailLarge` as userThumbnailLarge,
                ur.`username` as relatedUsername, ur.`thumbnailLarge` as relatedUserThumbnailLarge, f.`type`,
                f.`is_anonymous` , r.`is_anonymous` as `related_is_anonymous`, f.`name` , f.`location` ,f.`description`,f.`referer`,
                f.`voteCount` , f.`voteNumber` , f.`votesUp` ,f.`votesDown` , f.`flagCount`,  f.`childCount`, f.`sortOrder` , f.`status`,
                f.`thumbnailSmall` ,f.`thumbnailLarge` , f.`changeDate` , f.`createDate`, f.`nickname`, r.`nickname` as `related_nickname`
            FROM (
                # this query adds the sequence fields to filter by for paging
                SELECT  s1.*, @parentrownum := convert( IF( ( parentId = 0), @parentrownum +1, @parentrownum ), UNSIGNED INTEGER) AS parent_sequence,
                @childrownum := IF( ( @lastparent = parentId), @childrownum + 1, 0 ) AS child_sequence,
                @lastparent := if( parentId=0, id, parentId ) AS dummy_used_for_last_parent
                FROM
                    # QUERY 2: this query sorts the results properly
                    (SELECT s0.* FROM
                        # QUERY 1: This query gets the results we need with calculated fields to sort by
                        # We should probably have these fields in the database so they are indexed
                        (SELECT
                        CONVERT( if( parentId = 0, @parentVoteNumber:=voteNumber,
                            @parentVoteNumber ), SIGNED INTEGER ) as groupVoteNumber,          # Will order groups using parent voteNumber
                        CONVERT( if( parentId = 0, @parentVoteCount:=voteCount,
                            @parentVoteCount ), SIGNED INTEGER ) as groupVoteCount,            # Will order groups using parent voteCount
                        CONVERT( if( parentId = 0, @parentCreateDate:=createDate,
                            @parentCreateDate ), DATETIME ) as groupCreateDate,                # Will order groups using parent createDate
                        CONVERT( if(parentId=0, id, parentId), UNSIGNED INTEGER) as groupId,   # will order groups together
                        CONVERT( if(parentId = 0, 0, 1), UNSIGNED INTEGER) as isChild,         # will order parent first in group
                        r.*
                        FROM (
                            # this just makes sure our groups are grouped in parent child order
                            SELECT * from q_brooklyncode o  WHERE o.location = '5e13bbb73127b9fc424e3728c6500f28' ORDER BY
                             if( o.relatedId = 0, o.id, o.relatedId),
                             if( o.relatedId = 0, 0, o.id )
                            ) r,
                        ( SELECT @parentVoteNumber := 0 ) pvn,
                        ( SELECT @parentVoteCount  := 0 ) pvc,
                        ( SELECT @parentCreateDate := 0 ) pcd
                         WHERE location = '5e13bbb73127b9fc424e3728c6500f28' 
                    ) s0
                    
                    
                    ORDER BY
                    
                s0.groupVoteNumber DESC,
                s0.groupVoteCount DESC,
                s0.groupCreateDate ASC,
                 
                    groupId  ASC, # first order by group
                    isChild ASC, # Then make sure the parent is first
                    
                s0.voteNumber DESC,
                s0.voteCount DESC,
                s0.createDate ASC
                
            ) s1,
            ( SELECT @parentrownum := 0 ) pr,
            ( SELECT @childrownum := 0 ) cr, 
            ( SELECT @lastparent := -1 ) lp) f
            LEFT JOIN user u on u.id = f.userId
            LEFT JOIN q_brooklyncode r on r.id = f.relatedId
            LEFT JOIN user ur on ur.id = r.userId
            WHERE
            ((0 = 6 and parent_sequence >= 1) or parent_sequence BETWEEN 1 AND 6)
            AND
            ((0 = 6 and child_sequence >= 1) or (child_sequence=0 or child_sequence BETWEEN 1 AND 6))
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x109f93f90>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = %s
        
DEBUG:root:escape_sql args: [1L]
DEBUG:root:
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = 1
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x109f9f050>
DEBUG:root:dictlist: {u'itemId': 1L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'1fe8a631d5522d10e2cf2e4fabedc90b', u'id': 1L}
DEBUG:root:dictItem: {u'itemId': 1L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'1fe8a631d5522d10e2cf2e4fabedc90b', u'id': 1L}
DEBUG:root:items: [<Image: Image object>]
DEBUG:root:comment.images: []
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = %s
        
DEBUG:root:escape_sql args: [2L]
DEBUG:root:
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = 2
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x109f9f250>
DEBUG:root:dictlist: {u'itemId': 2L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'cfbb12022f81667e3c2746e3c80b2e1e', u'id': 2L}
DEBUG:root:dictItem: {u'itemId': 2L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'cfbb12022f81667e3c2746e3c80b2e1e', u'id': 2L}
DEBUG:root:items: [<Image: Image object>]
DEBUG:root:comment.images: []
DEBUG:root:Number of comments returned: 2
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:escape_sql args: []
DEBUG:root:
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x109f9f3d0>
DEBUG:root:Number of contributions 2
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x109f9f5d0>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x109f9f7d0>
DEBUG:root:to_unicode
DEBUG:root:embed_content
DEBUG:root:embed_content
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:embed_content
DEBUG:root:embed_content
DEBUG:root:to_unicode
INFO:root:200 GET /q/embed (127.0.0.1)
Mon, 29 Jul 2013 00:16:43 GMT [ERROR] (errno: No such file or directory) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 00:16:43 GMT [ERROR] (errno: None) Failed to create target for route /q/static/
Mon, 29 Jul 2013 00:16:43 GMT [ERROR] (errno: None) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 00:16:43 GMT [ERROR] (errno: None) Failed to create target for route /q/robots.txt
Mon, 29 Jul 2013 00:16:43 GMT [ERROR] (errno: None) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 00:16:43 GMT [ERROR] (errno: None) Failed to create target for route /q/favicon.ico
Mon, 29 Jul 2013 00:16:43 GMT [INFO] (src/mime.c:49) MAX limits.mime_ext_len=128
Mon, 29 Jul 2013 00:16:43 GMT [INFO] (src/host.c:74) MAX limits.url_path=256, limits.host_name=256
Mon, 29 Jul 2013 00:16:43 GMT [INFO] (src/config/config.c:109) Loaded proxy 1:127.0.0.1:8081
Mon, 29 Jul 2013 00:16:43 GMT [INFO] (src/config/config.c:227) Loaded route 1:/:proxy for host 1:localhost
Mon, 29 Jul 2013 00:16:43 GMT [INFO] (src/handler.c:343) MAX limits.handler_stack=102400
Mon, 29 Jul 2013 00:16:43 GMT [INFO] (src/config/config.c:85) Loaded handler 1:ipc://run/qoorateserver/mongrel2_send:137b789e-b7eb-475a-8d5c-b16ab54493yu:ipc://run/qoorateserver/mongrel2_rcv:
Mon, 29 Jul 2013 00:16:43 GMT [INFO] (src/config/config.c:227) Loaded route 2:/q/:handler for host 1:localhost
Mon, 29 Jul 2013 00:16:43 GMT [INFO] (src/dir.c:195) MAX limits.dir_send_buffer=16384, limits.dir_max_path=256
Mon, 29 Jul 2013 00:16:43 GMT [INFO] (src/config/config.c:136) Loaded directory 1:static/qoorateserver/js/:index.html
Mon, 29 Jul 2013 00:16:43 GMT [INFO] (src/config/config.c:227) Loaded route 3:/q/js/:dir for host 1:localhost
Mon, 29 Jul 2013 00:16:43 GMT [INFO] (src/config/config.c:136) Loaded directory 2:static/qoorateserver/css/:index.html
Mon, 29 Jul 2013 00:16:43 GMT [INFO] (src/config/config.c:227) Loaded route 4:/q/css/:dir for host 1:localhost
Mon, 29 Jul 2013 00:16:43 GMT [INFO] (src/config/config.c:136) Loaded directory 3:static/qoorateserver/img/:index.html
Mon, 29 Jul 2013 00:16:43 GMT [INFO] (src/config/config.c:227) Loaded route 5:/q/img/:dir for host 1:localhost
Mon, 29 Jul 2013 00:16:43 GMT [INFO] (src/config/config.c:312) Loaded 1 hosts for server 1:fe76e442-da24-4708-b0ef-c4ahr2b7d131
Mon, 29 Jul 2013 00:16:43 GMT [INFO] (src/server.c:445) LOADING Handler ipc://run/qoorateserver/mongrel2_send
Mon, 29 Jul 2013 00:16:43 GMT [ERROR] (src/unixy.c:99: errno: No such file or directory) Failed to open PID file ../run/mongrel2.pid for reading.
Mon, 29 Jul 2013 00:16:43 GMT [INFO] (src/unixy.c:137) No previous mongrel2 running, continuing on.
Mon, 29 Jul 2013 00:16:43 GMT [INFO] (src/mongrel2.c:223) All loaded up, time to turn into a server.
Mon, 29 Jul 2013 00:16:43 GMT [INFO] (src/mongrel2.c:224) -- Starting Mongrel2/1.8.1. Copyright (C) Zed A. Shaw. Licensed BSD.

Mon, 29 Jul 2013 00:16:43 GMT [INFO] (src/mongrel2.c:225) -- Look in logs/error.log for startup messages and errors.
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
INFO:root:Using project directory: .
DEBUG:root:loading settings from ./conf/uploader/settings.py
INFO:root:Using coroutine library: gevent
DEBUG:root:******** START _service_registration *********
DEBUG:root:service_registration_passphrase: 137b789e-b7eb-475a-8d5a-b16ab544yurp
DEBUG:root:service_id: uploader
DEBUG:root:service_registration_addr: ipc://run/uploader/brubeck_svc_registration
DEBUG:root:service_passphrase: 137b789e-b7eb-475a-8d5a-b16ab544yurp
DEBUG:root:service_addr: ipc://run/uploader/brubeck_svc
DEBUG:root:service_response_addr: ipc://run/uploader/brubeck_svc_response
DEBUG:root:service_heartbeat_addr: None
DEBUG:root:service_heartbeat_timeout: 5
DEBUG:root:sender_id: 4c7191c989464ed7bf5093a541d17961
DEBUG:root:is_reregistration: 0
DEBUG:root:service_heartbeat_interval: 3
DEBUG:root:******** END _service_registration *********
DEBUG:root:register_service: (service_registration_addr, service_registration_passphrase,service_heartbeat_timeout,sender_id): (ipc://run/uploader/brubeck_svc_registration,137b789e-b7eb-475a-8d5a-b16ab544yurp, 5, 4c7191c989464ed7bf5093a541d17961)
DEBUG:root:service_registration sending request
DEBUG:root:service_registration waiting for response
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 108, in <module>
    class CommentItem(Model):
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 143, in CommentItem
    images = schematics.types.compound.ListType(MultiType(Image))
NameError: name 'MultiType' is not defined
Exception KeyError: KeyError(4315001232,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 108, in <module>
    class CommentItem(Model):
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 143, in CommentItem
    images = schematics.types.compound.ListType(MultiType(Image))
NameError: name 'MultiType' is not defined
Exception KeyError: KeyError(4404740496,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 108, in <module>
    class CommentItem(Model):
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 143, in CommentItem
    images = schematics.types.compound.ListType(MultiType(Image))
NameError: name 'MultiType' is not defined
Exception KeyError: KeyError(4345938320,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 108, in <module>
    class CommentItem(Model):
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 143, in CommentItem
    images = schematics.types.compound.ListType(MultiType(Image))
NameError: name 'MultiType' is not defined
Exception KeyError: KeyError(4500976016,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4367233424,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
Mon, 29 Jul 2013 00:17:04 GMT [ERROR] (errno: No such file or directory) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 00:17:04 GMT [ERROR] (errno: None) Failed to create target for route /q/static/
Mon, 29 Jul 2013 00:17:04 GMT [ERROR] (errno: None) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 00:17:04 GMT [ERROR] (errno: None) Failed to create target for route /q/robots.txt
Mon, 29 Jul 2013 00:17:04 GMT [ERROR] (errno: None) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 00:17:04 GMT [ERROR] (errno: None) Failed to create target for route /q/favicon.ico
Mon, 29 Jul 2013 00:17:04 GMT [INFO] (src/mime.c:49) MAX limits.mime_ext_len=128
Mon, 29 Jul 2013 00:17:04 GMT [INFO] (src/host.c:74) MAX limits.url_path=256, limits.host_name=256
Mon, 29 Jul 2013 00:17:04 GMT [INFO] (src/config/config.c:109) Loaded proxy 1:127.0.0.1:8081
Mon, 29 Jul 2013 00:17:04 GMT [INFO] (src/config/config.c:227) Loaded route 1:/:proxy for host 1:localhost
Mon, 29 Jul 2013 00:17:04 GMT [INFO] (src/handler.c:343) MAX limits.handler_stack=102400
Mon, 29 Jul 2013 00:17:04 GMT [INFO] (src/config/config.c:85) Loaded handler 1:ipc://run/qoorateserver/mongrel2_send:137b789e-b7eb-475a-8d5c-b16ab54493yu:ipc://run/qoorateserver/mongrel2_rcv:
Mon, 29 Jul 2013 00:17:04 GMT [INFO] (src/config/config.c:227) Loaded route 2:/q/:handler for host 1:localhost
Mon, 29 Jul 2013 00:17:04 GMT [INFO] (src/dir.c:195) MAX limits.dir_send_buffer=16384, limits.dir_max_path=256
Mon, 29 Jul 2013 00:17:04 GMT [INFO] (src/config/config.c:136) Loaded directory 1:static/qoorateserver/js/:index.html
Mon, 29 Jul 2013 00:17:04 GMT [INFO] (src/config/config.c:227) Loaded route 3:/q/js/:dir for host 1:localhost
Mon, 29 Jul 2013 00:17:04 GMT [INFO] (src/config/config.c:136) Loaded directory 2:static/qoorateserver/css/:index.html
Mon, 29 Jul 2013 00:17:04 GMT [INFO] (src/config/config.c:227) Loaded route 4:/q/css/:dir for host 1:localhost
Mon, 29 Jul 2013 00:17:04 GMT [INFO] (src/config/config.c:136) Loaded directory 3:static/qoorateserver/img/:index.html
Mon, 29 Jul 2013 00:17:04 GMT [INFO] (src/config/config.c:227) Loaded route 5:/q/img/:dir for host 1:localhost
Mon, 29 Jul 2013 00:17:04 GMT [INFO] (src/config/config.c:312) Loaded 1 hosts for server 1:fe76e442-da24-4708-b0ef-c4ahr2b7d131
Mon, 29 Jul 2013 00:17:04 GMT [INFO] (src/server.c:445) LOADING Handler ipc://run/qoorateserver/mongrel2_send
Mon, 29 Jul 2013 00:17:04 GMT [ERROR] (src/unixy.c:99: errno: No such file or directory) Failed to open PID file ../run/mongrel2.pid for reading.
Mon, 29 Jul 2013 00:17:04 GMT [INFO] (src/unixy.c:137) No previous mongrel2 running, continuing on.
Mon, 29 Jul 2013 00:17:04 GMT [INFO] (src/mongrel2.c:223) All loaded up, time to turn into a server.
Mon, 29 Jul 2013 00:17:04 GMT [INFO] (src/mongrel2.c:224) -- Starting Mongrel2/1.8.1. Copyright (C) Zed A. Shaw. Licensed BSD.

Mon, 29 Jul 2013 00:17:04 GMT [INFO] (src/mongrel2.c:225) -- Look in logs/error.log for startup messages and errors.
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
INFO:root:Using project directory: .
DEBUG:root:loading settings from ./conf/uploader/settings.py
INFO:root:Using coroutine library: gevent
DEBUG:root:******** START _service_registration *********
DEBUG:root:service_registration_passphrase: 137b789e-b7eb-475a-8d5a-b16ab544yurp
DEBUG:root:service_id: uploader
DEBUG:root:service_registration_addr: ipc://run/uploader/brubeck_svc_registration
DEBUG:root:service_passphrase: 137b789e-b7eb-475a-8d5a-b16ab544yurp
DEBUG:root:service_addr: ipc://run/uploader/brubeck_svc
DEBUG:root:service_response_addr: ipc://run/uploader/brubeck_svc_response
DEBUG:root:service_heartbeat_addr: None
DEBUG:root:service_heartbeat_timeout: 5
DEBUG:root:sender_id: d8233373ebc042a28dfdd483775aec68
DEBUG:root:is_reregistration: 0
DEBUG:root:service_heartbeat_interval: 3
DEBUG:root:******** END _service_registration *********
DEBUG:root:register_service: (service_registration_addr, service_registration_passphrase,service_heartbeat_timeout,sender_id): (ipc://run/uploader/brubeck_svc_registration,137b789e-b7eb-475a-8d5a-b16ab544yurp, 5, d8233373ebc042a28dfdd483775aec68)
DEBUG:root:service_registration sending request
DEBUG:root:service_registration waiting for response
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4535730576,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4512874896,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4450062736,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4534718864,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4411429264,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4422431120,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4554965392,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4431258000,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4319805840,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4409901456,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4366897552,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4561830288,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4545606032,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4445958544,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4320997776,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4315283856,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4512067984,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4535173520,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4473463184,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4513722768,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4305539472,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4343267728,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4450099600,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4454244752,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4482060688,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4338528656,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4509585808,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4545073552,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4317823376,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4402565520,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4302918032,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4561146256,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4319019408,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4326388112,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4314620304,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4563616144,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4562026896,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4527808912,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4452131216,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4434170256,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4441670032,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4350488976,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4520952208,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4411056528,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4305957264,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4489339280,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4514845072,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4523000208,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4455719312,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4476412304,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4526621072,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4396818832,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4565967248,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4475449744,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4391805328,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4394426768,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4453183888,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4406624656,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4558901808,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4299104656,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4369199504,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4528890256,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4301087120,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4312293776,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4446130576,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4380852624,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4423754128,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4531868048,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4366586256,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4353622416,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4432482704,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4300337552,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4540572048,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4334903696,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4548026768,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4467470736,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4363903376,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4526076304,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4432961936,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4560621968,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4547846544,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4531032464,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4533088656,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4352274832,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4555653520,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4553269648,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4542919056,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4372144528,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4486619536,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4472914320,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4500279696,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4525375888,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4402880912,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4512932240,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4345397648,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4471693712,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4529897872,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4408181136,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4381118864,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4471419280,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4322238864,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4336361872,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4468543888,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4361728400,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4534231440,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4419174800,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4442923408,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4541903248,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4459180432,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4426940816,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4311093648,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4563853712,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4448145808,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4485235088,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4563632528,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4497822096,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4500812176,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4344213904,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4437430672,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4448797072,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4562608528,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4536963472,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4454314384,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4317163920,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4516778384,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4481483152,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4510118288,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4496179600,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4456034704,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4335624592,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4523860368,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4524507536,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4346454416,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from schematics.types.compound import MultiType, ModelType, DictType
ImportError: cannot import name MultiType
Exception KeyError: KeyError(4311138704,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 108, in <module>
    class CommentItem(Model):
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 143, in CommentItem
    images = schematics.types.compound.ListType(Image())
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/schematics/types/compound.py", line 42, in __init__
    raise ValidationError(error_msg)
schematics.exceptions.ValidationError: ['Argument to ListType constructor must be a valid field or list of fields']
Exception KeyError: KeyError(4382728592,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 108, in <module>
    class CommentItem(Model):
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 143, in CommentItem
    images = schematics.types.compound.ListType(Image())
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/schematics/types/compound.py", line 42, in __init__
    raise ValidationError(error_msg)
schematics.exceptions.ValidationError: ['Argument to ListType constructor must be a valid field or list of fields']
Exception KeyError: KeyError(4413809040,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 108, in <module>
    class CommentItem(Model):
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 143, in CommentItem
    images = schematics.types.compound.ListType(Image())
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/schematics/types/compound.py", line 42, in __init__
    raise ValidationError(error_msg)
schematics.exceptions.ValidationError: ['Argument to ListType constructor must be a valid field or list of fields']
Exception KeyError: KeyError(4546281872,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 108, in <module>
    class CommentItem(Model):
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 143, in CommentItem
    images = schematics.types.compound.ListType(Image())
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/schematics/types/compound.py", line 42, in __init__
    raise ValidationError(error_msg)
schematics.exceptions.ValidationError: ['Argument to ListType constructor must be a valid field or list of fields']
Exception KeyError: KeyError(4362531216,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
Mon, 29 Jul 2013 00:26:53 GMT [ERROR] (errno: No such file or directory) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 00:26:53 GMT [ERROR] (errno: None) Failed to create target for route /q/static/
Mon, 29 Jul 2013 00:26:53 GMT [ERROR] (errno: None) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 00:26:53 GMT [ERROR] (errno: None) Failed to create target for route /q/robots.txt
Mon, 29 Jul 2013 00:26:53 GMT [ERROR] (errno: None) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 00:26:53 GMT [ERROR] (errno: None) Failed to create target for route /q/favicon.ico
Mon, 29 Jul 2013 00:26:53 GMT [INFO] (src/mime.c:49) MAX limits.mime_ext_len=128
Mon, 29 Jul 2013 00:26:53 GMT [INFO] (src/host.c:74) MAX limits.url_path=256, limits.host_name=256
Mon, 29 Jul 2013 00:26:53 GMT [INFO] (src/config/config.c:109) Loaded proxy 1:127.0.0.1:8081
Mon, 29 Jul 2013 00:26:53 GMT [INFO] (src/config/config.c:227) Loaded route 1:/:proxy for host 1:localhost
Mon, 29 Jul 2013 00:26:53 GMT [INFO] (src/handler.c:343) MAX limits.handler_stack=102400
Mon, 29 Jul 2013 00:26:53 GMT [INFO] (src/config/config.c:85) Loaded handler 1:ipc://run/qoorateserver/mongrel2_send:137b789e-b7eb-475a-8d5c-b16ab54493yu:ipc://run/qoorateserver/mongrel2_rcv:
Mon, 29 Jul 2013 00:26:53 GMT [INFO] (src/config/config.c:227) Loaded route 2:/q/:handler for host 1:localhost
Mon, 29 Jul 2013 00:26:53 GMT [INFO] (src/dir.c:195) MAX limits.dir_send_buffer=16384, limits.dir_max_path=256
Mon, 29 Jul 2013 00:26:53 GMT [INFO] (src/config/config.c:136) Loaded directory 1:static/qoorateserver/js/:index.html
Mon, 29 Jul 2013 00:26:53 GMT [INFO] (src/config/config.c:227) Loaded route 3:/q/js/:dir for host 1:localhost
Mon, 29 Jul 2013 00:26:53 GMT [INFO] (src/config/config.c:136) Loaded directory 2:static/qoorateserver/css/:index.html
Mon, 29 Jul 2013 00:26:53 GMT [INFO] (src/config/config.c:227) Loaded route 4:/q/css/:dir for host 1:localhost
Mon, 29 Jul 2013 00:26:53 GMT [INFO] (src/config/config.c:136) Loaded directory 3:static/qoorateserver/img/:index.html
Mon, 29 Jul 2013 00:26:53 GMT [INFO] (src/config/config.c:227) Loaded route 5:/q/img/:dir for host 1:localhost
Mon, 29 Jul 2013 00:26:53 GMT [INFO] (src/config/config.c:312) Loaded 1 hosts for server 1:fe76e442-da24-4708-b0ef-c4ahr2b7d131
Mon, 29 Jul 2013 00:26:53 GMT [INFO] (src/server.c:445) LOADING Handler ipc://run/qoorateserver/mongrel2_send
Mon, 29 Jul 2013 00:26:53 GMT [ERROR] (src/unixy.c:99: errno: No such file or directory) Failed to open PID file ../run/mongrel2.pid for reading.
Mon, 29 Jul 2013 00:26:53 GMT [INFO] (src/unixy.c:137) No previous mongrel2 running, continuing on.
Mon, 29 Jul 2013 00:26:53 GMT [INFO] (src/mongrel2.c:223) All loaded up, time to turn into a server.
Mon, 29 Jul 2013 00:26:53 GMT [INFO] (src/mongrel2.c:224) -- Starting Mongrel2/1.8.1. Copyright (C) Zed A. Shaw. Licensed BSD.

Mon, 29 Jul 2013 00:26:53 GMT [INFO] (src/mongrel2.c:225) -- Look in logs/error.log for startup messages and errors.
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
INFO:root:Using project directory: .
DEBUG:root:loading settings from ./conf/uploader/settings.py
INFO:root:Using coroutine library: gevent
DEBUG:root:******** START _service_registration *********
DEBUG:root:service_registration_passphrase: 137b789e-b7eb-475a-8d5a-b16ab544yurp
DEBUG:root:service_id: uploader
DEBUG:root:service_registration_addr: ipc://run/uploader/brubeck_svc_registration
DEBUG:root:service_passphrase: 137b789e-b7eb-475a-8d5a-b16ab544yurp
DEBUG:root:service_addr: ipc://run/uploader/brubeck_svc
DEBUG:root:service_response_addr: ipc://run/uploader/brubeck_svc_response
DEBUG:root:service_heartbeat_addr: None
DEBUG:root:service_heartbeat_timeout: 5
DEBUG:root:sender_id: 33fe256b61d243f1acec5ce3515e4e74
DEBUG:root:is_reregistration: 0
DEBUG:root:service_heartbeat_interval: 3
DEBUG:root:******** END _service_registration *********
DEBUG:root:register_service: (service_registration_addr, service_registration_passphrase,service_heartbeat_timeout,sender_id): (ipc://run/uploader/brubeck_svc_registration,137b789e-b7eb-475a-8d5a-b16ab544yurp, 5, 33fe256b61d243f1acec5ce3515e4e74)
DEBUG:root:service_registration sending request
DEBUG:root:service_registration waiting for response
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 108, in <module>
    class CommentItem(Model):
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 143, in CommentItem
    images = schematics.types.compound.ListType(Image())
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/schematics/types/compound.py", line 42, in __init__
    raise ValidationError(error_msg)
schematics.exceptions.ValidationError: ['Argument to ListType constructor must be a valid field or list of fields']
Exception KeyError: KeyError(4462158224,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 108, in <module>
    class CommentItem(Model):
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 143, in CommentItem
    images = schematics.types.compound.ListType(Image())
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/schematics/types/compound.py", line 42, in __init__
    raise ValidationError(error_msg)
schematics.exceptions.ValidationError: ['Argument to ListType constructor must be a valid field or list of fields']
Exception KeyError: KeyError(4366434704,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 108, in <module>
    class CommentItem(Model):
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 143, in CommentItem
    images = schematics.types.compound.ListType(Image())
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/schematics/types/compound.py", line 42, in __init__
    raise ValidationError(error_msg)
schematics.exceptions.ValidationError: ['Argument to ListType constructor must be a valid field or list of fields']
Exception KeyError: KeyError(4566065552,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 108, in <module>
    class CommentItem(Model):
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 143, in CommentItem
    images = schematics.types.compound.ListType(Image())
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/schematics/types/compound.py", line 42, in __init__
    raise ValidationError(error_msg)
schematics.exceptions.ValidationError: ['Argument to ListType constructor must be a valid field or list of fields']
Exception KeyError: KeyError(4526223760,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 108, in <module>
    class CommentItem(Model):
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 143, in CommentItem
    images = schematics.types.compound.ListType(Image())
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/schematics/types/compound.py", line 42, in __init__
    raise ValidationError(error_msg)
schematics.exceptions.ValidationError: ['Argument to ListType constructor must be a valid field or list of fields']
Exception KeyError: KeyError(4368224656,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 108, in <module>
    class CommentItem(Model):
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 143, in CommentItem
    images = schematics.types.compound.ListType(Image())
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/schematics/types/compound.py", line 42, in __init__
    raise ValidationError(error_msg)
schematics.exceptions.ValidationError: ['Argument to ListType constructor must be a valid field or list of fields']
Exception KeyError: KeyError(4353106320,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 108, in <module>
    class CommentItem(Model):
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 143, in CommentItem
    images = schematics.types.compound.ListType(Image())
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/schematics/types/compound.py", line 42, in __init__
    raise ValidationError(error_msg)
schematics.exceptions.ValidationError: ['Argument to ListType constructor must be a valid field or list of fields']
Exception KeyError: KeyError(4439232912,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 108, in <module>
    class CommentItem(Model):
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 143, in CommentItem
    images = schematics.types.compound.ListType(Image())
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/schematics/types/compound.py", line 42, in __init__
    raise ValidationError(error_msg)
schematics.exceptions.ValidationError: ['Argument to ListType constructor must be a valid field or list of fields']
Exception KeyError: KeyError(4556947856,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 108, in <module>
    class CommentItem(Model):
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 143, in CommentItem
    images = schematics.types.compound.ListType(Image())
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/schematics/types/compound.py", line 42, in __init__
    raise ValidationError(error_msg)
schematics.exceptions.ValidationError: ['Argument to ListType constructor must be a valid field or list of fields']
Exception KeyError: KeyError(4443660688,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 108, in <module>
    class CommentItem(Model):
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 143, in CommentItem
    images = schematics.types.compound.ListType(Image())
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/schematics/types/compound.py", line 42, in __init__
    raise ValidationError(error_msg)
schematics.exceptions.ValidationError: ['Argument to ListType constructor must be a valid field or list of fields']
Exception KeyError: KeyError(4563141008,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 108, in <module>
    class CommentItem(Model):
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 143, in CommentItem
    images = schematics.types.compound.ListType(Image())
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/schematics/types/compound.py", line 42, in __init__
    raise ValidationError(error_msg)
schematics.exceptions.ValidationError: ['Argument to ListType constructor must be a valid field or list of fields']
Exception KeyError: KeyError(4298785168,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 108, in <module>
    class CommentItem(Model):
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 143, in CommentItem
    images = schematics.types.compound.ListType(Image())
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/schematics/types/compound.py", line 42, in __init__
    raise ValidationError(error_msg)
schematics.exceptions.ValidationError: ['Argument to ListType constructor must be a valid field or list of fields']
Exception KeyError: KeyError(4306092432,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 108, in <module>
    class CommentItem(Model):
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 143, in CommentItem
    images = schematics.types.compound.ListType(Image())
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/schematics/types/compound.py", line 42, in __init__
    raise ValidationError(error_msg)
schematics.exceptions.ValidationError: ['Argument to ListType constructor must be a valid field or list of fields']
Exception KeyError: KeyError(4477391248,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 108, in <module>
    class CommentItem(Model):
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 143, in CommentItem
    images = schematics.types.compound.ListType(Image())
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/schematics/types/compound.py", line 42, in __init__
    raise ValidationError(error_msg)
schematics.exceptions.ValidationError: ['Argument to ListType constructor must be a valid field or list of fields']
Exception KeyError: KeyError(4520497552,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 108, in <module>
    class CommentItem(Model):
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 143, in CommentItem
    images = schematics.types.compound.ListType(Image())
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/schematics/types/compound.py", line 42, in __init__
    raise ValidationError(error_msg)
schematics.exceptions.ValidationError: ['Argument to ListType constructor must be a valid field or list of fields']
Exception KeyError: KeyError(4511089040,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 108, in <module>
    class CommentItem(Model):
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 143, in CommentItem
    images = schematics.types.compound.ListType(Image())
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/schematics/types/compound.py", line 42, in __init__
    raise ValidationError(error_msg)
schematics.exceptions.ValidationError: ['Argument to ListType constructor must be a valid field or list of fields']
Exception KeyError: KeyError(4514185616,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 108, in <module>
    class CommentItem(Model):
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 143, in CommentItem
    images = schematics.types.compound.ListType(Image())
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/schematics/types/compound.py", line 42, in __init__
    raise ValidationError(error_msg)
schematics.exceptions.ValidationError: ['Argument to ListType constructor must be a valid field or list of fields']
Exception KeyError: KeyError(4301328784,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 108, in <module>
    class CommentItem(Model):
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 143, in CommentItem
    images = schematics.types.compound.ListType(Image())
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/schematics/types/compound.py", line 42, in __init__
    raise ValidationError(error_msg)
schematics.exceptions.ValidationError: ['Argument to ListType constructor must be a valid field or list of fields']
Exception KeyError: KeyError(4374319504,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 108, in <module>
    class CommentItem(Model):
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 143, in CommentItem
    images = schematics.types.compound.ListType(Image())
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/schematics/types/compound.py", line 42, in __init__
    raise ValidationError(error_msg)
schematics.exceptions.ValidationError: ['Argument to ListType constructor must be a valid field or list of fields']
Exception KeyError: KeyError(4476727696,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 108, in <module>
    class CommentItem(Model):
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 143, in CommentItem
    images = schematics.types.compound.ListType(ModelType(Image()))
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/schematics/types/compound.py", line 230, in __init__
    if not model_type or not is_embeddable(model_type):
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/schematics/types/compound.py", line 228, in <lambda>
    is_embeddable = lambda dt: issubclass(dt, Model)
TypeError: issubclass() arg 1 must be a class
Exception KeyError: KeyError(4445241744,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
Mon, 29 Jul 2013 00:28:15 GMT [ERROR] (errno: No such file or directory) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 00:28:15 GMT [ERROR] (errno: None) Failed to create target for route /q/static/
Mon, 29 Jul 2013 00:28:15 GMT [ERROR] (errno: None) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 00:28:15 GMT [ERROR] (errno: None) Failed to create target for route /q/robots.txt
Mon, 29 Jul 2013 00:28:15 GMT [ERROR] (errno: None) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 00:28:15 GMT [ERROR] (errno: None) Failed to create target for route /q/favicon.ico
Mon, 29 Jul 2013 00:28:15 GMT [INFO] (src/mime.c:49) MAX limits.mime_ext_len=128
Mon, 29 Jul 2013 00:28:15 GMT [INFO] (src/host.c:74) MAX limits.url_path=256, limits.host_name=256
Mon, 29 Jul 2013 00:28:15 GMT [INFO] (src/config/config.c:109) Loaded proxy 1:127.0.0.1:8081
Mon, 29 Jul 2013 00:28:15 GMT [INFO] (src/config/config.c:227) Loaded route 1:/:proxy for host 1:localhost
Mon, 29 Jul 2013 00:28:15 GMT [INFO] (src/handler.c:343) MAX limits.handler_stack=102400
Mon, 29 Jul 2013 00:28:15 GMT [INFO] (src/config/config.c:85) Loaded handler 1:ipc://run/qoorateserver/mongrel2_send:137b789e-b7eb-475a-8d5c-b16ab54493yu:ipc://run/qoorateserver/mongrel2_rcv:
Mon, 29 Jul 2013 00:28:15 GMT [INFO] (src/config/config.c:227) Loaded route 2:/q/:handler for host 1:localhost
Mon, 29 Jul 2013 00:28:15 GMT [INFO] (src/dir.c:195) MAX limits.dir_send_buffer=16384, limits.dir_max_path=256
Mon, 29 Jul 2013 00:28:15 GMT [INFO] (src/config/config.c:136) Loaded directory 1:static/qoorateserver/js/:index.html
Mon, 29 Jul 2013 00:28:15 GMT [INFO] (src/config/config.c:227) Loaded route 3:/q/js/:dir for host 1:localhost
Mon, 29 Jul 2013 00:28:15 GMT [INFO] (src/config/config.c:136) Loaded directory 2:static/qoorateserver/css/:index.html
Mon, 29 Jul 2013 00:28:15 GMT [INFO] (src/config/config.c:227) Loaded route 4:/q/css/:dir for host 1:localhost
Mon, 29 Jul 2013 00:28:15 GMT [INFO] (src/config/config.c:136) Loaded directory 3:static/qoorateserver/img/:index.html
Mon, 29 Jul 2013 00:28:15 GMT [INFO] (src/config/config.c:227) Loaded route 5:/q/img/:dir for host 1:localhost
Mon, 29 Jul 2013 00:28:15 GMT [INFO] (src/config/config.c:312) Loaded 1 hosts for server 1:fe76e442-da24-4708-b0ef-c4ahr2b7d131
Mon, 29 Jul 2013 00:28:15 GMT [INFO] (src/server.c:445) LOADING Handler ipc://run/qoorateserver/mongrel2_send
Mon, 29 Jul 2013 00:28:15 GMT [ERROR] (src/unixy.c:99: errno: No such file or directory) Failed to open PID file ../run/mongrel2.pid for reading.
Mon, 29 Jul 2013 00:28:15 GMT [INFO] (src/unixy.c:137) No previous mongrel2 running, continuing on.
Mon, 29 Jul 2013 00:28:15 GMT [INFO] (src/mongrel2.c:223) All loaded up, time to turn into a server.
Mon, 29 Jul 2013 00:28:15 GMT [INFO] (src/mongrel2.c:224) -- Starting Mongrel2/1.8.1. Copyright (C) Zed A. Shaw. Licensed BSD.

Mon, 29 Jul 2013 00:28:15 GMT [INFO] (src/mongrel2.c:225) -- Look in logs/error.log for startup messages and errors.
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
INFO:root:Using project directory: .
DEBUG:root:loading settings from ./conf/uploader/settings.py
INFO:root:Using coroutine library: gevent
DEBUG:root:******** START _service_registration *********
DEBUG:root:service_registration_passphrase: 137b789e-b7eb-475a-8d5a-b16ab544yurp
DEBUG:root:service_id: uploader
DEBUG:root:service_registration_addr: ipc://run/uploader/brubeck_svc_registration
DEBUG:root:service_passphrase: 137b789e-b7eb-475a-8d5a-b16ab544yurp
DEBUG:root:service_addr: ipc://run/uploader/brubeck_svc
DEBUG:root:service_response_addr: ipc://run/uploader/brubeck_svc_response
DEBUG:root:service_heartbeat_addr: None
DEBUG:root:service_heartbeat_timeout: 5
DEBUG:root:sender_id: af579227001346e58790c05c5e8d2141
DEBUG:root:is_reregistration: 0
DEBUG:root:service_heartbeat_interval: 3
DEBUG:root:******** END _service_registration *********
DEBUG:root:register_service: (service_registration_addr, service_registration_passphrase,service_heartbeat_timeout,sender_id): (ipc://run/uploader/brubeck_svc_registration,137b789e-b7eb-475a-8d5a-b16ab544yurp, 5, af579227001346e58790c05c5e8d2141)
DEBUG:root:service_registration sending request
DEBUG:root:service_registration waiting for response
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 108, in <module>
    class CommentItem(Model):
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 143, in CommentItem
    images = schematics.types.compound.ListType(ModelType(Image()))
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/schematics/types/compound.py", line 230, in __init__
    if not model_type or not is_embeddable(model_type):
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/schematics/types/compound.py", line 228, in <lambda>
    is_embeddable = lambda dt: issubclass(dt, Model)
TypeError: issubclass() arg 1 must be a class
Exception KeyError: KeyError(4308513168,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 108, in <module>
    class CommentItem(Model):
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 143, in CommentItem
    images = schematics.types.compound.ListType(ModelType(Image()))
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/schematics/types/compound.py", line 230, in __init__
    if not model_type or not is_embeddable(model_type):
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/schematics/types/compound.py", line 228, in <lambda>
    is_embeddable = lambda dt: issubclass(dt, Model)
TypeError: issubclass() arg 1 must be a class
Exception KeyError: KeyError(4468945296,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 108, in <module>
    class CommentItem(Model):
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 143, in CommentItem
    images = schematics.types.compound.ListType(ModelType(Image()))
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/schematics/types/compound.py", line 230, in __init__
    if not model_type or not is_embeddable(model_type):
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/schematics/types/compound.py", line 228, in <lambda>
    is_embeddable = lambda dt: issubclass(dt, Model)
TypeError: issubclass() arg 1 must be a class
Exception KeyError: KeyError(4390785424,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 108, in <module>
    class CommentItem(Model):
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 143, in CommentItem
    images = schematics.types.compound.ListType(ModelType(Image()))
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/schematics/types/compound.py", line 230, in __init__
    if not model_type or not is_embeddable(model_type):
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/schematics/types/compound.py", line 228, in <lambda>
    is_embeddable = lambda dt: issubclass(dt, Model)
TypeError: issubclass() arg 1 must be a class
Exception KeyError: KeyError(4348125584,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 108, in <module>
    class CommentItem(Model):
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 143, in CommentItem
    images = schematics.types.compound.ListType(ModelType(Image()))
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/schematics/types/compound.py", line 230, in __init__
    if not model_type or not is_embeddable(model_type):
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/schematics/types/compound.py", line 228, in <lambda>
    is_embeddable = lambda dt: issubclass(dt, Model)
TypeError: issubclass() arg 1 must be a class
Exception KeyError: KeyError(4555063696,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 108, in <module>
    class CommentItem(Model):
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 143, in CommentItem
    images = schematics.types.compound.ListType(ModelType(Image()))
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/schematics/types/compound.py", line 230, in __init__
    if not model_type or not is_embeddable(model_type):
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/schematics/types/compound.py", line 228, in <lambda>
    is_embeddable = lambda dt: issubclass(dt, Model)
TypeError: issubclass() arg 1 must be a class
Exception KeyError: KeyError(4401414544,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 108, in <module>
    class CommentItem(Model):
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 143, in CommentItem
    images = schematics.types.compound.ListType(ModelType(Image()))
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/schematics/types/compound.py", line 230, in __init__
    if not model_type or not is_embeddable(model_type):
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/schematics/types/compound.py", line 228, in <lambda>
    is_embeddable = lambda dt: issubclass(dt, Model)
TypeError: issubclass() arg 1 must be a class
Exception KeyError: KeyError(4467098000,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 108, in <module>
    class CommentItem(Model):
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 143, in CommentItem
    images = schematics.types.compound.ListType(ModelType(Image()))
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/schematics/types/compound.py", line 230, in __init__
    if not model_type or not is_embeddable(model_type):
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/schematics/types/compound.py", line 228, in <lambda>
    is_embeddable = lambda dt: issubclass(dt, Model)
TypeError: issubclass() arg 1 must be a class
Exception KeyError: KeyError(4335407504,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 108, in <module>
    class CommentItem(Model):
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 143, in CommentItem
    images = schematics.types.compound.ListType(ModelType(Image()))
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/schematics/types/compound.py", line 230, in __init__
    if not model_type or not is_embeddable(model_type):
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/schematics/types/compound.py", line 228, in <lambda>
    is_embeddable = lambda dt: issubclass(dt, Model)
TypeError: issubclass() arg 1 must be a class
Exception KeyError: KeyError(4463772048,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 108, in <module>
    class CommentItem(Model):
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 143, in CommentItem
    images = schematics.types.compound.ListType(ModelType(Image()))
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/schematics/types/compound.py", line 230, in __init__
    if not model_type or not is_embeddable(model_type):
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/schematics/types/compound.py", line 228, in <lambda>
    is_embeddable = lambda dt: issubclass(dt, Model)
TypeError: issubclass() arg 1 must be a class
Exception KeyError: KeyError(4499755408,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 108, in <module>
    class CommentItem(Model):
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 143, in CommentItem
    images = schematics.types.compound.ListType(ModelType(Image()))
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/schematics/types/compound.py", line 230, in __init__
    if not model_type or not is_embeddable(model_type):
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/schematics/types/compound.py", line 228, in <lambda>
    is_embeddable = lambda dt: issubclass(dt, Model)
TypeError: issubclass() arg 1 must be a class
Exception KeyError: KeyError(4500251024,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 108, in <module>
    class CommentItem(Model):
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 143, in CommentItem
    images = schematics.types.compound.ListType(ModelType(Image()))
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/schematics/types/compound.py", line 230, in __init__
    if not model_type or not is_embeddable(model_type):
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/schematics/types/compound.py", line 228, in <lambda>
    is_embeddable = lambda dt: issubclass(dt, Model)
TypeError: issubclass() arg 1 must be a class
Exception KeyError: KeyError(4486525328,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 108, in <module>
    class CommentItem(Model):
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 143, in CommentItem
    images = schematics.types.compound.ListType(ModelType(Image()))
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/schematics/types/compound.py", line 230, in __init__
    if not model_type or not is_embeddable(model_type):
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/schematics/types/compound.py", line 228, in <lambda>
    is_embeddable = lambda dt: issubclass(dt, Model)
TypeError: issubclass() arg 1 must be a class
Exception KeyError: KeyError(4556632464,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 108, in <module>
    class CommentItem(Model):
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 143, in CommentItem
    images = schematics.types.compound.ListType(ModelType(Image()))
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/schematics/types/compound.py", line 230, in __init__
    if not model_type or not is_embeddable(model_type):
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/schematics/types/compound.py", line 228, in <lambda>
    is_embeddable = lambda dt: issubclass(dt, Model)
TypeError: issubclass() arg 1 must be a class
Exception KeyError: KeyError(4446536080,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 108, in <module>
    class CommentItem(Model):
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 143, in CommentItem
    images = schematics.types.compound.ListType(ModelType(Image()))
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/schematics/types/compound.py", line 230, in __init__
    if not model_type or not is_embeddable(model_type):
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/schematics/types/compound.py", line 228, in <lambda>
    is_embeddable = lambda dt: issubclass(dt, Model)
TypeError: issubclass() arg 1 must be a class
Exception KeyError: KeyError(4335800720,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 108, in <module>
    class CommentItem(Model):
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 143, in CommentItem
    images = schematics.types.compound.ListType(ModelType(Image()))
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/schematics/types/compound.py", line 230, in __init__
    if not model_type or not is_embeddable(model_type):
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/schematics/types/compound.py", line 228, in <lambda>
    is_embeddable = lambda dt: issubclass(dt, Model)
TypeError: issubclass() arg 1 must be a class
Exception KeyError: KeyError(4512993680,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 108, in <module>
    class CommentItem(Model):
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 143, in CommentItem
    images = schematics.types.compound.ListType(ModelType(Image()))
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/schematics/types/compound.py", line 230, in __init__
    if not model_type or not is_embeddable(model_type):
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/schematics/types/compound.py", line 228, in <lambda>
    is_embeddable = lambda dt: issubclass(dt, Model)
TypeError: issubclass() arg 1 must be a class
Exception KeyError: KeyError(4511269264,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 108, in <module>
    class CommentItem(Model):
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 143, in CommentItem
    images = schematics.types.compound.ListType(ModelType(Image()))
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/schematics/types/compound.py", line 230, in __init__
    if not model_type or not is_embeddable(model_type):
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/schematics/types/compound.py", line 228, in <lambda>
    is_embeddable = lambda dt: issubclass(dt, Model)
TypeError: issubclass() arg 1 must be a class
Exception KeyError: KeyError(4516577680,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 108, in <module>
    class CommentItem(Model):
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 143, in CommentItem
    images = schematics.types.compound.ListType(ModelType(Image()))
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/schematics/types/compound.py", line 230, in __init__
    if not model_type or not is_embeddable(model_type):
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/schematics/types/compound.py", line 228, in <lambda>
    is_embeddable = lambda dt: issubclass(dt, Model)
TypeError: issubclass() arg 1 must be a class
Exception KeyError: KeyError(4551999888,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 108, in <module>
    class CommentItem(Model):
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 143, in CommentItem
    images = schematics.types.compound.ListType(ModelType(Image()))
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/schematics/types/compound.py", line 230, in __init__
    if not model_type or not is_embeddable(model_type):
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/schematics/types/compound.py", line 228, in <lambda>
    is_embeddable = lambda dt: issubclass(dt, Model)
TypeError: issubclass() arg 1 must be a class
Exception KeyError: KeyError(4343959952,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 108, in <module>
    class CommentItem(Model):
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 143, in CommentItem
    images = schematics.types.compound.ListType(ModelType(Image()))
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/schematics/types/compound.py", line 230, in __init__
    if not model_type or not is_embeddable(model_type):
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/schematics/types/compound.py", line 228, in <lambda>
    is_embeddable = lambda dt: issubclass(dt, Model)
TypeError: issubclass() arg 1 must be a class
Exception KeyError: KeyError(4550701456,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 108, in <module>
    class CommentItem(Model):
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 143, in CommentItem
    images = schematics.types.compound.ListType(ModelType(Image()))
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/schematics/types/compound.py", line 230, in __init__
    if not model_type or not is_embeddable(model_type):
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/schematics/types/compound.py", line 228, in <lambda>
    is_embeddable = lambda dt: issubclass(dt, Model)
TypeError: issubclass() arg 1 must be a class
Exception KeyError: KeyError(4480221584,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 108, in <module>
    class CommentItem(Model):
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 143, in CommentItem
    images = schematics.types.compound.ListType(ModelType(Image()))
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/schematics/types/compound.py", line 230, in __init__
    if not model_type or not is_embeddable(model_type):
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/schematics/types/compound.py", line 228, in <lambda>
    is_embeddable = lambda dt: issubclass(dt, Model)
TypeError: issubclass() arg 1 must be a class
Exception KeyError: KeyError(4317168016,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 108, in <module>
    class CommentItem(Model):
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 143, in CommentItem
    images = schematics.types.compound.ListType(ModelType(Image()))
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/schematics/types/compound.py", line 230, in __init__
    if not model_type or not is_embeddable(model_type):
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/schematics/types/compound.py", line 228, in <lambda>
    is_embeddable = lambda dt: issubclass(dt, Model)
TypeError: issubclass() arg 1 must be a class
Exception KeyError: KeyError(4486263184,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 108, in <module>
    class CommentItem(Model):
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 143, in CommentItem
    images = schematics.types.compound.ListType(ModelType(Image()))
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/schematics/types/compound.py", line 230, in __init__
    if not model_type or not is_embeddable(model_type):
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/schematics/types/compound.py", line 228, in <lambda>
    is_embeddable = lambda dt: issubclass(dt, Model)
TypeError: issubclass() arg 1 must be a class
Exception KeyError: KeyError(4535456144,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 108, in <module>
    class CommentItem(Model):
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 143, in CommentItem
    images = schematics.types.compound.ListType(ModelType(Image()))
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/schematics/types/compound.py", line 230, in __init__
    if not model_type or not is_embeddable(model_type):
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/schematics/types/compound.py", line 228, in <lambda>
    is_embeddable = lambda dt: issubclass(dt, Model)
TypeError: issubclass() arg 1 must be a class
Exception KeyError: KeyError(4544352656,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 108, in <module>
    class CommentItem(Model):
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 143, in CommentItem
    images = schematics.types.compound.ListType(ModelType(Image()))
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/schematics/types/compound.py", line 230, in __init__
    if not model_type or not is_embeddable(model_type):
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/schematics/types/compound.py", line 228, in <lambda>
    is_embeddable = lambda dt: issubclass(dt, Model)
TypeError: issubclass() arg 1 must be a class
Exception KeyError: KeyError(4397633936,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 108, in <module>
    class CommentItem(Model):
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 143, in CommentItem
    images = schematics.types.compound.ListType(ModelType(Image()))
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/schematics/types/compound.py", line 230, in __init__
    if not model_type or not is_embeddable(model_type):
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/schematics/types/compound.py", line 228, in <lambda>
    is_embeddable = lambda dt: issubclass(dt, Model)
TypeError: issubclass() arg 1 must be a class
Exception KeyError: KeyError(4428018064,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 108, in <module>
    class CommentItem(Model):
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 143, in CommentItem
    images = schematics.types.compound.ListType(ModelType(Image()))
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/schematics/types/compound.py", line 230, in __init__
    if not model_type or not is_embeddable(model_type):
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/schematics/types/compound.py", line 228, in <lambda>
    is_embeddable = lambda dt: issubclass(dt, Model)
TypeError: issubclass() arg 1 must be a class
Exception KeyError: KeyError(4363641232,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 108, in <module>
    class CommentItem(Model):
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 143, in CommentItem
    images = schematics.types.compound.ListType(ModelType(Image()))
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/schematics/types/compound.py", line 230, in __init__
    if not model_type or not is_embeddable(model_type):
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/schematics/types/compound.py", line 228, in <lambda>
    is_embeddable = lambda dt: issubclass(dt, Model)
TypeError: issubclass() arg 1 must be a class
Exception KeyError: KeyError(4474753424,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
INFO:root:Using project directory: .
DEBUG:root:loading settings from ./conf/qoorateserver/development.py
INFO:root:Using coroutine library: gevent
DEBUG:root:creating application db_conn pool
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
Mon, 29 Jul 2013 00:30:25 GMT [ERROR] (errno: No such file or directory) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 00:30:25 GMT [ERROR] (errno: None) Failed to create target for route /q/static/
Mon, 29 Jul 2013 00:30:25 GMT [ERROR] (errno: None) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 00:30:25 GMT [ERROR] (errno: None) Failed to create target for route /q/robots.txt
Mon, 29 Jul 2013 00:30:25 GMT [ERROR] (errno: None) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 00:30:25 GMT [ERROR] (errno: None) Failed to create target for route /q/favicon.ico
Mon, 29 Jul 2013 00:30:25 GMT [INFO] (src/mime.c:49) MAX limits.mime_ext_len=128
Mon, 29 Jul 2013 00:30:25 GMT [INFO] (src/host.c:74) MAX limits.url_path=256, limits.host_name=256
Mon, 29 Jul 2013 00:30:25 GMT [INFO] (src/config/config.c:109) Loaded proxy 1:127.0.0.1:8081
Mon, 29 Jul 2013 00:30:25 GMT [INFO] (src/config/config.c:227) Loaded route 1:/:proxy for host 1:localhost
Mon, 29 Jul 2013 00:30:25 GMT [INFO] (src/handler.c:343) MAX limits.handler_stack=102400
Mon, 29 Jul 2013 00:30:25 GMT [INFO] (src/config/config.c:85) Loaded handler 1:ipc://run/qoorateserver/mongrel2_send:137b789e-b7eb-475a-8d5c-b16ab54493yu:ipc://run/qoorateserver/mongrel2_rcv:
Mon, 29 Jul 2013 00:30:25 GMT [INFO] (src/config/config.c:227) Loaded route 2:/q/:handler for host 1:localhost
Mon, 29 Jul 2013 00:30:25 GMT [INFO] (src/dir.c:195) MAX limits.dir_send_buffer=16384, limits.dir_max_path=256
Mon, 29 Jul 2013 00:30:25 GMT [INFO] (src/config/config.c:136) Loaded directory 1:static/qoorateserver/js/:index.html
Mon, 29 Jul 2013 00:30:25 GMT [INFO] (src/config/config.c:227) Loaded route 3:/q/js/:dir for host 1:localhost
Mon, 29 Jul 2013 00:30:25 GMT [INFO] (src/config/config.c:136) Loaded directory 2:static/qoorateserver/css/:index.html
Mon, 29 Jul 2013 00:30:25 GMT [INFO] (src/config/config.c:227) Loaded route 4:/q/css/:dir for host 1:localhost
Mon, 29 Jul 2013 00:30:25 GMT [INFO] (src/config/config.c:136) Loaded directory 3:static/qoorateserver/img/:index.html
Mon, 29 Jul 2013 00:30:25 GMT [INFO] (src/config/config.c:227) Loaded route 5:/q/img/:dir for host 1:localhost
Mon, 29 Jul 2013 00:30:25 GMT [INFO] (src/config/config.c:312) Loaded 1 hosts for server 1:fe76e442-da24-4708-b0ef-c4ahr2b7d131
Mon, 29 Jul 2013 00:30:25 GMT [INFO] (src/server.c:445) LOADING Handler ipc://run/qoorateserver/mongrel2_send
Mon, 29 Jul 2013 00:30:25 GMT [ERROR] (src/unixy.c:99: errno: No such file or directory) Failed to open PID file ../run/mongrel2.pid for reading.
Mon, 29 Jul 2013 00:30:25 GMT [INFO] (src/unixy.c:137) No previous mongrel2 running, continuing on.
Mon, 29 Jul 2013 00:30:25 GMT [INFO] (src/mongrel2.c:223) All loaded up, time to turn into a server.
Mon, 29 Jul 2013 00:30:25 GMT [INFO] (src/mongrel2.c:224) -- Starting Mongrel2/1.8.1. Copyright (C) Zed A. Shaw. Licensed BSD.

Mon, 29 Jul 2013 00:30:25 GMT [INFO] (src/mongrel2.c:225) -- Look in logs/error.log for startup messages and errors.
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
INFO:root:Using project directory: .
DEBUG:root:loading settings from ./conf/uploader/settings.py
INFO:root:Using coroutine library: gevent
DEBUG:root:******** START _service_registration *********
DEBUG:root:service_registration_passphrase: 137b789e-b7eb-475a-8d5a-b16ab544yurp
DEBUG:root:service_id: uploader
DEBUG:root:service_registration_addr: ipc://run/uploader/brubeck_svc_registration
DEBUG:root:service_passphrase: 137b789e-b7eb-475a-8d5a-b16ab544yurp
DEBUG:root:service_addr: ipc://run/uploader/brubeck_svc
DEBUG:root:service_response_addr: ipc://run/uploader/brubeck_svc_response
DEBUG:root:service_heartbeat_addr: None
DEBUG:root:service_heartbeat_timeout: 5
DEBUG:root:sender_id: 07df41003877404f9b40948f43a844e0
DEBUG:root:is_reregistration: 0
DEBUG:root:service_heartbeat_interval: 3
DEBUG:root:******** END _service_registration *********
DEBUG:root:register_service: (service_registration_addr, service_registration_passphrase,service_heartbeat_timeout,sender_id): (ipc://run/uploader/brubeck_svc_registration,137b789e-b7eb-475a-8d5a-b16ab544yurp, 5, 07df41003877404f9b40948f43a844e0)
DEBUG:root:service_registration sending request
DEBUG:root:service_registration waiting for response
INFO:root:Using project directory: .
DEBUG:root:loading settings from ./conf/qoorateserver/development.py
INFO:root:Using coroutine library: gevent
DEBUG:root:creating application db_conn pool
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:get EmbedHandler
DEBUG:root:to_unicode
DEBUG:root:embed_head
DEBUG:root:embed_head
DEBUG:root:to_unicode
DEBUG:root:action: embed_head 
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:set_table has key/secret
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = %s and `secret`= %s
        
DEBUG:root:escape_sql args: [u'12345', u'54321']
DEBUG:root:
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = '12345' and `secret`= '54321'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100dd1190>
DEBUG:root:returning True from authencticate.
DEBUG:root:set_table authenticated
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100dd1210>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has key/secret
DEBUG:root:returning `True` from authenticate cached.
DEBUG:root:set_table authenticated
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100dd1410>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100dd1590>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100dd1790>
DEBUG:root:qoorate preferences: {
    "THEME": "grid",
    "EMBED_CONF_JS": "
        var qoorateConfig = {
            QOORATE_URI: 'http://localhost',
            QOORATE_API_URI: 'http://localhost/q',
            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',
            XHR_PROXY_URI: '/q/feed',
            XHR_UPLOAD_URI: '/q/uploader',
            POST_MAX_LEN: 1000,
            PARENT_PAGE_SIZE: 10,
            CHILD_PAGE_SIZE: 10,
            AUTO_SCROLL: 1,
            THEME: 'grid',
            GRID_COLUMNS: 3,
            GRID_COLUMN_TRIM: 15,
            GRID_ROW_TRIM: 15
        };
        var qoorateLang = {
            FLAG_SUCCESS: 'Thanks for flagging this!',
            SHARE_SUCCESS: 'Thank you for sharing!',
            DELETE_SUCCESS: 'Thank you. This item has been deleted.',
            SIGNIN: 'Sign in using',
            SIGNEDIN: 'Signed in via',    
            OK: 'OK',
            CANCEL: 'Cancel',
            LOGOUT: 'Log Out',
            TOGGLE_ON: '+',
            TOGGLE_OFF: '-',
            CONTRIBUTION: 'Contribution',
            CONTRIBUTIONS: 'Contributions',
            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',
            REMOVE: 'Remove',
            LINK: 'Insert a link',
            TOPIC_COMMENT: 'Pose a Yes/No Question',
            COMMENT: 'Your Comment',
            IMAGE_COMMENT: 'Image Caption',
            POST_TO: 'Post to',
            POST_ANONYMOUS: 'Post anonymously',
            NICKNAME: 'Post as ',
            DEFAULT_NICKNAME: 'Anonymous',
            REPLY_LINK_COMMENT: 'Say something about your link',
            SHARE_COMMENT: 'comment about this share...',
            PUBLISH_BUTTON: 'Publish',
            POST_BUTTON: 'Post',
            POST_TO_BUTTON: 'Post To',
            REPLY_BUTTON: 'Reply',
            SHARE_BUTTON: 'Share',
            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',
            SELECT_IMAGE: 'Select an Image',
            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',
            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],
            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],
            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]
        };
    "
}

DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:preferences EMBED_CONF_JS:         var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    
DEBUG:root:embed_head called
INFO:root:200 GET /q/embed (127.0.0.1)
DEBUG:root:get EmbedHandler
DEBUG:root:to_unicode
DEBUG:root:embed_content
DEBUG:root:embed_content
DEBUG:root:to_unicode
DEBUG:root:action: embed_content 
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:set_table has key/secret
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = %s and `secret`= %s
        
DEBUG:root:escape_sql args: [u'12345', u'54321']
DEBUG:root:
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = '12345' and `secret`= '54321'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100dd1990>
DEBUG:root:returning True from authencticate.
DEBUG:root:set_table authenticated
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100dd1b90>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has key/secret
DEBUG:root:returning `True` from authenticate cached.
DEBUG:root:set_table authenticated
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100dd1d90>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100dd6050>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100dd61d0>
DEBUG:root:qoorate preferences: {
    "THEME": "grid",
    "EMBED_CONF_JS": "
        var qoorateConfig = {
            QOORATE_URI: 'http://localhost',
            QOORATE_API_URI: 'http://localhost/q',
            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',
            XHR_PROXY_URI: '/q/feed',
            XHR_UPLOAD_URI: '/q/uploader',
            POST_MAX_LEN: 1000,
            PARENT_PAGE_SIZE: 10,
            CHILD_PAGE_SIZE: 10,
            AUTO_SCROLL: 1,
            THEME: 'grid',
            GRID_COLUMNS: 3,
            GRID_COLUMN_TRIM: 15,
            GRID_ROW_TRIM: 15
        };
        var qoorateLang = {
            FLAG_SUCCESS: 'Thanks for flagging this!',
            SHARE_SUCCESS: 'Thank you for sharing!',
            DELETE_SUCCESS: 'Thank you. This item has been deleted.',
            SIGNIN: 'Sign in using',
            SIGNEDIN: 'Signed in via',    
            OK: 'OK',
            CANCEL: 'Cancel',
            LOGOUT: 'Log Out',
            TOGGLE_ON: '+',
            TOGGLE_OFF: '-',
            CONTRIBUTION: 'Contribution',
            CONTRIBUTIONS: 'Contributions',
            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',
            REMOVE: 'Remove',
            LINK: 'Insert a link',
            TOPIC_COMMENT: 'Pose a Yes/No Question',
            COMMENT: 'Your Comment',
            IMAGE_COMMENT: 'Image Caption',
            POST_TO: 'Post to',
            POST_ANONYMOUS: 'Post anonymously',
            NICKNAME: 'Post as ',
            DEFAULT_NICKNAME: 'Anonymous',
            REPLY_LINK_COMMENT: 'Say something about your link',
            SHARE_COMMENT: 'comment about this share...',
            PUBLISH_BUTTON: 'Publish',
            POST_BUTTON: 'Post',
            POST_TO_BUTTON: 'Post To',
            REPLY_BUTTON: 'Reply',
            SHARE_BUTTON: 'Share',
            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',
            SELECT_IMAGE: 'Select an Image',
            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',
            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],
            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],
            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]
        };
    "
}

DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:preferences EMBED_CONF_JS:         var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    
DEBUG:root:embed_content called (key,secret): (12345,54321)
DEBUG:root:returning `True` from authenticate cached.
DEBUG:root:get_content_context
DEBUG:root:table: q_brooklyncode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:init_db_conn
DEBUG:root:NOT creating db_conn
DEBUG:root:1
DEBUG:root:5
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT f.`parent_sequence` , f.`child_sequence` , f.`id` , f.`locationId` , f.`relatedId`,
                f.`parentId` , f.`userId` , `u`.`username`, u.`thumbnailLarge` as userThumbnailLarge,
                ur.`username` as relatedUsername, ur.`thumbnailLarge` as relatedUserThumbnailLarge, f.`type`,
                f.`is_anonymous` , r.`is_anonymous` as `related_is_anonymous`, f.`name` , f.`location` ,f.`description`,f.`referer`,
                f.`voteCount` , f.`voteNumber` , f.`votesUp` ,f.`votesDown` , f.`flagCount`,  f.`childCount`, f.`sortOrder` , f.`status`,
                f.`thumbnailSmall` ,f.`thumbnailLarge` , f.`changeDate` , f.`createDate`, f.`nickname`, r.`nickname` as `related_nickname`
            FROM (
                # this query adds the sequence fields to filter by for paging
                SELECT  s1.*, @parentrownum := convert( IF( ( parentId = 0), @parentrownum +1, @parentrownum ), UNSIGNED INTEGER) AS parent_sequence,
                @childrownum := IF( ( @lastparent = parentId), @childrownum + 1, 0 ) AS child_sequence,
                @lastparent := if( parentId=0, id, parentId ) AS dummy_used_for_last_parent
                FROM
                    # QUERY 2: this query sorts the results properly
                    (SELECT s0.* FROM
                        # QUERY 1: This query gets the results we need with calculated fields to sort by
                        # We should probably have these fields in the database so they are indexed
                        (SELECT
                        CONVERT( if( parentId = 0, @parentVoteNumber:=voteNumber,
                            @parentVoteNumber ), SIGNED INTEGER ) as groupVoteNumber,          # Will order groups using parent voteNumber
                        CONVERT( if( parentId = 0, @parentVoteCount:=voteCount,
                            @parentVoteCount ), SIGNED INTEGER ) as groupVoteCount,            # Will order groups using parent voteCount
                        CONVERT( if( parentId = 0, @parentCreateDate:=createDate,
                            @parentCreateDate ), DATETIME ) as groupCreateDate,                # Will order groups using parent createDate
                        CONVERT( if(parentId=0, id, parentId), UNSIGNED INTEGER) as groupId,   # will order groups together
                        CONVERT( if(parentId = 0, 0, 1), UNSIGNED INTEGER) as isChild,         # will order parent first in group
                        r.*
                        FROM (
                            # this just makes sure our groups are grouped in parent child order
                            SELECT * from q_brooklyncode o  WHERE o.location = '5e13bbb73127b9fc424e3728c6500f28' ORDER BY
                             if( o.relatedId = 0, o.id, o.relatedId),
                             if( o.relatedId = 0, 0, o.id )
                            ) r,
                        ( SELECT @parentVoteNumber := 0 ) pvn,
                        ( SELECT @parentVoteCount  := 0 ) pvc,
                        ( SELECT @parentCreateDate := 0 ) pcd
                         WHERE location = '5e13bbb73127b9fc424e3728c6500f28' 
                    ) s0
                    
                    
                    ORDER BY
                    
                s0.groupVoteNumber DESC,
                s0.groupVoteCount DESC,
                s0.groupCreateDate ASC,
                 
                    groupId  ASC, # first order by group
                    isChild ASC, # Then make sure the parent is first
                    
                s0.voteNumber DESC,
                s0.voteCount DESC,
                s0.createDate ASC
                
            ) s1,
            ( SELECT @parentrownum := 0 ) pr,
            ( SELECT @childrownum := 0 ) cr, 
            ( SELECT @lastparent := -1 ) lp) f
            LEFT JOIN user u on u.id = f.userId
            LEFT JOIN q_brooklyncode r on r.id = f.relatedId
            LEFT JOIN user ur on ur.id = r.userId
            WHERE
            ((0 = 6 and parent_sequence >= 1) or parent_sequence BETWEEN 1 AND 6)
            AND
            ((0 = 6 and child_sequence >= 1) or (child_sequence=0 or child_sequence BETWEEN 1 AND 6))
        
DEBUG:root:escape_sql args: None
DEBUG:root:
            SELECT f.`parent_sequence` , f.`child_sequence` , f.`id` , f.`locationId` , f.`relatedId`,
                f.`parentId` , f.`userId` , `u`.`username`, u.`thumbnailLarge` as userThumbnailLarge,
                ur.`username` as relatedUsername, ur.`thumbnailLarge` as relatedUserThumbnailLarge, f.`type`,
                f.`is_anonymous` , r.`is_anonymous` as `related_is_anonymous`, f.`name` , f.`location` ,f.`description`,f.`referer`,
                f.`voteCount` , f.`voteNumber` , f.`votesUp` ,f.`votesDown` , f.`flagCount`,  f.`childCount`, f.`sortOrder` , f.`status`,
                f.`thumbnailSmall` ,f.`thumbnailLarge` , f.`changeDate` , f.`createDate`, f.`nickname`, r.`nickname` as `related_nickname`
            FROM (
                # this query adds the sequence fields to filter by for paging
                SELECT  s1.*, @parentrownum := convert( IF( ( parentId = 0), @parentrownum +1, @parentrownum ), UNSIGNED INTEGER) AS parent_sequence,
                @childrownum := IF( ( @lastparent = parentId), @childrownum + 1, 0 ) AS child_sequence,
                @lastparent := if( parentId=0, id, parentId ) AS dummy_used_for_last_parent
                FROM
                    # QUERY 2: this query sorts the results properly
                    (SELECT s0.* FROM
                        # QUERY 1: This query gets the results we need with calculated fields to sort by
                        # We should probably have these fields in the database so they are indexed
                        (SELECT
                        CONVERT( if( parentId = 0, @parentVoteNumber:=voteNumber,
                            @parentVoteNumber ), SIGNED INTEGER ) as groupVoteNumber,          # Will order groups using parent voteNumber
                        CONVERT( if( parentId = 0, @parentVoteCount:=voteCount,
                            @parentVoteCount ), SIGNED INTEGER ) as groupVoteCount,            # Will order groups using parent voteCount
                        CONVERT( if( parentId = 0, @parentCreateDate:=createDate,
                            @parentCreateDate ), DATETIME ) as groupCreateDate,                # Will order groups using parent createDate
                        CONVERT( if(parentId=0, id, parentId), UNSIGNED INTEGER) as groupId,   # will order groups together
                        CONVERT( if(parentId = 0, 0, 1), UNSIGNED INTEGER) as isChild,         # will order parent first in group
                        r.*
                        FROM (
                            # this just makes sure our groups are grouped in parent child order
                            SELECT * from q_brooklyncode o  WHERE o.location = '5e13bbb73127b9fc424e3728c6500f28' ORDER BY
                             if( o.relatedId = 0, o.id, o.relatedId),
                             if( o.relatedId = 0, 0, o.id )
                            ) r,
                        ( SELECT @parentVoteNumber := 0 ) pvn,
                        ( SELECT @parentVoteCount  := 0 ) pvc,
                        ( SELECT @parentCreateDate := 0 ) pcd
                         WHERE location = '5e13bbb73127b9fc424e3728c6500f28' 
                    ) s0
                    
                    
                    ORDER BY
                    
                s0.groupVoteNumber DESC,
                s0.groupVoteCount DESC,
                s0.groupCreateDate ASC,
                 
                    groupId  ASC, # first order by group
                    isChild ASC, # Then make sure the parent is first
                    
                s0.voteNumber DESC,
                s0.voteCount DESC,
                s0.createDate ASC
                
            ) s1,
            ( SELECT @parentrownum := 0 ) pr,
            ( SELECT @childrownum := 0 ) cr, 
            ( SELECT @lastparent := -1 ) lp) f
            LEFT JOIN user u on u.id = f.userId
            LEFT JOIN q_brooklyncode r on r.id = f.relatedId
            LEFT JOIN user ur on ur.id = r.userId
            WHERE
            ((0 = 6 and parent_sequence >= 1) or parent_sequence BETWEEN 1 AND 6)
            AND
            ((0 = 6 and child_sequence >= 1) or (child_sequence=0 or child_sequence BETWEEN 1 AND 6))
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100dd1190>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = %s
        
DEBUG:root:escape_sql args: [1L]
DEBUG:root:
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = 1
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100dd1210>
DEBUG:root:dictlist: {u'itemId': 1L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'1fe8a631d5522d10e2cf2e4fabedc90b', u'id': 1L}
DEBUG:root:dictItem: {u'itemId': 1L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'1fe8a631d5522d10e2cf2e4fabedc90b', u'id': 1L}
DEBUG:root:items: [<Image: Image object>]
DEBUG:root:comment.images: []
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = %s
        
DEBUG:root:escape_sql args: [2L]
DEBUG:root:
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = 2
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100dd1410>
DEBUG:root:dictlist: {u'itemId': 2L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'cfbb12022f81667e3c2746e3c80b2e1e', u'id': 2L}
DEBUG:root:dictItem: {u'itemId': 2L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'cfbb12022f81667e3c2746e3c80b2e1e', u'id': 2L}
DEBUG:root:items: [<Image: Image object>]
DEBUG:root:comment.images: []
DEBUG:root:Number of comments returned: 2
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:escape_sql args: []
DEBUG:root:
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100dd1590>
DEBUG:root:Number of contributions 2
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100dd1790>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100dd1990>
DEBUG:root:to_unicode
DEBUG:root:embed_content
DEBUG:root:embed_content
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:embed_content
DEBUG:root:embed_content
DEBUG:root:to_unicode
INFO:root:200 GET /q/embed (127.0.0.1)
DEBUG:root:get EmbedHandler
DEBUG:root:to_unicode
DEBUG:root:embed_head
DEBUG:root:embed_head
DEBUG:root:to_unicode
DEBUG:root:action: embed_head 
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:set_table has key/secret
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = %s and `secret`= %s
        
DEBUG:root:escape_sql args: [u'12345', u'54321']
DEBUG:root:
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = '12345' and `secret`= '54321'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100dd1b90>
DEBUG:root:returning True from authencticate.
DEBUG:root:set_table authenticated
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100dd1d90>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has key/secret
DEBUG:root:returning `True` from authenticate cached.
DEBUG:root:set_table authenticated
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100dd6050>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100dd61d0>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100dd1190>
DEBUG:root:qoorate preferences: {
    "THEME": "grid",
    "EMBED_CONF_JS": "
        var qoorateConfig = {
            QOORATE_URI: 'http://localhost',
            QOORATE_API_URI: 'http://localhost/q',
            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',
            XHR_PROXY_URI: '/q/feed',
            XHR_UPLOAD_URI: '/q/uploader',
            POST_MAX_LEN: 1000,
            PARENT_PAGE_SIZE: 10,
            CHILD_PAGE_SIZE: 10,
            AUTO_SCROLL: 1,
            THEME: 'grid',
            GRID_COLUMNS: 3,
            GRID_COLUMN_TRIM: 15,
            GRID_ROW_TRIM: 15
        };
        var qoorateLang = {
            FLAG_SUCCESS: 'Thanks for flagging this!',
            SHARE_SUCCESS: 'Thank you for sharing!',
            DELETE_SUCCESS: 'Thank you. This item has been deleted.',
            SIGNIN: 'Sign in using',
            SIGNEDIN: 'Signed in via',    
            OK: 'OK',
            CANCEL: 'Cancel',
            LOGOUT: 'Log Out',
            TOGGLE_ON: '+',
            TOGGLE_OFF: '-',
            CONTRIBUTION: 'Contribution',
            CONTRIBUTIONS: 'Contributions',
            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',
            REMOVE: 'Remove',
            LINK: 'Insert a link',
            TOPIC_COMMENT: 'Pose a Yes/No Question',
            COMMENT: 'Your Comment',
            IMAGE_COMMENT: 'Image Caption',
            POST_TO: 'Post to',
            POST_ANONYMOUS: 'Post anonymously',
            NICKNAME: 'Post as ',
            DEFAULT_NICKNAME: 'Anonymous',
            REPLY_LINK_COMMENT: 'Say something about your link',
            SHARE_COMMENT: 'comment about this share...',
            PUBLISH_BUTTON: 'Publish',
            POST_BUTTON: 'Post',
            POST_TO_BUTTON: 'Post To',
            REPLY_BUTTON: 'Reply',
            SHARE_BUTTON: 'Share',
            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',
            SELECT_IMAGE: 'Select an Image',
            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',
            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],
            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],
            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]
        };
    "
}

DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:preferences EMBED_CONF_JS:         var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    
DEBUG:root:embed_head called
INFO:root:200 GET /q/embed (127.0.0.1)
DEBUG:root:get EmbedHandler
DEBUG:root:to_unicode
DEBUG:root:embed_content
DEBUG:root:embed_content
DEBUG:root:to_unicode
DEBUG:root:action: embed_content 
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:set_table has key/secret
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = %s and `secret`= %s
        
DEBUG:root:escape_sql args: [u'12345', u'54321']
DEBUG:root:
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = '12345' and `secret`= '54321'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100dd1210>
DEBUG:root:returning True from authencticate.
DEBUG:root:set_table authenticated
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100dd1410>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has key/secret
DEBUG:root:returning `True` from authenticate cached.
DEBUG:root:set_table authenticated
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100dd1590>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100dd1790>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100dd1990>
DEBUG:root:qoorate preferences: {
    "THEME": "grid",
    "EMBED_CONF_JS": "
        var qoorateConfig = {
            QOORATE_URI: 'http://localhost',
            QOORATE_API_URI: 'http://localhost/q',
            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',
            XHR_PROXY_URI: '/q/feed',
            XHR_UPLOAD_URI: '/q/uploader',
            POST_MAX_LEN: 1000,
            PARENT_PAGE_SIZE: 10,
            CHILD_PAGE_SIZE: 10,
            AUTO_SCROLL: 1,
            THEME: 'grid',
            GRID_COLUMNS: 3,
            GRID_COLUMN_TRIM: 15,
            GRID_ROW_TRIM: 15
        };
        var qoorateLang = {
            FLAG_SUCCESS: 'Thanks for flagging this!',
            SHARE_SUCCESS: 'Thank you for sharing!',
            DELETE_SUCCESS: 'Thank you. This item has been deleted.',
            SIGNIN: 'Sign in using',
            SIGNEDIN: 'Signed in via',    
            OK: 'OK',
            CANCEL: 'Cancel',
            LOGOUT: 'Log Out',
            TOGGLE_ON: '+',
            TOGGLE_OFF: '-',
            CONTRIBUTION: 'Contribution',
            CONTRIBUTIONS: 'Contributions',
            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',
            REMOVE: 'Remove',
            LINK: 'Insert a link',
            TOPIC_COMMENT: 'Pose a Yes/No Question',
            COMMENT: 'Your Comment',
            IMAGE_COMMENT: 'Image Caption',
            POST_TO: 'Post to',
            POST_ANONYMOUS: 'Post anonymously',
            NICKNAME: 'Post as ',
            DEFAULT_NICKNAME: 'Anonymous',
            REPLY_LINK_COMMENT: 'Say something about your link',
            SHARE_COMMENT: 'comment about this share...',
            PUBLISH_BUTTON: 'Publish',
            POST_BUTTON: 'Post',
            POST_TO_BUTTON: 'Post To',
            REPLY_BUTTON: 'Reply',
            SHARE_BUTTON: 'Share',
            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',
            SELECT_IMAGE: 'Select an Image',
            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',
            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],
            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],
            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]
        };
    "
}

DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:preferences EMBED_CONF_JS:         var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    
DEBUG:root:embed_content called (key,secret): (12345,54321)
DEBUG:root:returning `True` from authenticate cached.
DEBUG:root:get_content_context
DEBUG:root:table: q_brooklyncode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:init_db_conn
DEBUG:root:NOT creating db_conn
DEBUG:root:1
DEBUG:root:5
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT f.`parent_sequence` , f.`child_sequence` , f.`id` , f.`locationId` , f.`relatedId`,
                f.`parentId` , f.`userId` , `u`.`username`, u.`thumbnailLarge` as userThumbnailLarge,
                ur.`username` as relatedUsername, ur.`thumbnailLarge` as relatedUserThumbnailLarge, f.`type`,
                f.`is_anonymous` , r.`is_anonymous` as `related_is_anonymous`, f.`name` , f.`location` ,f.`description`,f.`referer`,
                f.`voteCount` , f.`voteNumber` , f.`votesUp` ,f.`votesDown` , f.`flagCount`,  f.`childCount`, f.`sortOrder` , f.`status`,
                f.`thumbnailSmall` ,f.`thumbnailLarge` , f.`changeDate` , f.`createDate`, f.`nickname`, r.`nickname` as `related_nickname`
            FROM (
                # this query adds the sequence fields to filter by for paging
                SELECT  s1.*, @parentrownum := convert( IF( ( parentId = 0), @parentrownum +1, @parentrownum ), UNSIGNED INTEGER) AS parent_sequence,
                @childrownum := IF( ( @lastparent = parentId), @childrownum + 1, 0 ) AS child_sequence,
                @lastparent := if( parentId=0, id, parentId ) AS dummy_used_for_last_parent
                FROM
                    # QUERY 2: this query sorts the results properly
                    (SELECT s0.* FROM
                        # QUERY 1: This query gets the results we need with calculated fields to sort by
                        # We should probably have these fields in the database so they are indexed
                        (SELECT
                        CONVERT( if( parentId = 0, @parentVoteNumber:=voteNumber,
                            @parentVoteNumber ), SIGNED INTEGER ) as groupVoteNumber,          # Will order groups using parent voteNumber
                        CONVERT( if( parentId = 0, @parentVoteCount:=voteCount,
                            @parentVoteCount ), SIGNED INTEGER ) as groupVoteCount,            # Will order groups using parent voteCount
                        CONVERT( if( parentId = 0, @parentCreateDate:=createDate,
                            @parentCreateDate ), DATETIME ) as groupCreateDate,                # Will order groups using parent createDate
                        CONVERT( if(parentId=0, id, parentId), UNSIGNED INTEGER) as groupId,   # will order groups together
                        CONVERT( if(parentId = 0, 0, 1), UNSIGNED INTEGER) as isChild,         # will order parent first in group
                        r.*
                        FROM (
                            # this just makes sure our groups are grouped in parent child order
                            SELECT * from q_brooklyncode o  WHERE o.location = '5e13bbb73127b9fc424e3728c6500f28' ORDER BY
                             if( o.relatedId = 0, o.id, o.relatedId),
                             if( o.relatedId = 0, 0, o.id )
                            ) r,
                        ( SELECT @parentVoteNumber := 0 ) pvn,
                        ( SELECT @parentVoteCount  := 0 ) pvc,
                        ( SELECT @parentCreateDate := 0 ) pcd
                         WHERE location = '5e13bbb73127b9fc424e3728c6500f28' 
                    ) s0
                    
                    
                    ORDER BY
                    
                s0.groupVoteNumber DESC,
                s0.groupVoteCount DESC,
                s0.groupCreateDate ASC,
                 
                    groupId  ASC, # first order by group
                    isChild ASC, # Then make sure the parent is first
                    
                s0.voteNumber DESC,
                s0.voteCount DESC,
                s0.createDate ASC
                
            ) s1,
            ( SELECT @parentrownum := 0 ) pr,
            ( SELECT @childrownum := 0 ) cr, 
            ( SELECT @lastparent := -1 ) lp) f
            LEFT JOIN user u on u.id = f.userId
            LEFT JOIN q_brooklyncode r on r.id = f.relatedId
            LEFT JOIN user ur on ur.id = r.userId
            WHERE
            ((0 = 6 and parent_sequence >= 1) or parent_sequence BETWEEN 1 AND 6)
            AND
            ((0 = 6 and child_sequence >= 1) or (child_sequence=0 or child_sequence BETWEEN 1 AND 6))
        
DEBUG:root:escape_sql args: None
DEBUG:root:
            SELECT f.`parent_sequence` , f.`child_sequence` , f.`id` , f.`locationId` , f.`relatedId`,
                f.`parentId` , f.`userId` , `u`.`username`, u.`thumbnailLarge` as userThumbnailLarge,
                ur.`username` as relatedUsername, ur.`thumbnailLarge` as relatedUserThumbnailLarge, f.`type`,
                f.`is_anonymous` , r.`is_anonymous` as `related_is_anonymous`, f.`name` , f.`location` ,f.`description`,f.`referer`,
                f.`voteCount` , f.`voteNumber` , f.`votesUp` ,f.`votesDown` , f.`flagCount`,  f.`childCount`, f.`sortOrder` , f.`status`,
                f.`thumbnailSmall` ,f.`thumbnailLarge` , f.`changeDate` , f.`createDate`, f.`nickname`, r.`nickname` as `related_nickname`
            FROM (
                # this query adds the sequence fields to filter by for paging
                SELECT  s1.*, @parentrownum := convert( IF( ( parentId = 0), @parentrownum +1, @parentrownum ), UNSIGNED INTEGER) AS parent_sequence,
                @childrownum := IF( ( @lastparent = parentId), @childrownum + 1, 0 ) AS child_sequence,
                @lastparent := if( parentId=0, id, parentId ) AS dummy_used_for_last_parent
                FROM
                    # QUERY 2: this query sorts the results properly
                    (SELECT s0.* FROM
                        # QUERY 1: This query gets the results we need with calculated fields to sort by
                        # We should probably have these fields in the database so they are indexed
                        (SELECT
                        CONVERT( if( parentId = 0, @parentVoteNumber:=voteNumber,
                            @parentVoteNumber ), SIGNED INTEGER ) as groupVoteNumber,          # Will order groups using parent voteNumber
                        CONVERT( if( parentId = 0, @parentVoteCount:=voteCount,
                            @parentVoteCount ), SIGNED INTEGER ) as groupVoteCount,            # Will order groups using parent voteCount
                        CONVERT( if( parentId = 0, @parentCreateDate:=createDate,
                            @parentCreateDate ), DATETIME ) as groupCreateDate,                # Will order groups using parent createDate
                        CONVERT( if(parentId=0, id, parentId), UNSIGNED INTEGER) as groupId,   # will order groups together
                        CONVERT( if(parentId = 0, 0, 1), UNSIGNED INTEGER) as isChild,         # will order parent first in group
                        r.*
                        FROM (
                            # this just makes sure our groups are grouped in parent child order
                            SELECT * from q_brooklyncode o  WHERE o.location = '5e13bbb73127b9fc424e3728c6500f28' ORDER BY
                             if( o.relatedId = 0, o.id, o.relatedId),
                             if( o.relatedId = 0, 0, o.id )
                            ) r,
                        ( SELECT @parentVoteNumber := 0 ) pvn,
                        ( SELECT @parentVoteCount  := 0 ) pvc,
                        ( SELECT @parentCreateDate := 0 ) pcd
                         WHERE location = '5e13bbb73127b9fc424e3728c6500f28' 
                    ) s0
                    
                    
                    ORDER BY
                    
                s0.groupVoteNumber DESC,
                s0.groupVoteCount DESC,
                s0.groupCreateDate ASC,
                 
                    groupId  ASC, # first order by group
                    isChild ASC, # Then make sure the parent is first
                    
                s0.voteNumber DESC,
                s0.voteCount DESC,
                s0.createDate ASC
                
            ) s1,
            ( SELECT @parentrownum := 0 ) pr,
            ( SELECT @childrownum := 0 ) cr, 
            ( SELECT @lastparent := -1 ) lp) f
            LEFT JOIN user u on u.id = f.userId
            LEFT JOIN q_brooklyncode r on r.id = f.relatedId
            LEFT JOIN user ur on ur.id = r.userId
            WHERE
            ((0 = 6 and parent_sequence >= 1) or parent_sequence BETWEEN 1 AND 6)
            AND
            ((0 = 6 and child_sequence >= 1) or (child_sequence=0 or child_sequence BETWEEN 1 AND 6))
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100dd1b90>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = %s
        
DEBUG:root:escape_sql args: [1L]
DEBUG:root:
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = 1
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100dd1d90>
DEBUG:root:dictlist: {u'itemId': 1L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'1fe8a631d5522d10e2cf2e4fabedc90b', u'id': 1L}
DEBUG:root:dictItem: {u'itemId': 1L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'1fe8a631d5522d10e2cf2e4fabedc90b', u'id': 1L}
DEBUG:root:items: [<Image: Image object>]
DEBUG:root:comment.images: []
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = %s
        
DEBUG:root:escape_sql args: [2L]
DEBUG:root:
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = 2
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100dd6050>
DEBUG:root:dictlist: {u'itemId': 2L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'cfbb12022f81667e3c2746e3c80b2e1e', u'id': 2L}
DEBUG:root:dictItem: {u'itemId': 2L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'cfbb12022f81667e3c2746e3c80b2e1e', u'id': 2L}
DEBUG:root:items: [<Image: Image object>]
DEBUG:root:comment.images: []
DEBUG:root:Number of comments returned: 2
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:escape_sql args: []
DEBUG:root:
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100dd61d0>
DEBUG:root:Number of contributions 2
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100dd1190>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100dd1210>
DEBUG:root:to_unicode
DEBUG:root:embed_content
DEBUG:root:embed_content
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:embed_content
DEBUG:root:embed_content
DEBUG:root:to_unicode
INFO:root:200 GET /q/embed (127.0.0.1)
Mon, 29 Jul 2013 00:44:16 GMT [ERROR] (errno: No such file or directory) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 00:44:16 GMT [ERROR] (errno: None) Failed to create target for route /q/static/
Mon, 29 Jul 2013 00:44:16 GMT [ERROR] (errno: None) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 00:44:16 GMT [ERROR] (errno: None) Failed to create target for route /q/robots.txt
Mon, 29 Jul 2013 00:44:16 GMT [ERROR] (errno: None) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 00:44:16 GMT [ERROR] (errno: None) Failed to create target for route /q/favicon.ico
Mon, 29 Jul 2013 00:44:16 GMT [INFO] (src/mime.c:49) MAX limits.mime_ext_len=128
Mon, 29 Jul 2013 00:44:16 GMT [INFO] (src/host.c:74) MAX limits.url_path=256, limits.host_name=256
Mon, 29 Jul 2013 00:44:16 GMT [INFO] (src/config/config.c:109) Loaded proxy 1:127.0.0.1:8081
Mon, 29 Jul 2013 00:44:16 GMT [INFO] (src/config/config.c:227) Loaded route 1:/:proxy for host 1:localhost
Mon, 29 Jul 2013 00:44:16 GMT [INFO] (src/handler.c:343) MAX limits.handler_stack=102400
Mon, 29 Jul 2013 00:44:16 GMT [INFO] (src/config/config.c:85) Loaded handler 1:ipc://run/qoorateserver/mongrel2_send:137b789e-b7eb-475a-8d5c-b16ab54493yu:ipc://run/qoorateserver/mongrel2_rcv:
Mon, 29 Jul 2013 00:44:16 GMT [INFO] (src/config/config.c:227) Loaded route 2:/q/:handler for host 1:localhost
Mon, 29 Jul 2013 00:44:16 GMT [INFO] (src/dir.c:195) MAX limits.dir_send_buffer=16384, limits.dir_max_path=256
Mon, 29 Jul 2013 00:44:16 GMT [INFO] (src/config/config.c:136) Loaded directory 1:static/qoorateserver/js/:index.html
Mon, 29 Jul 2013 00:44:16 GMT [INFO] (src/config/config.c:227) Loaded route 3:/q/js/:dir for host 1:localhost
Mon, 29 Jul 2013 00:44:16 GMT [INFO] (src/config/config.c:136) Loaded directory 2:static/qoorateserver/css/:index.html
Mon, 29 Jul 2013 00:44:16 GMT [INFO] (src/config/config.c:227) Loaded route 4:/q/css/:dir for host 1:localhost
Mon, 29 Jul 2013 00:44:16 GMT [INFO] (src/config/config.c:136) Loaded directory 3:static/qoorateserver/img/:index.html
Mon, 29 Jul 2013 00:44:16 GMT [INFO] (src/config/config.c:227) Loaded route 5:/q/img/:dir for host 1:localhost
Mon, 29 Jul 2013 00:44:16 GMT [INFO] (src/config/config.c:312) Loaded 1 hosts for server 1:fe76e442-da24-4708-b0ef-c4ahr2b7d131
Mon, 29 Jul 2013 00:44:16 GMT [INFO] (src/server.c:445) LOADING Handler ipc://run/qoorateserver/mongrel2_send
Mon, 29 Jul 2013 00:44:16 GMT [ERROR] (src/unixy.c:99: errno: No such file or directory) Failed to open PID file ../run/mongrel2.pid for reading.
Mon, 29 Jul 2013 00:44:16 GMT [INFO] (src/unixy.c:137) No previous mongrel2 running, continuing on.
Mon, 29 Jul 2013 00:44:16 GMT [INFO] (src/mongrel2.c:223) All loaded up, time to turn into a server.
Mon, 29 Jul 2013 00:44:16 GMT [INFO] (src/mongrel2.c:224) -- Starting Mongrel2/1.8.1. Copyright (C) Zed A. Shaw. Licensed BSD.

Mon, 29 Jul 2013 00:44:16 GMT [INFO] (src/mongrel2.c:225) -- Look in logs/error.log for startup messages and errors.
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
INFO:root:Using project directory: .
DEBUG:root:loading settings from ./conf/uploader/settings.py
INFO:root:Using coroutine library: gevent
DEBUG:root:******** START _service_registration *********
DEBUG:root:service_registration_passphrase: 137b789e-b7eb-475a-8d5a-b16ab544yurp
DEBUG:root:service_id: uploader
DEBUG:root:service_registration_addr: ipc://run/uploader/brubeck_svc_registration
DEBUG:root:service_passphrase: 137b789e-b7eb-475a-8d5a-b16ab544yurp
DEBUG:root:service_addr: ipc://run/uploader/brubeck_svc
DEBUG:root:service_response_addr: ipc://run/uploader/brubeck_svc_response
DEBUG:root:service_heartbeat_addr: None
DEBUG:root:service_heartbeat_timeout: 5
DEBUG:root:sender_id: 0ce2bc1b7b4345f9a1fc78f9ebe78e97
DEBUG:root:is_reregistration: 0
DEBUG:root:service_heartbeat_interval: 3
DEBUG:root:******** END _service_registration *********
DEBUG:root:register_service: (service_registration_addr, service_registration_passphrase,service_heartbeat_timeout,sender_id): (ipc://run/uploader/brubeck_svc_registration,137b789e-b7eb-475a-8d5a-b16ab544yurp, 5, 0ce2bc1b7b4345f9a1fc78f9ebe78e97)
DEBUG:root:service_registration sending request
DEBUG:root:service_registration waiting for response
INFO:root:Using project directory: .
DEBUG:root:loading settings from ./conf/qoorateserver/development.py
INFO:root:Using coroutine library: gevent
DEBUG:root:creating application db_conn pool
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:get EmbedHandler
DEBUG:root:to_unicode
DEBUG:root:embed_head
DEBUG:root:embed_head
DEBUG:root:to_unicode
DEBUG:root:action: embed_head 
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:set_table has key/secret
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = %s and `secret`= %s
        
DEBUG:root:escape_sql args: [u'12345', u'54321']
DEBUG:root:
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = '12345' and `secret`= '54321'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x103b60f90>
DEBUG:root:returning True from authencticate.
DEBUG:root:set_table authenticated
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x103b6c050>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has key/secret
DEBUG:root:returning `True` from authenticate cached.
DEBUG:root:set_table authenticated
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x103b6c250>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x103b6c3d0>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x103b6c5d0>
DEBUG:root:qoorate preferences: {
    "THEME": "grid",
    "EMBED_CONF_JS": "
        var qoorateConfig = {
            QOORATE_URI: 'http://localhost',
            QOORATE_API_URI: 'http://localhost/q',
            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',
            XHR_PROXY_URI: '/q/feed',
            XHR_UPLOAD_URI: '/q/uploader',
            POST_MAX_LEN: 1000,
            PARENT_PAGE_SIZE: 10,
            CHILD_PAGE_SIZE: 10,
            AUTO_SCROLL: 1,
            THEME: 'grid',
            GRID_COLUMNS: 3,
            GRID_COLUMN_TRIM: 15,
            GRID_ROW_TRIM: 15
        };
        var qoorateLang = {
            FLAG_SUCCESS: 'Thanks for flagging this!',
            SHARE_SUCCESS: 'Thank you for sharing!',
            DELETE_SUCCESS: 'Thank you. This item has been deleted.',
            SIGNIN: 'Sign in using',
            SIGNEDIN: 'Signed in via',    
            OK: 'OK',
            CANCEL: 'Cancel',
            LOGOUT: 'Log Out',
            TOGGLE_ON: '+',
            TOGGLE_OFF: '-',
            CONTRIBUTION: 'Contribution',
            CONTRIBUTIONS: 'Contributions',
            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',
            REMOVE: 'Remove',
            LINK: 'Insert a link',
            TOPIC_COMMENT: 'Pose a Yes/No Question',
            COMMENT: 'Your Comment',
            IMAGE_COMMENT: 'Image Caption',
            POST_TO: 'Post to',
            POST_ANONYMOUS: 'Post anonymously',
            NICKNAME: 'Post as ',
            DEFAULT_NICKNAME: 'Anonymous',
            REPLY_LINK_COMMENT: 'Say something about your link',
            SHARE_COMMENT: 'comment about this share...',
            PUBLISH_BUTTON: 'Publish',
            POST_BUTTON: 'Post',
            POST_TO_BUTTON: 'Post To',
            REPLY_BUTTON: 'Reply',
            SHARE_BUTTON: 'Share',
            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',
            SELECT_IMAGE: 'Select an Image',
            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',
            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],
            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],
            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]
        };
    "
}

DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:preferences EMBED_CONF_JS:         var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    
DEBUG:root:embed_head called
INFO:root:200 GET /q/embed (127.0.0.1)
DEBUG:root:get EmbedHandler
DEBUG:root:to_unicode
DEBUG:root:embed_content
DEBUG:root:embed_content
DEBUG:root:to_unicode
DEBUG:root:action: embed_content 
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:set_table has key/secret
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = %s and `secret`= %s
        
DEBUG:root:escape_sql args: [u'12345', u'54321']
DEBUG:root:
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = '12345' and `secret`= '54321'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x103b6c7d0>
DEBUG:root:returning True from authencticate.
DEBUG:root:set_table authenticated
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x103b6c9d0>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has key/secret
DEBUG:root:returning `True` from authenticate cached.
DEBUG:root:set_table authenticated
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x103b6cbd0>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x103b6cdd0>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x103b72050>
DEBUG:root:qoorate preferences: {
    "THEME": "grid",
    "EMBED_CONF_JS": "
        var qoorateConfig = {
            QOORATE_URI: 'http://localhost',
            QOORATE_API_URI: 'http://localhost/q',
            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',
            XHR_PROXY_URI: '/q/feed',
            XHR_UPLOAD_URI: '/q/uploader',
            POST_MAX_LEN: 1000,
            PARENT_PAGE_SIZE: 10,
            CHILD_PAGE_SIZE: 10,
            AUTO_SCROLL: 1,
            THEME: 'grid',
            GRID_COLUMNS: 3,
            GRID_COLUMN_TRIM: 15,
            GRID_ROW_TRIM: 15
        };
        var qoorateLang = {
            FLAG_SUCCESS: 'Thanks for flagging this!',
            SHARE_SUCCESS: 'Thank you for sharing!',
            DELETE_SUCCESS: 'Thank you. This item has been deleted.',
            SIGNIN: 'Sign in using',
            SIGNEDIN: 'Signed in via',    
            OK: 'OK',
            CANCEL: 'Cancel',
            LOGOUT: 'Log Out',
            TOGGLE_ON: '+',
            TOGGLE_OFF: '-',
            CONTRIBUTION: 'Contribution',
            CONTRIBUTIONS: 'Contributions',
            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',
            REMOVE: 'Remove',
            LINK: 'Insert a link',
            TOPIC_COMMENT: 'Pose a Yes/No Question',
            COMMENT: 'Your Comment',
            IMAGE_COMMENT: 'Image Caption',
            POST_TO: 'Post to',
            POST_ANONYMOUS: 'Post anonymously',
            NICKNAME: 'Post as ',
            DEFAULT_NICKNAME: 'Anonymous',
            REPLY_LINK_COMMENT: 'Say something about your link',
            SHARE_COMMENT: 'comment about this share...',
            PUBLISH_BUTTON: 'Publish',
            POST_BUTTON: 'Post',
            POST_TO_BUTTON: 'Post To',
            REPLY_BUTTON: 'Reply',
            SHARE_BUTTON: 'Share',
            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',
            SELECT_IMAGE: 'Select an Image',
            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',
            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],
            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],
            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]
        };
    "
}

DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:preferences EMBED_CONF_JS:         var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    
DEBUG:root:embed_content called (key,secret): (12345,54321)
DEBUG:root:returning `True` from authenticate cached.
DEBUG:root:get_content_context
DEBUG:root:table: q_brooklyncode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:init_db_conn
DEBUG:root:NOT creating db_conn
DEBUG:root:1
DEBUG:root:5
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT f.`parent_sequence` , f.`child_sequence` , f.`id` , f.`locationId` , f.`relatedId`,
                f.`parentId` , f.`userId` , `u`.`username`, u.`thumbnailLarge` as userThumbnailLarge,
                ur.`username` as relatedUsername, ur.`thumbnailLarge` as relatedUserThumbnailLarge, f.`type`,
                f.`is_anonymous` , r.`is_anonymous` as `related_is_anonymous`, f.`name` , f.`location` ,f.`description`,f.`referer`,
                f.`voteCount` , f.`voteNumber` , f.`votesUp` ,f.`votesDown` , f.`flagCount`,  f.`childCount`, f.`sortOrder` , f.`status`,
                f.`thumbnailSmall` ,f.`thumbnailLarge` , f.`changeDate` , f.`createDate`, f.`nickname`, r.`nickname` as `related_nickname`
            FROM (
                # this query adds the sequence fields to filter by for paging
                SELECT  s1.*, @parentrownum := convert( IF( ( parentId = 0), @parentrownum +1, @parentrownum ), UNSIGNED INTEGER) AS parent_sequence,
                @childrownum := IF( ( @lastparent = parentId), @childrownum + 1, 0 ) AS child_sequence,
                @lastparent := if( parentId=0, id, parentId ) AS dummy_used_for_last_parent
                FROM
                    # QUERY 2: this query sorts the results properly
                    (SELECT s0.* FROM
                        # QUERY 1: This query gets the results we need with calculated fields to sort by
                        # We should probably have these fields in the database so they are indexed
                        (SELECT
                        CONVERT( if( parentId = 0, @parentVoteNumber:=voteNumber,
                            @parentVoteNumber ), SIGNED INTEGER ) as groupVoteNumber,          # Will order groups using parent voteNumber
                        CONVERT( if( parentId = 0, @parentVoteCount:=voteCount,
                            @parentVoteCount ), SIGNED INTEGER ) as groupVoteCount,            # Will order groups using parent voteCount
                        CONVERT( if( parentId = 0, @parentCreateDate:=createDate,
                            @parentCreateDate ), DATETIME ) as groupCreateDate,                # Will order groups using parent createDate
                        CONVERT( if(parentId=0, id, parentId), UNSIGNED INTEGER) as groupId,   # will order groups together
                        CONVERT( if(parentId = 0, 0, 1), UNSIGNED INTEGER) as isChild,         # will order parent first in group
                        r.*
                        FROM (
                            # this just makes sure our groups are grouped in parent child order
                            SELECT * from q_brooklyncode o  WHERE o.location = '5e13bbb73127b9fc424e3728c6500f28' ORDER BY
                             if( o.relatedId = 0, o.id, o.relatedId),
                             if( o.relatedId = 0, 0, o.id )
                            ) r,
                        ( SELECT @parentVoteNumber := 0 ) pvn,
                        ( SELECT @parentVoteCount  := 0 ) pvc,
                        ( SELECT @parentCreateDate := 0 ) pcd
                         WHERE location = '5e13bbb73127b9fc424e3728c6500f28' 
                    ) s0
                    
                    
                    ORDER BY
                    
                s0.groupVoteNumber DESC,
                s0.groupVoteCount DESC,
                s0.groupCreateDate ASC,
                 
                    groupId  ASC, # first order by group
                    isChild ASC, # Then make sure the parent is first
                    
                s0.voteNumber DESC,
                s0.voteCount DESC,
                s0.createDate ASC
                
            ) s1,
            ( SELECT @parentrownum := 0 ) pr,
            ( SELECT @childrownum := 0 ) cr, 
            ( SELECT @lastparent := -1 ) lp) f
            LEFT JOIN user u on u.id = f.userId
            LEFT JOIN q_brooklyncode r on r.id = f.relatedId
            LEFT JOIN user ur on ur.id = r.userId
            WHERE
            ((0 = 6 and parent_sequence >= 1) or parent_sequence BETWEEN 1 AND 6)
            AND
            ((0 = 6 and child_sequence >= 1) or (child_sequence=0 or child_sequence BETWEEN 1 AND 6))
        
DEBUG:root:escape_sql args: None
DEBUG:root:
            SELECT f.`parent_sequence` , f.`child_sequence` , f.`id` , f.`locationId` , f.`relatedId`,
                f.`parentId` , f.`userId` , `u`.`username`, u.`thumbnailLarge` as userThumbnailLarge,
                ur.`username` as relatedUsername, ur.`thumbnailLarge` as relatedUserThumbnailLarge, f.`type`,
                f.`is_anonymous` , r.`is_anonymous` as `related_is_anonymous`, f.`name` , f.`location` ,f.`description`,f.`referer`,
                f.`voteCount` , f.`voteNumber` , f.`votesUp` ,f.`votesDown` , f.`flagCount`,  f.`childCount`, f.`sortOrder` , f.`status`,
                f.`thumbnailSmall` ,f.`thumbnailLarge` , f.`changeDate` , f.`createDate`, f.`nickname`, r.`nickname` as `related_nickname`
            FROM (
                # this query adds the sequence fields to filter by for paging
                SELECT  s1.*, @parentrownum := convert( IF( ( parentId = 0), @parentrownum +1, @parentrownum ), UNSIGNED INTEGER) AS parent_sequence,
                @childrownum := IF( ( @lastparent = parentId), @childrownum + 1, 0 ) AS child_sequence,
                @lastparent := if( parentId=0, id, parentId ) AS dummy_used_for_last_parent
                FROM
                    # QUERY 2: this query sorts the results properly
                    (SELECT s0.* FROM
                        # QUERY 1: This query gets the results we need with calculated fields to sort by
                        # We should probably have these fields in the database so they are indexed
                        (SELECT
                        CONVERT( if( parentId = 0, @parentVoteNumber:=voteNumber,
                            @parentVoteNumber ), SIGNED INTEGER ) as groupVoteNumber,          # Will order groups using parent voteNumber
                        CONVERT( if( parentId = 0, @parentVoteCount:=voteCount,
                            @parentVoteCount ), SIGNED INTEGER ) as groupVoteCount,            # Will order groups using parent voteCount
                        CONVERT( if( parentId = 0, @parentCreateDate:=createDate,
                            @parentCreateDate ), DATETIME ) as groupCreateDate,                # Will order groups using parent createDate
                        CONVERT( if(parentId=0, id, parentId), UNSIGNED INTEGER) as groupId,   # will order groups together
                        CONVERT( if(parentId = 0, 0, 1), UNSIGNED INTEGER) as isChild,         # will order parent first in group
                        r.*
                        FROM (
                            # this just makes sure our groups are grouped in parent child order
                            SELECT * from q_brooklyncode o  WHERE o.location = '5e13bbb73127b9fc424e3728c6500f28' ORDER BY
                             if( o.relatedId = 0, o.id, o.relatedId),
                             if( o.relatedId = 0, 0, o.id )
                            ) r,
                        ( SELECT @parentVoteNumber := 0 ) pvn,
                        ( SELECT @parentVoteCount  := 0 ) pvc,
                        ( SELECT @parentCreateDate := 0 ) pcd
                         WHERE location = '5e13bbb73127b9fc424e3728c6500f28' 
                    ) s0
                    
                    
                    ORDER BY
                    
                s0.groupVoteNumber DESC,
                s0.groupVoteCount DESC,
                s0.groupCreateDate ASC,
                 
                    groupId  ASC, # first order by group
                    isChild ASC, # Then make sure the parent is first
                    
                s0.voteNumber DESC,
                s0.voteCount DESC,
                s0.createDate ASC
                
            ) s1,
            ( SELECT @parentrownum := 0 ) pr,
            ( SELECT @childrownum := 0 ) cr, 
            ( SELECT @lastparent := -1 ) lp) f
            LEFT JOIN user u on u.id = f.userId
            LEFT JOIN q_brooklyncode r on r.id = f.relatedId
            LEFT JOIN user ur on ur.id = r.userId
            WHERE
            ((0 = 6 and parent_sequence >= 1) or parent_sequence BETWEEN 1 AND 6)
            AND
            ((0 = 6 and child_sequence >= 1) or (child_sequence=0 or child_sequence BETWEEN 1 AND 6))
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x103b60f90>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = %s
        
DEBUG:root:escape_sql args: [1L]
DEBUG:root:
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = 1
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x103b6c050>
DEBUG:root:dictlist: {u'itemId': 1L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'1fe8a631d5522d10e2cf2e4fabedc90b', u'id': 1L}
DEBUG:root:dictItem: {u'itemId': 1L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'1fe8a631d5522d10e2cf2e4fabedc90b', u'id': 1L}
DEBUG:root:items: [<Image: Image object>]
DEBUG:root:im: [<Image: Image object>]
DEBUG:root:comment.images: []
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = %s
        
DEBUG:root:escape_sql args: [2L]
DEBUG:root:
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = 2
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x103b6c250>
DEBUG:root:dictlist: {u'itemId': 2L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'cfbb12022f81667e3c2746e3c80b2e1e', u'id': 2L}
DEBUG:root:dictItem: {u'itemId': 2L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'cfbb12022f81667e3c2746e3c80b2e1e', u'id': 2L}
DEBUG:root:items: [<Image: Image object>]
DEBUG:root:im: [<Image: Image object>]
DEBUG:root:comment.images: []
DEBUG:root:Number of comments returned: 2
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:escape_sql args: []
DEBUG:root:
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x103b6c3d0>
DEBUG:root:Number of contributions 2
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x103b6c5d0>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x103b6c7d0>
DEBUG:root:to_unicode
DEBUG:root:embed_content
DEBUG:root:embed_content
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:embed_content
DEBUG:root:embed_content
DEBUG:root:to_unicode
INFO:root:200 GET /q/embed (127.0.0.1)
Mon, 29 Jul 2013 00:45:15 GMT [ERROR] (errno: No such file or directory) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 00:45:15 GMT [ERROR] (errno: None) Failed to create target for route /q/static/
Mon, 29 Jul 2013 00:45:15 GMT [ERROR] (errno: None) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 00:45:15 GMT [ERROR] (errno: None) Failed to create target for route /q/robots.txt
Mon, 29 Jul 2013 00:45:15 GMT [ERROR] (errno: None) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 00:45:15 GMT [ERROR] (errno: None) Failed to create target for route /q/favicon.ico
Mon, 29 Jul 2013 00:45:15 GMT [INFO] (src/mime.c:49) MAX limits.mime_ext_len=128
Mon, 29 Jul 2013 00:45:15 GMT [INFO] (src/host.c:74) MAX limits.url_path=256, limits.host_name=256
Mon, 29 Jul 2013 00:45:15 GMT [INFO] (src/config/config.c:109) Loaded proxy 1:127.0.0.1:8081
Mon, 29 Jul 2013 00:45:15 GMT [INFO] (src/config/config.c:227) Loaded route 1:/:proxy for host 1:localhost
Mon, 29 Jul 2013 00:45:15 GMT [INFO] (src/handler.c:343) MAX limits.handler_stack=102400
Mon, 29 Jul 2013 00:45:15 GMT [INFO] (src/config/config.c:85) Loaded handler 1:ipc://run/qoorateserver/mongrel2_send:137b789e-b7eb-475a-8d5c-b16ab54493yu:ipc://run/qoorateserver/mongrel2_rcv:
Mon, 29 Jul 2013 00:45:15 GMT [INFO] (src/config/config.c:227) Loaded route 2:/q/:handler for host 1:localhost
Mon, 29 Jul 2013 00:45:15 GMT [INFO] (src/dir.c:195) MAX limits.dir_send_buffer=16384, limits.dir_max_path=256
Mon, 29 Jul 2013 00:45:15 GMT [INFO] (src/config/config.c:136) Loaded directory 1:static/qoorateserver/js/:index.html
Mon, 29 Jul 2013 00:45:15 GMT [INFO] (src/config/config.c:227) Loaded route 3:/q/js/:dir for host 1:localhost
Mon, 29 Jul 2013 00:45:15 GMT [INFO] (src/config/config.c:136) Loaded directory 2:static/qoorateserver/css/:index.html
Mon, 29 Jul 2013 00:45:15 GMT [INFO] (src/config/config.c:227) Loaded route 4:/q/css/:dir for host 1:localhost
Mon, 29 Jul 2013 00:45:15 GMT [INFO] (src/config/config.c:136) Loaded directory 3:static/qoorateserver/img/:index.html
Mon, 29 Jul 2013 00:45:15 GMT [INFO] (src/config/config.c:227) Loaded route 5:/q/img/:dir for host 1:localhost
Mon, 29 Jul 2013 00:45:15 GMT [INFO] (src/config/config.c:312) Loaded 1 hosts for server 1:fe76e442-da24-4708-b0ef-c4ahr2b7d131
Mon, 29 Jul 2013 00:45:15 GMT [INFO] (src/server.c:445) LOADING Handler ipc://run/qoorateserver/mongrel2_send
Mon, 29 Jul 2013 00:45:15 GMT [ERROR] (src/unixy.c:99: errno: No such file or directory) Failed to open PID file ../run/mongrel2.pid for reading.
Mon, 29 Jul 2013 00:45:15 GMT [INFO] (src/unixy.c:137) No previous mongrel2 running, continuing on.
Mon, 29 Jul 2013 00:45:15 GMT [INFO] (src/mongrel2.c:223) All loaded up, time to turn into a server.
Mon, 29 Jul 2013 00:45:15 GMT [INFO] (src/mongrel2.c:224) -- Starting Mongrel2/1.8.1. Copyright (C) Zed A. Shaw. Licensed BSD.

Mon, 29 Jul 2013 00:45:15 GMT [INFO] (src/mongrel2.c:225) -- Look in logs/error.log for startup messages and errors.
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
INFO:root:Using project directory: .
DEBUG:root:loading settings from ./conf/uploader/settings.py
INFO:root:Using coroutine library: gevent
DEBUG:root:******** START _service_registration *********
DEBUG:root:service_registration_passphrase: 137b789e-b7eb-475a-8d5a-b16ab544yurp
DEBUG:root:service_id: uploader
DEBUG:root:service_registration_addr: ipc://run/uploader/brubeck_svc_registration
DEBUG:root:service_passphrase: 137b789e-b7eb-475a-8d5a-b16ab544yurp
DEBUG:root:service_addr: ipc://run/uploader/brubeck_svc
DEBUG:root:service_response_addr: ipc://run/uploader/brubeck_svc_response
DEBUG:root:service_heartbeat_addr: None
DEBUG:root:service_heartbeat_timeout: 5
DEBUG:root:sender_id: 04f9f97a750f4ec18043a06266016e6a
DEBUG:root:is_reregistration: 0
DEBUG:root:service_heartbeat_interval: 3
DEBUG:root:******** END _service_registration *********
DEBUG:root:register_service: (service_registration_addr, service_registration_passphrase,service_heartbeat_timeout,sender_id): (ipc://run/uploader/brubeck_svc_registration,137b789e-b7eb-475a-8d5a-b16ab544yurp, 5, 04f9f97a750f4ec18043a06266016e6a)
DEBUG:root:service_registration sending request
DEBUG:root:service_registration waiting for response
INFO:root:Using project directory: .
DEBUG:root:loading settings from ./conf/qoorateserver/development.py
INFO:root:Using coroutine library: gevent
DEBUG:root:creating application db_conn pool
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:get EmbedHandler
DEBUG:root:to_unicode
DEBUG:root:embed_head
DEBUG:root:embed_head
DEBUG:root:to_unicode
DEBUG:root:action: embed_head 
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:set_table has key/secret
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = %s and `secret`= %s
        
DEBUG:root:escape_sql args: [u'12345', u'54321']
DEBUG:root:
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = '12345' and `secret`= '54321'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10bfaef90>
DEBUG:root:returning True from authencticate.
DEBUG:root:set_table authenticated
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10bfba050>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has key/secret
DEBUG:root:returning `True` from authenticate cached.
DEBUG:root:set_table authenticated
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10bfba250>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10bfba3d0>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10bfba5d0>
DEBUG:root:qoorate preferences: {
    "THEME": "grid",
    "EMBED_CONF_JS": "
        var qoorateConfig = {
            QOORATE_URI: 'http://localhost',
            QOORATE_API_URI: 'http://localhost/q',
            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',
            XHR_PROXY_URI: '/q/feed',
            XHR_UPLOAD_URI: '/q/uploader',
            POST_MAX_LEN: 1000,
            PARENT_PAGE_SIZE: 10,
            CHILD_PAGE_SIZE: 10,
            AUTO_SCROLL: 1,
            THEME: 'grid',
            GRID_COLUMNS: 3,
            GRID_COLUMN_TRIM: 15,
            GRID_ROW_TRIM: 15
        };
        var qoorateLang = {
            FLAG_SUCCESS: 'Thanks for flagging this!',
            SHARE_SUCCESS: 'Thank you for sharing!',
            DELETE_SUCCESS: 'Thank you. This item has been deleted.',
            SIGNIN: 'Sign in using',
            SIGNEDIN: 'Signed in via',    
            OK: 'OK',
            CANCEL: 'Cancel',
            LOGOUT: 'Log Out',
            TOGGLE_ON: '+',
            TOGGLE_OFF: '-',
            CONTRIBUTION: 'Contribution',
            CONTRIBUTIONS: 'Contributions',
            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',
            REMOVE: 'Remove',
            LINK: 'Insert a link',
            TOPIC_COMMENT: 'Pose a Yes/No Question',
            COMMENT: 'Your Comment',
            IMAGE_COMMENT: 'Image Caption',
            POST_TO: 'Post to',
            POST_ANONYMOUS: 'Post anonymously',
            NICKNAME: 'Post as ',
            DEFAULT_NICKNAME: 'Anonymous',
            REPLY_LINK_COMMENT: 'Say something about your link',
            SHARE_COMMENT: 'comment about this share...',
            PUBLISH_BUTTON: 'Publish',
            POST_BUTTON: 'Post',
            POST_TO_BUTTON: 'Post To',
            REPLY_BUTTON: 'Reply',
            SHARE_BUTTON: 'Share',
            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',
            SELECT_IMAGE: 'Select an Image',
            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',
            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],
            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],
            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]
        };
    "
}

DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:preferences EMBED_CONF_JS:         var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    
DEBUG:root:embed_head called
INFO:root:200 GET /q/embed (127.0.0.1)
DEBUG:root:get EmbedHandler
DEBUG:root:to_unicode
DEBUG:root:embed_content
DEBUG:root:embed_content
DEBUG:root:to_unicode
DEBUG:root:action: embed_content 
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:set_table has key/secret
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = %s and `secret`= %s
        
DEBUG:root:escape_sql args: [u'12345', u'54321']
DEBUG:root:
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = '12345' and `secret`= '54321'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10bfba7d0>
DEBUG:root:returning True from authencticate.
DEBUG:root:set_table authenticated
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10bfba9d0>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has key/secret
DEBUG:root:returning `True` from authenticate cached.
DEBUG:root:set_table authenticated
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10bfbabd0>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10bfbadd0>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10bfc0050>
DEBUG:root:qoorate preferences: {
    "THEME": "grid",
    "EMBED_CONF_JS": "
        var qoorateConfig = {
            QOORATE_URI: 'http://localhost',
            QOORATE_API_URI: 'http://localhost/q',
            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',
            XHR_PROXY_URI: '/q/feed',
            XHR_UPLOAD_URI: '/q/uploader',
            POST_MAX_LEN: 1000,
            PARENT_PAGE_SIZE: 10,
            CHILD_PAGE_SIZE: 10,
            AUTO_SCROLL: 1,
            THEME: 'grid',
            GRID_COLUMNS: 3,
            GRID_COLUMN_TRIM: 15,
            GRID_ROW_TRIM: 15
        };
        var qoorateLang = {
            FLAG_SUCCESS: 'Thanks for flagging this!',
            SHARE_SUCCESS: 'Thank you for sharing!',
            DELETE_SUCCESS: 'Thank you. This item has been deleted.',
            SIGNIN: 'Sign in using',
            SIGNEDIN: 'Signed in via',    
            OK: 'OK',
            CANCEL: 'Cancel',
            LOGOUT: 'Log Out',
            TOGGLE_ON: '+',
            TOGGLE_OFF: '-',
            CONTRIBUTION: 'Contribution',
            CONTRIBUTIONS: 'Contributions',
            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',
            REMOVE: 'Remove',
            LINK: 'Insert a link',
            TOPIC_COMMENT: 'Pose a Yes/No Question',
            COMMENT: 'Your Comment',
            IMAGE_COMMENT: 'Image Caption',
            POST_TO: 'Post to',
            POST_ANONYMOUS: 'Post anonymously',
            NICKNAME: 'Post as ',
            DEFAULT_NICKNAME: 'Anonymous',
            REPLY_LINK_COMMENT: 'Say something about your link',
            SHARE_COMMENT: 'comment about this share...',
            PUBLISH_BUTTON: 'Publish',
            POST_BUTTON: 'Post',
            POST_TO_BUTTON: 'Post To',
            REPLY_BUTTON: 'Reply',
            SHARE_BUTTON: 'Share',
            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',
            SELECT_IMAGE: 'Select an Image',
            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',
            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],
            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],
            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]
        };
    "
}

DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:preferences EMBED_CONF_JS:         var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    
DEBUG:root:embed_content called (key,secret): (12345,54321)
DEBUG:root:returning `True` from authenticate cached.
DEBUG:root:get_content_context
DEBUG:root:table: q_brooklyncode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:init_db_conn
DEBUG:root:NOT creating db_conn
DEBUG:root:1
DEBUG:root:5
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT f.`parent_sequence` , f.`child_sequence` , f.`id` , f.`locationId` , f.`relatedId`,
                f.`parentId` , f.`userId` , `u`.`username`, u.`thumbnailLarge` as userThumbnailLarge,
                ur.`username` as relatedUsername, ur.`thumbnailLarge` as relatedUserThumbnailLarge, f.`type`,
                f.`is_anonymous` , r.`is_anonymous` as `related_is_anonymous`, f.`name` , f.`location` ,f.`description`,f.`referer`,
                f.`voteCount` , f.`voteNumber` , f.`votesUp` ,f.`votesDown` , f.`flagCount`,  f.`childCount`, f.`sortOrder` , f.`status`,
                f.`thumbnailSmall` ,f.`thumbnailLarge` , f.`changeDate` , f.`createDate`, f.`nickname`, r.`nickname` as `related_nickname`
            FROM (
                # this query adds the sequence fields to filter by for paging
                SELECT  s1.*, @parentrownum := convert( IF( ( parentId = 0), @parentrownum +1, @parentrownum ), UNSIGNED INTEGER) AS parent_sequence,
                @childrownum := IF( ( @lastparent = parentId), @childrownum + 1, 0 ) AS child_sequence,
                @lastparent := if( parentId=0, id, parentId ) AS dummy_used_for_last_parent
                FROM
                    # QUERY 2: this query sorts the results properly
                    (SELECT s0.* FROM
                        # QUERY 1: This query gets the results we need with calculated fields to sort by
                        # We should probably have these fields in the database so they are indexed
                        (SELECT
                        CONVERT( if( parentId = 0, @parentVoteNumber:=voteNumber,
                            @parentVoteNumber ), SIGNED INTEGER ) as groupVoteNumber,          # Will order groups using parent voteNumber
                        CONVERT( if( parentId = 0, @parentVoteCount:=voteCount,
                            @parentVoteCount ), SIGNED INTEGER ) as groupVoteCount,            # Will order groups using parent voteCount
                        CONVERT( if( parentId = 0, @parentCreateDate:=createDate,
                            @parentCreateDate ), DATETIME ) as groupCreateDate,                # Will order groups using parent createDate
                        CONVERT( if(parentId=0, id, parentId), UNSIGNED INTEGER) as groupId,   # will order groups together
                        CONVERT( if(parentId = 0, 0, 1), UNSIGNED INTEGER) as isChild,         # will order parent first in group
                        r.*
                        FROM (
                            # this just makes sure our groups are grouped in parent child order
                            SELECT * from q_brooklyncode o  WHERE o.location = '5e13bbb73127b9fc424e3728c6500f28' ORDER BY
                             if( o.relatedId = 0, o.id, o.relatedId),
                             if( o.relatedId = 0, 0, o.id )
                            ) r,
                        ( SELECT @parentVoteNumber := 0 ) pvn,
                        ( SELECT @parentVoteCount  := 0 ) pvc,
                        ( SELECT @parentCreateDate := 0 ) pcd
                         WHERE location = '5e13bbb73127b9fc424e3728c6500f28' 
                    ) s0
                    
                    
                    ORDER BY
                    
                s0.groupVoteNumber DESC,
                s0.groupVoteCount DESC,
                s0.groupCreateDate ASC,
                 
                    groupId  ASC, # first order by group
                    isChild ASC, # Then make sure the parent is first
                    
                s0.voteNumber DESC,
                s0.voteCount DESC,
                s0.createDate ASC
                
            ) s1,
            ( SELECT @parentrownum := 0 ) pr,
            ( SELECT @childrownum := 0 ) cr, 
            ( SELECT @lastparent := -1 ) lp) f
            LEFT JOIN user u on u.id = f.userId
            LEFT JOIN q_brooklyncode r on r.id = f.relatedId
            LEFT JOIN user ur on ur.id = r.userId
            WHERE
            ((0 = 6 and parent_sequence >= 1) or parent_sequence BETWEEN 1 AND 6)
            AND
            ((0 = 6 and child_sequence >= 1) or (child_sequence=0 or child_sequence BETWEEN 1 AND 6))
        
DEBUG:root:escape_sql args: None
DEBUG:root:
            SELECT f.`parent_sequence` , f.`child_sequence` , f.`id` , f.`locationId` , f.`relatedId`,
                f.`parentId` , f.`userId` , `u`.`username`, u.`thumbnailLarge` as userThumbnailLarge,
                ur.`username` as relatedUsername, ur.`thumbnailLarge` as relatedUserThumbnailLarge, f.`type`,
                f.`is_anonymous` , r.`is_anonymous` as `related_is_anonymous`, f.`name` , f.`location` ,f.`description`,f.`referer`,
                f.`voteCount` , f.`voteNumber` , f.`votesUp` ,f.`votesDown` , f.`flagCount`,  f.`childCount`, f.`sortOrder` , f.`status`,
                f.`thumbnailSmall` ,f.`thumbnailLarge` , f.`changeDate` , f.`createDate`, f.`nickname`, r.`nickname` as `related_nickname`
            FROM (
                # this query adds the sequence fields to filter by for paging
                SELECT  s1.*, @parentrownum := convert( IF( ( parentId = 0), @parentrownum +1, @parentrownum ), UNSIGNED INTEGER) AS parent_sequence,
                @childrownum := IF( ( @lastparent = parentId), @childrownum + 1, 0 ) AS child_sequence,
                @lastparent := if( parentId=0, id, parentId ) AS dummy_used_for_last_parent
                FROM
                    # QUERY 2: this query sorts the results properly
                    (SELECT s0.* FROM
                        # QUERY 1: This query gets the results we need with calculated fields to sort by
                        # We should probably have these fields in the database so they are indexed
                        (SELECT
                        CONVERT( if( parentId = 0, @parentVoteNumber:=voteNumber,
                            @parentVoteNumber ), SIGNED INTEGER ) as groupVoteNumber,          # Will order groups using parent voteNumber
                        CONVERT( if( parentId = 0, @parentVoteCount:=voteCount,
                            @parentVoteCount ), SIGNED INTEGER ) as groupVoteCount,            # Will order groups using parent voteCount
                        CONVERT( if( parentId = 0, @parentCreateDate:=createDate,
                            @parentCreateDate ), DATETIME ) as groupCreateDate,                # Will order groups using parent createDate
                        CONVERT( if(parentId=0, id, parentId), UNSIGNED INTEGER) as groupId,   # will order groups together
                        CONVERT( if(parentId = 0, 0, 1), UNSIGNED INTEGER) as isChild,         # will order parent first in group
                        r.*
                        FROM (
                            # this just makes sure our groups are grouped in parent child order
                            SELECT * from q_brooklyncode o  WHERE o.location = '5e13bbb73127b9fc424e3728c6500f28' ORDER BY
                             if( o.relatedId = 0, o.id, o.relatedId),
                             if( o.relatedId = 0, 0, o.id )
                            ) r,
                        ( SELECT @parentVoteNumber := 0 ) pvn,
                        ( SELECT @parentVoteCount  := 0 ) pvc,
                        ( SELECT @parentCreateDate := 0 ) pcd
                         WHERE location = '5e13bbb73127b9fc424e3728c6500f28' 
                    ) s0
                    
                    
                    ORDER BY
                    
                s0.groupVoteNumber DESC,
                s0.groupVoteCount DESC,
                s0.groupCreateDate ASC,
                 
                    groupId  ASC, # first order by group
                    isChild ASC, # Then make sure the parent is first
                    
                s0.voteNumber DESC,
                s0.voteCount DESC,
                s0.createDate ASC
                
            ) s1,
            ( SELECT @parentrownum := 0 ) pr,
            ( SELECT @childrownum := 0 ) cr, 
            ( SELECT @lastparent := -1 ) lp) f
            LEFT JOIN user u on u.id = f.userId
            LEFT JOIN q_brooklyncode r on r.id = f.relatedId
            LEFT JOIN user ur on ur.id = r.userId
            WHERE
            ((0 = 6 and parent_sequence >= 1) or parent_sequence BETWEEN 1 AND 6)
            AND
            ((0 = 6 and child_sequence >= 1) or (child_sequence=0 or child_sequence BETWEEN 1 AND 6))
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10bfaef90>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = %s
        
DEBUG:root:escape_sql args: [1L]
DEBUG:root:
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = 1
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10bfba050>
DEBUG:root:dictlist: {u'itemId': 1L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'1fe8a631d5522d10e2cf2e4fabedc90b', u'id': 1L}
DEBUG:root:dictItem: {u'itemId': 1L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'1fe8a631d5522d10e2cf2e4fabedc90b', u'id': 1L}
DEBUG:root:items: [<Image: Image object>]
DEBUG:root:im: [<Image: Image object>]
ERROR:root:'str' object has no attribute '_fields'
Traceback (most recent call last):
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck-0.4.0-py2.7.egg/brubeck/request_handling.py", line 339, in __call__
    rendered = fun(*self._url_args)
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/embed.py", line 195, in get
    context = self.get_content_context()
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/embed.py", line 129, in get_content_context
    childCount=self.settings['CHILD_PAGE_SIZE'])
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 208, in load_comments_by_table_and_location
    comment.images = im[0]
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/schematics/types/compound.py", line 91, in __set__
    datum_fields = datum._fields.keys()
AttributeError: 'str' object has no attribute '_fields'
INFO:root:500 GET /q/embed (127.0.0.1)
Mon, 29 Jul 2013 00:48:27 GMT [ERROR] (errno: No such file or directory) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 00:48:27 GMT [ERROR] (errno: None) Failed to create target for route /q/static/
Mon, 29 Jul 2013 00:48:27 GMT [ERROR] (errno: None) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 00:48:27 GMT [ERROR] (errno: None) Failed to create target for route /q/robots.txt
Mon, 29 Jul 2013 00:48:27 GMT [ERROR] (errno: None) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 00:48:27 GMT [ERROR] (errno: None) Failed to create target for route /q/favicon.ico
Mon, 29 Jul 2013 00:48:27 GMT [INFO] (src/mime.c:49) MAX limits.mime_ext_len=128
Mon, 29 Jul 2013 00:48:27 GMT [INFO] (src/host.c:74) MAX limits.url_path=256, limits.host_name=256
Mon, 29 Jul 2013 00:48:27 GMT [INFO] (src/config/config.c:109) Loaded proxy 1:127.0.0.1:8081
Mon, 29 Jul 2013 00:48:27 GMT [INFO] (src/config/config.c:227) Loaded route 1:/:proxy for host 1:localhost
Mon, 29 Jul 2013 00:48:27 GMT [INFO] (src/handler.c:343) MAX limits.handler_stack=102400
Mon, 29 Jul 2013 00:48:27 GMT [INFO] (src/config/config.c:85) Loaded handler 1:ipc://run/qoorateserver/mongrel2_send:137b789e-b7eb-475a-8d5c-b16ab54493yu:ipc://run/qoorateserver/mongrel2_rcv:
Mon, 29 Jul 2013 00:48:27 GMT [INFO] (src/config/config.c:227) Loaded route 2:/q/:handler for host 1:localhost
Mon, 29 Jul 2013 00:48:27 GMT [INFO] (src/dir.c:195) MAX limits.dir_send_buffer=16384, limits.dir_max_path=256
Mon, 29 Jul 2013 00:48:27 GMT [INFO] (src/config/config.c:136) Loaded directory 1:static/qoorateserver/js/:index.html
Mon, 29 Jul 2013 00:48:27 GMT [INFO] (src/config/config.c:227) Loaded route 3:/q/js/:dir for host 1:localhost
Mon, 29 Jul 2013 00:48:27 GMT [INFO] (src/config/config.c:136) Loaded directory 2:static/qoorateserver/css/:index.html
Mon, 29 Jul 2013 00:48:27 GMT [INFO] (src/config/config.c:227) Loaded route 4:/q/css/:dir for host 1:localhost
Mon, 29 Jul 2013 00:48:27 GMT [INFO] (src/config/config.c:136) Loaded directory 3:static/qoorateserver/img/:index.html
Mon, 29 Jul 2013 00:48:27 GMT [INFO] (src/config/config.c:227) Loaded route 5:/q/img/:dir for host 1:localhost
Mon, 29 Jul 2013 00:48:27 GMT [INFO] (src/config/config.c:312) Loaded 1 hosts for server 1:fe76e442-da24-4708-b0ef-c4ahr2b7d131
Mon, 29 Jul 2013 00:48:27 GMT [INFO] (src/server.c:445) LOADING Handler ipc://run/qoorateserver/mongrel2_send
Mon, 29 Jul 2013 00:48:27 GMT [ERROR] (src/unixy.c:99: errno: No such file or directory) Failed to open PID file ../run/mongrel2.pid for reading.
Mon, 29 Jul 2013 00:48:27 GMT [INFO] (src/unixy.c:137) No previous mongrel2 running, continuing on.
Mon, 29 Jul 2013 00:48:27 GMT [INFO] (src/mongrel2.c:223) All loaded up, time to turn into a server.
Mon, 29 Jul 2013 00:48:27 GMT [INFO] (src/mongrel2.c:224) -- Starting Mongrel2/1.8.1. Copyright (C) Zed A. Shaw. Licensed BSD.

Mon, 29 Jul 2013 00:48:27 GMT [INFO] (src/mongrel2.c:225) -- Look in logs/error.log for startup messages and errors.
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
INFO:root:Using project directory: .
DEBUG:root:loading settings from ./conf/uploader/settings.py
INFO:root:Using coroutine library: gevent
DEBUG:root:******** START _service_registration *********
DEBUG:root:service_registration_passphrase: 137b789e-b7eb-475a-8d5a-b16ab544yurp
DEBUG:root:service_id: uploader
DEBUG:root:service_registration_addr: ipc://run/uploader/brubeck_svc_registration
DEBUG:root:service_passphrase: 137b789e-b7eb-475a-8d5a-b16ab544yurp
DEBUG:root:service_addr: ipc://run/uploader/brubeck_svc
DEBUG:root:service_response_addr: ipc://run/uploader/brubeck_svc_response
DEBUG:root:service_heartbeat_addr: None
DEBUG:root:service_heartbeat_timeout: 5
DEBUG:root:sender_id: 4d5b446683894ebebe37e9b1d06dfc19
DEBUG:root:is_reregistration: 0
DEBUG:root:service_heartbeat_interval: 3
DEBUG:root:******** END _service_registration *********
DEBUG:root:register_service: (service_registration_addr, service_registration_passphrase,service_heartbeat_timeout,sender_id): (ipc://run/uploader/brubeck_svc_registration,137b789e-b7eb-475a-8d5a-b16ab544yurp, 5, 4d5b446683894ebebe37e9b1d06dfc19)
DEBUG:root:service_registration sending request
DEBUG:root:service_registration waiting for response
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 8, in <module>
    from types import compound as CompoundType
ImportError: cannot import name compound
Exception KeyError: KeyError(4342325648,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 8, in <module>
    from types import compound as CompoundType
ImportError: cannot import name compound
Exception KeyError: KeyError(4379640208,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 8, in <module>
    from types import compound as CompoundType
ImportError: cannot import name compound
Exception KeyError: KeyError(4343116176,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 8, in <module>
    from types import compound as CompoundType
ImportError: cannot import name compound
Exception KeyError: KeyError(4440211856,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 8, in <module>
    from types import compound as CompoundType
ImportError: cannot import name compound
Exception KeyError: KeyError(4371796368,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 8, in <module>
    from types import compound as CompoundType
ImportError: cannot import name compound
Exception KeyError: KeyError(4492571024,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 8, in <module>
    from types import compound as CompoundType
ImportError: cannot import name compound
Exception KeyError: KeyError(4374450576,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from types.compound import ModelType, DictType
ImportError: No module named compound
Exception KeyError: KeyError(4481134992,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from types.compound import ModelType, DictType
ImportError: No module named compound
Exception KeyError: KeyError(4501528976,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
Mon, 29 Jul 2013 00:49:09 GMT [ERROR] (errno: No such file or directory) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 00:49:09 GMT [ERROR] (errno: None) Failed to create target for route /q/static/
Mon, 29 Jul 2013 00:49:09 GMT [ERROR] (errno: None) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 00:49:09 GMT [ERROR] (errno: None) Failed to create target for route /q/robots.txt
Mon, 29 Jul 2013 00:49:09 GMT [ERROR] (errno: None) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 00:49:09 GMT [ERROR] (errno: None) Failed to create target for route /q/favicon.ico
Mon, 29 Jul 2013 00:49:09 GMT [INFO] (src/mime.c:49) MAX limits.mime_ext_len=128
Mon, 29 Jul 2013 00:49:09 GMT [INFO] (src/host.c:74) MAX limits.url_path=256, limits.host_name=256
Mon, 29 Jul 2013 00:49:09 GMT [INFO] (src/config/config.c:109) Loaded proxy 1:127.0.0.1:8081
Mon, 29 Jul 2013 00:49:09 GMT [INFO] (src/config/config.c:227) Loaded route 1:/:proxy for host 1:localhost
Mon, 29 Jul 2013 00:49:09 GMT [INFO] (src/handler.c:343) MAX limits.handler_stack=102400
Mon, 29 Jul 2013 00:49:09 GMT [INFO] (src/config/config.c:85) Loaded handler 1:ipc://run/qoorateserver/mongrel2_send:137b789e-b7eb-475a-8d5c-b16ab54493yu:ipc://run/qoorateserver/mongrel2_rcv:
Mon, 29 Jul 2013 00:49:09 GMT [INFO] (src/config/config.c:227) Loaded route 2:/q/:handler for host 1:localhost
Mon, 29 Jul 2013 00:49:09 GMT [INFO] (src/dir.c:195) MAX limits.dir_send_buffer=16384, limits.dir_max_path=256
Mon, 29 Jul 2013 00:49:09 GMT [INFO] (src/config/config.c:136) Loaded directory 1:static/qoorateserver/js/:index.html
Mon, 29 Jul 2013 00:49:09 GMT [INFO] (src/config/config.c:227) Loaded route 3:/q/js/:dir for host 1:localhost
Mon, 29 Jul 2013 00:49:09 GMT [INFO] (src/config/config.c:136) Loaded directory 2:static/qoorateserver/css/:index.html
Mon, 29 Jul 2013 00:49:09 GMT [INFO] (src/config/config.c:227) Loaded route 4:/q/css/:dir for host 1:localhost
Mon, 29 Jul 2013 00:49:09 GMT [INFO] (src/config/config.c:136) Loaded directory 3:static/qoorateserver/img/:index.html
Mon, 29 Jul 2013 00:49:09 GMT [INFO] (src/config/config.c:227) Loaded route 5:/q/img/:dir for host 1:localhost
Mon, 29 Jul 2013 00:49:09 GMT [INFO] (src/config/config.c:312) Loaded 1 hosts for server 1:fe76e442-da24-4708-b0ef-c4ahr2b7d131
Mon, 29 Jul 2013 00:49:09 GMT [INFO] (src/server.c:445) LOADING Handler ipc://run/qoorateserver/mongrel2_send
Mon, 29 Jul 2013 00:49:09 GMT [ERROR] (src/unixy.c:99: errno: No such file or directory) Failed to open PID file ../run/mongrel2.pid for reading.
Mon, 29 Jul 2013 00:49:09 GMT [INFO] (src/unixy.c:137) No previous mongrel2 running, continuing on.
Mon, 29 Jul 2013 00:49:09 GMT [INFO] (src/mongrel2.c:223) All loaded up, time to turn into a server.
Mon, 29 Jul 2013 00:49:09 GMT [INFO] (src/mongrel2.c:224) -- Starting Mongrel2/1.8.1. Copyright (C) Zed A. Shaw. Licensed BSD.

Mon, 29 Jul 2013 00:49:09 GMT [INFO] (src/mongrel2.c:225) -- Look in logs/error.log for startup messages and errors.
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
INFO:root:Using project directory: .
DEBUG:root:loading settings from ./conf/uploader/settings.py
INFO:root:Using coroutine library: gevent
DEBUG:root:******** START _service_registration *********
DEBUG:root:service_registration_passphrase: 137b789e-b7eb-475a-8d5a-b16ab544yurp
DEBUG:root:service_id: uploader
DEBUG:root:service_registration_addr: ipc://run/uploader/brubeck_svc_registration
DEBUG:root:service_passphrase: 137b789e-b7eb-475a-8d5a-b16ab544yurp
DEBUG:root:service_addr: ipc://run/uploader/brubeck_svc
DEBUG:root:service_response_addr: ipc://run/uploader/brubeck_svc_response
DEBUG:root:service_heartbeat_addr: None
DEBUG:root:service_heartbeat_timeout: 5
DEBUG:root:sender_id: 412c18fd3e644312bb4f5b3275671498
DEBUG:root:is_reregistration: 0
DEBUG:root:service_heartbeat_interval: 3
DEBUG:root:******** END _service_registration *********
DEBUG:root:register_service: (service_registration_addr, service_registration_passphrase,service_heartbeat_timeout,sender_id): (ipc://run/uploader/brubeck_svc_registration,137b789e-b7eb-475a-8d5a-b16ab544yurp, 5, 412c18fd3e644312bb4f5b3275671498)
DEBUG:root:service_registration sending request
DEBUG:root:service_registration waiting for response
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from types.compound import ModelType, DictType
ImportError: No module named compound
Exception KeyError: KeyError(4305293712,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from types.compound import ModelType, DictType
ImportError: No module named compound
Exception KeyError: KeyError(4526391696,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from types.compound import ModelType, DictType
ImportError: No module named compound
Exception KeyError: KeyError(4324925840,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from types.compound import ModelType, DictType
ImportError: No module named compound
Exception KeyError: KeyError(4408889744,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from types.compound import ModelType, DictType
ImportError: No module named compound
Exception KeyError: KeyError(4404699536,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
Traceback (most recent call last):
  File "./apps/qoorateserver/main.py", line 27, in <module>
    from qoorateserver.handlers.feed import FeedHandler
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 29, in <module>
    from qoorateserver.handlers.base import QoorateMixin, admin_role
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 6, in <module>
    from qoorateserver.querysets.querysets import (
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 15, in <module>
    from qoorateserver.models.models import Comment, Image, User, Qoorate, CommentItem, Vote, Flag, FlagType, KeyPair, Qoorate
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/models/models.py", line 11, in <module>
    from types.compound import ModelType, DictType
ImportError: No module named compound
Exception KeyError: KeyError(4539056528,) in <module 'threading' from '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py'> ignored
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
INFO:root:Using project directory: .
DEBUG:root:loading settings from ./conf/qoorateserver/development.py
INFO:root:Using coroutine library: gevent
DEBUG:root:creating application db_conn pool
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
Mon, 29 Jul 2013 00:49:38 GMT [ERROR] (errno: No such file or directory) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 00:49:38 GMT [ERROR] (errno: None) Failed to create target for route /q/static/
Mon, 29 Jul 2013 00:49:38 GMT [ERROR] (errno: None) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 00:49:38 GMT [ERROR] (errno: None) Failed to create target for route /q/robots.txt
Mon, 29 Jul 2013 00:49:38 GMT [ERROR] (errno: None) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 00:49:38 GMT [ERROR] (errno: None) Failed to create target for route /q/favicon.ico
Mon, 29 Jul 2013 00:49:38 GMT [INFO] (src/mime.c:49) MAX limits.mime_ext_len=128
Mon, 29 Jul 2013 00:49:38 GMT [INFO] (src/host.c:74) MAX limits.url_path=256, limits.host_name=256
Mon, 29 Jul 2013 00:49:38 GMT [INFO] (src/config/config.c:109) Loaded proxy 1:127.0.0.1:8081
Mon, 29 Jul 2013 00:49:38 GMT [INFO] (src/config/config.c:227) Loaded route 1:/:proxy for host 1:localhost
Mon, 29 Jul 2013 00:49:38 GMT [INFO] (src/handler.c:343) MAX limits.handler_stack=102400
Mon, 29 Jul 2013 00:49:38 GMT [INFO] (src/config/config.c:85) Loaded handler 1:ipc://run/qoorateserver/mongrel2_send:137b789e-b7eb-475a-8d5c-b16ab54493yu:ipc://run/qoorateserver/mongrel2_rcv:
Mon, 29 Jul 2013 00:49:38 GMT [INFO] (src/config/config.c:227) Loaded route 2:/q/:handler for host 1:localhost
Mon, 29 Jul 2013 00:49:38 GMT [INFO] (src/dir.c:195) MAX limits.dir_send_buffer=16384, limits.dir_max_path=256
Mon, 29 Jul 2013 00:49:38 GMT [INFO] (src/config/config.c:136) Loaded directory 1:static/qoorateserver/js/:index.html
Mon, 29 Jul 2013 00:49:38 GMT [INFO] (src/config/config.c:227) Loaded route 3:/q/js/:dir for host 1:localhost
Mon, 29 Jul 2013 00:49:38 GMT [INFO] (src/config/config.c:136) Loaded directory 2:static/qoorateserver/css/:index.html
Mon, 29 Jul 2013 00:49:38 GMT [INFO] (src/config/config.c:227) Loaded route 4:/q/css/:dir for host 1:localhost
Mon, 29 Jul 2013 00:49:38 GMT [INFO] (src/config/config.c:136) Loaded directory 3:static/qoorateserver/img/:index.html
Mon, 29 Jul 2013 00:49:38 GMT [INFO] (src/config/config.c:227) Loaded route 5:/q/img/:dir for host 1:localhost
Mon, 29 Jul 2013 00:49:38 GMT [INFO] (src/config/config.c:312) Loaded 1 hosts for server 1:fe76e442-da24-4708-b0ef-c4ahr2b7d131
Mon, 29 Jul 2013 00:49:38 GMT [INFO] (src/server.c:445) LOADING Handler ipc://run/qoorateserver/mongrel2_send
Mon, 29 Jul 2013 00:49:38 GMT [ERROR] (src/unixy.c:99: errno: No such file or directory) Failed to open PID file ../run/mongrel2.pid for reading.
Mon, 29 Jul 2013 00:49:38 GMT [INFO] (src/unixy.c:137) No previous mongrel2 running, continuing on.
Mon, 29 Jul 2013 00:49:38 GMT [INFO] (src/mongrel2.c:223) All loaded up, time to turn into a server.
Mon, 29 Jul 2013 00:49:38 GMT [INFO] (src/mongrel2.c:224) -- Starting Mongrel2/1.8.1. Copyright (C) Zed A. Shaw. Licensed BSD.

Mon, 29 Jul 2013 00:49:38 GMT [INFO] (src/mongrel2.c:225) -- Look in logs/error.log for startup messages and errors.
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
INFO:root:Using project directory: .
DEBUG:root:loading settings from ./conf/uploader/settings.py
INFO:root:Using coroutine library: gevent
DEBUG:root:******** START _service_registration *********
DEBUG:root:service_registration_passphrase: 137b789e-b7eb-475a-8d5a-b16ab544yurp
DEBUG:root:service_id: uploader
DEBUG:root:service_registration_addr: ipc://run/uploader/brubeck_svc_registration
DEBUG:root:service_passphrase: 137b789e-b7eb-475a-8d5a-b16ab544yurp
DEBUG:root:service_addr: ipc://run/uploader/brubeck_svc
DEBUG:root:service_response_addr: ipc://run/uploader/brubeck_svc_response
DEBUG:root:service_heartbeat_addr: None
DEBUG:root:service_heartbeat_timeout: 5
DEBUG:root:sender_id: 65490c1cb1ad48b7bc68cd60d24b2bb8
DEBUG:root:is_reregistration: 0
DEBUG:root:service_heartbeat_interval: 3
DEBUG:root:******** END _service_registration *********
DEBUG:root:register_service: (service_registration_addr, service_registration_passphrase,service_heartbeat_timeout,sender_id): (ipc://run/uploader/brubeck_svc_registration,137b789e-b7eb-475a-8d5a-b16ab544yurp, 5, 65490c1cb1ad48b7bc68cd60d24b2bb8)
DEBUG:root:service_registration sending request
DEBUG:root:service_registration waiting for response
INFO:root:Using project directory: .
DEBUG:root:loading settings from ./conf/qoorateserver/development.py
INFO:root:Using coroutine library: gevent
DEBUG:root:creating application db_conn pool
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:get EmbedHandler
DEBUG:root:to_unicode
DEBUG:root:embed_head
DEBUG:root:embed_head
DEBUG:root:to_unicode
DEBUG:root:action: embed_head 
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:set_table has key/secret
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = %s and `secret`= %s
        
DEBUG:root:escape_sql args: [u'12345', u'54321']
DEBUG:root:
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = '12345' and `secret`= '54321'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x109c16190>
DEBUG:root:returning True from authencticate.
DEBUG:root:set_table authenticated
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x109c16210>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has key/secret
DEBUG:root:returning `True` from authenticate cached.
DEBUG:root:set_table authenticated
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x109c16410>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x109c16590>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x109c16790>
DEBUG:root:qoorate preferences: {
    "THEME": "grid",
    "EMBED_CONF_JS": "
        var qoorateConfig = {
            QOORATE_URI: 'http://localhost',
            QOORATE_API_URI: 'http://localhost/q',
            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',
            XHR_PROXY_URI: '/q/feed',
            XHR_UPLOAD_URI: '/q/uploader',
            POST_MAX_LEN: 1000,
            PARENT_PAGE_SIZE: 10,
            CHILD_PAGE_SIZE: 10,
            AUTO_SCROLL: 1,
            THEME: 'grid',
            GRID_COLUMNS: 3,
            GRID_COLUMN_TRIM: 15,
            GRID_ROW_TRIM: 15
        };
        var qoorateLang = {
            FLAG_SUCCESS: 'Thanks for flagging this!',
            SHARE_SUCCESS: 'Thank you for sharing!',
            DELETE_SUCCESS: 'Thank you. This item has been deleted.',
            SIGNIN: 'Sign in using',
            SIGNEDIN: 'Signed in via',    
            OK: 'OK',
            CANCEL: 'Cancel',
            LOGOUT: 'Log Out',
            TOGGLE_ON: '+',
            TOGGLE_OFF: '-',
            CONTRIBUTION: 'Contribution',
            CONTRIBUTIONS: 'Contributions',
            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',
            REMOVE: 'Remove',
            LINK: 'Insert a link',
            TOPIC_COMMENT: 'Pose a Yes/No Question',
            COMMENT: 'Your Comment',
            IMAGE_COMMENT: 'Image Caption',
            POST_TO: 'Post to',
            POST_ANONYMOUS: 'Post anonymously',
            NICKNAME: 'Post as ',
            DEFAULT_NICKNAME: 'Anonymous',
            REPLY_LINK_COMMENT: 'Say something about your link',
            SHARE_COMMENT: 'comment about this share...',
            PUBLISH_BUTTON: 'Publish',
            POST_BUTTON: 'Post',
            POST_TO_BUTTON: 'Post To',
            REPLY_BUTTON: 'Reply',
            SHARE_BUTTON: 'Share',
            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',
            SELECT_IMAGE: 'Select an Image',
            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',
            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],
            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],
            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]
        };
    "
}

DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:preferences EMBED_CONF_JS:         var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    
DEBUG:root:embed_head called
INFO:root:200 GET /q/embed (127.0.0.1)
DEBUG:root:get EmbedHandler
DEBUG:root:to_unicode
DEBUG:root:embed_content
DEBUG:root:embed_content
DEBUG:root:to_unicode
DEBUG:root:action: embed_content 
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:set_table has key/secret
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = %s and `secret`= %s
        
DEBUG:root:escape_sql args: [u'12345', u'54321']
DEBUG:root:
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = '12345' and `secret`= '54321'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x109c16990>
DEBUG:root:returning True from authencticate.
DEBUG:root:set_table authenticated
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x109c16b90>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has key/secret
DEBUG:root:returning `True` from authenticate cached.
DEBUG:root:set_table authenticated
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x109c16d90>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x109c1c050>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x109c1c1d0>
DEBUG:root:qoorate preferences: {
    "THEME": "grid",
    "EMBED_CONF_JS": "
        var qoorateConfig = {
            QOORATE_URI: 'http://localhost',
            QOORATE_API_URI: 'http://localhost/q',
            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',
            XHR_PROXY_URI: '/q/feed',
            XHR_UPLOAD_URI: '/q/uploader',
            POST_MAX_LEN: 1000,
            PARENT_PAGE_SIZE: 10,
            CHILD_PAGE_SIZE: 10,
            AUTO_SCROLL: 1,
            THEME: 'grid',
            GRID_COLUMNS: 3,
            GRID_COLUMN_TRIM: 15,
            GRID_ROW_TRIM: 15
        };
        var qoorateLang = {
            FLAG_SUCCESS: 'Thanks for flagging this!',
            SHARE_SUCCESS: 'Thank you for sharing!',
            DELETE_SUCCESS: 'Thank you. This item has been deleted.',
            SIGNIN: 'Sign in using',
            SIGNEDIN: 'Signed in via',    
            OK: 'OK',
            CANCEL: 'Cancel',
            LOGOUT: 'Log Out',
            TOGGLE_ON: '+',
            TOGGLE_OFF: '-',
            CONTRIBUTION: 'Contribution',
            CONTRIBUTIONS: 'Contributions',
            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',
            REMOVE: 'Remove',
            LINK: 'Insert a link',
            TOPIC_COMMENT: 'Pose a Yes/No Question',
            COMMENT: 'Your Comment',
            IMAGE_COMMENT: 'Image Caption',
            POST_TO: 'Post to',
            POST_ANONYMOUS: 'Post anonymously',
            NICKNAME: 'Post as ',
            DEFAULT_NICKNAME: 'Anonymous',
            REPLY_LINK_COMMENT: 'Say something about your link',
            SHARE_COMMENT: 'comment about this share...',
            PUBLISH_BUTTON: 'Publish',
            POST_BUTTON: 'Post',
            POST_TO_BUTTON: 'Post To',
            REPLY_BUTTON: 'Reply',
            SHARE_BUTTON: 'Share',
            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',
            SELECT_IMAGE: 'Select an Image',
            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',
            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],
            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],
            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]
        };
    "
}

DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:preferences EMBED_CONF_JS:         var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    
DEBUG:root:embed_content called (key,secret): (12345,54321)
DEBUG:root:returning `True` from authenticate cached.
DEBUG:root:get_content_context
DEBUG:root:table: q_brooklyncode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:init_db_conn
DEBUG:root:NOT creating db_conn
DEBUG:root:1
DEBUG:root:5
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT f.`parent_sequence` , f.`child_sequence` , f.`id` , f.`locationId` , f.`relatedId`,
                f.`parentId` , f.`userId` , `u`.`username`, u.`thumbnailLarge` as userThumbnailLarge,
                ur.`username` as relatedUsername, ur.`thumbnailLarge` as relatedUserThumbnailLarge, f.`type`,
                f.`is_anonymous` , r.`is_anonymous` as `related_is_anonymous`, f.`name` , f.`location` ,f.`description`,f.`referer`,
                f.`voteCount` , f.`voteNumber` , f.`votesUp` ,f.`votesDown` , f.`flagCount`,  f.`childCount`, f.`sortOrder` , f.`status`,
                f.`thumbnailSmall` ,f.`thumbnailLarge` , f.`changeDate` , f.`createDate`, f.`nickname`, r.`nickname` as `related_nickname`
            FROM (
                # this query adds the sequence fields to filter by for paging
                SELECT  s1.*, @parentrownum := convert( IF( ( parentId = 0), @parentrownum +1, @parentrownum ), UNSIGNED INTEGER) AS parent_sequence,
                @childrownum := IF( ( @lastparent = parentId), @childrownum + 1, 0 ) AS child_sequence,
                @lastparent := if( parentId=0, id, parentId ) AS dummy_used_for_last_parent
                FROM
                    # QUERY 2: this query sorts the results properly
                    (SELECT s0.* FROM
                        # QUERY 1: This query gets the results we need with calculated fields to sort by
                        # We should probably have these fields in the database so they are indexed
                        (SELECT
                        CONVERT( if( parentId = 0, @parentVoteNumber:=voteNumber,
                            @parentVoteNumber ), SIGNED INTEGER ) as groupVoteNumber,          # Will order groups using parent voteNumber
                        CONVERT( if( parentId = 0, @parentVoteCount:=voteCount,
                            @parentVoteCount ), SIGNED INTEGER ) as groupVoteCount,            # Will order groups using parent voteCount
                        CONVERT( if( parentId = 0, @parentCreateDate:=createDate,
                            @parentCreateDate ), DATETIME ) as groupCreateDate,                # Will order groups using parent createDate
                        CONVERT( if(parentId=0, id, parentId), UNSIGNED INTEGER) as groupId,   # will order groups together
                        CONVERT( if(parentId = 0, 0, 1), UNSIGNED INTEGER) as isChild,         # will order parent first in group
                        r.*
                        FROM (
                            # this just makes sure our groups are grouped in parent child order
                            SELECT * from q_brooklyncode o  WHERE o.location = '5e13bbb73127b9fc424e3728c6500f28' ORDER BY
                             if( o.relatedId = 0, o.id, o.relatedId),
                             if( o.relatedId = 0, 0, o.id )
                            ) r,
                        ( SELECT @parentVoteNumber := 0 ) pvn,
                        ( SELECT @parentVoteCount  := 0 ) pvc,
                        ( SELECT @parentCreateDate := 0 ) pcd
                         WHERE location = '5e13bbb73127b9fc424e3728c6500f28' 
                    ) s0
                    
                    
                    ORDER BY
                    
                s0.groupVoteNumber DESC,
                s0.groupVoteCount DESC,
                s0.groupCreateDate ASC,
                 
                    groupId  ASC, # first order by group
                    isChild ASC, # Then make sure the parent is first
                    
                s0.voteNumber DESC,
                s0.voteCount DESC,
                s0.createDate ASC
                
            ) s1,
            ( SELECT @parentrownum := 0 ) pr,
            ( SELECT @childrownum := 0 ) cr, 
            ( SELECT @lastparent := -1 ) lp) f
            LEFT JOIN user u on u.id = f.userId
            LEFT JOIN q_brooklyncode r on r.id = f.relatedId
            LEFT JOIN user ur on ur.id = r.userId
            WHERE
            ((0 = 6 and parent_sequence >= 1) or parent_sequence BETWEEN 1 AND 6)
            AND
            ((0 = 6 and child_sequence >= 1) or (child_sequence=0 or child_sequence BETWEEN 1 AND 6))
        
DEBUG:root:escape_sql args: None
DEBUG:root:
            SELECT f.`parent_sequence` , f.`child_sequence` , f.`id` , f.`locationId` , f.`relatedId`,
                f.`parentId` , f.`userId` , `u`.`username`, u.`thumbnailLarge` as userThumbnailLarge,
                ur.`username` as relatedUsername, ur.`thumbnailLarge` as relatedUserThumbnailLarge, f.`type`,
                f.`is_anonymous` , r.`is_anonymous` as `related_is_anonymous`, f.`name` , f.`location` ,f.`description`,f.`referer`,
                f.`voteCount` , f.`voteNumber` , f.`votesUp` ,f.`votesDown` , f.`flagCount`,  f.`childCount`, f.`sortOrder` , f.`status`,
                f.`thumbnailSmall` ,f.`thumbnailLarge` , f.`changeDate` , f.`createDate`, f.`nickname`, r.`nickname` as `related_nickname`
            FROM (
                # this query adds the sequence fields to filter by for paging
                SELECT  s1.*, @parentrownum := convert( IF( ( parentId = 0), @parentrownum +1, @parentrownum ), UNSIGNED INTEGER) AS parent_sequence,
                @childrownum := IF( ( @lastparent = parentId), @childrownum + 1, 0 ) AS child_sequence,
                @lastparent := if( parentId=0, id, parentId ) AS dummy_used_for_last_parent
                FROM
                    # QUERY 2: this query sorts the results properly
                    (SELECT s0.* FROM
                        # QUERY 1: This query gets the results we need with calculated fields to sort by
                        # We should probably have these fields in the database so they are indexed
                        (SELECT
                        CONVERT( if( parentId = 0, @parentVoteNumber:=voteNumber,
                            @parentVoteNumber ), SIGNED INTEGER ) as groupVoteNumber,          # Will order groups using parent voteNumber
                        CONVERT( if( parentId = 0, @parentVoteCount:=voteCount,
                            @parentVoteCount ), SIGNED INTEGER ) as groupVoteCount,            # Will order groups using parent voteCount
                        CONVERT( if( parentId = 0, @parentCreateDate:=createDate,
                            @parentCreateDate ), DATETIME ) as groupCreateDate,                # Will order groups using parent createDate
                        CONVERT( if(parentId=0, id, parentId), UNSIGNED INTEGER) as groupId,   # will order groups together
                        CONVERT( if(parentId = 0, 0, 1), UNSIGNED INTEGER) as isChild,         # will order parent first in group
                        r.*
                        FROM (
                            # this just makes sure our groups are grouped in parent child order
                            SELECT * from q_brooklyncode o  WHERE o.location = '5e13bbb73127b9fc424e3728c6500f28' ORDER BY
                             if( o.relatedId = 0, o.id, o.relatedId),
                             if( o.relatedId = 0, 0, o.id )
                            ) r,
                        ( SELECT @parentVoteNumber := 0 ) pvn,
                        ( SELECT @parentVoteCount  := 0 ) pvc,
                        ( SELECT @parentCreateDate := 0 ) pcd
                         WHERE location = '5e13bbb73127b9fc424e3728c6500f28' 
                    ) s0
                    
                    
                    ORDER BY
                    
                s0.groupVoteNumber DESC,
                s0.groupVoteCount DESC,
                s0.groupCreateDate ASC,
                 
                    groupId  ASC, # first order by group
                    isChild ASC, # Then make sure the parent is first
                    
                s0.voteNumber DESC,
                s0.voteCount DESC,
                s0.createDate ASC
                
            ) s1,
            ( SELECT @parentrownum := 0 ) pr,
            ( SELECT @childrownum := 0 ) cr, 
            ( SELECT @lastparent := -1 ) lp) f
            LEFT JOIN user u on u.id = f.userId
            LEFT JOIN q_brooklyncode r on r.id = f.relatedId
            LEFT JOIN user ur on ur.id = r.userId
            WHERE
            ((0 = 6 and parent_sequence >= 1) or parent_sequence BETWEEN 1 AND 6)
            AND
            ((0 = 6 and child_sequence >= 1) or (child_sequence=0 or child_sequence BETWEEN 1 AND 6))
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x109c16190>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = %s
        
DEBUG:root:escape_sql args: [1L]
DEBUG:root:
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = 1
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x109c16210>
DEBUG:root:dictlist: {u'itemId': 1L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'1fe8a631d5522d10e2cf2e4fabedc90b', u'id': 1L}
DEBUG:root:dictItem: {u'itemId': 1L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'1fe8a631d5522d10e2cf2e4fabedc90b', u'id': 1L}
DEBUG:root:items: [<Image: Image object>]
DEBUG:root:im: [<Image: Image object>]
DEBUG:root:comment.images: []
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = %s
        
DEBUG:root:escape_sql args: [2L]
DEBUG:root:
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = 2
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x109c16410>
DEBUG:root:dictlist: {u'itemId': 2L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'cfbb12022f81667e3c2746e3c80b2e1e', u'id': 2L}
DEBUG:root:dictItem: {u'itemId': 2L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'cfbb12022f81667e3c2746e3c80b2e1e', u'id': 2L}
DEBUG:root:items: [<Image: Image object>]
DEBUG:root:im: [<Image: Image object>]
DEBUG:root:comment.images: []
DEBUG:root:Number of comments returned: 2
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:escape_sql args: []
DEBUG:root:
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x109c16590>
DEBUG:root:Number of contributions 2
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x109c16790>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x109c16990>
DEBUG:root:to_unicode
DEBUG:root:embed_content
DEBUG:root:embed_content
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:embed_content
DEBUG:root:embed_content
DEBUG:root:to_unicode
INFO:root:200 GET /q/embed (127.0.0.1)
Mon, 29 Jul 2013 01:14:26 GMT [ERROR] (errno: No such file or directory) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 01:14:26 GMT [ERROR] (errno: None) Failed to create target for route /q/static/
Mon, 29 Jul 2013 01:14:26 GMT [ERROR] (errno: None) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 01:14:26 GMT [ERROR] (errno: None) Failed to create target for route /q/robots.txt
Mon, 29 Jul 2013 01:14:26 GMT [ERROR] (errno: None) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 01:14:26 GMT [ERROR] (errno: None) Failed to create target for route /q/favicon.ico
Mon, 29 Jul 2013 01:14:26 GMT [INFO] (src/mime.c:49) MAX limits.mime_ext_len=128
Mon, 29 Jul 2013 01:14:26 GMT [INFO] (src/host.c:74) MAX limits.url_path=256, limits.host_name=256
Mon, 29 Jul 2013 01:14:26 GMT [INFO] (src/config/config.c:109) Loaded proxy 1:127.0.0.1:8081
Mon, 29 Jul 2013 01:14:26 GMT [INFO] (src/config/config.c:227) Loaded route 1:/:proxy for host 1:localhost
Mon, 29 Jul 2013 01:14:26 GMT [INFO] (src/handler.c:343) MAX limits.handler_stack=102400
Mon, 29 Jul 2013 01:14:26 GMT [INFO] (src/config/config.c:85) Loaded handler 1:ipc://run/qoorateserver/mongrel2_send:137b789e-b7eb-475a-8d5c-b16ab54493yu:ipc://run/qoorateserver/mongrel2_rcv:
Mon, 29 Jul 2013 01:14:26 GMT [INFO] (src/config/config.c:227) Loaded route 2:/q/:handler for host 1:localhost
Mon, 29 Jul 2013 01:14:26 GMT [INFO] (src/dir.c:195) MAX limits.dir_send_buffer=16384, limits.dir_max_path=256
Mon, 29 Jul 2013 01:14:26 GMT [INFO] (src/config/config.c:136) Loaded directory 1:static/qoorateserver/js/:index.html
Mon, 29 Jul 2013 01:14:26 GMT [INFO] (src/config/config.c:227) Loaded route 3:/q/js/:dir for host 1:localhost
Mon, 29 Jul 2013 01:14:26 GMT [INFO] (src/config/config.c:136) Loaded directory 2:static/qoorateserver/css/:index.html
Mon, 29 Jul 2013 01:14:26 GMT [INFO] (src/config/config.c:227) Loaded route 4:/q/css/:dir for host 1:localhost
Mon, 29 Jul 2013 01:14:26 GMT [INFO] (src/config/config.c:136) Loaded directory 3:static/qoorateserver/img/:index.html
Mon, 29 Jul 2013 01:14:26 GMT [INFO] (src/config/config.c:227) Loaded route 5:/q/img/:dir for host 1:localhost
Mon, 29 Jul 2013 01:14:26 GMT [INFO] (src/config/config.c:312) Loaded 1 hosts for server 1:fe76e442-da24-4708-b0ef-c4ahr2b7d131
Mon, 29 Jul 2013 01:14:26 GMT [INFO] (src/server.c:445) LOADING Handler ipc://run/qoorateserver/mongrel2_send
Mon, 29 Jul 2013 01:14:26 GMT [ERROR] (src/unixy.c:99: errno: No such file or directory) Failed to open PID file ../run/mongrel2.pid for reading.
Mon, 29 Jul 2013 01:14:26 GMT [INFO] (src/unixy.c:137) No previous mongrel2 running, continuing on.
Mon, 29 Jul 2013 01:14:26 GMT [INFO] (src/mongrel2.c:223) All loaded up, time to turn into a server.
Mon, 29 Jul 2013 01:14:26 GMT [INFO] (src/mongrel2.c:224) -- Starting Mongrel2/1.8.1. Copyright (C) Zed A. Shaw. Licensed BSD.

Mon, 29 Jul 2013 01:14:26 GMT [INFO] (src/mongrel2.c:225) -- Look in logs/error.log for startup messages and errors.
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
INFO:root:Using project directory: .
DEBUG:root:loading settings from ./conf/uploader/settings.py
INFO:root:Using coroutine library: gevent
DEBUG:root:******** START _service_registration *********
DEBUG:root:service_registration_passphrase: 137b789e-b7eb-475a-8d5a-b16ab544yurp
DEBUG:root:service_id: uploader
DEBUG:root:service_registration_addr: ipc://run/uploader/brubeck_svc_registration
DEBUG:root:service_passphrase: 137b789e-b7eb-475a-8d5a-b16ab544yurp
DEBUG:root:service_addr: ipc://run/uploader/brubeck_svc
DEBUG:root:service_response_addr: ipc://run/uploader/brubeck_svc_response
DEBUG:root:service_heartbeat_addr: None
DEBUG:root:service_heartbeat_timeout: 5
DEBUG:root:sender_id: ea98dbd5006b4f8fb10b60f5bde14cf2
DEBUG:root:is_reregistration: 0
DEBUG:root:service_heartbeat_interval: 3
DEBUG:root:******** END _service_registration *********
DEBUG:root:register_service: (service_registration_addr, service_registration_passphrase,service_heartbeat_timeout,sender_id): (ipc://run/uploader/brubeck_svc_registration,137b789e-b7eb-475a-8d5a-b16ab544yurp, 5, ea98dbd5006b4f8fb10b60f5bde14cf2)
DEBUG:root:service_registration sending request
DEBUG:root:service_registration waiting for response
INFO:root:Using project directory: .
DEBUG:root:loading settings from ./conf/qoorateserver/development.py
INFO:root:Using coroutine library: gevent
DEBUG:root:creating application db_conn pool
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:get EmbedHandler
DEBUG:root:to_unicode
DEBUG:root:embed_head
DEBUG:root:embed_head
DEBUG:root:to_unicode
DEBUG:root:action: embed_head 
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:set_table has key/secret
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = %s and `secret`= %s
        
DEBUG:root:escape_sql args: [u'12345', u'54321']
DEBUG:root:
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = '12345' and `secret`= '54321'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x11017e410>
DEBUG:root:returning True from authencticate.
DEBUG:root:set_table authenticated
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x11017e490>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has key/secret
DEBUG:root:returning `True` from authenticate cached.
DEBUG:root:set_table authenticated
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x11017e690>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x11017e810>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x11017ea10>
DEBUG:root:qoorate preferences: {
    "THEME": "grid",
    "EMBED_CONF_JS": "
        var qoorateConfig = {
            QOORATE_URI: 'http://localhost',
            QOORATE_API_URI: 'http://localhost/q',
            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',
            XHR_PROXY_URI: '/q/feed',
            XHR_UPLOAD_URI: '/q/uploader',
            POST_MAX_LEN: 1000,
            PARENT_PAGE_SIZE: 10,
            CHILD_PAGE_SIZE: 10,
            AUTO_SCROLL: 1,
            THEME: 'grid',
            GRID_COLUMNS: 3,
            GRID_COLUMN_TRIM: 15,
            GRID_ROW_TRIM: 15
        };
        var qoorateLang = {
            FLAG_SUCCESS: 'Thanks for flagging this!',
            SHARE_SUCCESS: 'Thank you for sharing!',
            DELETE_SUCCESS: 'Thank you. This item has been deleted.',
            SIGNIN: 'Sign in using',
            SIGNEDIN: 'Signed in via',    
            OK: 'OK',
            CANCEL: 'Cancel',
            LOGOUT: 'Log Out',
            TOGGLE_ON: '+',
            TOGGLE_OFF: '-',
            CONTRIBUTION: 'Contribution',
            CONTRIBUTIONS: 'Contributions',
            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',
            REMOVE: 'Remove',
            LINK: 'Insert a link',
            TOPIC_COMMENT: 'Pose a Yes/No Question',
            COMMENT: 'Your Comment',
            IMAGE_COMMENT: 'Image Caption',
            POST_TO: 'Post to',
            POST_ANONYMOUS: 'Post anonymously',
            NICKNAME: 'Post as ',
            DEFAULT_NICKNAME: 'Anonymous',
            REPLY_LINK_COMMENT: 'Say something about your link',
            SHARE_COMMENT: 'comment about this share...',
            PUBLISH_BUTTON: 'Publish',
            POST_BUTTON: 'Post',
            POST_TO_BUTTON: 'Post To',
            REPLY_BUTTON: 'Reply',
            SHARE_BUTTON: 'Share',
            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',
            SELECT_IMAGE: 'Select an Image',
            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',
            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],
            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],
            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]
        };
    "
}

DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:preferences EMBED_CONF_JS:         var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    
DEBUG:root:embed_head called
INFO:root:200 GET /q/embed (127.0.0.1)
DEBUG:root:get EmbedHandler
DEBUG:root:to_unicode
DEBUG:root:embed_content
DEBUG:root:embed_content
DEBUG:root:to_unicode
DEBUG:root:action: embed_content 
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:set_table has key/secret
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = %s and `secret`= %s
        
DEBUG:root:escape_sql args: [u'12345', u'54321']
DEBUG:root:
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = '12345' and `secret`= '54321'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x11017ec10>
DEBUG:root:returning True from authencticate.
DEBUG:root:set_table authenticated
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x11017ee10>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has key/secret
DEBUG:root:returning `True` from authenticate cached.
DEBUG:root:set_table authenticated
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x110185050>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x110185250>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x110185450>
DEBUG:root:qoorate preferences: {
    "THEME": "grid",
    "EMBED_CONF_JS": "
        var qoorateConfig = {
            QOORATE_URI: 'http://localhost',
            QOORATE_API_URI: 'http://localhost/q',
            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',
            XHR_PROXY_URI: '/q/feed',
            XHR_UPLOAD_URI: '/q/uploader',
            POST_MAX_LEN: 1000,
            PARENT_PAGE_SIZE: 10,
            CHILD_PAGE_SIZE: 10,
            AUTO_SCROLL: 1,
            THEME: 'grid',
            GRID_COLUMNS: 3,
            GRID_COLUMN_TRIM: 15,
            GRID_ROW_TRIM: 15
        };
        var qoorateLang = {
            FLAG_SUCCESS: 'Thanks for flagging this!',
            SHARE_SUCCESS: 'Thank you for sharing!',
            DELETE_SUCCESS: 'Thank you. This item has been deleted.',
            SIGNIN: 'Sign in using',
            SIGNEDIN: 'Signed in via',    
            OK: 'OK',
            CANCEL: 'Cancel',
            LOGOUT: 'Log Out',
            TOGGLE_ON: '+',
            TOGGLE_OFF: '-',
            CONTRIBUTION: 'Contribution',
            CONTRIBUTIONS: 'Contributions',
            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',
            REMOVE: 'Remove',
            LINK: 'Insert a link',
            TOPIC_COMMENT: 'Pose a Yes/No Question',
            COMMENT: 'Your Comment',
            IMAGE_COMMENT: 'Image Caption',
            POST_TO: 'Post to',
            POST_ANONYMOUS: 'Post anonymously',
            NICKNAME: 'Post as ',
            DEFAULT_NICKNAME: 'Anonymous',
            REPLY_LINK_COMMENT: 'Say something about your link',
            SHARE_COMMENT: 'comment about this share...',
            PUBLISH_BUTTON: 'Publish',
            POST_BUTTON: 'Post',
            POST_TO_BUTTON: 'Post To',
            REPLY_BUTTON: 'Reply',
            SHARE_BUTTON: 'Share',
            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',
            SELECT_IMAGE: 'Select an Image',
            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',
            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],
            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],
            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]
        };
    "
}

DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:preferences EMBED_CONF_JS:         var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    
DEBUG:root:embed_content called (key,secret): (12345,54321)
DEBUG:root:returning `True` from authenticate cached.
DEBUG:root:get_content_context
DEBUG:root:table: q_brooklyncode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:init_db_conn
DEBUG:root:NOT creating db_conn
DEBUG:root:1
DEBUG:root:5
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT f.`parent_sequence` , f.`child_sequence` , f.`id` , f.`locationId` , f.`relatedId`,
                f.`parentId` , f.`userId` , `u`.`username`, u.`thumbnailLarge` as userThumbnailLarge,
                ur.`username` as relatedUsername, ur.`thumbnailLarge` as relatedUserThumbnailLarge, f.`type`,
                f.`is_anonymous` , r.`is_anonymous` as `related_is_anonymous`, f.`name` , f.`location` ,f.`description`,f.`referer`,
                f.`voteCount` , f.`voteNumber` , f.`votesUp` ,f.`votesDown` , f.`flagCount`,  f.`childCount`, f.`sortOrder` , f.`status`,
                f.`thumbnailSmall` ,f.`thumbnailLarge` , f.`changeDate` , f.`createDate`, f.`nickname`, r.`nickname` as `related_nickname`
            FROM (
                # this query adds the sequence fields to filter by for paging
                SELECT  s1.*, @parentrownum := convert( IF( ( parentId = 0), @parentrownum +1, @parentrownum ), UNSIGNED INTEGER) AS parent_sequence,
                @childrownum := IF( ( @lastparent = parentId), @childrownum + 1, 0 ) AS child_sequence,
                @lastparent := if( parentId=0, id, parentId ) AS dummy_used_for_last_parent
                FROM
                    # QUERY 2: this query sorts the results properly
                    (SELECT s0.* FROM
                        # QUERY 1: This query gets the results we need with calculated fields to sort by
                        # We should probably have these fields in the database so they are indexed
                        (SELECT
                        CONVERT( if( parentId = 0, @parentVoteNumber:=voteNumber,
                            @parentVoteNumber ), SIGNED INTEGER ) as groupVoteNumber,          # Will order groups using parent voteNumber
                        CONVERT( if( parentId = 0, @parentVoteCount:=voteCount,
                            @parentVoteCount ), SIGNED INTEGER ) as groupVoteCount,            # Will order groups using parent voteCount
                        CONVERT( if( parentId = 0, @parentCreateDate:=createDate,
                            @parentCreateDate ), DATETIME ) as groupCreateDate,                # Will order groups using parent createDate
                        CONVERT( if(parentId=0, id, parentId), UNSIGNED INTEGER) as groupId,   # will order groups together
                        CONVERT( if(parentId = 0, 0, 1), UNSIGNED INTEGER) as isChild,         # will order parent first in group
                        r.*
                        FROM (
                            # this just makes sure our groups are grouped in parent child order
                            SELECT * from q_brooklyncode o  WHERE o.location = '5e13bbb73127b9fc424e3728c6500f28' ORDER BY
                             if( o.relatedId = 0, o.id, o.relatedId),
                             if( o.relatedId = 0, 0, o.id )
                            ) r,
                        ( SELECT @parentVoteNumber := 0 ) pvn,
                        ( SELECT @parentVoteCount  := 0 ) pvc,
                        ( SELECT @parentCreateDate := 0 ) pcd
                         WHERE location = '5e13bbb73127b9fc424e3728c6500f28' 
                    ) s0
                    
                    
                    ORDER BY
                    
                s0.groupVoteNumber DESC,
                s0.groupVoteCount DESC,
                s0.groupCreateDate ASC,
                 
                    groupId  ASC, # first order by group
                    isChild ASC, # Then make sure the parent is first
                    
                s0.voteNumber DESC,
                s0.voteCount DESC,
                s0.createDate ASC
                
            ) s1,
            ( SELECT @parentrownum := 0 ) pr,
            ( SELECT @childrownum := 0 ) cr, 
            ( SELECT @lastparent := -1 ) lp) f
            LEFT JOIN user u on u.id = f.userId
            LEFT JOIN q_brooklyncode r on r.id = f.relatedId
            LEFT JOIN user ur on ur.id = r.userId
            WHERE
            ((0 = 6 and parent_sequence >= 1) or parent_sequence BETWEEN 1 AND 6)
            AND
            ((0 = 6 and child_sequence >= 1) or (child_sequence=0 or child_sequence BETWEEN 1 AND 6))
        
DEBUG:root:escape_sql args: None
DEBUG:root:
            SELECT f.`parent_sequence` , f.`child_sequence` , f.`id` , f.`locationId` , f.`relatedId`,
                f.`parentId` , f.`userId` , `u`.`username`, u.`thumbnailLarge` as userThumbnailLarge,
                ur.`username` as relatedUsername, ur.`thumbnailLarge` as relatedUserThumbnailLarge, f.`type`,
                f.`is_anonymous` , r.`is_anonymous` as `related_is_anonymous`, f.`name` , f.`location` ,f.`description`,f.`referer`,
                f.`voteCount` , f.`voteNumber` , f.`votesUp` ,f.`votesDown` , f.`flagCount`,  f.`childCount`, f.`sortOrder` , f.`status`,
                f.`thumbnailSmall` ,f.`thumbnailLarge` , f.`changeDate` , f.`createDate`, f.`nickname`, r.`nickname` as `related_nickname`
            FROM (
                # this query adds the sequence fields to filter by for paging
                SELECT  s1.*, @parentrownum := convert( IF( ( parentId = 0), @parentrownum +1, @parentrownum ), UNSIGNED INTEGER) AS parent_sequence,
                @childrownum := IF( ( @lastparent = parentId), @childrownum + 1, 0 ) AS child_sequence,
                @lastparent := if( parentId=0, id, parentId ) AS dummy_used_for_last_parent
                FROM
                    # QUERY 2: this query sorts the results properly
                    (SELECT s0.* FROM
                        # QUERY 1: This query gets the results we need with calculated fields to sort by
                        # We should probably have these fields in the database so they are indexed
                        (SELECT
                        CONVERT( if( parentId = 0, @parentVoteNumber:=voteNumber,
                            @parentVoteNumber ), SIGNED INTEGER ) as groupVoteNumber,          # Will order groups using parent voteNumber
                        CONVERT( if( parentId = 0, @parentVoteCount:=voteCount,
                            @parentVoteCount ), SIGNED INTEGER ) as groupVoteCount,            # Will order groups using parent voteCount
                        CONVERT( if( parentId = 0, @parentCreateDate:=createDate,
                            @parentCreateDate ), DATETIME ) as groupCreateDate,                # Will order groups using parent createDate
                        CONVERT( if(parentId=0, id, parentId), UNSIGNED INTEGER) as groupId,   # will order groups together
                        CONVERT( if(parentId = 0, 0, 1), UNSIGNED INTEGER) as isChild,         # will order parent first in group
                        r.*
                        FROM (
                            # this just makes sure our groups are grouped in parent child order
                            SELECT * from q_brooklyncode o  WHERE o.location = '5e13bbb73127b9fc424e3728c6500f28' ORDER BY
                             if( o.relatedId = 0, o.id, o.relatedId),
                             if( o.relatedId = 0, 0, o.id )
                            ) r,
                        ( SELECT @parentVoteNumber := 0 ) pvn,
                        ( SELECT @parentVoteCount  := 0 ) pvc,
                        ( SELECT @parentCreateDate := 0 ) pcd
                         WHERE location = '5e13bbb73127b9fc424e3728c6500f28' 
                    ) s0
                    
                    
                    ORDER BY
                    
                s0.groupVoteNumber DESC,
                s0.groupVoteCount DESC,
                s0.groupCreateDate ASC,
                 
                    groupId  ASC, # first order by group
                    isChild ASC, # Then make sure the parent is first
                    
                s0.voteNumber DESC,
                s0.voteCount DESC,
                s0.createDate ASC
                
            ) s1,
            ( SELECT @parentrownum := 0 ) pr,
            ( SELECT @childrownum := 0 ) cr, 
            ( SELECT @lastparent := -1 ) lp) f
            LEFT JOIN user u on u.id = f.userId
            LEFT JOIN q_brooklyncode r on r.id = f.relatedId
            LEFT JOIN user ur on ur.id = r.userId
            WHERE
            ((0 = 6 and parent_sequence >= 1) or parent_sequence BETWEEN 1 AND 6)
            AND
            ((0 = 6 and child_sequence >= 1) or (child_sequence=0 or child_sequence BETWEEN 1 AND 6))
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x11017e410>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = %s
        
DEBUG:root:escape_sql args: [1L]
DEBUG:root:
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = 1
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x11017e490>
DEBUG:root:dictlist: {u'itemId': 1L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'1fe8a631d5522d10e2cf2e4fabedc90b', u'id': 1L}
DEBUG:root:dictItem: {u'itemId': 1L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'1fe8a631d5522d10e2cf2e4fabedc90b', u'id': 1L}
DEBUG:root:items: [<Image: Image object>]
DEBUG:root:im: [<Image: Image object>]
DEBUG:root:comment.images: []
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = %s
        
DEBUG:root:escape_sql args: [2L]
DEBUG:root:
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = 2
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x11017e690>
DEBUG:root:dictlist: {u'itemId': 2L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'cfbb12022f81667e3c2746e3c80b2e1e', u'id': 2L}
DEBUG:root:dictItem: {u'itemId': 2L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'cfbb12022f81667e3c2746e3c80b2e1e', u'id': 2L}
DEBUG:root:items: [<Image: Image object>]
DEBUG:root:im: [<Image: Image object>]
DEBUG:root:comment.images: []
DEBUG:root:Number of comments returned: 2
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:escape_sql args: []
DEBUG:root:
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x11017e810>
DEBUG:root:Number of contributions 2
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x11017ea10>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x11017ec10>
DEBUG:root:to_unicode
DEBUG:root:embed_content
DEBUG:root:embed_content
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:embed_content
DEBUG:root:embed_content
DEBUG:root:to_unicode
INFO:root:200 GET /q/embed (127.0.0.1)
DEBUG:root:get EmbedHandler
DEBUG:root:to_unicode
DEBUG:root:embed_head
DEBUG:root:embed_head
DEBUG:root:to_unicode
DEBUG:root:action: embed_head 
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:set_table has key/secret
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = %s and `secret`= %s
        
DEBUG:root:escape_sql args: [u'12345', u'54321']
DEBUG:root:
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = '12345' and `secret`= '54321'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x11017ee10>
DEBUG:root:returning True from authencticate.
DEBUG:root:set_table authenticated
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x110185050>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has key/secret
DEBUG:root:returning `True` from authenticate cached.
DEBUG:root:set_table authenticated
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x110185250>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x110185450>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x11017e410>
DEBUG:root:qoorate preferences: {
    "THEME": "grid",
    "EMBED_CONF_JS": "
        var qoorateConfig = {
            QOORATE_URI: 'http://localhost',
            QOORATE_API_URI: 'http://localhost/q',
            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',
            XHR_PROXY_URI: '/q/feed',
            XHR_UPLOAD_URI: '/q/uploader',
            POST_MAX_LEN: 1000,
            PARENT_PAGE_SIZE: 10,
            CHILD_PAGE_SIZE: 10,
            AUTO_SCROLL: 1,
            THEME: 'grid',
            GRID_COLUMNS: 3,
            GRID_COLUMN_TRIM: 15,
            GRID_ROW_TRIM: 15
        };
        var qoorateLang = {
            FLAG_SUCCESS: 'Thanks for flagging this!',
            SHARE_SUCCESS: 'Thank you for sharing!',
            DELETE_SUCCESS: 'Thank you. This item has been deleted.',
            SIGNIN: 'Sign in using',
            SIGNEDIN: 'Signed in via',    
            OK: 'OK',
            CANCEL: 'Cancel',
            LOGOUT: 'Log Out',
            TOGGLE_ON: '+',
            TOGGLE_OFF: '-',
            CONTRIBUTION: 'Contribution',
            CONTRIBUTIONS: 'Contributions',
            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',
            REMOVE: 'Remove',
            LINK: 'Insert a link',
            TOPIC_COMMENT: 'Pose a Yes/No Question',
            COMMENT: 'Your Comment',
            IMAGE_COMMENT: 'Image Caption',
            POST_TO: 'Post to',
            POST_ANONYMOUS: 'Post anonymously',
            NICKNAME: 'Post as ',
            DEFAULT_NICKNAME: 'Anonymous',
            REPLY_LINK_COMMENT: 'Say something about your link',
            SHARE_COMMENT: 'comment about this share...',
            PUBLISH_BUTTON: 'Publish',
            POST_BUTTON: 'Post',
            POST_TO_BUTTON: 'Post To',
            REPLY_BUTTON: 'Reply',
            SHARE_BUTTON: 'Share',
            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',
            SELECT_IMAGE: 'Select an Image',
            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',
            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],
            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],
            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]
        };
    "
}

DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:preferences EMBED_CONF_JS:         var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    
DEBUG:root:embed_head called
INFO:root:200 GET /q/embed (127.0.0.1)
DEBUG:root:get EmbedHandler
DEBUG:root:to_unicode
DEBUG:root:embed_content
DEBUG:root:embed_content
DEBUG:root:to_unicode
DEBUG:root:action: embed_content 
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:set_table has key/secret
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = %s and `secret`= %s
        
DEBUG:root:escape_sql args: [u'12345', u'54321']
DEBUG:root:
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = '12345' and `secret`= '54321'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x11017e490>
DEBUG:root:returning True from authencticate.
DEBUG:root:set_table authenticated
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x11017e690>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has key/secret
DEBUG:root:returning `True` from authenticate cached.
DEBUG:root:set_table authenticated
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x11017e810>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x11017ea10>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x11017ec10>
DEBUG:root:qoorate preferences: {
    "THEME": "grid",
    "EMBED_CONF_JS": "
        var qoorateConfig = {
            QOORATE_URI: 'http://localhost',
            QOORATE_API_URI: 'http://localhost/q',
            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',
            XHR_PROXY_URI: '/q/feed',
            XHR_UPLOAD_URI: '/q/uploader',
            POST_MAX_LEN: 1000,
            PARENT_PAGE_SIZE: 10,
            CHILD_PAGE_SIZE: 10,
            AUTO_SCROLL: 1,
            THEME: 'grid',
            GRID_COLUMNS: 3,
            GRID_COLUMN_TRIM: 15,
            GRID_ROW_TRIM: 15
        };
        var qoorateLang = {
            FLAG_SUCCESS: 'Thanks for flagging this!',
            SHARE_SUCCESS: 'Thank you for sharing!',
            DELETE_SUCCESS: 'Thank you. This item has been deleted.',
            SIGNIN: 'Sign in using',
            SIGNEDIN: 'Signed in via',    
            OK: 'OK',
            CANCEL: 'Cancel',
            LOGOUT: 'Log Out',
            TOGGLE_ON: '+',
            TOGGLE_OFF: '-',
            CONTRIBUTION: 'Contribution',
            CONTRIBUTIONS: 'Contributions',
            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',
            REMOVE: 'Remove',
            LINK: 'Insert a link',
            TOPIC_COMMENT: 'Pose a Yes/No Question',
            COMMENT: 'Your Comment',
            IMAGE_COMMENT: 'Image Caption',
            POST_TO: 'Post to',
            POST_ANONYMOUS: 'Post anonymously',
            NICKNAME: 'Post as ',
            DEFAULT_NICKNAME: 'Anonymous',
            REPLY_LINK_COMMENT: 'Say something about your link',
            SHARE_COMMENT: 'comment about this share...',
            PUBLISH_BUTTON: 'Publish',
            POST_BUTTON: 'Post',
            POST_TO_BUTTON: 'Post To',
            REPLY_BUTTON: 'Reply',
            SHARE_BUTTON: 'Share',
            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',
            SELECT_IMAGE: 'Select an Image',
            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',
            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],
            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],
            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]
        };
    "
}

DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:preferences EMBED_CONF_JS:         var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    
DEBUG:root:embed_content called (key,secret): (12345,54321)
DEBUG:root:returning `True` from authenticate cached.
DEBUG:root:get_content_context
DEBUG:root:table: q_brooklyncode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:init_db_conn
DEBUG:root:NOT creating db_conn
DEBUG:root:1
DEBUG:root:5
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT f.`parent_sequence` , f.`child_sequence` , f.`id` , f.`locationId` , f.`relatedId`,
                f.`parentId` , f.`userId` , `u`.`username`, u.`thumbnailLarge` as userThumbnailLarge,
                ur.`username` as relatedUsername, ur.`thumbnailLarge` as relatedUserThumbnailLarge, f.`type`,
                f.`is_anonymous` , r.`is_anonymous` as `related_is_anonymous`, f.`name` , f.`location` ,f.`description`,f.`referer`,
                f.`voteCount` , f.`voteNumber` , f.`votesUp` ,f.`votesDown` , f.`flagCount`,  f.`childCount`, f.`sortOrder` , f.`status`,
                f.`thumbnailSmall` ,f.`thumbnailLarge` , f.`changeDate` , f.`createDate`, f.`nickname`, r.`nickname` as `related_nickname`
            FROM (
                # this query adds the sequence fields to filter by for paging
                SELECT  s1.*, @parentrownum := convert( IF( ( parentId = 0), @parentrownum +1, @parentrownum ), UNSIGNED INTEGER) AS parent_sequence,
                @childrownum := IF( ( @lastparent = parentId), @childrownum + 1, 0 ) AS child_sequence,
                @lastparent := if( parentId=0, id, parentId ) AS dummy_used_for_last_parent
                FROM
                    # QUERY 2: this query sorts the results properly
                    (SELECT s0.* FROM
                        # QUERY 1: This query gets the results we need with calculated fields to sort by
                        # We should probably have these fields in the database so they are indexed
                        (SELECT
                        CONVERT( if( parentId = 0, @parentVoteNumber:=voteNumber,
                            @parentVoteNumber ), SIGNED INTEGER ) as groupVoteNumber,          # Will order groups using parent voteNumber
                        CONVERT( if( parentId = 0, @parentVoteCount:=voteCount,
                            @parentVoteCount ), SIGNED INTEGER ) as groupVoteCount,            # Will order groups using parent voteCount
                        CONVERT( if( parentId = 0, @parentCreateDate:=createDate,
                            @parentCreateDate ), DATETIME ) as groupCreateDate,                # Will order groups using parent createDate
                        CONVERT( if(parentId=0, id, parentId), UNSIGNED INTEGER) as groupId,   # will order groups together
                        CONVERT( if(parentId = 0, 0, 1), UNSIGNED INTEGER) as isChild,         # will order parent first in group
                        r.*
                        FROM (
                            # this just makes sure our groups are grouped in parent child order
                            SELECT * from q_brooklyncode o  WHERE o.location = '5e13bbb73127b9fc424e3728c6500f28' ORDER BY
                             if( o.relatedId = 0, o.id, o.relatedId),
                             if( o.relatedId = 0, 0, o.id )
                            ) r,
                        ( SELECT @parentVoteNumber := 0 ) pvn,
                        ( SELECT @parentVoteCount  := 0 ) pvc,
                        ( SELECT @parentCreateDate := 0 ) pcd
                         WHERE location = '5e13bbb73127b9fc424e3728c6500f28' 
                    ) s0
                    
                    
                    ORDER BY
                    
                s0.groupVoteNumber DESC,
                s0.groupVoteCount DESC,
                s0.groupCreateDate ASC,
                 
                    groupId  ASC, # first order by group
                    isChild ASC, # Then make sure the parent is first
                    
                s0.voteNumber DESC,
                s0.voteCount DESC,
                s0.createDate ASC
                
            ) s1,
            ( SELECT @parentrownum := 0 ) pr,
            ( SELECT @childrownum := 0 ) cr, 
            ( SELECT @lastparent := -1 ) lp) f
            LEFT JOIN user u on u.id = f.userId
            LEFT JOIN q_brooklyncode r on r.id = f.relatedId
            LEFT JOIN user ur on ur.id = r.userId
            WHERE
            ((0 = 6 and parent_sequence >= 1) or parent_sequence BETWEEN 1 AND 6)
            AND
            ((0 = 6 and child_sequence >= 1) or (child_sequence=0 or child_sequence BETWEEN 1 AND 6))
        
DEBUG:root:escape_sql args: None
DEBUG:root:
            SELECT f.`parent_sequence` , f.`child_sequence` , f.`id` , f.`locationId` , f.`relatedId`,
                f.`parentId` , f.`userId` , `u`.`username`, u.`thumbnailLarge` as userThumbnailLarge,
                ur.`username` as relatedUsername, ur.`thumbnailLarge` as relatedUserThumbnailLarge, f.`type`,
                f.`is_anonymous` , r.`is_anonymous` as `related_is_anonymous`, f.`name` , f.`location` ,f.`description`,f.`referer`,
                f.`voteCount` , f.`voteNumber` , f.`votesUp` ,f.`votesDown` , f.`flagCount`,  f.`childCount`, f.`sortOrder` , f.`status`,
                f.`thumbnailSmall` ,f.`thumbnailLarge` , f.`changeDate` , f.`createDate`, f.`nickname`, r.`nickname` as `related_nickname`
            FROM (
                # this query adds the sequence fields to filter by for paging
                SELECT  s1.*, @parentrownum := convert( IF( ( parentId = 0), @parentrownum +1, @parentrownum ), UNSIGNED INTEGER) AS parent_sequence,
                @childrownum := IF( ( @lastparent = parentId), @childrownum + 1, 0 ) AS child_sequence,
                @lastparent := if( parentId=0, id, parentId ) AS dummy_used_for_last_parent
                FROM
                    # QUERY 2: this query sorts the results properly
                    (SELECT s0.* FROM
                        # QUERY 1: This query gets the results we need with calculated fields to sort by
                        # We should probably have these fields in the database so they are indexed
                        (SELECT
                        CONVERT( if( parentId = 0, @parentVoteNumber:=voteNumber,
                            @parentVoteNumber ), SIGNED INTEGER ) as groupVoteNumber,          # Will order groups using parent voteNumber
                        CONVERT( if( parentId = 0, @parentVoteCount:=voteCount,
                            @parentVoteCount ), SIGNED INTEGER ) as groupVoteCount,            # Will order groups using parent voteCount
                        CONVERT( if( parentId = 0, @parentCreateDate:=createDate,
                            @parentCreateDate ), DATETIME ) as groupCreateDate,                # Will order groups using parent createDate
                        CONVERT( if(parentId=0, id, parentId), UNSIGNED INTEGER) as groupId,   # will order groups together
                        CONVERT( if(parentId = 0, 0, 1), UNSIGNED INTEGER) as isChild,         # will order parent first in group
                        r.*
                        FROM (
                            # this just makes sure our groups are grouped in parent child order
                            SELECT * from q_brooklyncode o  WHERE o.location = '5e13bbb73127b9fc424e3728c6500f28' ORDER BY
                             if( o.relatedId = 0, o.id, o.relatedId),
                             if( o.relatedId = 0, 0, o.id )
                            ) r,
                        ( SELECT @parentVoteNumber := 0 ) pvn,
                        ( SELECT @parentVoteCount  := 0 ) pvc,
                        ( SELECT @parentCreateDate := 0 ) pcd
                         WHERE location = '5e13bbb73127b9fc424e3728c6500f28' 
                    ) s0
                    
                    
                    ORDER BY
                    
                s0.groupVoteNumber DESC,
                s0.groupVoteCount DESC,
                s0.groupCreateDate ASC,
                 
                    groupId  ASC, # first order by group
                    isChild ASC, # Then make sure the parent is first
                    
                s0.voteNumber DESC,
                s0.voteCount DESC,
                s0.createDate ASC
                
            ) s1,
            ( SELECT @parentrownum := 0 ) pr,
            ( SELECT @childrownum := 0 ) cr, 
            ( SELECT @lastparent := -1 ) lp) f
            LEFT JOIN user u on u.id = f.userId
            LEFT JOIN q_brooklyncode r on r.id = f.relatedId
            LEFT JOIN user ur on ur.id = r.userId
            WHERE
            ((0 = 6 and parent_sequence >= 1) or parent_sequence BETWEEN 1 AND 6)
            AND
            ((0 = 6 and child_sequence >= 1) or (child_sequence=0 or child_sequence BETWEEN 1 AND 6))
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x11017ee10>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = %s
        
DEBUG:root:escape_sql args: [1L]
DEBUG:root:
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = 1
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x110185050>
DEBUG:root:dictlist: {u'itemId': 1L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'1fe8a631d5522d10e2cf2e4fabedc90b', u'id': 1L}
DEBUG:root:dictItem: {u'itemId': 1L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'1fe8a631d5522d10e2cf2e4fabedc90b', u'id': 1L}
DEBUG:root:items: [<Image: Image object>]
DEBUG:root:im: [<Image: Image object>]
DEBUG:root:comment.images: []
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = %s
        
DEBUG:root:escape_sql args: [2L]
DEBUG:root:
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = 2
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x110185250>
DEBUG:root:dictlist: {u'itemId': 2L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'cfbb12022f81667e3c2746e3c80b2e1e', u'id': 2L}
DEBUG:root:dictItem: {u'itemId': 2L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'cfbb12022f81667e3c2746e3c80b2e1e', u'id': 2L}
DEBUG:root:items: [<Image: Image object>]
DEBUG:root:im: [<Image: Image object>]
DEBUG:root:comment.images: []
DEBUG:root:Number of comments returned: 2
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:escape_sql args: []
DEBUG:root:
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x110185450>
DEBUG:root:Number of contributions 2
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x11017e410>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x11017e490>
DEBUG:root:to_unicode
DEBUG:root:embed_content
DEBUG:root:embed_content
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:embed_content
DEBUG:root:embed_content
DEBUG:root:to_unicode
INFO:root:200 GET /q/embed (127.0.0.1)
DEBUG:root:get EmbedHandler
DEBUG:root:to_unicode
DEBUG:root:embed_head
DEBUG:root:embed_head
DEBUG:root:to_unicode
DEBUG:root:action: embed_head 
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:set_table has key/secret
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = %s and `secret`= %s
        
DEBUG:root:escape_sql args: [u'12345', u'54321']
DEBUG:root:
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = '12345' and `secret`= '54321'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x11017e690>
DEBUG:root:returning True from authencticate.
DEBUG:root:set_table authenticated
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x11017e810>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has key/secret
DEBUG:root:returning `True` from authenticate cached.
DEBUG:root:set_table authenticated
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x11017ea10>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x11017ec10>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x11017ee10>
DEBUG:root:qoorate preferences: {
    "THEME": "grid",
    "EMBED_CONF_JS": "
        var qoorateConfig = {
            QOORATE_URI: 'http://localhost',
            QOORATE_API_URI: 'http://localhost/q',
            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',
            XHR_PROXY_URI: '/q/feed',
            XHR_UPLOAD_URI: '/q/uploader',
            POST_MAX_LEN: 1000,
            PARENT_PAGE_SIZE: 10,
            CHILD_PAGE_SIZE: 10,
            AUTO_SCROLL: 1,
            THEME: 'grid',
            GRID_COLUMNS: 3,
            GRID_COLUMN_TRIM: 15,
            GRID_ROW_TRIM: 15
        };
        var qoorateLang = {
            FLAG_SUCCESS: 'Thanks for flagging this!',
            SHARE_SUCCESS: 'Thank you for sharing!',
            DELETE_SUCCESS: 'Thank you. This item has been deleted.',
            SIGNIN: 'Sign in using',
            SIGNEDIN: 'Signed in via',    
            OK: 'OK',
            CANCEL: 'Cancel',
            LOGOUT: 'Log Out',
            TOGGLE_ON: '+',
            TOGGLE_OFF: '-',
            CONTRIBUTION: 'Contribution',
            CONTRIBUTIONS: 'Contributions',
            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',
            REMOVE: 'Remove',
            LINK: 'Insert a link',
            TOPIC_COMMENT: 'Pose a Yes/No Question',
            COMMENT: 'Your Comment',
            IMAGE_COMMENT: 'Image Caption',
            POST_TO: 'Post to',
            POST_ANONYMOUS: 'Post anonymously',
            NICKNAME: 'Post as ',
            DEFAULT_NICKNAME: 'Anonymous',
            REPLY_LINK_COMMENT: 'Say something about your link',
            SHARE_COMMENT: 'comment about this share...',
            PUBLISH_BUTTON: 'Publish',
            POST_BUTTON: 'Post',
            POST_TO_BUTTON: 'Post To',
            REPLY_BUTTON: 'Reply',
            SHARE_BUTTON: 'Share',
            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',
            SELECT_IMAGE: 'Select an Image',
            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',
            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],
            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],
            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]
        };
    "
}

DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:preferences EMBED_CONF_JS:         var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    
DEBUG:root:embed_head called
INFO:root:200 GET /q/embed (127.0.0.1)
DEBUG:root:get EmbedHandler
DEBUG:root:to_unicode
DEBUG:root:embed_content
DEBUG:root:embed_content
DEBUG:root:to_unicode
DEBUG:root:action: embed_content 
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:set_table has key/secret
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = %s and `secret`= %s
        
DEBUG:root:escape_sql args: [u'12345', u'54321']
DEBUG:root:
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = '12345' and `secret`= '54321'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x110185050>
DEBUG:root:returning True from authencticate.
DEBUG:root:set_table authenticated
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x110185250>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has key/secret
DEBUG:root:returning `True` from authenticate cached.
DEBUG:root:set_table authenticated
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x110185450>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x11017e410>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x11017e490>
DEBUG:root:qoorate preferences: {
    "THEME": "grid",
    "EMBED_CONF_JS": "
        var qoorateConfig = {
            QOORATE_URI: 'http://localhost',
            QOORATE_API_URI: 'http://localhost/q',
            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',
            XHR_PROXY_URI: '/q/feed',
            XHR_UPLOAD_URI: '/q/uploader',
            POST_MAX_LEN: 1000,
            PARENT_PAGE_SIZE: 10,
            CHILD_PAGE_SIZE: 10,
            AUTO_SCROLL: 1,
            THEME: 'grid',
            GRID_COLUMNS: 3,
            GRID_COLUMN_TRIM: 15,
            GRID_ROW_TRIM: 15
        };
        var qoorateLang = {
            FLAG_SUCCESS: 'Thanks for flagging this!',
            SHARE_SUCCESS: 'Thank you for sharing!',
            DELETE_SUCCESS: 'Thank you. This item has been deleted.',
            SIGNIN: 'Sign in using',
            SIGNEDIN: 'Signed in via',    
            OK: 'OK',
            CANCEL: 'Cancel',
            LOGOUT: 'Log Out',
            TOGGLE_ON: '+',
            TOGGLE_OFF: '-',
            CONTRIBUTION: 'Contribution',
            CONTRIBUTIONS: 'Contributions',
            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',
            REMOVE: 'Remove',
            LINK: 'Insert a link',
            TOPIC_COMMENT: 'Pose a Yes/No Question',
            COMMENT: 'Your Comment',
            IMAGE_COMMENT: 'Image Caption',
            POST_TO: 'Post to',
            POST_ANONYMOUS: 'Post anonymously',
            NICKNAME: 'Post as ',
            DEFAULT_NICKNAME: 'Anonymous',
            REPLY_LINK_COMMENT: 'Say something about your link',
            SHARE_COMMENT: 'comment about this share...',
            PUBLISH_BUTTON: 'Publish',
            POST_BUTTON: 'Post',
            POST_TO_BUTTON: 'Post To',
            REPLY_BUTTON: 'Reply',
            SHARE_BUTTON: 'Share',
            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',
            SELECT_IMAGE: 'Select an Image',
            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',
            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],
            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],
            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]
        };
    "
}

DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:preferences EMBED_CONF_JS:         var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    
DEBUG:root:embed_content called (key,secret): (12345,54321)
DEBUG:root:returning `True` from authenticate cached.
DEBUG:root:get_content_context
DEBUG:root:table: q_brooklyncode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:init_db_conn
DEBUG:root:NOT creating db_conn
DEBUG:root:1
DEBUG:root:5
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT f.`parent_sequence` , f.`child_sequence` , f.`id` , f.`locationId` , f.`relatedId`,
                f.`parentId` , f.`userId` , `u`.`username`, u.`thumbnailLarge` as userThumbnailLarge,
                ur.`username` as relatedUsername, ur.`thumbnailLarge` as relatedUserThumbnailLarge, f.`type`,
                f.`is_anonymous` , r.`is_anonymous` as `related_is_anonymous`, f.`name` , f.`location` ,f.`description`,f.`referer`,
                f.`voteCount` , f.`voteNumber` , f.`votesUp` ,f.`votesDown` , f.`flagCount`,  f.`childCount`, f.`sortOrder` , f.`status`,
                f.`thumbnailSmall` ,f.`thumbnailLarge` , f.`changeDate` , f.`createDate`, f.`nickname`, r.`nickname` as `related_nickname`
            FROM (
                # this query adds the sequence fields to filter by for paging
                SELECT  s1.*, @parentrownum := convert( IF( ( parentId = 0), @parentrownum +1, @parentrownum ), UNSIGNED INTEGER) AS parent_sequence,
                @childrownum := IF( ( @lastparent = parentId), @childrownum + 1, 0 ) AS child_sequence,
                @lastparent := if( parentId=0, id, parentId ) AS dummy_used_for_last_parent
                FROM
                    # QUERY 2: this query sorts the results properly
                    (SELECT s0.* FROM
                        # QUERY 1: This query gets the results we need with calculated fields to sort by
                        # We should probably have these fields in the database so they are indexed
                        (SELECT
                        CONVERT( if( parentId = 0, @parentVoteNumber:=voteNumber,
                            @parentVoteNumber ), SIGNED INTEGER ) as groupVoteNumber,          # Will order groups using parent voteNumber
                        CONVERT( if( parentId = 0, @parentVoteCount:=voteCount,
                            @parentVoteCount ), SIGNED INTEGER ) as groupVoteCount,            # Will order groups using parent voteCount
                        CONVERT( if( parentId = 0, @parentCreateDate:=createDate,
                            @parentCreateDate ), DATETIME ) as groupCreateDate,                # Will order groups using parent createDate
                        CONVERT( if(parentId=0, id, parentId), UNSIGNED INTEGER) as groupId,   # will order groups together
                        CONVERT( if(parentId = 0, 0, 1), UNSIGNED INTEGER) as isChild,         # will order parent first in group
                        r.*
                        FROM (
                            # this just makes sure our groups are grouped in parent child order
                            SELECT * from q_brooklyncode o  WHERE o.location = '5e13bbb73127b9fc424e3728c6500f28' ORDER BY
                             if( o.relatedId = 0, o.id, o.relatedId),
                             if( o.relatedId = 0, 0, o.id )
                            ) r,
                        ( SELECT @parentVoteNumber := 0 ) pvn,
                        ( SELECT @parentVoteCount  := 0 ) pvc,
                        ( SELECT @parentCreateDate := 0 ) pcd
                         WHERE location = '5e13bbb73127b9fc424e3728c6500f28' 
                    ) s0
                    
                    
                    ORDER BY
                    
                s0.groupVoteNumber DESC,
                s0.groupVoteCount DESC,
                s0.groupCreateDate ASC,
                 
                    groupId  ASC, # first order by group
                    isChild ASC, # Then make sure the parent is first
                    
                s0.voteNumber DESC,
                s0.voteCount DESC,
                s0.createDate ASC
                
            ) s1,
            ( SELECT @parentrownum := 0 ) pr,
            ( SELECT @childrownum := 0 ) cr, 
            ( SELECT @lastparent := -1 ) lp) f
            LEFT JOIN user u on u.id = f.userId
            LEFT JOIN q_brooklyncode r on r.id = f.relatedId
            LEFT JOIN user ur on ur.id = r.userId
            WHERE
            ((0 = 6 and parent_sequence >= 1) or parent_sequence BETWEEN 1 AND 6)
            AND
            ((0 = 6 and child_sequence >= 1) or (child_sequence=0 or child_sequence BETWEEN 1 AND 6))
        
DEBUG:root:escape_sql args: None
DEBUG:root:
            SELECT f.`parent_sequence` , f.`child_sequence` , f.`id` , f.`locationId` , f.`relatedId`,
                f.`parentId` , f.`userId` , `u`.`username`, u.`thumbnailLarge` as userThumbnailLarge,
                ur.`username` as relatedUsername, ur.`thumbnailLarge` as relatedUserThumbnailLarge, f.`type`,
                f.`is_anonymous` , r.`is_anonymous` as `related_is_anonymous`, f.`name` , f.`location` ,f.`description`,f.`referer`,
                f.`voteCount` , f.`voteNumber` , f.`votesUp` ,f.`votesDown` , f.`flagCount`,  f.`childCount`, f.`sortOrder` , f.`status`,
                f.`thumbnailSmall` ,f.`thumbnailLarge` , f.`changeDate` , f.`createDate`, f.`nickname`, r.`nickname` as `related_nickname`
            FROM (
                # this query adds the sequence fields to filter by for paging
                SELECT  s1.*, @parentrownum := convert( IF( ( parentId = 0), @parentrownum +1, @parentrownum ), UNSIGNED INTEGER) AS parent_sequence,
                @childrownum := IF( ( @lastparent = parentId), @childrownum + 1, 0 ) AS child_sequence,
                @lastparent := if( parentId=0, id, parentId ) AS dummy_used_for_last_parent
                FROM
                    # QUERY 2: this query sorts the results properly
                    (SELECT s0.* FROM
                        # QUERY 1: This query gets the results we need with calculated fields to sort by
                        # We should probably have these fields in the database so they are indexed
                        (SELECT
                        CONVERT( if( parentId = 0, @parentVoteNumber:=voteNumber,
                            @parentVoteNumber ), SIGNED INTEGER ) as groupVoteNumber,          # Will order groups using parent voteNumber
                        CONVERT( if( parentId = 0, @parentVoteCount:=voteCount,
                            @parentVoteCount ), SIGNED INTEGER ) as groupVoteCount,            # Will order groups using parent voteCount
                        CONVERT( if( parentId = 0, @parentCreateDate:=createDate,
                            @parentCreateDate ), DATETIME ) as groupCreateDate,                # Will order groups using parent createDate
                        CONVERT( if(parentId=0, id, parentId), UNSIGNED INTEGER) as groupId,   # will order groups together
                        CONVERT( if(parentId = 0, 0, 1), UNSIGNED INTEGER) as isChild,         # will order parent first in group
                        r.*
                        FROM (
                            # this just makes sure our groups are grouped in parent child order
                            SELECT * from q_brooklyncode o  WHERE o.location = '5e13bbb73127b9fc424e3728c6500f28' ORDER BY
                             if( o.relatedId = 0, o.id, o.relatedId),
                             if( o.relatedId = 0, 0, o.id )
                            ) r,
                        ( SELECT @parentVoteNumber := 0 ) pvn,
                        ( SELECT @parentVoteCount  := 0 ) pvc,
                        ( SELECT @parentCreateDate := 0 ) pcd
                         WHERE location = '5e13bbb73127b9fc424e3728c6500f28' 
                    ) s0
                    
                    
                    ORDER BY
                    
                s0.groupVoteNumber DESC,
                s0.groupVoteCount DESC,
                s0.groupCreateDate ASC,
                 
                    groupId  ASC, # first order by group
                    isChild ASC, # Then make sure the parent is first
                    
                s0.voteNumber DESC,
                s0.voteCount DESC,
                s0.createDate ASC
                
            ) s1,
            ( SELECT @parentrownum := 0 ) pr,
            ( SELECT @childrownum := 0 ) cr, 
            ( SELECT @lastparent := -1 ) lp) f
            LEFT JOIN user u on u.id = f.userId
            LEFT JOIN q_brooklyncode r on r.id = f.relatedId
            LEFT JOIN user ur on ur.id = r.userId
            WHERE
            ((0 = 6 and parent_sequence >= 1) or parent_sequence BETWEEN 1 AND 6)
            AND
            ((0 = 6 and child_sequence >= 1) or (child_sequence=0 or child_sequence BETWEEN 1 AND 6))
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x11017e690>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = %s
        
DEBUG:root:escape_sql args: [1L]
DEBUG:root:
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = 1
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x11017e810>
DEBUG:root:dictlist: {u'itemId': 1L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'1fe8a631d5522d10e2cf2e4fabedc90b', u'id': 1L}
DEBUG:root:dictItem: {u'itemId': 1L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'1fe8a631d5522d10e2cf2e4fabedc90b', u'id': 1L}
DEBUG:root:items: [<Image: Image object>]
DEBUG:root:im: [<Image: Image object>]
DEBUG:root:comment.images: []
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = %s
        
DEBUG:root:escape_sql args: [2L]
DEBUG:root:
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = 2
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x11017ea10>
DEBUG:root:dictlist: {u'itemId': 2L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'cfbb12022f81667e3c2746e3c80b2e1e', u'id': 2L}
DEBUG:root:dictItem: {u'itemId': 2L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'cfbb12022f81667e3c2746e3c80b2e1e', u'id': 2L}
DEBUG:root:items: [<Image: Image object>]
DEBUG:root:im: [<Image: Image object>]
DEBUG:root:comment.images: []
DEBUG:root:Number of comments returned: 2
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:escape_sql args: []
DEBUG:root:
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x11017ec10>
DEBUG:root:Number of contributions 2
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x11017ee10>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x110185050>
DEBUG:root:to_unicode
DEBUG:root:embed_content
DEBUG:root:embed_content
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:embed_content
DEBUG:root:embed_content
DEBUG:root:to_unicode
INFO:root:200 GET /q/embed (127.0.0.1)
Mon, 29 Jul 2013 01:23:15 GMT [ERROR] (errno: No such file or directory) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 01:23:15 GMT [ERROR] (errno: None) Failed to create target for route /q/static/
Mon, 29 Jul 2013 01:23:15 GMT [ERROR] (errno: None) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 01:23:15 GMT [ERROR] (errno: None) Failed to create target for route /q/robots.txt
Mon, 29 Jul 2013 01:23:15 GMT [ERROR] (errno: None) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 01:23:15 GMT [ERROR] (errno: None) Failed to create target for route /q/favicon.ico
Mon, 29 Jul 2013 01:23:15 GMT [INFO] (src/mime.c:49) MAX limits.mime_ext_len=128
Mon, 29 Jul 2013 01:23:15 GMT [INFO] (src/host.c:74) MAX limits.url_path=256, limits.host_name=256
Mon, 29 Jul 2013 01:23:15 GMT [INFO] (src/config/config.c:109) Loaded proxy 1:127.0.0.1:8081
Mon, 29 Jul 2013 01:23:15 GMT [INFO] (src/config/config.c:227) Loaded route 1:/:proxy for host 1:localhost
Mon, 29 Jul 2013 01:23:15 GMT [INFO] (src/handler.c:343) MAX limits.handler_stack=102400
Mon, 29 Jul 2013 01:23:15 GMT [INFO] (src/config/config.c:85) Loaded handler 1:ipc://run/qoorateserver/mongrel2_send:137b789e-b7eb-475a-8d5c-b16ab54493yu:ipc://run/qoorateserver/mongrel2_rcv:
Mon, 29 Jul 2013 01:23:15 GMT [INFO] (src/config/config.c:227) Loaded route 2:/q/:handler for host 1:localhost
Mon, 29 Jul 2013 01:23:15 GMT [INFO] (src/dir.c:195) MAX limits.dir_send_buffer=16384, limits.dir_max_path=256
Mon, 29 Jul 2013 01:23:15 GMT [INFO] (src/config/config.c:136) Loaded directory 1:static/qoorateserver/js/:index.html
Mon, 29 Jul 2013 01:23:15 GMT [INFO] (src/config/config.c:227) Loaded route 3:/q/js/:dir for host 1:localhost
Mon, 29 Jul 2013 01:23:15 GMT [INFO] (src/config/config.c:136) Loaded directory 2:static/qoorateserver/css/:index.html
Mon, 29 Jul 2013 01:23:15 GMT [INFO] (src/config/config.c:227) Loaded route 4:/q/css/:dir for host 1:localhost
Mon, 29 Jul 2013 01:23:15 GMT [INFO] (src/config/config.c:136) Loaded directory 3:static/qoorateserver/img/:index.html
Mon, 29 Jul 2013 01:23:15 GMT [INFO] (src/config/config.c:227) Loaded route 5:/q/img/:dir for host 1:localhost
Mon, 29 Jul 2013 01:23:15 GMT [INFO] (src/config/config.c:312) Loaded 1 hosts for server 1:fe76e442-da24-4708-b0ef-c4ahr2b7d131
Mon, 29 Jul 2013 01:23:15 GMT [INFO] (src/server.c:445) LOADING Handler ipc://run/qoorateserver/mongrel2_send
Mon, 29 Jul 2013 01:23:15 GMT [ERROR] (src/unixy.c:99: errno: No such file or directory) Failed to open PID file ../run/mongrel2.pid for reading.
Mon, 29 Jul 2013 01:23:15 GMT [INFO] (src/unixy.c:137) No previous mongrel2 running, continuing on.
Mon, 29 Jul 2013 01:23:15 GMT [INFO] (src/mongrel2.c:223) All loaded up, time to turn into a server.
Mon, 29 Jul 2013 01:23:15 GMT [INFO] (src/mongrel2.c:224) -- Starting Mongrel2/1.8.1. Copyright (C) Zed A. Shaw. Licensed BSD.

Mon, 29 Jul 2013 01:23:15 GMT [INFO] (src/mongrel2.c:225) -- Look in logs/error.log for startup messages and errors.
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
INFO:root:Using project directory: .
DEBUG:root:loading settings from ./conf/uploader/settings.py
INFO:root:Using coroutine library: gevent
DEBUG:root:******** START _service_registration *********
DEBUG:root:service_registration_passphrase: 137b789e-b7eb-475a-8d5a-b16ab544yurp
DEBUG:root:service_id: uploader
DEBUG:root:service_registration_addr: ipc://run/uploader/brubeck_svc_registration
DEBUG:root:service_passphrase: 137b789e-b7eb-475a-8d5a-b16ab544yurp
DEBUG:root:service_addr: ipc://run/uploader/brubeck_svc
DEBUG:root:service_response_addr: ipc://run/uploader/brubeck_svc_response
DEBUG:root:service_heartbeat_addr: None
DEBUG:root:service_heartbeat_timeout: 5
DEBUG:root:sender_id: 3cc0f4e117ee49d8896a2461bdc221de
DEBUG:root:is_reregistration: 0
DEBUG:root:service_heartbeat_interval: 3
DEBUG:root:******** END _service_registration *********
DEBUG:root:register_service: (service_registration_addr, service_registration_passphrase,service_heartbeat_timeout,sender_id): (ipc://run/uploader/brubeck_svc_registration,137b789e-b7eb-475a-8d5a-b16ab544yurp, 5, 3cc0f4e117ee49d8896a2461bdc221de)
DEBUG:root:service_registration sending request
DEBUG:root:service_registration waiting for response
INFO:root:Using project directory: .
DEBUG:root:loading settings from ./conf/qoorateserver/development.py
INFO:root:Using coroutine library: gevent
DEBUG:root:creating application db_conn pool
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:get EmbedHandler
DEBUG:root:to_unicode
DEBUG:root:embed_head
DEBUG:root:embed_head
DEBUG:root:to_unicode
DEBUG:root:action: embed_head 
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:set_table has key/secret
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = %s and `secret`= %s
        
DEBUG:root:escape_sql args: [u'12345', u'54321']
DEBUG:root:
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = '12345' and `secret`= '54321'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1019f02d0>
DEBUG:root:returning True from authencticate.
DEBUG:root:set_table authenticated
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1019f0350>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has key/secret
DEBUG:root:returning `True` from authenticate cached.
DEBUG:root:set_table authenticated
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1019f0550>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1019f06d0>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1019f08d0>
DEBUG:root:qoorate preferences: {
    "THEME": "grid",
    "EMBED_CONF_JS": "
        var qoorateConfig = {
            QOORATE_URI: 'http://localhost',
            QOORATE_API_URI: 'http://localhost/q',
            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',
            XHR_PROXY_URI: '/q/feed',
            XHR_UPLOAD_URI: '/q/uploader',
            POST_MAX_LEN: 1000,
            PARENT_PAGE_SIZE: 10,
            CHILD_PAGE_SIZE: 10,
            AUTO_SCROLL: 1,
            THEME: 'grid',
            GRID_COLUMNS: 3,
            GRID_COLUMN_TRIM: 15,
            GRID_ROW_TRIM: 15
        };
        var qoorateLang = {
            FLAG_SUCCESS: 'Thanks for flagging this!',
            SHARE_SUCCESS: 'Thank you for sharing!',
            DELETE_SUCCESS: 'Thank you. This item has been deleted.',
            SIGNIN: 'Sign in using',
            SIGNEDIN: 'Signed in via',    
            OK: 'OK',
            CANCEL: 'Cancel',
            LOGOUT: 'Log Out',
            TOGGLE_ON: '+',
            TOGGLE_OFF: '-',
            CONTRIBUTION: 'Contribution',
            CONTRIBUTIONS: 'Contributions',
            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',
            REMOVE: 'Remove',
            LINK: 'Insert a link',
            TOPIC_COMMENT: 'Pose a Yes/No Question',
            COMMENT: 'Your Comment',
            IMAGE_COMMENT: 'Image Caption',
            POST_TO: 'Post to',
            POST_ANONYMOUS: 'Post anonymously',
            NICKNAME: 'Post as ',
            DEFAULT_NICKNAME: 'Anonymous',
            REPLY_LINK_COMMENT: 'Say something about your link',
            SHARE_COMMENT: 'comment about this share...',
            PUBLISH_BUTTON: 'Publish',
            POST_BUTTON: 'Post',
            POST_TO_BUTTON: 'Post To',
            REPLY_BUTTON: 'Reply',
            SHARE_BUTTON: 'Share',
            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',
            SELECT_IMAGE: 'Select an Image',
            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',
            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],
            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],
            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]
        };
    "
}

DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:preferences EMBED_CONF_JS:         var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    
DEBUG:root:embed_head called
INFO:root:200 GET /q/embed (127.0.0.1)
DEBUG:root:get EmbedHandler
DEBUG:root:to_unicode
DEBUG:root:embed_content
DEBUG:root:embed_content
DEBUG:root:to_unicode
DEBUG:root:action: embed_content 
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:set_table has key/secret
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = %s and `secret`= %s
        
DEBUG:root:escape_sql args: [u'12345', u'54321']
DEBUG:root:
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = '12345' and `secret`= '54321'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1019f0ad0>
DEBUG:root:returning True from authencticate.
DEBUG:root:set_table authenticated
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1019f0cd0>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has key/secret
DEBUG:root:returning `True` from authenticate cached.
DEBUG:root:set_table authenticated
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1019f0ed0>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1019f7110>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1019f7310>
DEBUG:root:qoorate preferences: {
    "THEME": "grid",
    "EMBED_CONF_JS": "
        var qoorateConfig = {
            QOORATE_URI: 'http://localhost',
            QOORATE_API_URI: 'http://localhost/q',
            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',
            XHR_PROXY_URI: '/q/feed',
            XHR_UPLOAD_URI: '/q/uploader',
            POST_MAX_LEN: 1000,
            PARENT_PAGE_SIZE: 10,
            CHILD_PAGE_SIZE: 10,
            AUTO_SCROLL: 1,
            THEME: 'grid',
            GRID_COLUMNS: 3,
            GRID_COLUMN_TRIM: 15,
            GRID_ROW_TRIM: 15
        };
        var qoorateLang = {
            FLAG_SUCCESS: 'Thanks for flagging this!',
            SHARE_SUCCESS: 'Thank you for sharing!',
            DELETE_SUCCESS: 'Thank you. This item has been deleted.',
            SIGNIN: 'Sign in using',
            SIGNEDIN: 'Signed in via',    
            OK: 'OK',
            CANCEL: 'Cancel',
            LOGOUT: 'Log Out',
            TOGGLE_ON: '+',
            TOGGLE_OFF: '-',
            CONTRIBUTION: 'Contribution',
            CONTRIBUTIONS: 'Contributions',
            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',
            REMOVE: 'Remove',
            LINK: 'Insert a link',
            TOPIC_COMMENT: 'Pose a Yes/No Question',
            COMMENT: 'Your Comment',
            IMAGE_COMMENT: 'Image Caption',
            POST_TO: 'Post to',
            POST_ANONYMOUS: 'Post anonymously',
            NICKNAME: 'Post as ',
            DEFAULT_NICKNAME: 'Anonymous',
            REPLY_LINK_COMMENT: 'Say something about your link',
            SHARE_COMMENT: 'comment about this share...',
            PUBLISH_BUTTON: 'Publish',
            POST_BUTTON: 'Post',
            POST_TO_BUTTON: 'Post To',
            REPLY_BUTTON: 'Reply',
            SHARE_BUTTON: 'Share',
            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',
            SELECT_IMAGE: 'Select an Image',
            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',
            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],
            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],
            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]
        };
    "
}

DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:preferences EMBED_CONF_JS:         var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    
DEBUG:root:embed_content called (key,secret): (12345,54321)
DEBUG:root:returning `True` from authenticate cached.
DEBUG:root:get_content_context
DEBUG:root:table: q_brooklyncode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:init_db_conn
DEBUG:root:NOT creating db_conn
DEBUG:root:1
DEBUG:root:5
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT f.`parent_sequence` , f.`child_sequence` , f.`id` , f.`locationId` , f.`relatedId`,
                f.`parentId` , f.`userId` , `u`.`username`, u.`thumbnailLarge` as userThumbnailLarge,
                ur.`username` as relatedUsername, ur.`thumbnailLarge` as relatedUserThumbnailLarge, f.`type`,
                f.`is_anonymous` , r.`is_anonymous` as `related_is_anonymous`, f.`name` , f.`location` ,f.`description`,f.`referer`,
                f.`voteCount` , f.`voteNumber` , f.`votesUp` ,f.`votesDown` , f.`flagCount`,  f.`childCount`, f.`sortOrder` , f.`status`,
                f.`thumbnailSmall` ,f.`thumbnailLarge` , f.`changeDate` , f.`createDate`, f.`nickname`, r.`nickname` as `related_nickname`
            FROM (
                # this query adds the sequence fields to filter by for paging
                SELECT  s1.*, @parentrownum := convert( IF( ( parentId = 0), @parentrownum +1, @parentrownum ), UNSIGNED INTEGER) AS parent_sequence,
                @childrownum := IF( ( @lastparent = parentId), @childrownum + 1, 0 ) AS child_sequence,
                @lastparent := if( parentId=0, id, parentId ) AS dummy_used_for_last_parent
                FROM
                    # QUERY 2: this query sorts the results properly
                    (SELECT s0.* FROM
                        # QUERY 1: This query gets the results we need with calculated fields to sort by
                        # We should probably have these fields in the database so they are indexed
                        (SELECT
                        CONVERT( if( parentId = 0, @parentVoteNumber:=voteNumber,
                            @parentVoteNumber ), SIGNED INTEGER ) as groupVoteNumber,          # Will order groups using parent voteNumber
                        CONVERT( if( parentId = 0, @parentVoteCount:=voteCount,
                            @parentVoteCount ), SIGNED INTEGER ) as groupVoteCount,            # Will order groups using parent voteCount
                        CONVERT( if( parentId = 0, @parentCreateDate:=createDate,
                            @parentCreateDate ), DATETIME ) as groupCreateDate,                # Will order groups using parent createDate
                        CONVERT( if(parentId=0, id, parentId), UNSIGNED INTEGER) as groupId,   # will order groups together
                        CONVERT( if(parentId = 0, 0, 1), UNSIGNED INTEGER) as isChild,         # will order parent first in group
                        r.*
                        FROM (
                            # this just makes sure our groups are grouped in parent child order
                            SELECT * from q_brooklyncode o  WHERE o.location = '5e13bbb73127b9fc424e3728c6500f28' ORDER BY
                             if( o.relatedId = 0, o.id, o.relatedId),
                             if( o.relatedId = 0, 0, o.id )
                            ) r,
                        ( SELECT @parentVoteNumber := 0 ) pvn,
                        ( SELECT @parentVoteCount  := 0 ) pvc,
                        ( SELECT @parentCreateDate := 0 ) pcd
                         WHERE location = '5e13bbb73127b9fc424e3728c6500f28' 
                    ) s0
                    
                    
                    ORDER BY
                    
                s0.groupVoteNumber DESC,
                s0.groupVoteCount DESC,
                s0.groupCreateDate ASC,
                 
                    groupId  ASC, # first order by group
                    isChild ASC, # Then make sure the parent is first
                    
                s0.voteNumber DESC,
                s0.voteCount DESC,
                s0.createDate ASC
                
            ) s1,
            ( SELECT @parentrownum := 0 ) pr,
            ( SELECT @childrownum := 0 ) cr, 
            ( SELECT @lastparent := -1 ) lp) f
            LEFT JOIN user u on u.id = f.userId
            LEFT JOIN q_brooklyncode r on r.id = f.relatedId
            LEFT JOIN user ur on ur.id = r.userId
            WHERE
            ((0 = 6 and parent_sequence >= 1) or parent_sequence BETWEEN 1 AND 6)
            AND
            ((0 = 6 and child_sequence >= 1) or (child_sequence=0 or child_sequence BETWEEN 1 AND 6))
        
DEBUG:root:escape_sql args: None
DEBUG:root:
            SELECT f.`parent_sequence` , f.`child_sequence` , f.`id` , f.`locationId` , f.`relatedId`,
                f.`parentId` , f.`userId` , `u`.`username`, u.`thumbnailLarge` as userThumbnailLarge,
                ur.`username` as relatedUsername, ur.`thumbnailLarge` as relatedUserThumbnailLarge, f.`type`,
                f.`is_anonymous` , r.`is_anonymous` as `related_is_anonymous`, f.`name` , f.`location` ,f.`description`,f.`referer`,
                f.`voteCount` , f.`voteNumber` , f.`votesUp` ,f.`votesDown` , f.`flagCount`,  f.`childCount`, f.`sortOrder` , f.`status`,
                f.`thumbnailSmall` ,f.`thumbnailLarge` , f.`changeDate` , f.`createDate`, f.`nickname`, r.`nickname` as `related_nickname`
            FROM (
                # this query adds the sequence fields to filter by for paging
                SELECT  s1.*, @parentrownum := convert( IF( ( parentId = 0), @parentrownum +1, @parentrownum ), UNSIGNED INTEGER) AS parent_sequence,
                @childrownum := IF( ( @lastparent = parentId), @childrownum + 1, 0 ) AS child_sequence,
                @lastparent := if( parentId=0, id, parentId ) AS dummy_used_for_last_parent
                FROM
                    # QUERY 2: this query sorts the results properly
                    (SELECT s0.* FROM
                        # QUERY 1: This query gets the results we need with calculated fields to sort by
                        # We should probably have these fields in the database so they are indexed
                        (SELECT
                        CONVERT( if( parentId = 0, @parentVoteNumber:=voteNumber,
                            @parentVoteNumber ), SIGNED INTEGER ) as groupVoteNumber,          # Will order groups using parent voteNumber
                        CONVERT( if( parentId = 0, @parentVoteCount:=voteCount,
                            @parentVoteCount ), SIGNED INTEGER ) as groupVoteCount,            # Will order groups using parent voteCount
                        CONVERT( if( parentId = 0, @parentCreateDate:=createDate,
                            @parentCreateDate ), DATETIME ) as groupCreateDate,                # Will order groups using parent createDate
                        CONVERT( if(parentId=0, id, parentId), UNSIGNED INTEGER) as groupId,   # will order groups together
                        CONVERT( if(parentId = 0, 0, 1), UNSIGNED INTEGER) as isChild,         # will order parent first in group
                        r.*
                        FROM (
                            # this just makes sure our groups are grouped in parent child order
                            SELECT * from q_brooklyncode o  WHERE o.location = '5e13bbb73127b9fc424e3728c6500f28' ORDER BY
                             if( o.relatedId = 0, o.id, o.relatedId),
                             if( o.relatedId = 0, 0, o.id )
                            ) r,
                        ( SELECT @parentVoteNumber := 0 ) pvn,
                        ( SELECT @parentVoteCount  := 0 ) pvc,
                        ( SELECT @parentCreateDate := 0 ) pcd
                         WHERE location = '5e13bbb73127b9fc424e3728c6500f28' 
                    ) s0
                    
                    
                    ORDER BY
                    
                s0.groupVoteNumber DESC,
                s0.groupVoteCount DESC,
                s0.groupCreateDate ASC,
                 
                    groupId  ASC, # first order by group
                    isChild ASC, # Then make sure the parent is first
                    
                s0.voteNumber DESC,
                s0.voteCount DESC,
                s0.createDate ASC
                
            ) s1,
            ( SELECT @parentrownum := 0 ) pr,
            ( SELECT @childrownum := 0 ) cr, 
            ( SELECT @lastparent := -1 ) lp) f
            LEFT JOIN user u on u.id = f.userId
            LEFT JOIN q_brooklyncode r on r.id = f.relatedId
            LEFT JOIN user ur on ur.id = r.userId
            WHERE
            ((0 = 6 and parent_sequence >= 1) or parent_sequence BETWEEN 1 AND 6)
            AND
            ((0 = 6 and child_sequence >= 1) or (child_sequence=0 or child_sequence BETWEEN 1 AND 6))
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1019f02d0>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = %s
        
DEBUG:root:escape_sql args: [1L]
DEBUG:root:
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = 1
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1019f0350>
DEBUG:root:dictlist: {u'itemId': 1L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'1fe8a631d5522d10e2cf2e4fabedc90b', u'id': 1L}
DEBUG:root:dictItem: {u'itemId': 1L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'1fe8a631d5522d10e2cf2e4fabedc90b', u'id': 1L}
DEBUG:root:items: [<ImageItem: ImageItem object>]
DEBUG:root:im: [<ImageItem: ImageItem object>]
DEBUG:root:comment.images: []
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = %s
        
DEBUG:root:escape_sql args: [2L]
DEBUG:root:
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = 2
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1019f0550>
DEBUG:root:dictlist: {u'itemId': 2L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'cfbb12022f81667e3c2746e3c80b2e1e', u'id': 2L}
DEBUG:root:dictItem: {u'itemId': 2L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'cfbb12022f81667e3c2746e3c80b2e1e', u'id': 2L}
DEBUG:root:items: [<ImageItem: ImageItem object>]
DEBUG:root:im: [<ImageItem: ImageItem object>]
DEBUG:root:comment.images: []
DEBUG:root:Number of comments returned: 2
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:escape_sql args: []
DEBUG:root:
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1019f06d0>
DEBUG:root:Number of contributions 2
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1019f08d0>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1019f0ad0>
DEBUG:root:to_unicode
DEBUG:root:embed_content
DEBUG:root:embed_content
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:embed_content
DEBUG:root:embed_content
DEBUG:root:to_unicode
INFO:root:200 GET /q/embed (127.0.0.1)
Mon, 29 Jul 2013 01:30:41 GMT [ERROR] (errno: No such file or directory) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 01:30:41 GMT [ERROR] (errno: None) Failed to create target for route /q/static/
Mon, 29 Jul 2013 01:30:41 GMT [ERROR] (errno: None) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 01:30:41 GMT [ERROR] (errno: None) Failed to create target for route /q/robots.txt
Mon, 29 Jul 2013 01:30:41 GMT [ERROR] (errno: None) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 01:30:41 GMT [ERROR] (errno: None) Failed to create target for route /q/favicon.ico
Mon, 29 Jul 2013 01:30:41 GMT [INFO] (src/mime.c:49) MAX limits.mime_ext_len=128
Mon, 29 Jul 2013 01:30:41 GMT [INFO] (src/host.c:74) MAX limits.url_path=256, limits.host_name=256
Mon, 29 Jul 2013 01:30:41 GMT [INFO] (src/config/config.c:109) Loaded proxy 1:127.0.0.1:8081
Mon, 29 Jul 2013 01:30:41 GMT [INFO] (src/config/config.c:227) Loaded route 1:/:proxy for host 1:localhost
Mon, 29 Jul 2013 01:30:41 GMT [INFO] (src/handler.c:343) MAX limits.handler_stack=102400
Mon, 29 Jul 2013 01:30:41 GMT [INFO] (src/config/config.c:85) Loaded handler 1:ipc://run/qoorateserver/mongrel2_send:137b789e-b7eb-475a-8d5c-b16ab54493yu:ipc://run/qoorateserver/mongrel2_rcv:
Mon, 29 Jul 2013 01:30:41 GMT [INFO] (src/config/config.c:227) Loaded route 2:/q/:handler for host 1:localhost
Mon, 29 Jul 2013 01:30:41 GMT [INFO] (src/dir.c:195) MAX limits.dir_send_buffer=16384, limits.dir_max_path=256
Mon, 29 Jul 2013 01:30:41 GMT [INFO] (src/config/config.c:136) Loaded directory 1:static/qoorateserver/js/:index.html
Mon, 29 Jul 2013 01:30:41 GMT [INFO] (src/config/config.c:227) Loaded route 3:/q/js/:dir for host 1:localhost
Mon, 29 Jul 2013 01:30:41 GMT [INFO] (src/config/config.c:136) Loaded directory 2:static/qoorateserver/css/:index.html
Mon, 29 Jul 2013 01:30:41 GMT [INFO] (src/config/config.c:227) Loaded route 4:/q/css/:dir for host 1:localhost
Mon, 29 Jul 2013 01:30:41 GMT [INFO] (src/config/config.c:136) Loaded directory 3:static/qoorateserver/img/:index.html
Mon, 29 Jul 2013 01:30:41 GMT [INFO] (src/config/config.c:227) Loaded route 5:/q/img/:dir for host 1:localhost
Mon, 29 Jul 2013 01:30:41 GMT [INFO] (src/config/config.c:312) Loaded 1 hosts for server 1:fe76e442-da24-4708-b0ef-c4ahr2b7d131
Mon, 29 Jul 2013 01:30:41 GMT [INFO] (src/server.c:445) LOADING Handler ipc://run/qoorateserver/mongrel2_send
Mon, 29 Jul 2013 01:30:41 GMT [ERROR] (src/unixy.c:99: errno: No such file or directory) Failed to open PID file ../run/mongrel2.pid for reading.
Mon, 29 Jul 2013 01:30:41 GMT [INFO] (src/unixy.c:137) No previous mongrel2 running, continuing on.
Mon, 29 Jul 2013 01:30:41 GMT [INFO] (src/mongrel2.c:223) All loaded up, time to turn into a server.
Mon, 29 Jul 2013 01:30:41 GMT [INFO] (src/mongrel2.c:224) -- Starting Mongrel2/1.8.1. Copyright (C) Zed A. Shaw. Licensed BSD.

Mon, 29 Jul 2013 01:30:41 GMT [INFO] (src/mongrel2.c:225) -- Look in logs/error.log for startup messages and errors.
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
INFO:root:Using project directory: .
DEBUG:root:loading settings from ./conf/uploader/settings.py
INFO:root:Using coroutine library: gevent
DEBUG:root:******** START _service_registration *********
DEBUG:root:service_registration_passphrase: 137b789e-b7eb-475a-8d5a-b16ab544yurp
DEBUG:root:service_id: uploader
DEBUG:root:service_registration_addr: ipc://run/uploader/brubeck_svc_registration
DEBUG:root:service_passphrase: 137b789e-b7eb-475a-8d5a-b16ab544yurp
DEBUG:root:service_addr: ipc://run/uploader/brubeck_svc
DEBUG:root:service_response_addr: ipc://run/uploader/brubeck_svc_response
DEBUG:root:service_heartbeat_addr: None
DEBUG:root:service_heartbeat_timeout: 5
DEBUG:root:sender_id: 5196cf92e1644a0380ccb59f3c50f6ed
DEBUG:root:is_reregistration: 0
DEBUG:root:service_heartbeat_interval: 3
DEBUG:root:******** END _service_registration *********
DEBUG:root:register_service: (service_registration_addr, service_registration_passphrase,service_heartbeat_timeout,sender_id): (ipc://run/uploader/brubeck_svc_registration,137b789e-b7eb-475a-8d5a-b16ab544yurp, 5, 5196cf92e1644a0380ccb59f3c50f6ed)
DEBUG:root:service_registration sending request
DEBUG:root:service_registration waiting for response
INFO:root:Using project directory: .
DEBUG:root:loading settings from ./conf/qoorateserver/development.py
INFO:root:Using coroutine library: gevent
DEBUG:root:creating application db_conn pool
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:get EmbedHandler
DEBUG:root:to_unicode
DEBUG:root:embed_head
DEBUG:root:embed_head
DEBUG:root:to_unicode
DEBUG:root:action: embed_head 
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:set_table has key/secret
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = %s and `secret`= %s
        
DEBUG:root:escape_sql args: [u'12345', u'54321']
DEBUG:root:
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = '12345' and `secret`= '54321'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10814d410>
DEBUG:root:returning True from authencticate.
DEBUG:root:set_table authenticated
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10814d490>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has key/secret
DEBUG:root:returning `True` from authenticate cached.
DEBUG:root:set_table authenticated
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10814d690>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10814d810>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10814da10>
DEBUG:root:qoorate preferences: {
    "THEME": "grid",
    "EMBED_CONF_JS": "
        var qoorateConfig = {
            QOORATE_URI: 'http://localhost',
            QOORATE_API_URI: 'http://localhost/q',
            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',
            XHR_PROXY_URI: '/q/feed',
            XHR_UPLOAD_URI: '/q/uploader',
            POST_MAX_LEN: 1000,
            PARENT_PAGE_SIZE: 10,
            CHILD_PAGE_SIZE: 10,
            AUTO_SCROLL: 1,
            THEME: 'grid',
            GRID_COLUMNS: 3,
            GRID_COLUMN_TRIM: 15,
            GRID_ROW_TRIM: 15
        };
        var qoorateLang = {
            FLAG_SUCCESS: 'Thanks for flagging this!',
            SHARE_SUCCESS: 'Thank you for sharing!',
            DELETE_SUCCESS: 'Thank you. This item has been deleted.',
            SIGNIN: 'Sign in using',
            SIGNEDIN: 'Signed in via',    
            OK: 'OK',
            CANCEL: 'Cancel',
            LOGOUT: 'Log Out',
            TOGGLE_ON: '+',
            TOGGLE_OFF: '-',
            CONTRIBUTION: 'Contribution',
            CONTRIBUTIONS: 'Contributions',
            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',
            REMOVE: 'Remove',
            LINK: 'Insert a link',
            TOPIC_COMMENT: 'Pose a Yes/No Question',
            COMMENT: 'Your Comment',
            IMAGE_COMMENT: 'Image Caption',
            POST_TO: 'Post to',
            POST_ANONYMOUS: 'Post anonymously',
            NICKNAME: 'Post as ',
            DEFAULT_NICKNAME: 'Anonymous',
            REPLY_LINK_COMMENT: 'Say something about your link',
            SHARE_COMMENT: 'comment about this share...',
            PUBLISH_BUTTON: 'Publish',
            POST_BUTTON: 'Post',
            POST_TO_BUTTON: 'Post To',
            REPLY_BUTTON: 'Reply',
            SHARE_BUTTON: 'Share',
            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',
            SELECT_IMAGE: 'Select an Image',
            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',
            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],
            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],
            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]
        };
    "
}

DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:preferences EMBED_CONF_JS:         var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    
DEBUG:root:embed_head called
INFO:root:200 GET /q/embed (127.0.0.1)
DEBUG:root:get EmbedHandler
DEBUG:root:to_unicode
DEBUG:root:embed_content
DEBUG:root:embed_content
DEBUG:root:to_unicode
DEBUG:root:action: embed_content 
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:set_table has key/secret
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = %s and `secret`= %s
        
DEBUG:root:escape_sql args: [u'12345', u'54321']
DEBUG:root:
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = '12345' and `secret`= '54321'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10814dc10>
DEBUG:root:returning True from authencticate.
DEBUG:root:set_table authenticated
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10814de10>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has key/secret
DEBUG:root:returning `True` from authenticate cached.
DEBUG:root:set_table authenticated
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x108155050>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x108155250>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x108155450>
DEBUG:root:qoorate preferences: {
    "THEME": "grid",
    "EMBED_CONF_JS": "
        var qoorateConfig = {
            QOORATE_URI: 'http://localhost',
            QOORATE_API_URI: 'http://localhost/q',
            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',
            XHR_PROXY_URI: '/q/feed',
            XHR_UPLOAD_URI: '/q/uploader',
            POST_MAX_LEN: 1000,
            PARENT_PAGE_SIZE: 10,
            CHILD_PAGE_SIZE: 10,
            AUTO_SCROLL: 1,
            THEME: 'grid',
            GRID_COLUMNS: 3,
            GRID_COLUMN_TRIM: 15,
            GRID_ROW_TRIM: 15
        };
        var qoorateLang = {
            FLAG_SUCCESS: 'Thanks for flagging this!',
            SHARE_SUCCESS: 'Thank you for sharing!',
            DELETE_SUCCESS: 'Thank you. This item has been deleted.',
            SIGNIN: 'Sign in using',
            SIGNEDIN: 'Signed in via',    
            OK: 'OK',
            CANCEL: 'Cancel',
            LOGOUT: 'Log Out',
            TOGGLE_ON: '+',
            TOGGLE_OFF: '-',
            CONTRIBUTION: 'Contribution',
            CONTRIBUTIONS: 'Contributions',
            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',
            REMOVE: 'Remove',
            LINK: 'Insert a link',
            TOPIC_COMMENT: 'Pose a Yes/No Question',
            COMMENT: 'Your Comment',
            IMAGE_COMMENT: 'Image Caption',
            POST_TO: 'Post to',
            POST_ANONYMOUS: 'Post anonymously',
            NICKNAME: 'Post as ',
            DEFAULT_NICKNAME: 'Anonymous',
            REPLY_LINK_COMMENT: 'Say something about your link',
            SHARE_COMMENT: 'comment about this share...',
            PUBLISH_BUTTON: 'Publish',
            POST_BUTTON: 'Post',
            POST_TO_BUTTON: 'Post To',
            REPLY_BUTTON: 'Reply',
            SHARE_BUTTON: 'Share',
            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',
            SELECT_IMAGE: 'Select an Image',
            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',
            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],
            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],
            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]
        };
    "
}

DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:preferences EMBED_CONF_JS:         var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    
DEBUG:root:embed_content called (key,secret): (12345,54321)
DEBUG:root:returning `True` from authenticate cached.
DEBUG:root:get_content_context
DEBUG:root:table: q_brooklyncode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:init_db_conn
DEBUG:root:NOT creating db_conn
DEBUG:root:1
DEBUG:root:5
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT f.`parent_sequence` , f.`child_sequence` , f.`id` , f.`locationId` , f.`relatedId`,
                f.`parentId` , f.`userId` , `u`.`username`, u.`thumbnailLarge` as userThumbnailLarge,
                ur.`username` as relatedUsername, ur.`thumbnailLarge` as relatedUserThumbnailLarge, f.`type`,
                f.`is_anonymous` , r.`is_anonymous` as `related_is_anonymous`, f.`name` , f.`location` ,f.`description`,f.`referer`,
                f.`voteCount` , f.`voteNumber` , f.`votesUp` ,f.`votesDown` , f.`flagCount`,  f.`childCount`, f.`sortOrder` , f.`status`,
                f.`thumbnailSmall` ,f.`thumbnailLarge` , f.`changeDate` , f.`createDate`, f.`nickname`, r.`nickname` as `related_nickname`
            FROM (
                # this query adds the sequence fields to filter by for paging
                SELECT  s1.*, @parentrownum := convert( IF( ( parentId = 0), @parentrownum +1, @parentrownum ), UNSIGNED INTEGER) AS parent_sequence,
                @childrownum := IF( ( @lastparent = parentId), @childrownum + 1, 0 ) AS child_sequence,
                @lastparent := if( parentId=0, id, parentId ) AS dummy_used_for_last_parent
                FROM
                    # QUERY 2: this query sorts the results properly
                    (SELECT s0.* FROM
                        # QUERY 1: This query gets the results we need with calculated fields to sort by
                        # We should probably have these fields in the database so they are indexed
                        (SELECT
                        CONVERT( if( parentId = 0, @parentVoteNumber:=voteNumber,
                            @parentVoteNumber ), SIGNED INTEGER ) as groupVoteNumber,          # Will order groups using parent voteNumber
                        CONVERT( if( parentId = 0, @parentVoteCount:=voteCount,
                            @parentVoteCount ), SIGNED INTEGER ) as groupVoteCount,            # Will order groups using parent voteCount
                        CONVERT( if( parentId = 0, @parentCreateDate:=createDate,
                            @parentCreateDate ), DATETIME ) as groupCreateDate,                # Will order groups using parent createDate
                        CONVERT( if(parentId=0, id, parentId), UNSIGNED INTEGER) as groupId,   # will order groups together
                        CONVERT( if(parentId = 0, 0, 1), UNSIGNED INTEGER) as isChild,         # will order parent first in group
                        r.*
                        FROM (
                            # this just makes sure our groups are grouped in parent child order
                            SELECT * from q_brooklyncode o  WHERE o.location = '5e13bbb73127b9fc424e3728c6500f28' ORDER BY
                             if( o.relatedId = 0, o.id, o.relatedId),
                             if( o.relatedId = 0, 0, o.id )
                            ) r,
                        ( SELECT @parentVoteNumber := 0 ) pvn,
                        ( SELECT @parentVoteCount  := 0 ) pvc,
                        ( SELECT @parentCreateDate := 0 ) pcd
                         WHERE location = '5e13bbb73127b9fc424e3728c6500f28' 
                    ) s0
                    
                    
                    ORDER BY
                    
                s0.groupVoteNumber DESC,
                s0.groupVoteCount DESC,
                s0.groupCreateDate ASC,
                 
                    groupId  ASC, # first order by group
                    isChild ASC, # Then make sure the parent is first
                    
                s0.voteNumber DESC,
                s0.voteCount DESC,
                s0.createDate ASC
                
            ) s1,
            ( SELECT @parentrownum := 0 ) pr,
            ( SELECT @childrownum := 0 ) cr, 
            ( SELECT @lastparent := -1 ) lp) f
            LEFT JOIN user u on u.id = f.userId
            LEFT JOIN q_brooklyncode r on r.id = f.relatedId
            LEFT JOIN user ur on ur.id = r.userId
            WHERE
            ((0 = 6 and parent_sequence >= 1) or parent_sequence BETWEEN 1 AND 6)
            AND
            ((0 = 6 and child_sequence >= 1) or (child_sequence=0 or child_sequence BETWEEN 1 AND 6))
        
DEBUG:root:escape_sql args: None
DEBUG:root:
            SELECT f.`parent_sequence` , f.`child_sequence` , f.`id` , f.`locationId` , f.`relatedId`,
                f.`parentId` , f.`userId` , `u`.`username`, u.`thumbnailLarge` as userThumbnailLarge,
                ur.`username` as relatedUsername, ur.`thumbnailLarge` as relatedUserThumbnailLarge, f.`type`,
                f.`is_anonymous` , r.`is_anonymous` as `related_is_anonymous`, f.`name` , f.`location` ,f.`description`,f.`referer`,
                f.`voteCount` , f.`voteNumber` , f.`votesUp` ,f.`votesDown` , f.`flagCount`,  f.`childCount`, f.`sortOrder` , f.`status`,
                f.`thumbnailSmall` ,f.`thumbnailLarge` , f.`changeDate` , f.`createDate`, f.`nickname`, r.`nickname` as `related_nickname`
            FROM (
                # this query adds the sequence fields to filter by for paging
                SELECT  s1.*, @parentrownum := convert( IF( ( parentId = 0), @parentrownum +1, @parentrownum ), UNSIGNED INTEGER) AS parent_sequence,
                @childrownum := IF( ( @lastparent = parentId), @childrownum + 1, 0 ) AS child_sequence,
                @lastparent := if( parentId=0, id, parentId ) AS dummy_used_for_last_parent
                FROM
                    # QUERY 2: this query sorts the results properly
                    (SELECT s0.* FROM
                        # QUERY 1: This query gets the results we need with calculated fields to sort by
                        # We should probably have these fields in the database so they are indexed
                        (SELECT
                        CONVERT( if( parentId = 0, @parentVoteNumber:=voteNumber,
                            @parentVoteNumber ), SIGNED INTEGER ) as groupVoteNumber,          # Will order groups using parent voteNumber
                        CONVERT( if( parentId = 0, @parentVoteCount:=voteCount,
                            @parentVoteCount ), SIGNED INTEGER ) as groupVoteCount,            # Will order groups using parent voteCount
                        CONVERT( if( parentId = 0, @parentCreateDate:=createDate,
                            @parentCreateDate ), DATETIME ) as groupCreateDate,                # Will order groups using parent createDate
                        CONVERT( if(parentId=0, id, parentId), UNSIGNED INTEGER) as groupId,   # will order groups together
                        CONVERT( if(parentId = 0, 0, 1), UNSIGNED INTEGER) as isChild,         # will order parent first in group
                        r.*
                        FROM (
                            # this just makes sure our groups are grouped in parent child order
                            SELECT * from q_brooklyncode o  WHERE o.location = '5e13bbb73127b9fc424e3728c6500f28' ORDER BY
                             if( o.relatedId = 0, o.id, o.relatedId),
                             if( o.relatedId = 0, 0, o.id )
                            ) r,
                        ( SELECT @parentVoteNumber := 0 ) pvn,
                        ( SELECT @parentVoteCount  := 0 ) pvc,
                        ( SELECT @parentCreateDate := 0 ) pcd
                         WHERE location = '5e13bbb73127b9fc424e3728c6500f28' 
                    ) s0
                    
                    
                    ORDER BY
                    
                s0.groupVoteNumber DESC,
                s0.groupVoteCount DESC,
                s0.groupCreateDate ASC,
                 
                    groupId  ASC, # first order by group
                    isChild ASC, # Then make sure the parent is first
                    
                s0.voteNumber DESC,
                s0.voteCount DESC,
                s0.createDate ASC
                
            ) s1,
            ( SELECT @parentrownum := 0 ) pr,
            ( SELECT @childrownum := 0 ) cr, 
            ( SELECT @lastparent := -1 ) lp) f
            LEFT JOIN user u on u.id = f.userId
            LEFT JOIN q_brooklyncode r on r.id = f.relatedId
            LEFT JOIN user ur on ur.id = r.userId
            WHERE
            ((0 = 6 and parent_sequence >= 1) or parent_sequence BETWEEN 1 AND 6)
            AND
            ((0 = 6 and child_sequence >= 1) or (child_sequence=0 or child_sequence BETWEEN 1 AND 6))
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10814d410>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = %s
        
DEBUG:root:escape_sql args: [1L]
DEBUG:root:
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = 1
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10814d490>
DEBUG:root:im: {u'itemId': 1L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'1fe8a631d5522d10e2cf2e4fabedc90b', u'id': 1L}
DEBUG:root:comment.images: []
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = %s
        
DEBUG:root:escape_sql args: [2L]
DEBUG:root:
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = 2
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10814d690>
DEBUG:root:im: {u'itemId': 2L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'cfbb12022f81667e3c2746e3c80b2e1e', u'id': 2L}
DEBUG:root:comment.images: []
DEBUG:root:Number of comments returned: 2
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:escape_sql args: []
DEBUG:root:
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10814d810>
DEBUG:root:Number of contributions 2
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10814da10>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10814dc10>
DEBUG:root:to_unicode
DEBUG:root:embed_content
DEBUG:root:embed_content
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:embed_content
DEBUG:root:embed_content
DEBUG:root:to_unicode
INFO:root:200 GET /q/embed (127.0.0.1)
Mon, 29 Jul 2013 01:32:11 GMT [ERROR] (errno: No such file or directory) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 01:32:11 GMT [ERROR] (errno: None) Failed to create target for route /q/static/
Mon, 29 Jul 2013 01:32:11 GMT [ERROR] (errno: None) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 01:32:11 GMT [ERROR] (errno: None) Failed to create target for route /q/robots.txt
Mon, 29 Jul 2013 01:32:11 GMT [ERROR] (errno: None) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 01:32:11 GMT [ERROR] (errno: None) Failed to create target for route /q/favicon.ico
Mon, 29 Jul 2013 01:32:11 GMT [INFO] (src/mime.c:49) MAX limits.mime_ext_len=128
Mon, 29 Jul 2013 01:32:11 GMT [INFO] (src/host.c:74) MAX limits.url_path=256, limits.host_name=256
Mon, 29 Jul 2013 01:32:11 GMT [INFO] (src/config/config.c:109) Loaded proxy 1:127.0.0.1:8081
Mon, 29 Jul 2013 01:32:11 GMT [INFO] (src/config/config.c:227) Loaded route 1:/:proxy for host 1:localhost
Mon, 29 Jul 2013 01:32:11 GMT [INFO] (src/handler.c:343) MAX limits.handler_stack=102400
Mon, 29 Jul 2013 01:32:11 GMT [INFO] (src/config/config.c:85) Loaded handler 1:ipc://run/qoorateserver/mongrel2_send:137b789e-b7eb-475a-8d5c-b16ab54493yu:ipc://run/qoorateserver/mongrel2_rcv:
Mon, 29 Jul 2013 01:32:11 GMT [INFO] (src/config/config.c:227) Loaded route 2:/q/:handler for host 1:localhost
Mon, 29 Jul 2013 01:32:11 GMT [INFO] (src/dir.c:195) MAX limits.dir_send_buffer=16384, limits.dir_max_path=256
Mon, 29 Jul 2013 01:32:11 GMT [INFO] (src/config/config.c:136) Loaded directory 1:static/qoorateserver/js/:index.html
Mon, 29 Jul 2013 01:32:11 GMT [INFO] (src/config/config.c:227) Loaded route 3:/q/js/:dir for host 1:localhost
Mon, 29 Jul 2013 01:32:11 GMT [INFO] (src/config/config.c:136) Loaded directory 2:static/qoorateserver/css/:index.html
Mon, 29 Jul 2013 01:32:11 GMT [INFO] (src/config/config.c:227) Loaded route 4:/q/css/:dir for host 1:localhost
Mon, 29 Jul 2013 01:32:11 GMT [INFO] (src/config/config.c:136) Loaded directory 3:static/qoorateserver/img/:index.html
Mon, 29 Jul 2013 01:32:11 GMT [INFO] (src/config/config.c:227) Loaded route 5:/q/img/:dir for host 1:localhost
Mon, 29 Jul 2013 01:32:11 GMT [INFO] (src/config/config.c:312) Loaded 1 hosts for server 1:fe76e442-da24-4708-b0ef-c4ahr2b7d131
Mon, 29 Jul 2013 01:32:11 GMT [INFO] (src/server.c:445) LOADING Handler ipc://run/qoorateserver/mongrel2_send
Mon, 29 Jul 2013 01:32:11 GMT [ERROR] (src/unixy.c:99: errno: No such file or directory) Failed to open PID file ../run/mongrel2.pid for reading.
Mon, 29 Jul 2013 01:32:11 GMT [INFO] (src/unixy.c:137) No previous mongrel2 running, continuing on.
Mon, 29 Jul 2013 01:32:11 GMT [INFO] (src/mongrel2.c:223) All loaded up, time to turn into a server.
Mon, 29 Jul 2013 01:32:11 GMT [INFO] (src/mongrel2.c:224) -- Starting Mongrel2/1.8.1. Copyright (C) Zed A. Shaw. Licensed BSD.

Mon, 29 Jul 2013 01:32:11 GMT [INFO] (src/mongrel2.c:225) -- Look in logs/error.log for startup messages and errors.
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
INFO:root:Using project directory: .
DEBUG:root:loading settings from ./conf/uploader/settings.py
INFO:root:Using coroutine library: gevent
DEBUG:root:******** START _service_registration *********
DEBUG:root:service_registration_passphrase: 137b789e-b7eb-475a-8d5a-b16ab544yurp
DEBUG:root:service_id: uploader
DEBUG:root:service_registration_addr: ipc://run/uploader/brubeck_svc_registration
DEBUG:root:service_passphrase: 137b789e-b7eb-475a-8d5a-b16ab544yurp
DEBUG:root:service_addr: ipc://run/uploader/brubeck_svc
DEBUG:root:service_response_addr: ipc://run/uploader/brubeck_svc_response
DEBUG:root:service_heartbeat_addr: None
DEBUG:root:service_heartbeat_timeout: 5
DEBUG:root:sender_id: 1833f2482d2a4885ade412571112c3ed
DEBUG:root:is_reregistration: 0
DEBUG:root:service_heartbeat_interval: 3
DEBUG:root:******** END _service_registration *********
DEBUG:root:register_service: (service_registration_addr, service_registration_passphrase,service_heartbeat_timeout,sender_id): (ipc://run/uploader/brubeck_svc_registration,137b789e-b7eb-475a-8d5a-b16ab544yurp, 5, 1833f2482d2a4885ade412571112c3ed)
DEBUG:root:service_registration sending request
DEBUG:root:service_registration waiting for response
INFO:root:Using project directory: .
DEBUG:root:loading settings from ./conf/qoorateserver/development.py
INFO:root:Using coroutine library: gevent
DEBUG:root:creating application db_conn pool
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:get EmbedHandler
DEBUG:root:to_unicode
DEBUG:root:embed_head
DEBUG:root:embed_head
DEBUG:root:to_unicode
DEBUG:root:action: embed_head 
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:set_table has key/secret
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = %s and `secret`= %s
        
DEBUG:root:escape_sql args: [u'12345', u'54321']
DEBUG:root:
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = '12345' and `secret`= '54321'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10f830410>
DEBUG:root:returning True from authencticate.
DEBUG:root:set_table authenticated
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10f830490>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has key/secret
DEBUG:root:returning `True` from authenticate cached.
DEBUG:root:set_table authenticated
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10f830690>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10f830810>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10f830a10>
DEBUG:root:qoorate preferences: {
    "THEME": "grid",
    "EMBED_CONF_JS": "
        var qoorateConfig = {
            QOORATE_URI: 'http://localhost',
            QOORATE_API_URI: 'http://localhost/q',
            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',
            XHR_PROXY_URI: '/q/feed',
            XHR_UPLOAD_URI: '/q/uploader',
            POST_MAX_LEN: 1000,
            PARENT_PAGE_SIZE: 10,
            CHILD_PAGE_SIZE: 10,
            AUTO_SCROLL: 1,
            THEME: 'grid',
            GRID_COLUMNS: 3,
            GRID_COLUMN_TRIM: 15,
            GRID_ROW_TRIM: 15
        };
        var qoorateLang = {
            FLAG_SUCCESS: 'Thanks for flagging this!',
            SHARE_SUCCESS: 'Thank you for sharing!',
            DELETE_SUCCESS: 'Thank you. This item has been deleted.',
            SIGNIN: 'Sign in using',
            SIGNEDIN: 'Signed in via',    
            OK: 'OK',
            CANCEL: 'Cancel',
            LOGOUT: 'Log Out',
            TOGGLE_ON: '+',
            TOGGLE_OFF: '-',
            CONTRIBUTION: 'Contribution',
            CONTRIBUTIONS: 'Contributions',
            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',
            REMOVE: 'Remove',
            LINK: 'Insert a link',
            TOPIC_COMMENT: 'Pose a Yes/No Question',
            COMMENT: 'Your Comment',
            IMAGE_COMMENT: 'Image Caption',
            POST_TO: 'Post to',
            POST_ANONYMOUS: 'Post anonymously',
            NICKNAME: 'Post as ',
            DEFAULT_NICKNAME: 'Anonymous',
            REPLY_LINK_COMMENT: 'Say something about your link',
            SHARE_COMMENT: 'comment about this share...',
            PUBLISH_BUTTON: 'Publish',
            POST_BUTTON: 'Post',
            POST_TO_BUTTON: 'Post To',
            REPLY_BUTTON: 'Reply',
            SHARE_BUTTON: 'Share',
            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',
            SELECT_IMAGE: 'Select an Image',
            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',
            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],
            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],
            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]
        };
    "
}

DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:preferences EMBED_CONF_JS:         var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    
DEBUG:root:embed_head called
INFO:root:200 GET /q/embed (127.0.0.1)
DEBUG:root:get EmbedHandler
DEBUG:root:to_unicode
DEBUG:root:embed_content
DEBUG:root:embed_content
DEBUG:root:to_unicode
DEBUG:root:action: embed_content 
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:set_table has key/secret
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = %s and `secret`= %s
        
DEBUG:root:escape_sql args: [u'12345', u'54321']
DEBUG:root:
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = '12345' and `secret`= '54321'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10f830c10>
DEBUG:root:returning True from authencticate.
DEBUG:root:set_table authenticated
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10f830e10>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has key/secret
DEBUG:root:returning `True` from authenticate cached.
DEBUG:root:set_table authenticated
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10f838050>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10f838250>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10f838450>
DEBUG:root:qoorate preferences: {
    "THEME": "grid",
    "EMBED_CONF_JS": "
        var qoorateConfig = {
            QOORATE_URI: 'http://localhost',
            QOORATE_API_URI: 'http://localhost/q',
            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',
            XHR_PROXY_URI: '/q/feed',
            XHR_UPLOAD_URI: '/q/uploader',
            POST_MAX_LEN: 1000,
            PARENT_PAGE_SIZE: 10,
            CHILD_PAGE_SIZE: 10,
            AUTO_SCROLL: 1,
            THEME: 'grid',
            GRID_COLUMNS: 3,
            GRID_COLUMN_TRIM: 15,
            GRID_ROW_TRIM: 15
        };
        var qoorateLang = {
            FLAG_SUCCESS: 'Thanks for flagging this!',
            SHARE_SUCCESS: 'Thank you for sharing!',
            DELETE_SUCCESS: 'Thank you. This item has been deleted.',
            SIGNIN: 'Sign in using',
            SIGNEDIN: 'Signed in via',    
            OK: 'OK',
            CANCEL: 'Cancel',
            LOGOUT: 'Log Out',
            TOGGLE_ON: '+',
            TOGGLE_OFF: '-',
            CONTRIBUTION: 'Contribution',
            CONTRIBUTIONS: 'Contributions',
            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',
            REMOVE: 'Remove',
            LINK: 'Insert a link',
            TOPIC_COMMENT: 'Pose a Yes/No Question',
            COMMENT: 'Your Comment',
            IMAGE_COMMENT: 'Image Caption',
            POST_TO: 'Post to',
            POST_ANONYMOUS: 'Post anonymously',
            NICKNAME: 'Post as ',
            DEFAULT_NICKNAME: 'Anonymous',
            REPLY_LINK_COMMENT: 'Say something about your link',
            SHARE_COMMENT: 'comment about this share...',
            PUBLISH_BUTTON: 'Publish',
            POST_BUTTON: 'Post',
            POST_TO_BUTTON: 'Post To',
            REPLY_BUTTON: 'Reply',
            SHARE_BUTTON: 'Share',
            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',
            SELECT_IMAGE: 'Select an Image',
            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',
            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],
            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],
            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]
        };
    "
}

DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:preferences EMBED_CONF_JS:         var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    
DEBUG:root:embed_content called (key,secret): (12345,54321)
DEBUG:root:returning `True` from authenticate cached.
DEBUG:root:get_content_context
DEBUG:root:table: q_brooklyncode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:init_db_conn
DEBUG:root:NOT creating db_conn
DEBUG:root:1
DEBUG:root:5
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT f.`parent_sequence` , f.`child_sequence` , f.`id` , f.`locationId` , f.`relatedId`,
                f.`parentId` , f.`userId` , `u`.`username`, u.`thumbnailLarge` as userThumbnailLarge,
                ur.`username` as relatedUsername, ur.`thumbnailLarge` as relatedUserThumbnailLarge, f.`type`,
                f.`is_anonymous` , r.`is_anonymous` as `related_is_anonymous`, f.`name` , f.`location` ,f.`description`,f.`referer`,
                f.`voteCount` , f.`voteNumber` , f.`votesUp` ,f.`votesDown` , f.`flagCount`,  f.`childCount`, f.`sortOrder` , f.`status`,
                f.`thumbnailSmall` ,f.`thumbnailLarge` , f.`changeDate` , f.`createDate`, f.`nickname`, r.`nickname` as `related_nickname`
            FROM (
                # this query adds the sequence fields to filter by for paging
                SELECT  s1.*, @parentrownum := convert( IF( ( parentId = 0), @parentrownum +1, @parentrownum ), UNSIGNED INTEGER) AS parent_sequence,
                @childrownum := IF( ( @lastparent = parentId), @childrownum + 1, 0 ) AS child_sequence,
                @lastparent := if( parentId=0, id, parentId ) AS dummy_used_for_last_parent
                FROM
                    # QUERY 2: this query sorts the results properly
                    (SELECT s0.* FROM
                        # QUERY 1: This query gets the results we need with calculated fields to sort by
                        # We should probably have these fields in the database so they are indexed
                        (SELECT
                        CONVERT( if( parentId = 0, @parentVoteNumber:=voteNumber,
                            @parentVoteNumber ), SIGNED INTEGER ) as groupVoteNumber,          # Will order groups using parent voteNumber
                        CONVERT( if( parentId = 0, @parentVoteCount:=voteCount,
                            @parentVoteCount ), SIGNED INTEGER ) as groupVoteCount,            # Will order groups using parent voteCount
                        CONVERT( if( parentId = 0, @parentCreateDate:=createDate,
                            @parentCreateDate ), DATETIME ) as groupCreateDate,                # Will order groups using parent createDate
                        CONVERT( if(parentId=0, id, parentId), UNSIGNED INTEGER) as groupId,   # will order groups together
                        CONVERT( if(parentId = 0, 0, 1), UNSIGNED INTEGER) as isChild,         # will order parent first in group
                        r.*
                        FROM (
                            # this just makes sure our groups are grouped in parent child order
                            SELECT * from q_brooklyncode o  WHERE o.location = '5e13bbb73127b9fc424e3728c6500f28' ORDER BY
                             if( o.relatedId = 0, o.id, o.relatedId),
                             if( o.relatedId = 0, 0, o.id )
                            ) r,
                        ( SELECT @parentVoteNumber := 0 ) pvn,
                        ( SELECT @parentVoteCount  := 0 ) pvc,
                        ( SELECT @parentCreateDate := 0 ) pcd
                         WHERE location = '5e13bbb73127b9fc424e3728c6500f28' 
                    ) s0
                    
                    
                    ORDER BY
                    
                s0.groupVoteNumber DESC,
                s0.groupVoteCount DESC,
                s0.groupCreateDate ASC,
                 
                    groupId  ASC, # first order by group
                    isChild ASC, # Then make sure the parent is first
                    
                s0.voteNumber DESC,
                s0.voteCount DESC,
                s0.createDate ASC
                
            ) s1,
            ( SELECT @parentrownum := 0 ) pr,
            ( SELECT @childrownum := 0 ) cr, 
            ( SELECT @lastparent := -1 ) lp) f
            LEFT JOIN user u on u.id = f.userId
            LEFT JOIN q_brooklyncode r on r.id = f.relatedId
            LEFT JOIN user ur on ur.id = r.userId
            WHERE
            ((0 = 6 and parent_sequence >= 1) or parent_sequence BETWEEN 1 AND 6)
            AND
            ((0 = 6 and child_sequence >= 1) or (child_sequence=0 or child_sequence BETWEEN 1 AND 6))
        
DEBUG:root:escape_sql args: None
DEBUG:root:
            SELECT f.`parent_sequence` , f.`child_sequence` , f.`id` , f.`locationId` , f.`relatedId`,
                f.`parentId` , f.`userId` , `u`.`username`, u.`thumbnailLarge` as userThumbnailLarge,
                ur.`username` as relatedUsername, ur.`thumbnailLarge` as relatedUserThumbnailLarge, f.`type`,
                f.`is_anonymous` , r.`is_anonymous` as `related_is_anonymous`, f.`name` , f.`location` ,f.`description`,f.`referer`,
                f.`voteCount` , f.`voteNumber` , f.`votesUp` ,f.`votesDown` , f.`flagCount`,  f.`childCount`, f.`sortOrder` , f.`status`,
                f.`thumbnailSmall` ,f.`thumbnailLarge` , f.`changeDate` , f.`createDate`, f.`nickname`, r.`nickname` as `related_nickname`
            FROM (
                # this query adds the sequence fields to filter by for paging
                SELECT  s1.*, @parentrownum := convert( IF( ( parentId = 0), @parentrownum +1, @parentrownum ), UNSIGNED INTEGER) AS parent_sequence,
                @childrownum := IF( ( @lastparent = parentId), @childrownum + 1, 0 ) AS child_sequence,
                @lastparent := if( parentId=0, id, parentId ) AS dummy_used_for_last_parent
                FROM
                    # QUERY 2: this query sorts the results properly
                    (SELECT s0.* FROM
                        # QUERY 1: This query gets the results we need with calculated fields to sort by
                        # We should probably have these fields in the database so they are indexed
                        (SELECT
                        CONVERT( if( parentId = 0, @parentVoteNumber:=voteNumber,
                            @parentVoteNumber ), SIGNED INTEGER ) as groupVoteNumber,          # Will order groups using parent voteNumber
                        CONVERT( if( parentId = 0, @parentVoteCount:=voteCount,
                            @parentVoteCount ), SIGNED INTEGER ) as groupVoteCount,            # Will order groups using parent voteCount
                        CONVERT( if( parentId = 0, @parentCreateDate:=createDate,
                            @parentCreateDate ), DATETIME ) as groupCreateDate,                # Will order groups using parent createDate
                        CONVERT( if(parentId=0, id, parentId), UNSIGNED INTEGER) as groupId,   # will order groups together
                        CONVERT( if(parentId = 0, 0, 1), UNSIGNED INTEGER) as isChild,         # will order parent first in group
                        r.*
                        FROM (
                            # this just makes sure our groups are grouped in parent child order
                            SELECT * from q_brooklyncode o  WHERE o.location = '5e13bbb73127b9fc424e3728c6500f28' ORDER BY
                             if( o.relatedId = 0, o.id, o.relatedId),
                             if( o.relatedId = 0, 0, o.id )
                            ) r,
                        ( SELECT @parentVoteNumber := 0 ) pvn,
                        ( SELECT @parentVoteCount  := 0 ) pvc,
                        ( SELECT @parentCreateDate := 0 ) pcd
                         WHERE location = '5e13bbb73127b9fc424e3728c6500f28' 
                    ) s0
                    
                    
                    ORDER BY
                    
                s0.groupVoteNumber DESC,
                s0.groupVoteCount DESC,
                s0.groupCreateDate ASC,
                 
                    groupId  ASC, # first order by group
                    isChild ASC, # Then make sure the parent is first
                    
                s0.voteNumber DESC,
                s0.voteCount DESC,
                s0.createDate ASC
                
            ) s1,
            ( SELECT @parentrownum := 0 ) pr,
            ( SELECT @childrownum := 0 ) cr, 
            ( SELECT @lastparent := -1 ) lp) f
            LEFT JOIN user u on u.id = f.userId
            LEFT JOIN q_brooklyncode r on r.id = f.relatedId
            LEFT JOIN user ur on ur.id = r.userId
            WHERE
            ((0 = 6 and parent_sequence >= 1) or parent_sequence BETWEEN 1 AND 6)
            AND
            ((0 = 6 and child_sequence >= 1) or (child_sequence=0 or child_sequence BETWEEN 1 AND 6))
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10f830410>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = %s
        
DEBUG:root:escape_sql args: [1L]
DEBUG:root:
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = 1
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10f830490>
DEBUG:root:im: [({u'itemId': 1L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'1fe8a631d5522d10e2cf2e4fabedc90b', u'id': 1L},)]
ERROR:root:'tuple' object has no attribute '_fields'
Traceback (most recent call last):
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck-0.4.0-py2.7.egg/brubeck/request_handling.py", line 339, in __call__
    rendered = fun(*self._url_args)
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/embed.py", line 195, in get
    context = self.get_content_context()
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/embed.py", line 129, in get_content_context
    childCount=self.settings['CHILD_PAGE_SIZE'])
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 209, in load_comments_by_table_and_location
    comment.images = im
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/schematics/types/compound.py", line 91, in __set__
    datum_fields = datum._fields.keys()
AttributeError: 'tuple' object has no attribute '_fields'
INFO:root:500 GET /q/embed (127.0.0.1)
Mon, 29 Jul 2013 01:48:31 GMT [ERROR] (errno: No such file or directory) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 01:48:31 GMT [ERROR] (errno: None) Failed to create target for route /q/static/
Mon, 29 Jul 2013 01:48:31 GMT [ERROR] (errno: None) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 01:48:31 GMT [ERROR] (errno: None) Failed to create target for route /q/robots.txt
Mon, 29 Jul 2013 01:48:31 GMT [ERROR] (errno: None) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 01:48:31 GMT [ERROR] (errno: None) Failed to create target for route /q/favicon.ico
Mon, 29 Jul 2013 01:48:31 GMT [INFO] (src/mime.c:49) MAX limits.mime_ext_len=128
Mon, 29 Jul 2013 01:48:31 GMT [INFO] (src/host.c:74) MAX limits.url_path=256, limits.host_name=256
Mon, 29 Jul 2013 01:48:31 GMT [INFO] (src/config/config.c:109) Loaded proxy 1:127.0.0.1:8081
Mon, 29 Jul 2013 01:48:31 GMT [INFO] (src/config/config.c:227) Loaded route 1:/:proxy for host 1:localhost
Mon, 29 Jul 2013 01:48:31 GMT [INFO] (src/handler.c:343) MAX limits.handler_stack=102400
Mon, 29 Jul 2013 01:48:31 GMT [INFO] (src/config/config.c:85) Loaded handler 1:ipc://run/qoorateserver/mongrel2_send:137b789e-b7eb-475a-8d5c-b16ab54493yu:ipc://run/qoorateserver/mongrel2_rcv:
Mon, 29 Jul 2013 01:48:31 GMT [INFO] (src/config/config.c:227) Loaded route 2:/q/:handler for host 1:localhost
Mon, 29 Jul 2013 01:48:31 GMT [INFO] (src/dir.c:195) MAX limits.dir_send_buffer=16384, limits.dir_max_path=256
Mon, 29 Jul 2013 01:48:31 GMT [INFO] (src/config/config.c:136) Loaded directory 1:static/qoorateserver/js/:index.html
Mon, 29 Jul 2013 01:48:31 GMT [INFO] (src/config/config.c:227) Loaded route 3:/q/js/:dir for host 1:localhost
Mon, 29 Jul 2013 01:48:31 GMT [INFO] (src/config/config.c:136) Loaded directory 2:static/qoorateserver/css/:index.html
Mon, 29 Jul 2013 01:48:31 GMT [INFO] (src/config/config.c:227) Loaded route 4:/q/css/:dir for host 1:localhost
Mon, 29 Jul 2013 01:48:31 GMT [INFO] (src/config/config.c:136) Loaded directory 3:static/qoorateserver/img/:index.html
Mon, 29 Jul 2013 01:48:31 GMT [INFO] (src/config/config.c:227) Loaded route 5:/q/img/:dir for host 1:localhost
Mon, 29 Jul 2013 01:48:31 GMT [INFO] (src/config/config.c:312) Loaded 1 hosts for server 1:fe76e442-da24-4708-b0ef-c4ahr2b7d131
Mon, 29 Jul 2013 01:48:31 GMT [INFO] (src/server.c:445) LOADING Handler ipc://run/qoorateserver/mongrel2_send
Mon, 29 Jul 2013 01:48:31 GMT [ERROR] (src/unixy.c:99: errno: No such file or directory) Failed to open PID file ../run/mongrel2.pid for reading.
Mon, 29 Jul 2013 01:48:31 GMT [INFO] (src/unixy.c:137) No previous mongrel2 running, continuing on.
Mon, 29 Jul 2013 01:48:31 GMT [INFO] (src/mongrel2.c:223) All loaded up, time to turn into a server.
Mon, 29 Jul 2013 01:48:31 GMT [INFO] (src/mongrel2.c:224) -- Starting Mongrel2/1.8.1. Copyright (C) Zed A. Shaw. Licensed BSD.

Mon, 29 Jul 2013 01:48:31 GMT [INFO] (src/mongrel2.c:225) -- Look in logs/error.log for startup messages and errors.
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
INFO:root:Using project directory: .
DEBUG:root:loading settings from ./conf/uploader/settings.py
INFO:root:Using coroutine library: gevent
DEBUG:root:******** START _service_registration *********
DEBUG:root:service_registration_passphrase: 137b789e-b7eb-475a-8d5a-b16ab544yurp
DEBUG:root:service_id: uploader
DEBUG:root:service_registration_addr: ipc://run/uploader/brubeck_svc_registration
DEBUG:root:service_passphrase: 137b789e-b7eb-475a-8d5a-b16ab544yurp
DEBUG:root:service_addr: ipc://run/uploader/brubeck_svc
DEBUG:root:service_response_addr: ipc://run/uploader/brubeck_svc_response
DEBUG:root:service_heartbeat_addr: None
DEBUG:root:service_heartbeat_timeout: 5
DEBUG:root:sender_id: 4f485b24ad104d5b8bcdcb6c797ef513
DEBUG:root:is_reregistration: 0
DEBUG:root:service_heartbeat_interval: 3
DEBUG:root:******** END _service_registration *********
DEBUG:root:register_service: (service_registration_addr, service_registration_passphrase,service_heartbeat_timeout,sender_id): (ipc://run/uploader/brubeck_svc_registration,137b789e-b7eb-475a-8d5a-b16ab544yurp, 5, 4f485b24ad104d5b8bcdcb6c797ef513)
DEBUG:root:service_registration sending request
DEBUG:root:service_registration waiting for response
INFO:root:Using project directory: .
DEBUG:root:loading settings from ./conf/qoorateserver/development.py
INFO:root:Using coroutine library: gevent
DEBUG:root:creating application db_conn pool
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:get EmbedHandler
DEBUG:root:to_unicode
DEBUG:root:embed_head
DEBUG:root:embed_head
DEBUG:root:to_unicode
DEBUG:root:action: embed_head 
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:set_table has key/secret
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = %s and `secret`= %s
        
DEBUG:root:escape_sql args: [u'12345', u'54321']
DEBUG:root:
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = '12345' and `secret`= '54321'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x102ec98d0>
DEBUG:root:returning True from authencticate.
DEBUG:root:set_table authenticated
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x102ec9950>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has key/secret
DEBUG:root:returning `True` from authenticate cached.
DEBUG:root:set_table authenticated
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x102ec9b50>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x102ec9cd0>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x102ec9ed0>
DEBUG:root:qoorate preferences: {
    "THEME": "grid",
    "EMBED_CONF_JS": "
        var qoorateConfig = {
            QOORATE_URI: 'http://localhost',
            QOORATE_API_URI: 'http://localhost/q',
            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',
            XHR_PROXY_URI: '/q/feed',
            XHR_UPLOAD_URI: '/q/uploader',
            POST_MAX_LEN: 1000,
            PARENT_PAGE_SIZE: 10,
            CHILD_PAGE_SIZE: 10,
            AUTO_SCROLL: 1,
            THEME: 'grid',
            GRID_COLUMNS: 3,
            GRID_COLUMN_TRIM: 15,
            GRID_ROW_TRIM: 15
        };
        var qoorateLang = {
            FLAG_SUCCESS: 'Thanks for flagging this!',
            SHARE_SUCCESS: 'Thank you for sharing!',
            DELETE_SUCCESS: 'Thank you. This item has been deleted.',
            SIGNIN: 'Sign in using',
            SIGNEDIN: 'Signed in via',    
            OK: 'OK',
            CANCEL: 'Cancel',
            LOGOUT: 'Log Out',
            TOGGLE_ON: '+',
            TOGGLE_OFF: '-',
            CONTRIBUTION: 'Contribution',
            CONTRIBUTIONS: 'Contributions',
            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',
            REMOVE: 'Remove',
            LINK: 'Insert a link',
            TOPIC_COMMENT: 'Pose a Yes/No Question',
            COMMENT: 'Your Comment',
            IMAGE_COMMENT: 'Image Caption',
            POST_TO: 'Post to',
            POST_ANONYMOUS: 'Post anonymously',
            NICKNAME: 'Post as ',
            DEFAULT_NICKNAME: 'Anonymous',
            REPLY_LINK_COMMENT: 'Say something about your link',
            SHARE_COMMENT: 'comment about this share...',
            PUBLISH_BUTTON: 'Publish',
            POST_BUTTON: 'Post',
            POST_TO_BUTTON: 'Post To',
            REPLY_BUTTON: 'Reply',
            SHARE_BUTTON: 'Share',
            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',
            SELECT_IMAGE: 'Select an Image',
            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',
            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],
            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],
            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]
        };
    "
}

DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:preferences EMBED_CONF_JS:         var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    
DEBUG:root:embed_head called
INFO:root:200 GET /q/embed (127.0.0.1)
DEBUG:root:get EmbedHandler
DEBUG:root:to_unicode
DEBUG:root:embed_content
DEBUG:root:embed_content
DEBUG:root:to_unicode
DEBUG:root:action: embed_content 
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:set_table has key/secret
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = %s and `secret`= %s
        
DEBUG:root:escape_sql args: [u'12345', u'54321']
DEBUG:root:
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = '12345' and `secret`= '54321'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x102ed2110>
DEBUG:root:returning True from authencticate.
DEBUG:root:set_table authenticated
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x102ed2310>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has key/secret
DEBUG:root:returning `True` from authenticate cached.
DEBUG:root:set_table authenticated
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x102ed2510>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x102ed2710>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x102ed2910>
DEBUG:root:qoorate preferences: {
    "THEME": "grid",
    "EMBED_CONF_JS": "
        var qoorateConfig = {
            QOORATE_URI: 'http://localhost',
            QOORATE_API_URI: 'http://localhost/q',
            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',
            XHR_PROXY_URI: '/q/feed',
            XHR_UPLOAD_URI: '/q/uploader',
            POST_MAX_LEN: 1000,
            PARENT_PAGE_SIZE: 10,
            CHILD_PAGE_SIZE: 10,
            AUTO_SCROLL: 1,
            THEME: 'grid',
            GRID_COLUMNS: 3,
            GRID_COLUMN_TRIM: 15,
            GRID_ROW_TRIM: 15
        };
        var qoorateLang = {
            FLAG_SUCCESS: 'Thanks for flagging this!',
            SHARE_SUCCESS: 'Thank you for sharing!',
            DELETE_SUCCESS: 'Thank you. This item has been deleted.',
            SIGNIN: 'Sign in using',
            SIGNEDIN: 'Signed in via',    
            OK: 'OK',
            CANCEL: 'Cancel',
            LOGOUT: 'Log Out',
            TOGGLE_ON: '+',
            TOGGLE_OFF: '-',
            CONTRIBUTION: 'Contribution',
            CONTRIBUTIONS: 'Contributions',
            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',
            REMOVE: 'Remove',
            LINK: 'Insert a link',
            TOPIC_COMMENT: 'Pose a Yes/No Question',
            COMMENT: 'Your Comment',
            IMAGE_COMMENT: 'Image Caption',
            POST_TO: 'Post to',
            POST_ANONYMOUS: 'Post anonymously',
            NICKNAME: 'Post as ',
            DEFAULT_NICKNAME: 'Anonymous',
            REPLY_LINK_COMMENT: 'Say something about your link',
            SHARE_COMMENT: 'comment about this share...',
            PUBLISH_BUTTON: 'Publish',
            POST_BUTTON: 'Post',
            POST_TO_BUTTON: 'Post To',
            REPLY_BUTTON: 'Reply',
            SHARE_BUTTON: 'Share',
            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',
            SELECT_IMAGE: 'Select an Image',
            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',
            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],
            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],
            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]
        };
    "
}

DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:preferences EMBED_CONF_JS:         var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    
DEBUG:root:embed_content called (key,secret): (12345,54321)
DEBUG:root:returning `True` from authenticate cached.
DEBUG:root:get_content_context
DEBUG:root:table: q_brooklyncode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:init_db_conn
DEBUG:root:NOT creating db_conn
DEBUG:root:1
DEBUG:root:5
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT f.`parent_sequence` , f.`child_sequence` , f.`id` , f.`locationId` , f.`relatedId`,
                f.`parentId` , f.`userId` , `u`.`username`, u.`thumbnailLarge` as userThumbnailLarge,
                ur.`username` as relatedUsername, ur.`thumbnailLarge` as relatedUserThumbnailLarge, f.`type`,
                f.`is_anonymous` , r.`is_anonymous` as `related_is_anonymous`, f.`name` , f.`location` ,f.`description`,f.`referer`,
                f.`voteCount` , f.`voteNumber` , f.`votesUp` ,f.`votesDown` , f.`flagCount`,  f.`childCount`, f.`sortOrder` , f.`status`,
                f.`thumbnailSmall` ,f.`thumbnailLarge` , f.`changeDate` , f.`createDate`, f.`nickname`, r.`nickname` as `related_nickname`
            FROM (
                # this query adds the sequence fields to filter by for paging
                SELECT  s1.*, @parentrownum := convert( IF( ( parentId = 0), @parentrownum +1, @parentrownum ), UNSIGNED INTEGER) AS parent_sequence,
                @childrownum := IF( ( @lastparent = parentId), @childrownum + 1, 0 ) AS child_sequence,
                @lastparent := if( parentId=0, id, parentId ) AS dummy_used_for_last_parent
                FROM
                    # QUERY 2: this query sorts the results properly
                    (SELECT s0.* FROM
                        # QUERY 1: This query gets the results we need with calculated fields to sort by
                        # We should probably have these fields in the database so they are indexed
                        (SELECT
                        CONVERT( if( parentId = 0, @parentVoteNumber:=voteNumber,
                            @parentVoteNumber ), SIGNED INTEGER ) as groupVoteNumber,          # Will order groups using parent voteNumber
                        CONVERT( if( parentId = 0, @parentVoteCount:=voteCount,
                            @parentVoteCount ), SIGNED INTEGER ) as groupVoteCount,            # Will order groups using parent voteCount
                        CONVERT( if( parentId = 0, @parentCreateDate:=createDate,
                            @parentCreateDate ), DATETIME ) as groupCreateDate,                # Will order groups using parent createDate
                        CONVERT( if(parentId=0, id, parentId), UNSIGNED INTEGER) as groupId,   # will order groups together
                        CONVERT( if(parentId = 0, 0, 1), UNSIGNED INTEGER) as isChild,         # will order parent first in group
                        r.*
                        FROM (
                            # this just makes sure our groups are grouped in parent child order
                            SELECT * from q_brooklyncode o  WHERE o.location = '5e13bbb73127b9fc424e3728c6500f28' ORDER BY
                             if( o.relatedId = 0, o.id, o.relatedId),
                             if( o.relatedId = 0, 0, o.id )
                            ) r,
                        ( SELECT @parentVoteNumber := 0 ) pvn,
                        ( SELECT @parentVoteCount  := 0 ) pvc,
                        ( SELECT @parentCreateDate := 0 ) pcd
                         WHERE location = '5e13bbb73127b9fc424e3728c6500f28' 
                    ) s0
                    
                    
                    ORDER BY
                    
                s0.groupVoteNumber DESC,
                s0.groupVoteCount DESC,
                s0.groupCreateDate ASC,
                 
                    groupId  ASC, # first order by group
                    isChild ASC, # Then make sure the parent is first
                    
                s0.voteNumber DESC,
                s0.voteCount DESC,
                s0.createDate ASC
                
            ) s1,
            ( SELECT @parentrownum := 0 ) pr,
            ( SELECT @childrownum := 0 ) cr, 
            ( SELECT @lastparent := -1 ) lp) f
            LEFT JOIN user u on u.id = f.userId
            LEFT JOIN q_brooklyncode r on r.id = f.relatedId
            LEFT JOIN user ur on ur.id = r.userId
            WHERE
            ((0 = 6 and parent_sequence >= 1) or parent_sequence BETWEEN 1 AND 6)
            AND
            ((0 = 6 and child_sequence >= 1) or (child_sequence=0 or child_sequence BETWEEN 1 AND 6))
        
DEBUG:root:escape_sql args: None
DEBUG:root:
            SELECT f.`parent_sequence` , f.`child_sequence` , f.`id` , f.`locationId` , f.`relatedId`,
                f.`parentId` , f.`userId` , `u`.`username`, u.`thumbnailLarge` as userThumbnailLarge,
                ur.`username` as relatedUsername, ur.`thumbnailLarge` as relatedUserThumbnailLarge, f.`type`,
                f.`is_anonymous` , r.`is_anonymous` as `related_is_anonymous`, f.`name` , f.`location` ,f.`description`,f.`referer`,
                f.`voteCount` , f.`voteNumber` , f.`votesUp` ,f.`votesDown` , f.`flagCount`,  f.`childCount`, f.`sortOrder` , f.`status`,
                f.`thumbnailSmall` ,f.`thumbnailLarge` , f.`changeDate` , f.`createDate`, f.`nickname`, r.`nickname` as `related_nickname`
            FROM (
                # this query adds the sequence fields to filter by for paging
                SELECT  s1.*, @parentrownum := convert( IF( ( parentId = 0), @parentrownum +1, @parentrownum ), UNSIGNED INTEGER) AS parent_sequence,
                @childrownum := IF( ( @lastparent = parentId), @childrownum + 1, 0 ) AS child_sequence,
                @lastparent := if( parentId=0, id, parentId ) AS dummy_used_for_last_parent
                FROM
                    # QUERY 2: this query sorts the results properly
                    (SELECT s0.* FROM
                        # QUERY 1: This query gets the results we need with calculated fields to sort by
                        # We should probably have these fields in the database so they are indexed
                        (SELECT
                        CONVERT( if( parentId = 0, @parentVoteNumber:=voteNumber,
                            @parentVoteNumber ), SIGNED INTEGER ) as groupVoteNumber,          # Will order groups using parent voteNumber
                        CONVERT( if( parentId = 0, @parentVoteCount:=voteCount,
                            @parentVoteCount ), SIGNED INTEGER ) as groupVoteCount,            # Will order groups using parent voteCount
                        CONVERT( if( parentId = 0, @parentCreateDate:=createDate,
                            @parentCreateDate ), DATETIME ) as groupCreateDate,                # Will order groups using parent createDate
                        CONVERT( if(parentId=0, id, parentId), UNSIGNED INTEGER) as groupId,   # will order groups together
                        CONVERT( if(parentId = 0, 0, 1), UNSIGNED INTEGER) as isChild,         # will order parent first in group
                        r.*
                        FROM (
                            # this just makes sure our groups are grouped in parent child order
                            SELECT * from q_brooklyncode o  WHERE o.location = '5e13bbb73127b9fc424e3728c6500f28' ORDER BY
                             if( o.relatedId = 0, o.id, o.relatedId),
                             if( o.relatedId = 0, 0, o.id )
                            ) r,
                        ( SELECT @parentVoteNumber := 0 ) pvn,
                        ( SELECT @parentVoteCount  := 0 ) pvc,
                        ( SELECT @parentCreateDate := 0 ) pcd
                         WHERE location = '5e13bbb73127b9fc424e3728c6500f28' 
                    ) s0
                    
                    
                    ORDER BY
                    
                s0.groupVoteNumber DESC,
                s0.groupVoteCount DESC,
                s0.groupCreateDate ASC,
                 
                    groupId  ASC, # first order by group
                    isChild ASC, # Then make sure the parent is first
                    
                s0.voteNumber DESC,
                s0.voteCount DESC,
                s0.createDate ASC
                
            ) s1,
            ( SELECT @parentrownum := 0 ) pr,
            ( SELECT @childrownum := 0 ) cr, 
            ( SELECT @lastparent := -1 ) lp) f
            LEFT JOIN user u on u.id = f.userId
            LEFT JOIN q_brooklyncode r on r.id = f.relatedId
            LEFT JOIN user ur on ur.id = r.userId
            WHERE
            ((0 = 6 and parent_sequence >= 1) or parent_sequence BETWEEN 1 AND 6)
            AND
            ((0 = 6 and child_sequence >= 1) or (child_sequence=0 or child_sequence BETWEEN 1 AND 6))
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x102ec98d0>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = %s
        
DEBUG:root:escape_sql args: [1L]
DEBUG:root:
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = 1
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x102ec9950>
DEBUG:root:dictlist: {u'itemId': 1L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'1fe8a631d5522d10e2cf2e4fabedc90b', u'id': 1L}
DEBUG:root:dictItem: {u'itemId': 1L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'1fe8a631d5522d10e2cf2e4fabedc90b', u'id': 1L}
ERROR:root:global name 'DictToSchematic' is not defined
Traceback (most recent call last):
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck-0.4.0-py2.7.egg/brubeck/request_handling.py", line 339, in __call__
    rendered = fun(*self._url_args)
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/embed.py", line 195, in get
    context = self.get_content_context()
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/embed.py", line 129, in get_content_context
    childCount=self.settings['CHILD_PAGE_SIZE'])
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 209, in load_comments_by_table_and_location
    im = self.image_queryset.load_images_by_item_id(table, comment.id)
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 436, in load_images_by_item_id
    return self.dictListToSchematicList(self.query(sql, [item_id]))
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 416, in dictListToSchematicList
    items.append(DictToSchematic(dictItem))
NameError: global name 'DictToSchematic' is not defined
INFO:root:500 GET /q/embed (127.0.0.1)
Mon, 29 Jul 2013 01:50:21 GMT [ERROR] (errno: No such file or directory) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 01:50:21 GMT [ERROR] (errno: None) Failed to create target for route /q/static/
Mon, 29 Jul 2013 01:50:21 GMT [ERROR] (errno: None) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 01:50:21 GMT [ERROR] (errno: None) Failed to create target for route /q/robots.txt
Mon, 29 Jul 2013 01:50:21 GMT [ERROR] (errno: None) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 01:50:21 GMT [ERROR] (errno: None) Failed to create target for route /q/favicon.ico
Mon, 29 Jul 2013 01:50:21 GMT [INFO] (src/mime.c:49) MAX limits.mime_ext_len=128
Mon, 29 Jul 2013 01:50:21 GMT [INFO] (src/host.c:74) MAX limits.url_path=256, limits.host_name=256
Mon, 29 Jul 2013 01:50:21 GMT [INFO] (src/config/config.c:109) Loaded proxy 1:127.0.0.1:8081
Mon, 29 Jul 2013 01:50:21 GMT [INFO] (src/config/config.c:227) Loaded route 1:/:proxy for host 1:localhost
Mon, 29 Jul 2013 01:50:21 GMT [INFO] (src/handler.c:343) MAX limits.handler_stack=102400
Mon, 29 Jul 2013 01:50:21 GMT [INFO] (src/config/config.c:85) Loaded handler 1:ipc://run/qoorateserver/mongrel2_send:137b789e-b7eb-475a-8d5c-b16ab54493yu:ipc://run/qoorateserver/mongrel2_rcv:
Mon, 29 Jul 2013 01:50:21 GMT [INFO] (src/config/config.c:227) Loaded route 2:/q/:handler for host 1:localhost
Mon, 29 Jul 2013 01:50:21 GMT [INFO] (src/dir.c:195) MAX limits.dir_send_buffer=16384, limits.dir_max_path=256
Mon, 29 Jul 2013 01:50:21 GMT [INFO] (src/config/config.c:136) Loaded directory 1:static/qoorateserver/js/:index.html
Mon, 29 Jul 2013 01:50:21 GMT [INFO] (src/config/config.c:227) Loaded route 3:/q/js/:dir for host 1:localhost
Mon, 29 Jul 2013 01:50:21 GMT [INFO] (src/config/config.c:136) Loaded directory 2:static/qoorateserver/css/:index.html
Mon, 29 Jul 2013 01:50:21 GMT [INFO] (src/config/config.c:227) Loaded route 4:/q/css/:dir for host 1:localhost
Mon, 29 Jul 2013 01:50:21 GMT [INFO] (src/config/config.c:136) Loaded directory 3:static/qoorateserver/img/:index.html
Mon, 29 Jul 2013 01:50:21 GMT [INFO] (src/config/config.c:227) Loaded route 5:/q/img/:dir for host 1:localhost
Mon, 29 Jul 2013 01:50:21 GMT [INFO] (src/config/config.c:312) Loaded 1 hosts for server 1:fe76e442-da24-4708-b0ef-c4ahr2b7d131
Mon, 29 Jul 2013 01:50:21 GMT [INFO] (src/server.c:445) LOADING Handler ipc://run/qoorateserver/mongrel2_send
Mon, 29 Jul 2013 01:50:21 GMT [ERROR] (src/unixy.c:99: errno: No such file or directory) Failed to open PID file ../run/mongrel2.pid for reading.
Mon, 29 Jul 2013 01:50:21 GMT [INFO] (src/unixy.c:137) No previous mongrel2 running, continuing on.
Mon, 29 Jul 2013 01:50:21 GMT [INFO] (src/mongrel2.c:223) All loaded up, time to turn into a server.
Mon, 29 Jul 2013 01:50:21 GMT [INFO] (src/mongrel2.c:224) -- Starting Mongrel2/1.8.1. Copyright (C) Zed A. Shaw. Licensed BSD.

Mon, 29 Jul 2013 01:50:21 GMT [INFO] (src/mongrel2.c:225) -- Look in logs/error.log for startup messages and errors.
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
INFO:root:Using project directory: .
DEBUG:root:loading settings from ./conf/uploader/settings.py
INFO:root:Using coroutine library: gevent
DEBUG:root:******** START _service_registration *********
DEBUG:root:service_registration_passphrase: 137b789e-b7eb-475a-8d5a-b16ab544yurp
DEBUG:root:service_id: uploader
DEBUG:root:service_registration_addr: ipc://run/uploader/brubeck_svc_registration
DEBUG:root:service_passphrase: 137b789e-b7eb-475a-8d5a-b16ab544yurp
DEBUG:root:service_addr: ipc://run/uploader/brubeck_svc
DEBUG:root:service_response_addr: ipc://run/uploader/brubeck_svc_response
DEBUG:root:service_heartbeat_addr: None
DEBUG:root:service_heartbeat_timeout: 5
DEBUG:root:sender_id: 2b27ac822b954acd8f3132cd8f1e5dd7
DEBUG:root:is_reregistration: 0
DEBUG:root:service_heartbeat_interval: 3
DEBUG:root:******** END _service_registration *********
DEBUG:root:register_service: (service_registration_addr, service_registration_passphrase,service_heartbeat_timeout,sender_id): (ipc://run/uploader/brubeck_svc_registration,137b789e-b7eb-475a-8d5a-b16ab544yurp, 5, 2b27ac822b954acd8f3132cd8f1e5dd7)
DEBUG:root:service_registration sending request
DEBUG:root:service_registration waiting for response
INFO:root:Using project directory: .
DEBUG:root:loading settings from ./conf/qoorateserver/development.py
INFO:root:Using coroutine library: gevent
DEBUG:root:creating application db_conn pool
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:get EmbedHandler
DEBUG:root:to_unicode
DEBUG:root:embed_head
DEBUG:root:embed_head
DEBUG:root:to_unicode
DEBUG:root:action: embed_head 
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:set_table has key/secret
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = %s and `secret`= %s
        
DEBUG:root:escape_sql args: [u'12345', u'54321']
DEBUG:root:
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = '12345' and `secret`= '54321'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10a0528d0>
DEBUG:root:returning True from authencticate.
DEBUG:root:set_table authenticated
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10a052950>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has key/secret
DEBUG:root:returning `True` from authenticate cached.
DEBUG:root:set_table authenticated
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10a052b50>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10a052cd0>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10a052ed0>
DEBUG:root:qoorate preferences: {
    "THEME": "grid",
    "EMBED_CONF_JS": "
        var qoorateConfig = {
            QOORATE_URI: 'http://localhost',
            QOORATE_API_URI: 'http://localhost/q',
            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',
            XHR_PROXY_URI: '/q/feed',
            XHR_UPLOAD_URI: '/q/uploader',
            POST_MAX_LEN: 1000,
            PARENT_PAGE_SIZE: 10,
            CHILD_PAGE_SIZE: 10,
            AUTO_SCROLL: 1,
            THEME: 'grid',
            GRID_COLUMNS: 3,
            GRID_COLUMN_TRIM: 15,
            GRID_ROW_TRIM: 15
        };
        var qoorateLang = {
            FLAG_SUCCESS: 'Thanks for flagging this!',
            SHARE_SUCCESS: 'Thank you for sharing!',
            DELETE_SUCCESS: 'Thank you. This item has been deleted.',
            SIGNIN: 'Sign in using',
            SIGNEDIN: 'Signed in via',    
            OK: 'OK',
            CANCEL: 'Cancel',
            LOGOUT: 'Log Out',
            TOGGLE_ON: '+',
            TOGGLE_OFF: '-',
            CONTRIBUTION: 'Contribution',
            CONTRIBUTIONS: 'Contributions',
            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',
            REMOVE: 'Remove',
            LINK: 'Insert a link',
            TOPIC_COMMENT: 'Pose a Yes/No Question',
            COMMENT: 'Your Comment',
            IMAGE_COMMENT: 'Image Caption',
            POST_TO: 'Post to',
            POST_ANONYMOUS: 'Post anonymously',
            NICKNAME: 'Post as ',
            DEFAULT_NICKNAME: 'Anonymous',
            REPLY_LINK_COMMENT: 'Say something about your link',
            SHARE_COMMENT: 'comment about this share...',
            PUBLISH_BUTTON: 'Publish',
            POST_BUTTON: 'Post',
            POST_TO_BUTTON: 'Post To',
            REPLY_BUTTON: 'Reply',
            SHARE_BUTTON: 'Share',
            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',
            SELECT_IMAGE: 'Select an Image',
            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',
            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],
            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],
            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]
        };
    "
}

DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:preferences EMBED_CONF_JS:         var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    
DEBUG:root:embed_head called
INFO:root:200 GET /q/embed (127.0.0.1)
DEBUG:root:get EmbedHandler
DEBUG:root:to_unicode
DEBUG:root:embed_content
DEBUG:root:embed_content
DEBUG:root:to_unicode
DEBUG:root:action: embed_content 
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:set_table has key/secret
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = %s and `secret`= %s
        
DEBUG:root:escape_sql args: [u'12345', u'54321']
DEBUG:root:
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = '12345' and `secret`= '54321'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10a05a110>
DEBUG:root:returning True from authencticate.
DEBUG:root:set_table authenticated
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10a05a310>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has key/secret
DEBUG:root:returning `True` from authenticate cached.
DEBUG:root:set_table authenticated
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10a05a510>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10a05a710>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10a05a910>
DEBUG:root:qoorate preferences: {
    "THEME": "grid",
    "EMBED_CONF_JS": "
        var qoorateConfig = {
            QOORATE_URI: 'http://localhost',
            QOORATE_API_URI: 'http://localhost/q',
            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',
            XHR_PROXY_URI: '/q/feed',
            XHR_UPLOAD_URI: '/q/uploader',
            POST_MAX_LEN: 1000,
            PARENT_PAGE_SIZE: 10,
            CHILD_PAGE_SIZE: 10,
            AUTO_SCROLL: 1,
            THEME: 'grid',
            GRID_COLUMNS: 3,
            GRID_COLUMN_TRIM: 15,
            GRID_ROW_TRIM: 15
        };
        var qoorateLang = {
            FLAG_SUCCESS: 'Thanks for flagging this!',
            SHARE_SUCCESS: 'Thank you for sharing!',
            DELETE_SUCCESS: 'Thank you. This item has been deleted.',
            SIGNIN: 'Sign in using',
            SIGNEDIN: 'Signed in via',    
            OK: 'OK',
            CANCEL: 'Cancel',
            LOGOUT: 'Log Out',
            TOGGLE_ON: '+',
            TOGGLE_OFF: '-',
            CONTRIBUTION: 'Contribution',
            CONTRIBUTIONS: 'Contributions',
            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',
            REMOVE: 'Remove',
            LINK: 'Insert a link',
            TOPIC_COMMENT: 'Pose a Yes/No Question',
            COMMENT: 'Your Comment',
            IMAGE_COMMENT: 'Image Caption',
            POST_TO: 'Post to',
            POST_ANONYMOUS: 'Post anonymously',
            NICKNAME: 'Post as ',
            DEFAULT_NICKNAME: 'Anonymous',
            REPLY_LINK_COMMENT: 'Say something about your link',
            SHARE_COMMENT: 'comment about this share...',
            PUBLISH_BUTTON: 'Publish',
            POST_BUTTON: 'Post',
            POST_TO_BUTTON: 'Post To',
            REPLY_BUTTON: 'Reply',
            SHARE_BUTTON: 'Share',
            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',
            SELECT_IMAGE: 'Select an Image',
            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',
            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],
            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],
            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]
        };
    "
}

DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:preferences EMBED_CONF_JS:         var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    
DEBUG:root:embed_content called (key,secret): (12345,54321)
DEBUG:root:returning `True` from authenticate cached.
DEBUG:root:get_content_context
DEBUG:root:table: q_brooklyncode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:init_db_conn
DEBUG:root:NOT creating db_conn
DEBUG:root:1
DEBUG:root:5
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT f.`parent_sequence` , f.`child_sequence` , f.`id` , f.`locationId` , f.`relatedId`,
                f.`parentId` , f.`userId` , `u`.`username`, u.`thumbnailLarge` as userThumbnailLarge,
                ur.`username` as relatedUsername, ur.`thumbnailLarge` as relatedUserThumbnailLarge, f.`type`,
                f.`is_anonymous` , r.`is_anonymous` as `related_is_anonymous`, f.`name` , f.`location` ,f.`description`,f.`referer`,
                f.`voteCount` , f.`voteNumber` , f.`votesUp` ,f.`votesDown` , f.`flagCount`,  f.`childCount`, f.`sortOrder` , f.`status`,
                f.`thumbnailSmall` ,f.`thumbnailLarge` , f.`changeDate` , f.`createDate`, f.`nickname`, r.`nickname` as `related_nickname`
            FROM (
                # this query adds the sequence fields to filter by for paging
                SELECT  s1.*, @parentrownum := convert( IF( ( parentId = 0), @parentrownum +1, @parentrownum ), UNSIGNED INTEGER) AS parent_sequence,
                @childrownum := IF( ( @lastparent = parentId), @childrownum + 1, 0 ) AS child_sequence,
                @lastparent := if( parentId=0, id, parentId ) AS dummy_used_for_last_parent
                FROM
                    # QUERY 2: this query sorts the results properly
                    (SELECT s0.* FROM
                        # QUERY 1: This query gets the results we need with calculated fields to sort by
                        # We should probably have these fields in the database so they are indexed
                        (SELECT
                        CONVERT( if( parentId = 0, @parentVoteNumber:=voteNumber,
                            @parentVoteNumber ), SIGNED INTEGER ) as groupVoteNumber,          # Will order groups using parent voteNumber
                        CONVERT( if( parentId = 0, @parentVoteCount:=voteCount,
                            @parentVoteCount ), SIGNED INTEGER ) as groupVoteCount,            # Will order groups using parent voteCount
                        CONVERT( if( parentId = 0, @parentCreateDate:=createDate,
                            @parentCreateDate ), DATETIME ) as groupCreateDate,                # Will order groups using parent createDate
                        CONVERT( if(parentId=0, id, parentId), UNSIGNED INTEGER) as groupId,   # will order groups together
                        CONVERT( if(parentId = 0, 0, 1), UNSIGNED INTEGER) as isChild,         # will order parent first in group
                        r.*
                        FROM (
                            # this just makes sure our groups are grouped in parent child order
                            SELECT * from q_brooklyncode o  WHERE o.location = '5e13bbb73127b9fc424e3728c6500f28' ORDER BY
                             if( o.relatedId = 0, o.id, o.relatedId),
                             if( o.relatedId = 0, 0, o.id )
                            ) r,
                        ( SELECT @parentVoteNumber := 0 ) pvn,
                        ( SELECT @parentVoteCount  := 0 ) pvc,
                        ( SELECT @parentCreateDate := 0 ) pcd
                         WHERE location = '5e13bbb73127b9fc424e3728c6500f28' 
                    ) s0
                    
                    
                    ORDER BY
                    
                s0.groupVoteNumber DESC,
                s0.groupVoteCount DESC,
                s0.groupCreateDate ASC,
                 
                    groupId  ASC, # first order by group
                    isChild ASC, # Then make sure the parent is first
                    
                s0.voteNumber DESC,
                s0.voteCount DESC,
                s0.createDate ASC
                
            ) s1,
            ( SELECT @parentrownum := 0 ) pr,
            ( SELECT @childrownum := 0 ) cr, 
            ( SELECT @lastparent := -1 ) lp) f
            LEFT JOIN user u on u.id = f.userId
            LEFT JOIN q_brooklyncode r on r.id = f.relatedId
            LEFT JOIN user ur on ur.id = r.userId
            WHERE
            ((0 = 6 and parent_sequence >= 1) or parent_sequence BETWEEN 1 AND 6)
            AND
            ((0 = 6 and child_sequence >= 1) or (child_sequence=0 or child_sequence BETWEEN 1 AND 6))
        
DEBUG:root:escape_sql args: None
DEBUG:root:
            SELECT f.`parent_sequence` , f.`child_sequence` , f.`id` , f.`locationId` , f.`relatedId`,
                f.`parentId` , f.`userId` , `u`.`username`, u.`thumbnailLarge` as userThumbnailLarge,
                ur.`username` as relatedUsername, ur.`thumbnailLarge` as relatedUserThumbnailLarge, f.`type`,
                f.`is_anonymous` , r.`is_anonymous` as `related_is_anonymous`, f.`name` , f.`location` ,f.`description`,f.`referer`,
                f.`voteCount` , f.`voteNumber` , f.`votesUp` ,f.`votesDown` , f.`flagCount`,  f.`childCount`, f.`sortOrder` , f.`status`,
                f.`thumbnailSmall` ,f.`thumbnailLarge` , f.`changeDate` , f.`createDate`, f.`nickname`, r.`nickname` as `related_nickname`
            FROM (
                # this query adds the sequence fields to filter by for paging
                SELECT  s1.*, @parentrownum := convert( IF( ( parentId = 0), @parentrownum +1, @parentrownum ), UNSIGNED INTEGER) AS parent_sequence,
                @childrownum := IF( ( @lastparent = parentId), @childrownum + 1, 0 ) AS child_sequence,
                @lastparent := if( parentId=0, id, parentId ) AS dummy_used_for_last_parent
                FROM
                    # QUERY 2: this query sorts the results properly
                    (SELECT s0.* FROM
                        # QUERY 1: This query gets the results we need with calculated fields to sort by
                        # We should probably have these fields in the database so they are indexed
                        (SELECT
                        CONVERT( if( parentId = 0, @parentVoteNumber:=voteNumber,
                            @parentVoteNumber ), SIGNED INTEGER ) as groupVoteNumber,          # Will order groups using parent voteNumber
                        CONVERT( if( parentId = 0, @parentVoteCount:=voteCount,
                            @parentVoteCount ), SIGNED INTEGER ) as groupVoteCount,            # Will order groups using parent voteCount
                        CONVERT( if( parentId = 0, @parentCreateDate:=createDate,
                            @parentCreateDate ), DATETIME ) as groupCreateDate,                # Will order groups using parent createDate
                        CONVERT( if(parentId=0, id, parentId), UNSIGNED INTEGER) as groupId,   # will order groups together
                        CONVERT( if(parentId = 0, 0, 1), UNSIGNED INTEGER) as isChild,         # will order parent first in group
                        r.*
                        FROM (
                            # this just makes sure our groups are grouped in parent child order
                            SELECT * from q_brooklyncode o  WHERE o.location = '5e13bbb73127b9fc424e3728c6500f28' ORDER BY
                             if( o.relatedId = 0, o.id, o.relatedId),
                             if( o.relatedId = 0, 0, o.id )
                            ) r,
                        ( SELECT @parentVoteNumber := 0 ) pvn,
                        ( SELECT @parentVoteCount  := 0 ) pvc,
                        ( SELECT @parentCreateDate := 0 ) pcd
                         WHERE location = '5e13bbb73127b9fc424e3728c6500f28' 
                    ) s0
                    
                    
                    ORDER BY
                    
                s0.groupVoteNumber DESC,
                s0.groupVoteCount DESC,
                s0.groupCreateDate ASC,
                 
                    groupId  ASC, # first order by group
                    isChild ASC, # Then make sure the parent is first
                    
                s0.voteNumber DESC,
                s0.voteCount DESC,
                s0.createDate ASC
                
            ) s1,
            ( SELECT @parentrownum := 0 ) pr,
            ( SELECT @childrownum := 0 ) cr, 
            ( SELECT @lastparent := -1 ) lp) f
            LEFT JOIN user u on u.id = f.userId
            LEFT JOIN q_brooklyncode r on r.id = f.relatedId
            LEFT JOIN user ur on ur.id = r.userId
            WHERE
            ((0 = 6 and parent_sequence >= 1) or parent_sequence BETWEEN 1 AND 6)
            AND
            ((0 = 6 and child_sequence >= 1) or (child_sequence=0 or child_sequence BETWEEN 1 AND 6))
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10a0528d0>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = %s
        
DEBUG:root:escape_sql args: [1L]
DEBUG:root:
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = 1
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10a052950>
DEBUG:root:dictlist: {u'itemId': 1L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'1fe8a631d5522d10e2cf2e4fabedc90b', u'id': 1L}
DEBUG:root:dictItem: {u'itemId': 1L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'1fe8a631d5522d10e2cf2e4fabedc90b', u'id': 1L}
DEBUG:root:items: [<ImageItem: ImageItem object>]
DEBUG:root:im: [<ImageItem: ImageItem object>]
DEBUG:root:comment.images: []
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = %s
        
DEBUG:root:escape_sql args: [2L]
DEBUG:root:
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = 2
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10a052b50>
DEBUG:root:dictlist: {u'itemId': 2L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'cfbb12022f81667e3c2746e3c80b2e1e', u'id': 2L}
DEBUG:root:dictItem: {u'itemId': 2L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'cfbb12022f81667e3c2746e3c80b2e1e', u'id': 2L}
DEBUG:root:items: [<ImageItem: ImageItem object>]
DEBUG:root:im: [<ImageItem: ImageItem object>]
DEBUG:root:comment.images: []
DEBUG:root:Number of comments returned: 2
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:escape_sql args: []
DEBUG:root:
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10a052cd0>
DEBUG:root:Number of contributions 2
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10a052ed0>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10a05a110>
DEBUG:root:to_unicode
DEBUG:root:embed_content
DEBUG:root:embed_content
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:embed_content
DEBUG:root:embed_content
DEBUG:root:to_unicode
INFO:root:200 GET /q/embed (127.0.0.1)
Mon, 29 Jul 2013 02:10:50 GMT [ERROR] (errno: No such file or directory) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 02:10:50 GMT [ERROR] (errno: None) Failed to create target for route /q/static/
Mon, 29 Jul 2013 02:10:50 GMT [ERROR] (errno: None) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 02:10:50 GMT [ERROR] (errno: None) Failed to create target for route /q/robots.txt
Mon, 29 Jul 2013 02:10:50 GMT [ERROR] (errno: None) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 02:10:50 GMT [ERROR] (errno: None) Failed to create target for route /q/favicon.ico
Mon, 29 Jul 2013 02:10:50 GMT [INFO] (src/mime.c:49) MAX limits.mime_ext_len=128
Mon, 29 Jul 2013 02:10:50 GMT [INFO] (src/host.c:74) MAX limits.url_path=256, limits.host_name=256
Mon, 29 Jul 2013 02:10:50 GMT [INFO] (src/config/config.c:109) Loaded proxy 1:127.0.0.1:8081
Mon, 29 Jul 2013 02:10:50 GMT [INFO] (src/config/config.c:227) Loaded route 1:/:proxy for host 1:localhost
Mon, 29 Jul 2013 02:10:50 GMT [INFO] (src/handler.c:343) MAX limits.handler_stack=102400
Mon, 29 Jul 2013 02:10:50 GMT [INFO] (src/config/config.c:85) Loaded handler 1:ipc://run/qoorateserver/mongrel2_send:137b789e-b7eb-475a-8d5c-b16ab54493yu:ipc://run/qoorateserver/mongrel2_rcv:
Mon, 29 Jul 2013 02:10:50 GMT [INFO] (src/config/config.c:227) Loaded route 2:/q/:handler for host 1:localhost
Mon, 29 Jul 2013 02:10:50 GMT [INFO] (src/dir.c:195) MAX limits.dir_send_buffer=16384, limits.dir_max_path=256
Mon, 29 Jul 2013 02:10:50 GMT [INFO] (src/config/config.c:136) Loaded directory 1:static/qoorateserver/js/:index.html
Mon, 29 Jul 2013 02:10:50 GMT [INFO] (src/config/config.c:227) Loaded route 3:/q/js/:dir for host 1:localhost
Mon, 29 Jul 2013 02:10:50 GMT [INFO] (src/config/config.c:136) Loaded directory 2:static/qoorateserver/css/:index.html
Mon, 29 Jul 2013 02:10:50 GMT [INFO] (src/config/config.c:227) Loaded route 4:/q/css/:dir for host 1:localhost
Mon, 29 Jul 2013 02:10:50 GMT [INFO] (src/config/config.c:136) Loaded directory 3:static/qoorateserver/img/:index.html
Mon, 29 Jul 2013 02:10:50 GMT [INFO] (src/config/config.c:227) Loaded route 5:/q/img/:dir for host 1:localhost
Mon, 29 Jul 2013 02:10:50 GMT [INFO] (src/config/config.c:312) Loaded 1 hosts for server 1:fe76e442-da24-4708-b0ef-c4ahr2b7d131
Mon, 29 Jul 2013 02:10:50 GMT [INFO] (src/server.c:445) LOADING Handler ipc://run/qoorateserver/mongrel2_send
Mon, 29 Jul 2013 02:10:50 GMT [ERROR] (src/unixy.c:99: errno: No such file or directory) Failed to open PID file ../run/mongrel2.pid for reading.
Mon, 29 Jul 2013 02:10:50 GMT [INFO] (src/unixy.c:137) No previous mongrel2 running, continuing on.
Mon, 29 Jul 2013 02:10:50 GMT [INFO] (src/mongrel2.c:223) All loaded up, time to turn into a server.
Mon, 29 Jul 2013 02:10:50 GMT [INFO] (src/mongrel2.c:224) -- Starting Mongrel2/1.8.1. Copyright (C) Zed A. Shaw. Licensed BSD.

Mon, 29 Jul 2013 02:10:50 GMT [INFO] (src/mongrel2.c:225) -- Look in logs/error.log for startup messages and errors.
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
INFO:root:Using project directory: .
DEBUG:root:loading settings from ./conf/uploader/settings.py
INFO:root:Using coroutine library: gevent
DEBUG:root:******** START _service_registration *********
DEBUG:root:service_registration_passphrase: 137b789e-b7eb-475a-8d5a-b16ab544yurp
DEBUG:root:service_id: uploader
DEBUG:root:service_registration_addr: ipc://run/uploader/brubeck_svc_registration
DEBUG:root:service_passphrase: 137b789e-b7eb-475a-8d5a-b16ab544yurp
DEBUG:root:service_addr: ipc://run/uploader/brubeck_svc
DEBUG:root:service_response_addr: ipc://run/uploader/brubeck_svc_response
DEBUG:root:service_heartbeat_addr: None
DEBUG:root:service_heartbeat_timeout: 5
DEBUG:root:sender_id: 3a87f47e91b84b588642543e1f96bf48
DEBUG:root:is_reregistration: 0
DEBUG:root:service_heartbeat_interval: 3
DEBUG:root:******** END _service_registration *********
DEBUG:root:register_service: (service_registration_addr, service_registration_passphrase,service_heartbeat_timeout,sender_id): (ipc://run/uploader/brubeck_svc_registration,137b789e-b7eb-475a-8d5a-b16ab544yurp, 5, 3a87f47e91b84b588642543e1f96bf48)
DEBUG:root:service_registration sending request
DEBUG:root:service_registration waiting for response
INFO:root:Using project directory: .
DEBUG:root:loading settings from ./conf/qoorateserver/development.py
INFO:root:Using coroutine library: gevent
DEBUG:root:creating application db_conn pool
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:get EmbedHandler
DEBUG:root:to_unicode
DEBUG:root:embed_head
DEBUG:root:embed_head
DEBUG:root:to_unicode
DEBUG:root:action: embed_head 
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:set_table has key/secret
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = %s and `secret`= %s
        
DEBUG:root:escape_sql args: [u'12345', u'54321']
DEBUG:root:
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = '12345' and `secret`= '54321'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x107f8a750>
DEBUG:root:returning True from authencticate.
DEBUG:root:set_table authenticated
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x107f8a7d0>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has key/secret
DEBUG:root:returning `True` from authenticate cached.
DEBUG:root:set_table authenticated
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x107f8a9d0>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x107f8ab50>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x107f8ad50>
DEBUG:root:qoorate preferences: {
    "THEME": "grid",
    "EMBED_CONF_JS": "
        var qoorateConfig = {
            QOORATE_URI: 'http://localhost',
            QOORATE_API_URI: 'http://localhost/q',
            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',
            XHR_PROXY_URI: '/q/feed',
            XHR_UPLOAD_URI: '/q/uploader',
            POST_MAX_LEN: 1000,
            PARENT_PAGE_SIZE: 10,
            CHILD_PAGE_SIZE: 10,
            AUTO_SCROLL: 1,
            THEME: 'grid',
            GRID_COLUMNS: 3,
            GRID_COLUMN_TRIM: 15,
            GRID_ROW_TRIM: 15
        };
        var qoorateLang = {
            FLAG_SUCCESS: 'Thanks for flagging this!',
            SHARE_SUCCESS: 'Thank you for sharing!',
            DELETE_SUCCESS: 'Thank you. This item has been deleted.',
            SIGNIN: 'Sign in using',
            SIGNEDIN: 'Signed in via',    
            OK: 'OK',
            CANCEL: 'Cancel',
            LOGOUT: 'Log Out',
            TOGGLE_ON: '+',
            TOGGLE_OFF: '-',
            CONTRIBUTION: 'Contribution',
            CONTRIBUTIONS: 'Contributions',
            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',
            REMOVE: 'Remove',
            LINK: 'Insert a link',
            TOPIC_COMMENT: 'Pose a Yes/No Question',
            COMMENT: 'Your Comment',
            IMAGE_COMMENT: 'Image Caption',
            POST_TO: 'Post to',
            POST_ANONYMOUS: 'Post anonymously',
            NICKNAME: 'Post as ',
            DEFAULT_NICKNAME: 'Anonymous',
            REPLY_LINK_COMMENT: 'Say something about your link',
            SHARE_COMMENT: 'comment about this share...',
            PUBLISH_BUTTON: 'Publish',
            POST_BUTTON: 'Post',
            POST_TO_BUTTON: 'Post To',
            REPLY_BUTTON: 'Reply',
            SHARE_BUTTON: 'Share',
            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',
            SELECT_IMAGE: 'Select an Image',
            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',
            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],
            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],
            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]
        };
    "
}

DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:preferences EMBED_CONF_JS:         var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    
DEBUG:root:embed_head called
INFO:root:200 GET /q/embed (127.0.0.1)
DEBUG:root:get EmbedHandler
DEBUG:root:to_unicode
DEBUG:root:embed_content
DEBUG:root:embed_content
DEBUG:root:to_unicode
DEBUG:root:action: embed_content 
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:set_table has key/secret
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = %s and `secret`= %s
        
DEBUG:root:escape_sql args: [u'12345', u'54321']
DEBUG:root:
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = '12345' and `secret`= '54321'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x107f92050>
DEBUG:root:returning True from authencticate.
DEBUG:root:set_table authenticated
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x107f92190>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has key/secret
DEBUG:root:returning `True` from authenticate cached.
DEBUG:root:set_table authenticated
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x107f92390>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x107f92590>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x107f92790>
DEBUG:root:qoorate preferences: {
    "THEME": "grid",
    "EMBED_CONF_JS": "
        var qoorateConfig = {
            QOORATE_URI: 'http://localhost',
            QOORATE_API_URI: 'http://localhost/q',
            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',
            XHR_PROXY_URI: '/q/feed',
            XHR_UPLOAD_URI: '/q/uploader',
            POST_MAX_LEN: 1000,
            PARENT_PAGE_SIZE: 10,
            CHILD_PAGE_SIZE: 10,
            AUTO_SCROLL: 1,
            THEME: 'grid',
            GRID_COLUMNS: 3,
            GRID_COLUMN_TRIM: 15,
            GRID_ROW_TRIM: 15
        };
        var qoorateLang = {
            FLAG_SUCCESS: 'Thanks for flagging this!',
            SHARE_SUCCESS: 'Thank you for sharing!',
            DELETE_SUCCESS: 'Thank you. This item has been deleted.',
            SIGNIN: 'Sign in using',
            SIGNEDIN: 'Signed in via',    
            OK: 'OK',
            CANCEL: 'Cancel',
            LOGOUT: 'Log Out',
            TOGGLE_ON: '+',
            TOGGLE_OFF: '-',
            CONTRIBUTION: 'Contribution',
            CONTRIBUTIONS: 'Contributions',
            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',
            REMOVE: 'Remove',
            LINK: 'Insert a link',
            TOPIC_COMMENT: 'Pose a Yes/No Question',
            COMMENT: 'Your Comment',
            IMAGE_COMMENT: 'Image Caption',
            POST_TO: 'Post to',
            POST_ANONYMOUS: 'Post anonymously',
            NICKNAME: 'Post as ',
            DEFAULT_NICKNAME: 'Anonymous',
            REPLY_LINK_COMMENT: 'Say something about your link',
            SHARE_COMMENT: 'comment about this share...',
            PUBLISH_BUTTON: 'Publish',
            POST_BUTTON: 'Post',
            POST_TO_BUTTON: 'Post To',
            REPLY_BUTTON: 'Reply',
            SHARE_BUTTON: 'Share',
            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',
            SELECT_IMAGE: 'Select an Image',
            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',
            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],
            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],
            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]
        };
    "
}

DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:preferences EMBED_CONF_JS:         var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    
DEBUG:root:embed_content called (key,secret): (12345,54321)
DEBUG:root:returning `True` from authenticate cached.
DEBUG:root:get_content_context
DEBUG:root:table: q_brooklyncode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:init_db_conn
DEBUG:root:NOT creating db_conn
DEBUG:root:1
DEBUG:root:5
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT f.`parent_sequence` , f.`child_sequence` , f.`id` , f.`locationId` , f.`relatedId`,
                f.`parentId` , f.`userId` , `u`.`username`, u.`thumbnailLarge` as userThumbnailLarge,
                ur.`username` as relatedUsername, ur.`thumbnailLarge` as relatedUserThumbnailLarge, f.`type`,
                f.`is_anonymous` , r.`is_anonymous` as `related_is_anonymous`, f.`name` , f.`location` ,f.`description`,f.`referer`,
                f.`voteCount` , f.`voteNumber` , f.`votesUp` ,f.`votesDown` , f.`flagCount`,  f.`childCount`, f.`sortOrder` , f.`status`,
                f.`thumbnailSmall` ,f.`thumbnailLarge` , f.`changeDate` , f.`createDate`, f.`nickname`, r.`nickname` as `related_nickname`
            FROM (
                # this query adds the sequence fields to filter by for paging
                SELECT  s1.*, @parentrownum := convert( IF( ( parentId = 0), @parentrownum +1, @parentrownum ), UNSIGNED INTEGER) AS parent_sequence,
                @childrownum := IF( ( @lastparent = parentId), @childrownum + 1, 0 ) AS child_sequence,
                @lastparent := if( parentId=0, id, parentId ) AS dummy_used_for_last_parent
                FROM
                    # QUERY 2: this query sorts the results properly
                    (SELECT s0.* FROM
                        # QUERY 1: This query gets the results we need with calculated fields to sort by
                        # We should probably have these fields in the database so they are indexed
                        (SELECT
                        CONVERT( if( parentId = 0, @parentVoteNumber:=voteNumber,
                            @parentVoteNumber ), SIGNED INTEGER ) as groupVoteNumber,          # Will order groups using parent voteNumber
                        CONVERT( if( parentId = 0, @parentVoteCount:=voteCount,
                            @parentVoteCount ), SIGNED INTEGER ) as groupVoteCount,            # Will order groups using parent voteCount
                        CONVERT( if( parentId = 0, @parentCreateDate:=createDate,
                            @parentCreateDate ), DATETIME ) as groupCreateDate,                # Will order groups using parent createDate
                        CONVERT( if(parentId=0, id, parentId), UNSIGNED INTEGER) as groupId,   # will order groups together
                        CONVERT( if(parentId = 0, 0, 1), UNSIGNED INTEGER) as isChild,         # will order parent first in group
                        r.*
                        FROM (
                            # this just makes sure our groups are grouped in parent child order
                            SELECT * from q_brooklyncode o  WHERE o.location = '5e13bbb73127b9fc424e3728c6500f28' ORDER BY
                             if( o.relatedId = 0, o.id, o.relatedId),
                             if( o.relatedId = 0, 0, o.id )
                            ) r,
                        ( SELECT @parentVoteNumber := 0 ) pvn,
                        ( SELECT @parentVoteCount  := 0 ) pvc,
                        ( SELECT @parentCreateDate := 0 ) pcd
                         WHERE location = '5e13bbb73127b9fc424e3728c6500f28' 
                    ) s0
                    
                    
                    ORDER BY
                    
                s0.groupVoteNumber DESC,
                s0.groupVoteCount DESC,
                s0.groupCreateDate ASC,
                 
                    groupId  ASC, # first order by group
                    isChild ASC, # Then make sure the parent is first
                    
                s0.voteNumber DESC,
                s0.voteCount DESC,
                s0.createDate ASC
                
            ) s1,
            ( SELECT @parentrownum := 0 ) pr,
            ( SELECT @childrownum := 0 ) cr, 
            ( SELECT @lastparent := -1 ) lp) f
            LEFT JOIN user u on u.id = f.userId
            LEFT JOIN q_brooklyncode r on r.id = f.relatedId
            LEFT JOIN user ur on ur.id = r.userId
            WHERE
            ((0 = 6 and parent_sequence >= 1) or parent_sequence BETWEEN 1 AND 6)
            AND
            ((0 = 6 and child_sequence >= 1) or (child_sequence=0 or child_sequence BETWEEN 1 AND 6))
        
DEBUG:root:escape_sql args: None
DEBUG:root:
            SELECT f.`parent_sequence` , f.`child_sequence` , f.`id` , f.`locationId` , f.`relatedId`,
                f.`parentId` , f.`userId` , `u`.`username`, u.`thumbnailLarge` as userThumbnailLarge,
                ur.`username` as relatedUsername, ur.`thumbnailLarge` as relatedUserThumbnailLarge, f.`type`,
                f.`is_anonymous` , r.`is_anonymous` as `related_is_anonymous`, f.`name` , f.`location` ,f.`description`,f.`referer`,
                f.`voteCount` , f.`voteNumber` , f.`votesUp` ,f.`votesDown` , f.`flagCount`,  f.`childCount`, f.`sortOrder` , f.`status`,
                f.`thumbnailSmall` ,f.`thumbnailLarge` , f.`changeDate` , f.`createDate`, f.`nickname`, r.`nickname` as `related_nickname`
            FROM (
                # this query adds the sequence fields to filter by for paging
                SELECT  s1.*, @parentrownum := convert( IF( ( parentId = 0), @parentrownum +1, @parentrownum ), UNSIGNED INTEGER) AS parent_sequence,
                @childrownum := IF( ( @lastparent = parentId), @childrownum + 1, 0 ) AS child_sequence,
                @lastparent := if( parentId=0, id, parentId ) AS dummy_used_for_last_parent
                FROM
                    # QUERY 2: this query sorts the results properly
                    (SELECT s0.* FROM
                        # QUERY 1: This query gets the results we need with calculated fields to sort by
                        # We should probably have these fields in the database so they are indexed
                        (SELECT
                        CONVERT( if( parentId = 0, @parentVoteNumber:=voteNumber,
                            @parentVoteNumber ), SIGNED INTEGER ) as groupVoteNumber,          # Will order groups using parent voteNumber
                        CONVERT( if( parentId = 0, @parentVoteCount:=voteCount,
                            @parentVoteCount ), SIGNED INTEGER ) as groupVoteCount,            # Will order groups using parent voteCount
                        CONVERT( if( parentId = 0, @parentCreateDate:=createDate,
                            @parentCreateDate ), DATETIME ) as groupCreateDate,                # Will order groups using parent createDate
                        CONVERT( if(parentId=0, id, parentId), UNSIGNED INTEGER) as groupId,   # will order groups together
                        CONVERT( if(parentId = 0, 0, 1), UNSIGNED INTEGER) as isChild,         # will order parent first in group
                        r.*
                        FROM (
                            # this just makes sure our groups are grouped in parent child order
                            SELECT * from q_brooklyncode o  WHERE o.location = '5e13bbb73127b9fc424e3728c6500f28' ORDER BY
                             if( o.relatedId = 0, o.id, o.relatedId),
                             if( o.relatedId = 0, 0, o.id )
                            ) r,
                        ( SELECT @parentVoteNumber := 0 ) pvn,
                        ( SELECT @parentVoteCount  := 0 ) pvc,
                        ( SELECT @parentCreateDate := 0 ) pcd
                         WHERE location = '5e13bbb73127b9fc424e3728c6500f28' 
                    ) s0
                    
                    
                    ORDER BY
                    
                s0.groupVoteNumber DESC,
                s0.groupVoteCount DESC,
                s0.groupCreateDate ASC,
                 
                    groupId  ASC, # first order by group
                    isChild ASC, # Then make sure the parent is first
                    
                s0.voteNumber DESC,
                s0.voteCount DESC,
                s0.createDate ASC
                
            ) s1,
            ( SELECT @parentrownum := 0 ) pr,
            ( SELECT @childrownum := 0 ) cr, 
            ( SELECT @lastparent := -1 ) lp) f
            LEFT JOIN user u on u.id = f.userId
            LEFT JOIN q_brooklyncode r on r.id = f.relatedId
            LEFT JOIN user ur on ur.id = r.userId
            WHERE
            ((0 = 6 and parent_sequence >= 1) or parent_sequence BETWEEN 1 AND 6)
            AND
            ((0 = 6 and child_sequence >= 1) or (child_sequence=0 or child_sequence BETWEEN 1 AND 6))
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x107f8a750>
DEBUG:root:Number of comments returned: 2
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:escape_sql args: []
DEBUG:root:
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x107f8a7d0>
DEBUG:root:Number of contributions 2
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x107f8a9d0>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x107f8ab50>
DEBUG:root:to_unicode
DEBUG:root:embed_content
DEBUG:root:embed_content
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:embed_content
DEBUG:root:embed_content
DEBUG:root:to_unicode
INFO:root:200 GET /q/embed (127.0.0.1)
Mon, 29 Jul 2013 02:12:41 GMT [ERROR] (errno: No such file or directory) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 02:12:41 GMT [ERROR] (errno: None) Failed to create target for route /q/static/
Mon, 29 Jul 2013 02:12:41 GMT [ERROR] (errno: None) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 02:12:41 GMT [ERROR] (errno: None) Failed to create target for route /q/robots.txt
Mon, 29 Jul 2013 02:12:41 GMT [ERROR] (errno: None) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 02:12:41 GMT [ERROR] (errno: None) Failed to create target for route /q/favicon.ico
Mon, 29 Jul 2013 02:12:41 GMT [INFO] (src/mime.c:49) MAX limits.mime_ext_len=128
Mon, 29 Jul 2013 02:12:41 GMT [INFO] (src/host.c:74) MAX limits.url_path=256, limits.host_name=256
Mon, 29 Jul 2013 02:12:41 GMT [INFO] (src/config/config.c:109) Loaded proxy 1:127.0.0.1:8081
Mon, 29 Jul 2013 02:12:41 GMT [INFO] (src/config/config.c:227) Loaded route 1:/:proxy for host 1:localhost
Mon, 29 Jul 2013 02:12:41 GMT [INFO] (src/handler.c:343) MAX limits.handler_stack=102400
Mon, 29 Jul 2013 02:12:41 GMT [INFO] (src/config/config.c:85) Loaded handler 1:ipc://run/qoorateserver/mongrel2_send:137b789e-b7eb-475a-8d5c-b16ab54493yu:ipc://run/qoorateserver/mongrel2_rcv:
Mon, 29 Jul 2013 02:12:41 GMT [INFO] (src/config/config.c:227) Loaded route 2:/q/:handler for host 1:localhost
Mon, 29 Jul 2013 02:12:41 GMT [INFO] (src/dir.c:195) MAX limits.dir_send_buffer=16384, limits.dir_max_path=256
Mon, 29 Jul 2013 02:12:41 GMT [INFO] (src/config/config.c:136) Loaded directory 1:static/qoorateserver/js/:index.html
Mon, 29 Jul 2013 02:12:41 GMT [INFO] (src/config/config.c:227) Loaded route 3:/q/js/:dir for host 1:localhost
Mon, 29 Jul 2013 02:12:41 GMT [INFO] (src/config/config.c:136) Loaded directory 2:static/qoorateserver/css/:index.html
Mon, 29 Jul 2013 02:12:41 GMT [INFO] (src/config/config.c:227) Loaded route 4:/q/css/:dir for host 1:localhost
Mon, 29 Jul 2013 02:12:41 GMT [INFO] (src/config/config.c:136) Loaded directory 3:static/qoorateserver/img/:index.html
Mon, 29 Jul 2013 02:12:41 GMT [INFO] (src/config/config.c:227) Loaded route 5:/q/img/:dir for host 1:localhost
Mon, 29 Jul 2013 02:12:41 GMT [INFO] (src/config/config.c:312) Loaded 1 hosts for server 1:fe76e442-da24-4708-b0ef-c4ahr2b7d131
Mon, 29 Jul 2013 02:12:41 GMT [INFO] (src/server.c:445) LOADING Handler ipc://run/qoorateserver/mongrel2_send
Mon, 29 Jul 2013 02:12:41 GMT [ERROR] (src/unixy.c:99: errno: No such file or directory) Failed to open PID file ../run/mongrel2.pid for reading.
Mon, 29 Jul 2013 02:12:41 GMT [INFO] (src/unixy.c:137) No previous mongrel2 running, continuing on.
Mon, 29 Jul 2013 02:12:41 GMT [INFO] (src/mongrel2.c:223) All loaded up, time to turn into a server.
Mon, 29 Jul 2013 02:12:41 GMT [INFO] (src/mongrel2.c:224) -- Starting Mongrel2/1.8.1. Copyright (C) Zed A. Shaw. Licensed BSD.

Mon, 29 Jul 2013 02:12:41 GMT [INFO] (src/mongrel2.c:225) -- Look in logs/error.log for startup messages and errors.
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
INFO:root:Using project directory: .
DEBUG:root:loading settings from ./conf/uploader/settings.py
INFO:root:Using coroutine library: gevent
DEBUG:root:******** START _service_registration *********
DEBUG:root:service_registration_passphrase: 137b789e-b7eb-475a-8d5a-b16ab544yurp
DEBUG:root:service_id: uploader
DEBUG:root:service_registration_addr: ipc://run/uploader/brubeck_svc_registration
DEBUG:root:service_passphrase: 137b789e-b7eb-475a-8d5a-b16ab544yurp
DEBUG:root:service_addr: ipc://run/uploader/brubeck_svc
DEBUG:root:service_response_addr: ipc://run/uploader/brubeck_svc_response
DEBUG:root:service_heartbeat_addr: None
DEBUG:root:service_heartbeat_timeout: 5
DEBUG:root:sender_id: 11faaec9eff24467bec68245d3ec41f6
DEBUG:root:is_reregistration: 0
DEBUG:root:service_heartbeat_interval: 3
DEBUG:root:******** END _service_registration *********
DEBUG:root:register_service: (service_registration_addr, service_registration_passphrase,service_heartbeat_timeout,sender_id): (ipc://run/uploader/brubeck_svc_registration,137b789e-b7eb-475a-8d5a-b16ab544yurp, 5, 11faaec9eff24467bec68245d3ec41f6)
DEBUG:root:service_registration sending request
DEBUG:root:service_registration waiting for response
INFO:root:Using project directory: .
DEBUG:root:loading settings from ./conf/qoorateserver/development.py
INFO:root:Using coroutine library: gevent
DEBUG:root:creating application db_conn pool
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:get EmbedHandler
DEBUG:root:to_unicode
DEBUG:root:embed_head
DEBUG:root:embed_head
DEBUG:root:to_unicode
DEBUG:root:action: embed_head 
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:set_table has key/secret
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = %s and `secret`= %s
        
DEBUG:root:escape_sql args: [u'12345', u'54321']
DEBUG:root:
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = '12345' and `secret`= '54321'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10fd5b8d0>
DEBUG:root:returning True from authencticate.
DEBUG:root:set_table authenticated
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10fd5b950>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has key/secret
DEBUG:root:returning `True` from authenticate cached.
DEBUG:root:set_table authenticated
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10fd5bb50>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10fd5bcd0>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10fd5bed0>
DEBUG:root:qoorate preferences: {
    "THEME": "grid",
    "EMBED_CONF_JS": "
        var qoorateConfig = {
            QOORATE_URI: 'http://localhost',
            QOORATE_API_URI: 'http://localhost/q',
            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',
            XHR_PROXY_URI: '/q/feed',
            XHR_UPLOAD_URI: '/q/uploader',
            POST_MAX_LEN: 1000,
            PARENT_PAGE_SIZE: 10,
            CHILD_PAGE_SIZE: 10,
            AUTO_SCROLL: 1,
            THEME: 'grid',
            GRID_COLUMNS: 3,
            GRID_COLUMN_TRIM: 15,
            GRID_ROW_TRIM: 15
        };
        var qoorateLang = {
            FLAG_SUCCESS: 'Thanks for flagging this!',
            SHARE_SUCCESS: 'Thank you for sharing!',
            DELETE_SUCCESS: 'Thank you. This item has been deleted.',
            SIGNIN: 'Sign in using',
            SIGNEDIN: 'Signed in via',    
            OK: 'OK',
            CANCEL: 'Cancel',
            LOGOUT: 'Log Out',
            TOGGLE_ON: '+',
            TOGGLE_OFF: '-',
            CONTRIBUTION: 'Contribution',
            CONTRIBUTIONS: 'Contributions',
            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',
            REMOVE: 'Remove',
            LINK: 'Insert a link',
            TOPIC_COMMENT: 'Pose a Yes/No Question',
            COMMENT: 'Your Comment',
            IMAGE_COMMENT: 'Image Caption',
            POST_TO: 'Post to',
            POST_ANONYMOUS: 'Post anonymously',
            NICKNAME: 'Post as ',
            DEFAULT_NICKNAME: 'Anonymous',
            REPLY_LINK_COMMENT: 'Say something about your link',
            SHARE_COMMENT: 'comment about this share...',
            PUBLISH_BUTTON: 'Publish',
            POST_BUTTON: 'Post',
            POST_TO_BUTTON: 'Post To',
            REPLY_BUTTON: 'Reply',
            SHARE_BUTTON: 'Share',
            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',
            SELECT_IMAGE: 'Select an Image',
            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',
            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],
            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],
            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]
        };
    "
}

DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:preferences EMBED_CONF_JS:         var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    
DEBUG:root:embed_head called
INFO:root:200 GET /q/embed (127.0.0.1)
DEBUG:root:get EmbedHandler
DEBUG:root:to_unicode
DEBUG:root:embed_content
DEBUG:root:embed_content
DEBUG:root:to_unicode
DEBUG:root:action: embed_content 
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:set_table has key/secret
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = %s and `secret`= %s
        
DEBUG:root:escape_sql args: [u'12345', u'54321']
DEBUG:root:
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = '12345' and `secret`= '54321'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10fd64110>
DEBUG:root:returning True from authencticate.
DEBUG:root:set_table authenticated
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10fd64310>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has key/secret
DEBUG:root:returning `True` from authenticate cached.
DEBUG:root:set_table authenticated
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10fd64510>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10fd64710>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10fd64910>
DEBUG:root:qoorate preferences: {
    "THEME": "grid",
    "EMBED_CONF_JS": "
        var qoorateConfig = {
            QOORATE_URI: 'http://localhost',
            QOORATE_API_URI: 'http://localhost/q',
            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',
            XHR_PROXY_URI: '/q/feed',
            XHR_UPLOAD_URI: '/q/uploader',
            POST_MAX_LEN: 1000,
            PARENT_PAGE_SIZE: 10,
            CHILD_PAGE_SIZE: 10,
            AUTO_SCROLL: 1,
            THEME: 'grid',
            GRID_COLUMNS: 3,
            GRID_COLUMN_TRIM: 15,
            GRID_ROW_TRIM: 15
        };
        var qoorateLang = {
            FLAG_SUCCESS: 'Thanks for flagging this!',
            SHARE_SUCCESS: 'Thank you for sharing!',
            DELETE_SUCCESS: 'Thank you. This item has been deleted.',
            SIGNIN: 'Sign in using',
            SIGNEDIN: 'Signed in via',    
            OK: 'OK',
            CANCEL: 'Cancel',
            LOGOUT: 'Log Out',
            TOGGLE_ON: '+',
            TOGGLE_OFF: '-',
            CONTRIBUTION: 'Contribution',
            CONTRIBUTIONS: 'Contributions',
            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',
            REMOVE: 'Remove',
            LINK: 'Insert a link',
            TOPIC_COMMENT: 'Pose a Yes/No Question',
            COMMENT: 'Your Comment',
            IMAGE_COMMENT: 'Image Caption',
            POST_TO: 'Post to',
            POST_ANONYMOUS: 'Post anonymously',
            NICKNAME: 'Post as ',
            DEFAULT_NICKNAME: 'Anonymous',
            REPLY_LINK_COMMENT: 'Say something about your link',
            SHARE_COMMENT: 'comment about this share...',
            PUBLISH_BUTTON: 'Publish',
            POST_BUTTON: 'Post',
            POST_TO_BUTTON: 'Post To',
            REPLY_BUTTON: 'Reply',
            SHARE_BUTTON: 'Share',
            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',
            SELECT_IMAGE: 'Select an Image',
            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',
            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],
            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],
            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]
        };
    "
}

DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:preferences EMBED_CONF_JS:         var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    
DEBUG:root:embed_content called (key,secret): (12345,54321)
DEBUG:root:returning `True` from authenticate cached.
DEBUG:root:get_content_context
DEBUG:root:table: q_brooklyncode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:init_db_conn
DEBUG:root:NOT creating db_conn
DEBUG:root:1
DEBUG:root:5
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT f.`parent_sequence` , f.`child_sequence` , f.`id` , f.`locationId` , f.`relatedId`,
                f.`parentId` , f.`userId` , `u`.`username`, u.`thumbnailLarge` as userThumbnailLarge,
                ur.`username` as relatedUsername, ur.`thumbnailLarge` as relatedUserThumbnailLarge, f.`type` as `item_type`,
                f.`is_anonymous` , r.`is_anonymous` as `related_is_anonymous`, f.`name` , f.`location` ,f.`description`,f.`referer`,
                f.`voteCount` , f.`voteNumber` , f.`votesUp` ,f.`votesDown` , f.`flagCount`,  f.`childCount`, f.`sortOrder` , f.`status`,
                f.`thumbnailSmall` ,f.`thumbnailLarge` , f.`changeDate` , f.`createDate`, f.`nickname`, r.`nickname` as `related_nickname`
            FROM (
                # this query adds the sequence fields to filter by for paging
                SELECT  s1.*, @parentrownum := convert( IF( ( parentId = 0), @parentrownum +1, @parentrownum ), UNSIGNED INTEGER) AS parent_sequence,
                @childrownum := IF( ( @lastparent = parentId), @childrownum + 1, 0 ) AS child_sequence,
                @lastparent := if( parentId=0, id, parentId ) AS dummy_used_for_last_parent
                FROM
                    # QUERY 2: this query sorts the results properly
                    (SELECT s0.* FROM
                        # QUERY 1: This query gets the results we need with calculated fields to sort by
                        # We should probably have these fields in the database so they are indexed
                        (SELECT
                        CONVERT( if( parentId = 0, @parentVoteNumber:=voteNumber,
                            @parentVoteNumber ), SIGNED INTEGER ) as groupVoteNumber,          # Will order groups using parent voteNumber
                        CONVERT( if( parentId = 0, @parentVoteCount:=voteCount,
                            @parentVoteCount ), SIGNED INTEGER ) as groupVoteCount,            # Will order groups using parent voteCount
                        CONVERT( if( parentId = 0, @parentCreateDate:=createDate,
                            @parentCreateDate ), DATETIME ) as groupCreateDate,                # Will order groups using parent createDate
                        CONVERT( if(parentId=0, id, parentId), UNSIGNED INTEGER) as groupId,   # will order groups together
                        CONVERT( if(parentId = 0, 0, 1), UNSIGNED INTEGER) as isChild,         # will order parent first in group
                        r.*
                        FROM (
                            # this just makes sure our groups are grouped in parent child order
                            SELECT * from q_brooklyncode o  WHERE o.location = '5e13bbb73127b9fc424e3728c6500f28' ORDER BY
                             if( o.relatedId = 0, o.id, o.relatedId),
                             if( o.relatedId = 0, 0, o.id )
                            ) r,
                        ( SELECT @parentVoteNumber := 0 ) pvn,
                        ( SELECT @parentVoteCount  := 0 ) pvc,
                        ( SELECT @parentCreateDate := 0 ) pcd
                         WHERE location = '5e13bbb73127b9fc424e3728c6500f28' 
                    ) s0
                    
                    
                    ORDER BY
                    
                s0.groupVoteNumber DESC,
                s0.groupVoteCount DESC,
                s0.groupCreateDate ASC,
                 
                    groupId  ASC, # first order by group
                    isChild ASC, # Then make sure the parent is first
                    
                s0.voteNumber DESC,
                s0.voteCount DESC,
                s0.createDate ASC
                
            ) s1,
            ( SELECT @parentrownum := 0 ) pr,
            ( SELECT @childrownum := 0 ) cr, 
            ( SELECT @lastparent := -1 ) lp) f
            LEFT JOIN user u on u.id = f.userId
            LEFT JOIN q_brooklyncode r on r.id = f.relatedId
            LEFT JOIN user ur on ur.id = r.userId
            WHERE
            ((0 = 6 and parent_sequence >= 1) or parent_sequence BETWEEN 1 AND 6)
            AND
            ((0 = 6 and child_sequence >= 1) or (child_sequence=0 or child_sequence BETWEEN 1 AND 6))
        
DEBUG:root:escape_sql args: None
DEBUG:root:
            SELECT f.`parent_sequence` , f.`child_sequence` , f.`id` , f.`locationId` , f.`relatedId`,
                f.`parentId` , f.`userId` , `u`.`username`, u.`thumbnailLarge` as userThumbnailLarge,
                ur.`username` as relatedUsername, ur.`thumbnailLarge` as relatedUserThumbnailLarge, f.`type` as `item_type`,
                f.`is_anonymous` , r.`is_anonymous` as `related_is_anonymous`, f.`name` , f.`location` ,f.`description`,f.`referer`,
                f.`voteCount` , f.`voteNumber` , f.`votesUp` ,f.`votesDown` , f.`flagCount`,  f.`childCount`, f.`sortOrder` , f.`status`,
                f.`thumbnailSmall` ,f.`thumbnailLarge` , f.`changeDate` , f.`createDate`, f.`nickname`, r.`nickname` as `related_nickname`
            FROM (
                # this query adds the sequence fields to filter by for paging
                SELECT  s1.*, @parentrownum := convert( IF( ( parentId = 0), @parentrownum +1, @parentrownum ), UNSIGNED INTEGER) AS parent_sequence,
                @childrownum := IF( ( @lastparent = parentId), @childrownum + 1, 0 ) AS child_sequence,
                @lastparent := if( parentId=0, id, parentId ) AS dummy_used_for_last_parent
                FROM
                    # QUERY 2: this query sorts the results properly
                    (SELECT s0.* FROM
                        # QUERY 1: This query gets the results we need with calculated fields to sort by
                        # We should probably have these fields in the database so they are indexed
                        (SELECT
                        CONVERT( if( parentId = 0, @parentVoteNumber:=voteNumber,
                            @parentVoteNumber ), SIGNED INTEGER ) as groupVoteNumber,          # Will order groups using parent voteNumber
                        CONVERT( if( parentId = 0, @parentVoteCount:=voteCount,
                            @parentVoteCount ), SIGNED INTEGER ) as groupVoteCount,            # Will order groups using parent voteCount
                        CONVERT( if( parentId = 0, @parentCreateDate:=createDate,
                            @parentCreateDate ), DATETIME ) as groupCreateDate,                # Will order groups using parent createDate
                        CONVERT( if(parentId=0, id, parentId), UNSIGNED INTEGER) as groupId,   # will order groups together
                        CONVERT( if(parentId = 0, 0, 1), UNSIGNED INTEGER) as isChild,         # will order parent first in group
                        r.*
                        FROM (
                            # this just makes sure our groups are grouped in parent child order
                            SELECT * from q_brooklyncode o  WHERE o.location = '5e13bbb73127b9fc424e3728c6500f28' ORDER BY
                             if( o.relatedId = 0, o.id, o.relatedId),
                             if( o.relatedId = 0, 0, o.id )
                            ) r,
                        ( SELECT @parentVoteNumber := 0 ) pvn,
                        ( SELECT @parentVoteCount  := 0 ) pvc,
                        ( SELECT @parentCreateDate := 0 ) pcd
                         WHERE location = '5e13bbb73127b9fc424e3728c6500f28' 
                    ) s0
                    
                    
                    ORDER BY
                    
                s0.groupVoteNumber DESC,
                s0.groupVoteCount DESC,
                s0.groupCreateDate ASC,
                 
                    groupId  ASC, # first order by group
                    isChild ASC, # Then make sure the parent is first
                    
                s0.voteNumber DESC,
                s0.voteCount DESC,
                s0.createDate ASC
                
            ) s1,
            ( SELECT @parentrownum := 0 ) pr,
            ( SELECT @childrownum := 0 ) cr, 
            ( SELECT @lastparent := -1 ) lp) f
            LEFT JOIN user u on u.id = f.userId
            LEFT JOIN q_brooklyncode r on r.id = f.relatedId
            LEFT JOIN user ur on ur.id = r.userId
            WHERE
            ((0 = 6 and parent_sequence >= 1) or parent_sequence BETWEEN 1 AND 6)
            AND
            ((0 = 6 and child_sequence >= 1) or (child_sequence=0 or child_sequence BETWEEN 1 AND 6))
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10fd5b8d0>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = %s
        
DEBUG:root:escape_sql args: [1L]
DEBUG:root:
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = 1
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10fd5b950>
DEBUG:root:dictlist: {u'itemId': 1L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'1fe8a631d5522d10e2cf2e4fabedc90b', u'id': 1L}
DEBUG:root:dictItem: {u'itemId': 1L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'1fe8a631d5522d10e2cf2e4fabedc90b', u'id': 1L}
DEBUG:root:items: [<ImageItem: ImageItem object>]
DEBUG:root:im: [<ImageItem: ImageItem object>]
DEBUG:root:comment.images: []
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = %s
        
DEBUG:root:escape_sql args: [2L]
DEBUG:root:
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = 2
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10fd5bb50>
DEBUG:root:dictlist: {u'itemId': 2L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'cfbb12022f81667e3c2746e3c80b2e1e', u'id': 2L}
DEBUG:root:dictItem: {u'itemId': 2L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'cfbb12022f81667e3c2746e3c80b2e1e', u'id': 2L}
DEBUG:root:items: [<ImageItem: ImageItem object>]
DEBUG:root:im: [<ImageItem: ImageItem object>]
DEBUG:root:comment.images: []
DEBUG:root:Number of comments returned: 2
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:escape_sql args: []
DEBUG:root:
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10fd5bcd0>
DEBUG:root:Number of contributions 2
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10fd5bed0>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10fd64110>
DEBUG:root:to_unicode
DEBUG:root:embed_content
DEBUG:root:embed_content
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:embed_content
DEBUG:root:embed_content
DEBUG:root:to_unicode
INFO:root:200 GET /q/embed (127.0.0.1)
Mon, 29 Jul 2013 02:17:58 GMT [ERROR] (errno: No such file or directory) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 02:17:58 GMT [ERROR] (errno: None) Failed to create target for route /q/static/
Mon, 29 Jul 2013 02:17:58 GMT [ERROR] (errno: None) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 02:17:58 GMT [ERROR] (errno: None) Failed to create target for route /q/robots.txt
Mon, 29 Jul 2013 02:17:58 GMT [ERROR] (errno: None) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 02:17:58 GMT [ERROR] (errno: None) Failed to create target for route /q/favicon.ico
Mon, 29 Jul 2013 02:17:58 GMT [INFO] (src/mime.c:49) MAX limits.mime_ext_len=128
Mon, 29 Jul 2013 02:17:58 GMT [INFO] (src/host.c:74) MAX limits.url_path=256, limits.host_name=256
Mon, 29 Jul 2013 02:17:58 GMT [INFO] (src/config/config.c:109) Loaded proxy 1:127.0.0.1:8081
Mon, 29 Jul 2013 02:17:58 GMT [INFO] (src/config/config.c:227) Loaded route 1:/:proxy for host 1:localhost
Mon, 29 Jul 2013 02:17:58 GMT [INFO] (src/handler.c:343) MAX limits.handler_stack=102400
Mon, 29 Jul 2013 02:17:58 GMT [INFO] (src/config/config.c:85) Loaded handler 1:ipc://run/qoorateserver/mongrel2_send:137b789e-b7eb-475a-8d5c-b16ab54493yu:ipc://run/qoorateserver/mongrel2_rcv:
Mon, 29 Jul 2013 02:17:58 GMT [INFO] (src/config/config.c:227) Loaded route 2:/q/:handler for host 1:localhost
Mon, 29 Jul 2013 02:17:58 GMT [INFO] (src/dir.c:195) MAX limits.dir_send_buffer=16384, limits.dir_max_path=256
Mon, 29 Jul 2013 02:17:58 GMT [INFO] (src/config/config.c:136) Loaded directory 1:static/qoorateserver/js/:index.html
Mon, 29 Jul 2013 02:17:58 GMT [INFO] (src/config/config.c:227) Loaded route 3:/q/js/:dir for host 1:localhost
Mon, 29 Jul 2013 02:17:58 GMT [INFO] (src/config/config.c:136) Loaded directory 2:static/qoorateserver/css/:index.html
Mon, 29 Jul 2013 02:17:58 GMT [INFO] (src/config/config.c:227) Loaded route 4:/q/css/:dir for host 1:localhost
Mon, 29 Jul 2013 02:17:58 GMT [INFO] (src/config/config.c:136) Loaded directory 3:static/qoorateserver/img/:index.html
Mon, 29 Jul 2013 02:17:58 GMT [INFO] (src/config/config.c:227) Loaded route 5:/q/img/:dir for host 1:localhost
Mon, 29 Jul 2013 02:17:58 GMT [INFO] (src/config/config.c:312) Loaded 1 hosts for server 1:fe76e442-da24-4708-b0ef-c4ahr2b7d131
Mon, 29 Jul 2013 02:17:58 GMT [INFO] (src/server.c:445) LOADING Handler ipc://run/qoorateserver/mongrel2_send
Mon, 29 Jul 2013 02:17:58 GMT [ERROR] (src/unixy.c:99: errno: No such file or directory) Failed to open PID file ../run/mongrel2.pid for reading.
Mon, 29 Jul 2013 02:17:58 GMT [INFO] (src/unixy.c:137) No previous mongrel2 running, continuing on.
Mon, 29 Jul 2013 02:17:58 GMT [INFO] (src/mongrel2.c:223) All loaded up, time to turn into a server.
Mon, 29 Jul 2013 02:17:58 GMT [INFO] (src/mongrel2.c:224) -- Starting Mongrel2/1.8.1. Copyright (C) Zed A. Shaw. Licensed BSD.

Mon, 29 Jul 2013 02:17:58 GMT [INFO] (src/mongrel2.c:225) -- Look in logs/error.log for startup messages and errors.
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
INFO:root:Using project directory: .
DEBUG:root:loading settings from ./conf/uploader/settings.py
INFO:root:Using coroutine library: gevent
DEBUG:root:******** START _service_registration *********
DEBUG:root:service_registration_passphrase: 137b789e-b7eb-475a-8d5a-b16ab544yurp
DEBUG:root:service_id: uploader
DEBUG:root:service_registration_addr: ipc://run/uploader/brubeck_svc_registration
DEBUG:root:service_passphrase: 137b789e-b7eb-475a-8d5a-b16ab544yurp
DEBUG:root:service_addr: ipc://run/uploader/brubeck_svc
DEBUG:root:service_response_addr: ipc://run/uploader/brubeck_svc_response
DEBUG:root:service_heartbeat_addr: None
DEBUG:root:service_heartbeat_timeout: 5
DEBUG:root:sender_id: 52ed0f4db59040c193a2dbc487a57f82
DEBUG:root:is_reregistration: 0
DEBUG:root:service_heartbeat_interval: 3
DEBUG:root:******** END _service_registration *********
DEBUG:root:register_service: (service_registration_addr, service_registration_passphrase,service_heartbeat_timeout,sender_id): (ipc://run/uploader/brubeck_svc_registration,137b789e-b7eb-475a-8d5a-b16ab544yurp, 5, 52ed0f4db59040c193a2dbc487a57f82)
DEBUG:root:service_registration sending request
DEBUG:root:service_registration waiting for response
INFO:root:Using project directory: .
DEBUG:root:loading settings from ./conf/qoorateserver/development.py
INFO:root:Using coroutine library: gevent
DEBUG:root:creating application db_conn pool
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
Mon, 29 Jul 2013 02:18:45 GMT [ERROR] (errno: No such file or directory) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 02:18:45 GMT [ERROR] (errno: None) Failed to create target for route /q/static/
Mon, 29 Jul 2013 02:18:45 GMT [ERROR] (errno: None) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 02:18:45 GMT [ERROR] (errno: None) Failed to create target for route /q/robots.txt
Mon, 29 Jul 2013 02:18:45 GMT [ERROR] (errno: None) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 02:18:45 GMT [ERROR] (errno: None) Failed to create target for route /q/favicon.ico
Mon, 29 Jul 2013 02:18:45 GMT [INFO] (src/mime.c:49) MAX limits.mime_ext_len=128
Mon, 29 Jul 2013 02:18:45 GMT [INFO] (src/host.c:74) MAX limits.url_path=256, limits.host_name=256
Mon, 29 Jul 2013 02:18:45 GMT [INFO] (src/config/config.c:109) Loaded proxy 1:127.0.0.1:8081
Mon, 29 Jul 2013 02:18:45 GMT [INFO] (src/config/config.c:227) Loaded route 1:/:proxy for host 1:localhost
Mon, 29 Jul 2013 02:18:45 GMT [INFO] (src/handler.c:343) MAX limits.handler_stack=102400
Mon, 29 Jul 2013 02:18:45 GMT [INFO] (src/config/config.c:85) Loaded handler 1:ipc://run/qoorateserver/mongrel2_send:137b789e-b7eb-475a-8d5c-b16ab54493yu:ipc://run/qoorateserver/mongrel2_rcv:
Mon, 29 Jul 2013 02:18:45 GMT [INFO] (src/config/config.c:227) Loaded route 2:/q/:handler for host 1:localhost
Mon, 29 Jul 2013 02:18:45 GMT [INFO] (src/dir.c:195) MAX limits.dir_send_buffer=16384, limits.dir_max_path=256
Mon, 29 Jul 2013 02:18:45 GMT [INFO] (src/config/config.c:136) Loaded directory 1:static/qoorateserver/js/:index.html
Mon, 29 Jul 2013 02:18:45 GMT [INFO] (src/config/config.c:227) Loaded route 3:/q/js/:dir for host 1:localhost
Mon, 29 Jul 2013 02:18:45 GMT [INFO] (src/config/config.c:136) Loaded directory 2:static/qoorateserver/css/:index.html
Mon, 29 Jul 2013 02:18:45 GMT [INFO] (src/config/config.c:227) Loaded route 4:/q/css/:dir for host 1:localhost
Mon, 29 Jul 2013 02:18:45 GMT [INFO] (src/config/config.c:136) Loaded directory 3:static/qoorateserver/img/:index.html
Mon, 29 Jul 2013 02:18:45 GMT [INFO] (src/config/config.c:227) Loaded route 5:/q/img/:dir for host 1:localhost
Mon, 29 Jul 2013 02:18:45 GMT [INFO] (src/config/config.c:312) Loaded 1 hosts for server 1:fe76e442-da24-4708-b0ef-c4ahr2b7d131
Mon, 29 Jul 2013 02:18:45 GMT [INFO] (src/server.c:445) LOADING Handler ipc://run/qoorateserver/mongrel2_send
Mon, 29 Jul 2013 02:18:45 GMT [ERROR] (src/unixy.c:99: errno: No such file or directory) Failed to open PID file ../run/mongrel2.pid for reading.
Mon, 29 Jul 2013 02:18:45 GMT [INFO] (src/unixy.c:137) No previous mongrel2 running, continuing on.
Mon, 29 Jul 2013 02:18:45 GMT [INFO] (src/mongrel2.c:223) All loaded up, time to turn into a server.
Mon, 29 Jul 2013 02:18:45 GMT [INFO] (src/mongrel2.c:224) -- Starting Mongrel2/1.8.1. Copyright (C) Zed A. Shaw. Licensed BSD.

Mon, 29 Jul 2013 02:18:45 GMT [INFO] (src/mongrel2.c:225) -- Look in logs/error.log for startup messages and errors.
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
INFO:root:Using project directory: .
DEBUG:root:loading settings from ./conf/uploader/settings.py
INFO:root:Using coroutine library: gevent
DEBUG:root:******** START _service_registration *********
DEBUG:root:service_registration_passphrase: 137b789e-b7eb-475a-8d5a-b16ab544yurp
DEBUG:root:service_id: uploader
DEBUG:root:service_registration_addr: ipc://run/uploader/brubeck_svc_registration
DEBUG:root:service_passphrase: 137b789e-b7eb-475a-8d5a-b16ab544yurp
DEBUG:root:service_addr: ipc://run/uploader/brubeck_svc
DEBUG:root:service_response_addr: ipc://run/uploader/brubeck_svc_response
DEBUG:root:service_heartbeat_addr: None
DEBUG:root:service_heartbeat_timeout: 5
DEBUG:root:sender_id: ffc535cbfe39409ebf79ccdd155dc91f
DEBUG:root:is_reregistration: 0
DEBUG:root:service_heartbeat_interval: 3
DEBUG:root:******** END _service_registration *********
DEBUG:root:register_service: (service_registration_addr, service_registration_passphrase,service_heartbeat_timeout,sender_id): (ipc://run/uploader/brubeck_svc_registration,137b789e-b7eb-475a-8d5a-b16ab544yurp, 5, ffc535cbfe39409ebf79ccdd155dc91f)
DEBUG:root:service_registration sending request
DEBUG:root:service_registration waiting for response
INFO:root:Using project directory: .
DEBUG:root:loading settings from ./conf/qoorateserver/development.py
INFO:root:Using coroutine library: gevent
DEBUG:root:creating application db_conn pool
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:get EmbedHandler
DEBUG:root:to_unicode
DEBUG:root:embed_head
DEBUG:root:embed_head
DEBUG:root:to_unicode
DEBUG:root:action: embed_head 
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:set_table has key/secret
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = %s and `secret`= %s
        
DEBUG:root:escape_sql args: [u'12345', u'54321']
DEBUG:root:
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = '12345' and `secret`= '54321'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1056dfa90>
DEBUG:root:returning True from authencticate.
DEBUG:root:set_table authenticated
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1056dfb10>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has key/secret
DEBUG:root:returning `True` from authenticate cached.
DEBUG:root:set_table authenticated
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1056dfd10>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1056dfe90>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1056e90d0>
DEBUG:root:qoorate preferences: {
    "THEME": "grid",
    "EMBED_CONF_JS": "
        var qoorateConfig = {
            QOORATE_URI: 'http://localhost',
            QOORATE_API_URI: 'http://localhost/q',
            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',
            XHR_PROXY_URI: '/q/feed',
            XHR_UPLOAD_URI: '/q/uploader',
            POST_MAX_LEN: 1000,
            PARENT_PAGE_SIZE: 10,
            CHILD_PAGE_SIZE: 10,
            AUTO_SCROLL: 1,
            THEME: 'grid',
            GRID_COLUMNS: 3,
            GRID_COLUMN_TRIM: 15,
            GRID_ROW_TRIM: 15
        };
        var qoorateLang = {
            FLAG_SUCCESS: 'Thanks for flagging this!',
            SHARE_SUCCESS: 'Thank you for sharing!',
            DELETE_SUCCESS: 'Thank you. This item has been deleted.',
            SIGNIN: 'Sign in using',
            SIGNEDIN: 'Signed in via',    
            OK: 'OK',
            CANCEL: 'Cancel',
            LOGOUT: 'Log Out',
            TOGGLE_ON: '+',
            TOGGLE_OFF: '-',
            CONTRIBUTION: 'Contribution',
            CONTRIBUTIONS: 'Contributions',
            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',
            REMOVE: 'Remove',
            LINK: 'Insert a link',
            TOPIC_COMMENT: 'Pose a Yes/No Question',
            COMMENT: 'Your Comment',
            IMAGE_COMMENT: 'Image Caption',
            POST_TO: 'Post to',
            POST_ANONYMOUS: 'Post anonymously',
            NICKNAME: 'Post as ',
            DEFAULT_NICKNAME: 'Anonymous',
            REPLY_LINK_COMMENT: 'Say something about your link',
            SHARE_COMMENT: 'comment about this share...',
            PUBLISH_BUTTON: 'Publish',
            POST_BUTTON: 'Post',
            POST_TO_BUTTON: 'Post To',
            REPLY_BUTTON: 'Reply',
            SHARE_BUTTON: 'Share',
            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',
            SELECT_IMAGE: 'Select an Image',
            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',
            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],
            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],
            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]
        };
    "
}

DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:preferences EMBED_CONF_JS:         var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    
DEBUG:root:embed_head called
INFO:root:200 GET /q/embed (127.0.0.1)
DEBUG:root:get EmbedHandler
DEBUG:root:to_unicode
DEBUG:root:embed_content
DEBUG:root:embed_content
DEBUG:root:to_unicode
DEBUG:root:action: embed_content 
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:set_table has key/secret
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = %s and `secret`= %s
        
DEBUG:root:escape_sql args: [u'12345', u'54321']
DEBUG:root:
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = '12345' and `secret`= '54321'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1056e92d0>
DEBUG:root:returning True from authencticate.
DEBUG:root:set_table authenticated
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1056e94d0>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has key/secret
DEBUG:root:returning `True` from authenticate cached.
DEBUG:root:set_table authenticated
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1056e96d0>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1056e98d0>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1056e9ad0>
DEBUG:root:qoorate preferences: {
    "THEME": "grid",
    "EMBED_CONF_JS": "
        var qoorateConfig = {
            QOORATE_URI: 'http://localhost',
            QOORATE_API_URI: 'http://localhost/q',
            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',
            XHR_PROXY_URI: '/q/feed',
            XHR_UPLOAD_URI: '/q/uploader',
            POST_MAX_LEN: 1000,
            PARENT_PAGE_SIZE: 10,
            CHILD_PAGE_SIZE: 10,
            AUTO_SCROLL: 1,
            THEME: 'grid',
            GRID_COLUMNS: 3,
            GRID_COLUMN_TRIM: 15,
            GRID_ROW_TRIM: 15
        };
        var qoorateLang = {
            FLAG_SUCCESS: 'Thanks for flagging this!',
            SHARE_SUCCESS: 'Thank you for sharing!',
            DELETE_SUCCESS: 'Thank you. This item has been deleted.',
            SIGNIN: 'Sign in using',
            SIGNEDIN: 'Signed in via',    
            OK: 'OK',
            CANCEL: 'Cancel',
            LOGOUT: 'Log Out',
            TOGGLE_ON: '+',
            TOGGLE_OFF: '-',
            CONTRIBUTION: 'Contribution',
            CONTRIBUTIONS: 'Contributions',
            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',
            REMOVE: 'Remove',
            LINK: 'Insert a link',
            TOPIC_COMMENT: 'Pose a Yes/No Question',
            COMMENT: 'Your Comment',
            IMAGE_COMMENT: 'Image Caption',
            POST_TO: 'Post to',
            POST_ANONYMOUS: 'Post anonymously',
            NICKNAME: 'Post as ',
            DEFAULT_NICKNAME: 'Anonymous',
            REPLY_LINK_COMMENT: 'Say something about your link',
            SHARE_COMMENT: 'comment about this share...',
            PUBLISH_BUTTON: 'Publish',
            POST_BUTTON: 'Post',
            POST_TO_BUTTON: 'Post To',
            REPLY_BUTTON: 'Reply',
            SHARE_BUTTON: 'Share',
            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',
            SELECT_IMAGE: 'Select an Image',
            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',
            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],
            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],
            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]
        };
    "
}

DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:preferences EMBED_CONF_JS:         var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    
DEBUG:root:embed_content called (key,secret): (12345,54321)
DEBUG:root:returning `True` from authenticate cached.
DEBUG:root:get_content_context
DEBUG:root:table: q_brooklyncode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:init_db_conn
DEBUG:root:NOT creating db_conn
DEBUG:root:1
DEBUG:root:5
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT f.`parent_sequence` , f.`child_sequence` , f.`id` , f.`locationId` , f.`relatedId`,
                f.`parentId` , f.`userId` , `u`.`username`, u.`thumbnailLarge` as userThumbnailLarge,
                ur.`username` as relatedUsername, ur.`thumbnailLarge` as relatedUserThumbnailLarge, f.`type` as `item_type`,
                f.`is_anonymous` , r.`is_anonymous` as `related_is_anonymous`, f.`name` , f.`location` ,f.`description`,f.`referer`,
                f.`voteCount` , f.`voteNumber` , f.`votesUp` ,f.`votesDown` , f.`flagCount`,  f.`childCount`, f.`sortOrder` , f.`status`,
                f.`thumbnailSmall` ,f.`thumbnailLarge` , f.`changeDate` , f.`createDate`, f.`nickname`, r.`nickname` as `related_nickname`
            FROM (
                # this query adds the sequence fields to filter by for paging
                SELECT  s1.*, @parentrownum := convert( IF( ( parentId = 0), @parentrownum +1, @parentrownum ), UNSIGNED INTEGER) AS parent_sequence,
                @childrownum := IF( ( @lastparent = parentId), @childrownum + 1, 0 ) AS child_sequence,
                @lastparent := if( parentId=0, id, parentId ) AS dummy_used_for_last_parent
                FROM
                    # QUERY 2: this query sorts the results properly
                    (SELECT s0.* FROM
                        # QUERY 1: This query gets the results we need with calculated fields to sort by
                        # We should probably have these fields in the database so they are indexed
                        (SELECT
                        CONVERT( if( parentId = 0, @parentVoteNumber:=voteNumber,
                            @parentVoteNumber ), SIGNED INTEGER ) as groupVoteNumber,          # Will order groups using parent voteNumber
                        CONVERT( if( parentId = 0, @parentVoteCount:=voteCount,
                            @parentVoteCount ), SIGNED INTEGER ) as groupVoteCount,            # Will order groups using parent voteCount
                        CONVERT( if( parentId = 0, @parentCreateDate:=createDate,
                            @parentCreateDate ), DATETIME ) as groupCreateDate,                # Will order groups using parent createDate
                        CONVERT( if(parentId=0, id, parentId), UNSIGNED INTEGER) as groupId,   # will order groups together
                        CONVERT( if(parentId = 0, 0, 1), UNSIGNED INTEGER) as isChild,         # will order parent first in group
                        r.*
                        FROM (
                            # this just makes sure our groups are grouped in parent child order
                            SELECT * from q_brooklyncode o  WHERE o.location = '5e13bbb73127b9fc424e3728c6500f28' ORDER BY
                             if( o.relatedId = 0, o.id, o.relatedId),
                             if( o.relatedId = 0, 0, o.id )
                            ) r,
                        ( SELECT @parentVoteNumber := 0 ) pvn,
                        ( SELECT @parentVoteCount  := 0 ) pvc,
                        ( SELECT @parentCreateDate := 0 ) pcd
                         WHERE location = '5e13bbb73127b9fc424e3728c6500f28' 
                    ) s0
                    
                    
                    ORDER BY
                    
                s0.groupVoteNumber DESC,
                s0.groupVoteCount DESC,
                s0.groupCreateDate ASC,
                 
                    groupId  ASC, # first order by group
                    isChild ASC, # Then make sure the parent is first
                    
                s0.voteNumber DESC,
                s0.voteCount DESC,
                s0.createDate ASC
                
            ) s1,
            ( SELECT @parentrownum := 0 ) pr,
            ( SELECT @childrownum := 0 ) cr, 
            ( SELECT @lastparent := -1 ) lp) f
            LEFT JOIN user u on u.id = f.userId
            LEFT JOIN q_brooklyncode r on r.id = f.relatedId
            LEFT JOIN user ur on ur.id = r.userId
            WHERE
            ((0 = 6 and parent_sequence >= 1) or parent_sequence BETWEEN 1 AND 6)
            AND
            ((0 = 6 and child_sequence >= 1) or (child_sequence=0 or child_sequence BETWEEN 1 AND 6))
        
DEBUG:root:escape_sql args: None
DEBUG:root:
            SELECT f.`parent_sequence` , f.`child_sequence` , f.`id` , f.`locationId` , f.`relatedId`,
                f.`parentId` , f.`userId` , `u`.`username`, u.`thumbnailLarge` as userThumbnailLarge,
                ur.`username` as relatedUsername, ur.`thumbnailLarge` as relatedUserThumbnailLarge, f.`type` as `item_type`,
                f.`is_anonymous` , r.`is_anonymous` as `related_is_anonymous`, f.`name` , f.`location` ,f.`description`,f.`referer`,
                f.`voteCount` , f.`voteNumber` , f.`votesUp` ,f.`votesDown` , f.`flagCount`,  f.`childCount`, f.`sortOrder` , f.`status`,
                f.`thumbnailSmall` ,f.`thumbnailLarge` , f.`changeDate` , f.`createDate`, f.`nickname`, r.`nickname` as `related_nickname`
            FROM (
                # this query adds the sequence fields to filter by for paging
                SELECT  s1.*, @parentrownum := convert( IF( ( parentId = 0), @parentrownum +1, @parentrownum ), UNSIGNED INTEGER) AS parent_sequence,
                @childrownum := IF( ( @lastparent = parentId), @childrownum + 1, 0 ) AS child_sequence,
                @lastparent := if( parentId=0, id, parentId ) AS dummy_used_for_last_parent
                FROM
                    # QUERY 2: this query sorts the results properly
                    (SELECT s0.* FROM
                        # QUERY 1: This query gets the results we need with calculated fields to sort by
                        # We should probably have these fields in the database so they are indexed
                        (SELECT
                        CONVERT( if( parentId = 0, @parentVoteNumber:=voteNumber,
                            @parentVoteNumber ), SIGNED INTEGER ) as groupVoteNumber,          # Will order groups using parent voteNumber
                        CONVERT( if( parentId = 0, @parentVoteCount:=voteCount,
                            @parentVoteCount ), SIGNED INTEGER ) as groupVoteCount,            # Will order groups using parent voteCount
                        CONVERT( if( parentId = 0, @parentCreateDate:=createDate,
                            @parentCreateDate ), DATETIME ) as groupCreateDate,                # Will order groups using parent createDate
                        CONVERT( if(parentId=0, id, parentId), UNSIGNED INTEGER) as groupId,   # will order groups together
                        CONVERT( if(parentId = 0, 0, 1), UNSIGNED INTEGER) as isChild,         # will order parent first in group
                        r.*
                        FROM (
                            # this just makes sure our groups are grouped in parent child order
                            SELECT * from q_brooklyncode o  WHERE o.location = '5e13bbb73127b9fc424e3728c6500f28' ORDER BY
                             if( o.relatedId = 0, o.id, o.relatedId),
                             if( o.relatedId = 0, 0, o.id )
                            ) r,
                        ( SELECT @parentVoteNumber := 0 ) pvn,
                        ( SELECT @parentVoteCount  := 0 ) pvc,
                        ( SELECT @parentCreateDate := 0 ) pcd
                         WHERE location = '5e13bbb73127b9fc424e3728c6500f28' 
                    ) s0
                    
                    
                    ORDER BY
                    
                s0.groupVoteNumber DESC,
                s0.groupVoteCount DESC,
                s0.groupCreateDate ASC,
                 
                    groupId  ASC, # first order by group
                    isChild ASC, # Then make sure the parent is first
                    
                s0.voteNumber DESC,
                s0.voteCount DESC,
                s0.createDate ASC
                
            ) s1,
            ( SELECT @parentrownum := 0 ) pr,
            ( SELECT @childrownum := 0 ) cr, 
            ( SELECT @lastparent := -1 ) lp) f
            LEFT JOIN user u on u.id = f.userId
            LEFT JOIN q_brooklyncode r on r.id = f.relatedId
            LEFT JOIN user ur on ur.id = r.userId
            WHERE
            ((0 = 6 and parent_sequence >= 1) or parent_sequence BETWEEN 1 AND 6)
            AND
            ((0 = 6 and child_sequence >= 1) or (child_sequence=0 or child_sequence BETWEEN 1 AND 6))
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1056dfa90>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = %s
        
DEBUG:root:escape_sql args: [1L]
DEBUG:root:
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = 1
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1056dfb10>
DEBUG:root:dictlist: {u'itemId': 1L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'1fe8a631d5522d10e2cf2e4fabedc90b', u'id': 1L}
DEBUG:root:dictItem: {u'itemId': 1L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'1fe8a631d5522d10e2cf2e4fabedc90b', u'id': 1L}
DEBUG:root:items: [<ImageItem: ImageItem object>]
DEBUG:root:im: [<ImageItem: ImageItem object>]
DEBUG:root:comment.images: []
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = %s
        
DEBUG:root:escape_sql args: [2L]
DEBUG:root:
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = 2
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1056dfd10>
DEBUG:root:dictlist: {u'itemId': 2L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'cfbb12022f81667e3c2746e3c80b2e1e', u'id': 2L}
DEBUG:root:dictItem: {u'itemId': 2L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'cfbb12022f81667e3c2746e3c80b2e1e', u'id': 2L}
DEBUG:root:items: [<ImageItem: ImageItem object>]
DEBUG:root:im: [<ImageItem: ImageItem object>]
DEBUG:root:comment.images: []
DEBUG:root:Number of comments returned: 2
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:escape_sql args: []
DEBUG:root:
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1056dfe90>
DEBUG:root:Number of contributions 2
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1056e90d0>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1056e92d0>
DEBUG:root:to_unicode
DEBUG:root:embed_content
DEBUG:root:embed_content
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:embed_content
DEBUG:root:embed_content
DEBUG:root:to_unicode
INFO:root:200 GET /q/embed (127.0.0.1)
Mon, 29 Jul 2013 02:23:29 GMT [ERROR] (errno: No such file or directory) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 02:23:29 GMT [ERROR] (errno: None) Failed to create target for route /q/static/
Mon, 29 Jul 2013 02:23:29 GMT [ERROR] (errno: None) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 02:23:29 GMT [ERROR] (errno: None) Failed to create target for route /q/robots.txt
Mon, 29 Jul 2013 02:23:29 GMT [ERROR] (errno: None) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 02:23:29 GMT [ERROR] (errno: None) Failed to create target for route /q/favicon.ico
Mon, 29 Jul 2013 02:23:29 GMT [INFO] (src/mime.c:49) MAX limits.mime_ext_len=128
Mon, 29 Jul 2013 02:23:29 GMT [INFO] (src/host.c:74) MAX limits.url_path=256, limits.host_name=256
Mon, 29 Jul 2013 02:23:29 GMT [INFO] (src/config/config.c:109) Loaded proxy 1:127.0.0.1:8081
Mon, 29 Jul 2013 02:23:29 GMT [INFO] (src/config/config.c:227) Loaded route 1:/:proxy for host 1:localhost
Mon, 29 Jul 2013 02:23:29 GMT [INFO] (src/handler.c:343) MAX limits.handler_stack=102400
Mon, 29 Jul 2013 02:23:29 GMT [INFO] (src/config/config.c:85) Loaded handler 1:ipc://run/qoorateserver/mongrel2_send:137b789e-b7eb-475a-8d5c-b16ab54493yu:ipc://run/qoorateserver/mongrel2_rcv:
Mon, 29 Jul 2013 02:23:29 GMT [INFO] (src/config/config.c:227) Loaded route 2:/q/:handler for host 1:localhost
Mon, 29 Jul 2013 02:23:29 GMT [INFO] (src/dir.c:195) MAX limits.dir_send_buffer=16384, limits.dir_max_path=256
Mon, 29 Jul 2013 02:23:29 GMT [INFO] (src/config/config.c:136) Loaded directory 1:static/qoorateserver/js/:index.html
Mon, 29 Jul 2013 02:23:29 GMT [INFO] (src/config/config.c:227) Loaded route 3:/q/js/:dir for host 1:localhost
Mon, 29 Jul 2013 02:23:29 GMT [INFO] (src/config/config.c:136) Loaded directory 2:static/qoorateserver/css/:index.html
Mon, 29 Jul 2013 02:23:29 GMT [INFO] (src/config/config.c:227) Loaded route 4:/q/css/:dir for host 1:localhost
Mon, 29 Jul 2013 02:23:29 GMT [INFO] (src/config/config.c:136) Loaded directory 3:static/qoorateserver/img/:index.html
Mon, 29 Jul 2013 02:23:29 GMT [INFO] (src/config/config.c:227) Loaded route 5:/q/img/:dir for host 1:localhost
Mon, 29 Jul 2013 02:23:29 GMT [INFO] (src/config/config.c:312) Loaded 1 hosts for server 1:fe76e442-da24-4708-b0ef-c4ahr2b7d131
Mon, 29 Jul 2013 02:23:29 GMT [INFO] (src/server.c:445) LOADING Handler ipc://run/qoorateserver/mongrel2_send
Mon, 29 Jul 2013 02:23:29 GMT [ERROR] (src/unixy.c:99: errno: No such file or directory) Failed to open PID file ../run/mongrel2.pid for reading.
Mon, 29 Jul 2013 02:23:29 GMT [INFO] (src/unixy.c:137) No previous mongrel2 running, continuing on.
Mon, 29 Jul 2013 02:23:29 GMT [INFO] (src/mongrel2.c:223) All loaded up, time to turn into a server.
Mon, 29 Jul 2013 02:23:29 GMT [INFO] (src/mongrel2.c:224) -- Starting Mongrel2/1.8.1. Copyright (C) Zed A. Shaw. Licensed BSD.

Mon, 29 Jul 2013 02:23:29 GMT [INFO] (src/mongrel2.c:225) -- Look in logs/error.log for startup messages and errors.
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
INFO:root:Using project directory: .
DEBUG:root:loading settings from ./conf/uploader/settings.py
INFO:root:Using coroutine library: gevent
DEBUG:root:******** START _service_registration *********
DEBUG:root:service_registration_passphrase: 137b789e-b7eb-475a-8d5a-b16ab544yurp
DEBUG:root:service_id: uploader
DEBUG:root:service_registration_addr: ipc://run/uploader/brubeck_svc_registration
DEBUG:root:service_passphrase: 137b789e-b7eb-475a-8d5a-b16ab544yurp
DEBUG:root:service_addr: ipc://run/uploader/brubeck_svc
DEBUG:root:service_response_addr: ipc://run/uploader/brubeck_svc_response
DEBUG:root:service_heartbeat_addr: None
DEBUG:root:service_heartbeat_timeout: 5
DEBUG:root:sender_id: 947144fa0e5c4d51a221da33f352dd3b
DEBUG:root:is_reregistration: 0
DEBUG:root:service_heartbeat_interval: 3
DEBUG:root:******** END _service_registration *********
DEBUG:root:register_service: (service_registration_addr, service_registration_passphrase,service_heartbeat_timeout,sender_id): (ipc://run/uploader/brubeck_svc_registration,137b789e-b7eb-475a-8d5a-b16ab544yurp, 5, 947144fa0e5c4d51a221da33f352dd3b)
DEBUG:root:service_registration sending request
DEBUG:root:service_registration waiting for response
INFO:root:Using project directory: .
DEBUG:root:loading settings from ./conf/qoorateserver/development.py
INFO:root:Using coroutine library: gevent
DEBUG:root:creating application db_conn pool
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:get EmbedHandler
DEBUG:root:to_unicode
DEBUG:root:embed_head
DEBUG:root:embed_head
DEBUG:root:to_unicode
DEBUG:root:action: embed_head 
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:set_table has key/secret
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = %s and `secret`= %s
        
DEBUG:root:escape_sql args: [u'12345', u'54321']
DEBUG:root:
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = '12345' and `secret`= '54321'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x108349a90>
DEBUG:root:returning True from authencticate.
DEBUG:root:set_table authenticated
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x108349b10>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has key/secret
DEBUG:root:returning `True` from authenticate cached.
DEBUG:root:set_table authenticated
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x108349d10>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x108349e90>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1083530d0>
DEBUG:root:qoorate preferences: {
    "THEME": "grid",
    "EMBED_CONF_JS": "
        var qoorateConfig = {
            QOORATE_URI: 'http://localhost',
            QOORATE_API_URI: 'http://localhost/q',
            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',
            XHR_PROXY_URI: '/q/feed',
            XHR_UPLOAD_URI: '/q/uploader',
            POST_MAX_LEN: 1000,
            PARENT_PAGE_SIZE: 10,
            CHILD_PAGE_SIZE: 10,
            AUTO_SCROLL: 1,
            THEME: 'grid',
            GRID_COLUMNS: 3,
            GRID_COLUMN_TRIM: 15,
            GRID_ROW_TRIM: 15
        };
        var qoorateLang = {
            FLAG_SUCCESS: 'Thanks for flagging this!',
            SHARE_SUCCESS: 'Thank you for sharing!',
            DELETE_SUCCESS: 'Thank you. This item has been deleted.',
            SIGNIN: 'Sign in using',
            SIGNEDIN: 'Signed in via',    
            OK: 'OK',
            CANCEL: 'Cancel',
            LOGOUT: 'Log Out',
            TOGGLE_ON: '+',
            TOGGLE_OFF: '-',
            CONTRIBUTION: 'Contribution',
            CONTRIBUTIONS: 'Contributions',
            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',
            REMOVE: 'Remove',
            LINK: 'Insert a link',
            TOPIC_COMMENT: 'Pose a Yes/No Question',
            COMMENT: 'Your Comment',
            IMAGE_COMMENT: 'Image Caption',
            POST_TO: 'Post to',
            POST_ANONYMOUS: 'Post anonymously',
            NICKNAME: 'Post as ',
            DEFAULT_NICKNAME: 'Anonymous',
            REPLY_LINK_COMMENT: 'Say something about your link',
            SHARE_COMMENT: 'comment about this share...',
            PUBLISH_BUTTON: 'Publish',
            POST_BUTTON: 'Post',
            POST_TO_BUTTON: 'Post To',
            REPLY_BUTTON: 'Reply',
            SHARE_BUTTON: 'Share',
            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',
            SELECT_IMAGE: 'Select an Image',
            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',
            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],
            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],
            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]
        };
    "
}

DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:preferences EMBED_CONF_JS:         var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    
DEBUG:root:embed_head called
INFO:root:200 GET /q/embed (127.0.0.1)
DEBUG:root:get EmbedHandler
DEBUG:root:to_unicode
DEBUG:root:embed_content
DEBUG:root:embed_content
DEBUG:root:to_unicode
DEBUG:root:action: embed_content 
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:set_table has key/secret
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = %s and `secret`= %s
        
DEBUG:root:escape_sql args: [u'12345', u'54321']
DEBUG:root:
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = '12345' and `secret`= '54321'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1083532d0>
DEBUG:root:returning True from authencticate.
DEBUG:root:set_table authenticated
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1083534d0>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has key/secret
DEBUG:root:returning `True` from authenticate cached.
DEBUG:root:set_table authenticated
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1083536d0>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1083538d0>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x108353ad0>
DEBUG:root:qoorate preferences: {
    "THEME": "grid",
    "EMBED_CONF_JS": "
        var qoorateConfig = {
            QOORATE_URI: 'http://localhost',
            QOORATE_API_URI: 'http://localhost/q',
            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',
            XHR_PROXY_URI: '/q/feed',
            XHR_UPLOAD_URI: '/q/uploader',
            POST_MAX_LEN: 1000,
            PARENT_PAGE_SIZE: 10,
            CHILD_PAGE_SIZE: 10,
            AUTO_SCROLL: 1,
            THEME: 'grid',
            GRID_COLUMNS: 3,
            GRID_COLUMN_TRIM: 15,
            GRID_ROW_TRIM: 15
        };
        var qoorateLang = {
            FLAG_SUCCESS: 'Thanks for flagging this!',
            SHARE_SUCCESS: 'Thank you for sharing!',
            DELETE_SUCCESS: 'Thank you. This item has been deleted.',
            SIGNIN: 'Sign in using',
            SIGNEDIN: 'Signed in via',    
            OK: 'OK',
            CANCEL: 'Cancel',
            LOGOUT: 'Log Out',
            TOGGLE_ON: '+',
            TOGGLE_OFF: '-',
            CONTRIBUTION: 'Contribution',
            CONTRIBUTIONS: 'Contributions',
            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',
            REMOVE: 'Remove',
            LINK: 'Insert a link',
            TOPIC_COMMENT: 'Pose a Yes/No Question',
            COMMENT: 'Your Comment',
            IMAGE_COMMENT: 'Image Caption',
            POST_TO: 'Post to',
            POST_ANONYMOUS: 'Post anonymously',
            NICKNAME: 'Post as ',
            DEFAULT_NICKNAME: 'Anonymous',
            REPLY_LINK_COMMENT: 'Say something about your link',
            SHARE_COMMENT: 'comment about this share...',
            PUBLISH_BUTTON: 'Publish',
            POST_BUTTON: 'Post',
            POST_TO_BUTTON: 'Post To',
            REPLY_BUTTON: 'Reply',
            SHARE_BUTTON: 'Share',
            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',
            SELECT_IMAGE: 'Select an Image',
            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',
            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],
            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],
            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]
        };
    "
}

DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:preferences EMBED_CONF_JS:         var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    
DEBUG:root:embed_content called (key,secret): (12345,54321)
DEBUG:root:returning `True` from authenticate cached.
DEBUG:root:get_content_context
DEBUG:root:table: q_brooklyncode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:init_db_conn
DEBUG:root:NOT creating db_conn
DEBUG:root:1
DEBUG:root:5
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT f.`parent_sequence` , f.`child_sequence` , f.`id` , f.`locationId` , f.`relatedId`,
                f.`parentId` , f.`userId` , `u`.`username`, u.`thumbnailLarge` as userThumbnailLarge,
                ur.`username` as relatedUsername, ur.`thumbnailLarge` as relatedUserThumbnailLarge, f.`type` as `item_type`,
                f.`is_anonymous` , r.`is_anonymous` as `related_is_anonymous`, f.`name` , f.`location` ,f.`description`,f.`referer`,
                f.`voteCount` , f.`voteNumber` , f.`votesUp` ,f.`votesDown` , f.`flagCount`,  f.`childCount`, f.`sortOrder` , f.`status`,
                f.`thumbnailSmall` ,f.`thumbnailLarge` , f.`changeDate` , f.`createDate`, f.`nickname`, r.`nickname` as `related_nickname`
            FROM (
                # this query adds the sequence fields to filter by for paging
                SELECT  s1.*, @parentrownum := convert( IF( ( parentId = 0), @parentrownum +1, @parentrownum ), UNSIGNED INTEGER) AS parent_sequence,
                @childrownum := IF( ( @lastparent = parentId), @childrownum + 1, 0 ) AS child_sequence,
                @lastparent := if( parentId=0, id, parentId ) AS dummy_used_for_last_parent
                FROM
                    # QUERY 2: this query sorts the results properly
                    (SELECT s0.* FROM
                        # QUERY 1: This query gets the results we need with calculated fields to sort by
                        # We should probably have these fields in the database so they are indexed
                        (SELECT
                        CONVERT( if( parentId = 0, @parentVoteNumber:=voteNumber,
                            @parentVoteNumber ), SIGNED INTEGER ) as groupVoteNumber,          # Will order groups using parent voteNumber
                        CONVERT( if( parentId = 0, @parentVoteCount:=voteCount,
                            @parentVoteCount ), SIGNED INTEGER ) as groupVoteCount,            # Will order groups using parent voteCount
                        CONVERT( if( parentId = 0, @parentCreateDate:=createDate,
                            @parentCreateDate ), DATETIME ) as groupCreateDate,                # Will order groups using parent createDate
                        CONVERT( if(parentId=0, id, parentId), UNSIGNED INTEGER) as groupId,   # will order groups together
                        CONVERT( if(parentId = 0, 0, 1), UNSIGNED INTEGER) as isChild,         # will order parent first in group
                        r.*
                        FROM (
                            # this just makes sure our groups are grouped in parent child order
                            SELECT * from q_brooklyncode o  WHERE o.location = '5e13bbb73127b9fc424e3728c6500f28' ORDER BY
                             if( o.relatedId = 0, o.id, o.relatedId),
                             if( o.relatedId = 0, 0, o.id )
                            ) r,
                        ( SELECT @parentVoteNumber := 0 ) pvn,
                        ( SELECT @parentVoteCount  := 0 ) pvc,
                        ( SELECT @parentCreateDate := 0 ) pcd
                         WHERE location = '5e13bbb73127b9fc424e3728c6500f28' 
                    ) s0
                    
                    
                    ORDER BY
                    
                s0.groupVoteNumber DESC,
                s0.groupVoteCount DESC,
                s0.groupCreateDate ASC,
                 
                    groupId  ASC, # first order by group
                    isChild ASC, # Then make sure the parent is first
                    
                s0.voteNumber DESC,
                s0.voteCount DESC,
                s0.createDate ASC
                
            ) s1,
            ( SELECT @parentrownum := 0 ) pr,
            ( SELECT @childrownum := 0 ) cr, 
            ( SELECT @lastparent := -1 ) lp) f
            LEFT JOIN user u on u.id = f.userId
            LEFT JOIN q_brooklyncode r on r.id = f.relatedId
            LEFT JOIN user ur on ur.id = r.userId
            WHERE
            ((0 = 6 and parent_sequence >= 1) or parent_sequence BETWEEN 1 AND 6)
            AND
            ((0 = 6 and child_sequence >= 1) or (child_sequence=0 or child_sequence BETWEEN 1 AND 6))
        
DEBUG:root:escape_sql args: None
DEBUG:root:
            SELECT f.`parent_sequence` , f.`child_sequence` , f.`id` , f.`locationId` , f.`relatedId`,
                f.`parentId` , f.`userId` , `u`.`username`, u.`thumbnailLarge` as userThumbnailLarge,
                ur.`username` as relatedUsername, ur.`thumbnailLarge` as relatedUserThumbnailLarge, f.`type` as `item_type`,
                f.`is_anonymous` , r.`is_anonymous` as `related_is_anonymous`, f.`name` , f.`location` ,f.`description`,f.`referer`,
                f.`voteCount` , f.`voteNumber` , f.`votesUp` ,f.`votesDown` , f.`flagCount`,  f.`childCount`, f.`sortOrder` , f.`status`,
                f.`thumbnailSmall` ,f.`thumbnailLarge` , f.`changeDate` , f.`createDate`, f.`nickname`, r.`nickname` as `related_nickname`
            FROM (
                # this query adds the sequence fields to filter by for paging
                SELECT  s1.*, @parentrownum := convert( IF( ( parentId = 0), @parentrownum +1, @parentrownum ), UNSIGNED INTEGER) AS parent_sequence,
                @childrownum := IF( ( @lastparent = parentId), @childrownum + 1, 0 ) AS child_sequence,
                @lastparent := if( parentId=0, id, parentId ) AS dummy_used_for_last_parent
                FROM
                    # QUERY 2: this query sorts the results properly
                    (SELECT s0.* FROM
                        # QUERY 1: This query gets the results we need with calculated fields to sort by
                        # We should probably have these fields in the database so they are indexed
                        (SELECT
                        CONVERT( if( parentId = 0, @parentVoteNumber:=voteNumber,
                            @parentVoteNumber ), SIGNED INTEGER ) as groupVoteNumber,          # Will order groups using parent voteNumber
                        CONVERT( if( parentId = 0, @parentVoteCount:=voteCount,
                            @parentVoteCount ), SIGNED INTEGER ) as groupVoteCount,            # Will order groups using parent voteCount
                        CONVERT( if( parentId = 0, @parentCreateDate:=createDate,
                            @parentCreateDate ), DATETIME ) as groupCreateDate,                # Will order groups using parent createDate
                        CONVERT( if(parentId=0, id, parentId), UNSIGNED INTEGER) as groupId,   # will order groups together
                        CONVERT( if(parentId = 0, 0, 1), UNSIGNED INTEGER) as isChild,         # will order parent first in group
                        r.*
                        FROM (
                            # this just makes sure our groups are grouped in parent child order
                            SELECT * from q_brooklyncode o  WHERE o.location = '5e13bbb73127b9fc424e3728c6500f28' ORDER BY
                             if( o.relatedId = 0, o.id, o.relatedId),
                             if( o.relatedId = 0, 0, o.id )
                            ) r,
                        ( SELECT @parentVoteNumber := 0 ) pvn,
                        ( SELECT @parentVoteCount  := 0 ) pvc,
                        ( SELECT @parentCreateDate := 0 ) pcd
                         WHERE location = '5e13bbb73127b9fc424e3728c6500f28' 
                    ) s0
                    
                    
                    ORDER BY
                    
                s0.groupVoteNumber DESC,
                s0.groupVoteCount DESC,
                s0.groupCreateDate ASC,
                 
                    groupId  ASC, # first order by group
                    isChild ASC, # Then make sure the parent is first
                    
                s0.voteNumber DESC,
                s0.voteCount DESC,
                s0.createDate ASC
                
            ) s1,
            ( SELECT @parentrownum := 0 ) pr,
            ( SELECT @childrownum := 0 ) cr, 
            ( SELECT @lastparent := -1 ) lp) f
            LEFT JOIN user u on u.id = f.userId
            LEFT JOIN q_brooklyncode r on r.id = f.relatedId
            LEFT JOIN user ur on ur.id = r.userId
            WHERE
            ((0 = 6 and parent_sequence >= 1) or parent_sequence BETWEEN 1 AND 6)
            AND
            ((0 = 6 and child_sequence >= 1) or (child_sequence=0 or child_sequence BETWEEN 1 AND 6))
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x108349a90>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = %s
        
DEBUG:root:escape_sql args: [1L]
DEBUG:root:
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = 1
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x108349b10>
DEBUG:root:dictlist: {u'itemId': 1L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'1fe8a631d5522d10e2cf2e4fabedc90b', u'id': 1L}
DEBUG:root:dictItem: {u'itemId': 1L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'1fe8a631d5522d10e2cf2e4fabedc90b', u'id': 1L}
DEBUG:root:items: [<ImageItem: ImageItem object>]
DEBUG:root:im: [<ImageItem: ImageItem object>]
DEBUG:root:comment.images: []
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = %s
        
DEBUG:root:escape_sql args: [2L]
DEBUG:root:
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = 2
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x108349d10>
DEBUG:root:dictlist: {u'itemId': 2L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'cfbb12022f81667e3c2746e3c80b2e1e', u'id': 2L}
DEBUG:root:dictItem: {u'itemId': 2L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'cfbb12022f81667e3c2746e3c80b2e1e', u'id': 2L}
DEBUG:root:items: [<ImageItem: ImageItem object>]
DEBUG:root:im: [<ImageItem: ImageItem object>]
DEBUG:root:comment.images: []
DEBUG:root:Number of comments returned: 2
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:escape_sql args: []
DEBUG:root:
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x108349e90>
DEBUG:root:Number of contributions 2
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1083530d0>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1083532d0>
DEBUG:root:to_unicode
DEBUG:root:embed_content
DEBUG:root:embed_content
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:embed_content
DEBUG:root:embed_content
DEBUG:root:to_unicode
INFO:root:200 GET /q/embed (127.0.0.1)
Mon, 29 Jul 2013 02:33:21 GMT [ERROR] (errno: No such file or directory) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 02:33:21 GMT [ERROR] (errno: None) Failed to create target for route /q/static/
Mon, 29 Jul 2013 02:33:21 GMT [ERROR] (errno: None) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 02:33:21 GMT [ERROR] (errno: None) Failed to create target for route /q/robots.txt
Mon, 29 Jul 2013 02:33:21 GMT [ERROR] (errno: None) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 02:33:21 GMT [ERROR] (errno: None) Failed to create target for route /q/favicon.ico
Mon, 29 Jul 2013 02:33:21 GMT [INFO] (src/mime.c:49) MAX limits.mime_ext_len=128
Mon, 29 Jul 2013 02:33:21 GMT [INFO] (src/host.c:74) MAX limits.url_path=256, limits.host_name=256
Mon, 29 Jul 2013 02:33:21 GMT [INFO] (src/config/config.c:109) Loaded proxy 1:127.0.0.1:8081
Mon, 29 Jul 2013 02:33:21 GMT [INFO] (src/config/config.c:227) Loaded route 1:/:proxy for host 1:localhost
Mon, 29 Jul 2013 02:33:21 GMT [INFO] (src/handler.c:343) MAX limits.handler_stack=102400
Mon, 29 Jul 2013 02:33:21 GMT [INFO] (src/config/config.c:85) Loaded handler 1:ipc://run/qoorateserver/mongrel2_send:137b789e-b7eb-475a-8d5c-b16ab54493yu:ipc://run/qoorateserver/mongrel2_rcv:
Mon, 29 Jul 2013 02:33:21 GMT [INFO] (src/config/config.c:227) Loaded route 2:/q/:handler for host 1:localhost
Mon, 29 Jul 2013 02:33:21 GMT [INFO] (src/dir.c:195) MAX limits.dir_send_buffer=16384, limits.dir_max_path=256
Mon, 29 Jul 2013 02:33:21 GMT [INFO] (src/config/config.c:136) Loaded directory 1:static/qoorateserver/js/:index.html
Mon, 29 Jul 2013 02:33:21 GMT [INFO] (src/config/config.c:227) Loaded route 3:/q/js/:dir for host 1:localhost
Mon, 29 Jul 2013 02:33:21 GMT [INFO] (src/config/config.c:136) Loaded directory 2:static/qoorateserver/css/:index.html
Mon, 29 Jul 2013 02:33:21 GMT [INFO] (src/config/config.c:227) Loaded route 4:/q/css/:dir for host 1:localhost
Mon, 29 Jul 2013 02:33:21 GMT [INFO] (src/config/config.c:136) Loaded directory 3:static/qoorateserver/img/:index.html
Mon, 29 Jul 2013 02:33:21 GMT [INFO] (src/config/config.c:227) Loaded route 5:/q/img/:dir for host 1:localhost
Mon, 29 Jul 2013 02:33:21 GMT [INFO] (src/config/config.c:312) Loaded 1 hosts for server 1:fe76e442-da24-4708-b0ef-c4ahr2b7d131
Mon, 29 Jul 2013 02:33:21 GMT [INFO] (src/server.c:445) LOADING Handler ipc://run/qoorateserver/mongrel2_send
Mon, 29 Jul 2013 02:33:21 GMT [ERROR] (src/unixy.c:99: errno: No such file or directory) Failed to open PID file ../run/mongrel2.pid for reading.
Mon, 29 Jul 2013 02:33:21 GMT [INFO] (src/unixy.c:137) No previous mongrel2 running, continuing on.
Mon, 29 Jul 2013 02:33:21 GMT [INFO] (src/mongrel2.c:223) All loaded up, time to turn into a server.
Mon, 29 Jul 2013 02:33:21 GMT [INFO] (src/mongrel2.c:224) -- Starting Mongrel2/1.8.1. Copyright (C) Zed A. Shaw. Licensed BSD.

Mon, 29 Jul 2013 02:33:21 GMT [INFO] (src/mongrel2.c:225) -- Look in logs/error.log for startup messages and errors.
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
INFO:root:Using project directory: .
DEBUG:root:loading settings from ./conf/uploader/settings.py
INFO:root:Using coroutine library: gevent
DEBUG:root:******** START _service_registration *********
DEBUG:root:service_registration_passphrase: 137b789e-b7eb-475a-8d5a-b16ab544yurp
DEBUG:root:service_id: uploader
DEBUG:root:service_registration_addr: ipc://run/uploader/brubeck_svc_registration
DEBUG:root:service_passphrase: 137b789e-b7eb-475a-8d5a-b16ab544yurp
DEBUG:root:service_addr: ipc://run/uploader/brubeck_svc
DEBUG:root:service_response_addr: ipc://run/uploader/brubeck_svc_response
DEBUG:root:service_heartbeat_addr: None
DEBUG:root:service_heartbeat_timeout: 5
DEBUG:root:sender_id: f1f75cb0f1654054b55854ad01f48c6d
DEBUG:root:is_reregistration: 0
DEBUG:root:service_heartbeat_interval: 3
DEBUG:root:******** END _service_registration *********
DEBUG:root:register_service: (service_registration_addr, service_registration_passphrase,service_heartbeat_timeout,sender_id): (ipc://run/uploader/brubeck_svc_registration,137b789e-b7eb-475a-8d5a-b16ab544yurp, 5, f1f75cb0f1654054b55854ad01f48c6d)
DEBUG:root:service_registration sending request
DEBUG:root:service_registration waiting for response
INFO:root:Using project directory: .
DEBUG:root:loading settings from ./conf/qoorateserver/development.py
INFO:root:Using coroutine library: gevent
DEBUG:root:creating application db_conn pool
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:get EmbedHandler
DEBUG:root:to_unicode
DEBUG:root:embed_head
DEBUG:root:embed_head
DEBUG:root:to_unicode
DEBUG:root:action: embed_head 
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:set_table has key/secret
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = %s and `secret`= %s
        
DEBUG:root:escape_sql args: [u'12345', u'54321']
DEBUG:root:
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = '12345' and `secret`= '54321'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042b6a90>
DEBUG:root:returning True from authencticate.
DEBUG:root:set_table authenticated
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042b6b10>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has key/secret
DEBUG:root:returning `True` from authenticate cached.
DEBUG:root:set_table authenticated
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042b6d10>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042b6e90>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042c00d0>
DEBUG:root:qoorate preferences: {
    "THEME": "grid",
    "EMBED_CONF_JS": "
        var qoorateConfig = {
            QOORATE_URI: 'http://localhost',
            QOORATE_API_URI: 'http://localhost/q',
            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',
            XHR_PROXY_URI: '/q/feed',
            XHR_UPLOAD_URI: '/q/uploader',
            POST_MAX_LEN: 1000,
            PARENT_PAGE_SIZE: 10,
            CHILD_PAGE_SIZE: 10,
            AUTO_SCROLL: 1,
            THEME: 'grid',
            GRID_COLUMNS: 3,
            GRID_COLUMN_TRIM: 15,
            GRID_ROW_TRIM: 15
        };
        var qoorateLang = {
            FLAG_SUCCESS: 'Thanks for flagging this!',
            SHARE_SUCCESS: 'Thank you for sharing!',
            DELETE_SUCCESS: 'Thank you. This item has been deleted.',
            SIGNIN: 'Sign in using',
            SIGNEDIN: 'Signed in via',    
            OK: 'OK',
            CANCEL: 'Cancel',
            LOGOUT: 'Log Out',
            TOGGLE_ON: '+',
            TOGGLE_OFF: '-',
            CONTRIBUTION: 'Contribution',
            CONTRIBUTIONS: 'Contributions',
            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',
            REMOVE: 'Remove',
            LINK: 'Insert a link',
            TOPIC_COMMENT: 'Pose a Yes/No Question',
            COMMENT: 'Your Comment',
            IMAGE_COMMENT: 'Image Caption',
            POST_TO: 'Post to',
            POST_ANONYMOUS: 'Post anonymously',
            NICKNAME: 'Post as ',
            DEFAULT_NICKNAME: 'Anonymous',
            REPLY_LINK_COMMENT: 'Say something about your link',
            SHARE_COMMENT: 'comment about this share...',
            PUBLISH_BUTTON: 'Publish',
            POST_BUTTON: 'Post',
            POST_TO_BUTTON: 'Post To',
            REPLY_BUTTON: 'Reply',
            SHARE_BUTTON: 'Share',
            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',
            SELECT_IMAGE: 'Select an Image',
            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',
            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],
            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],
            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]
        };
    "
}

DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:preferences EMBED_CONF_JS:         var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    
DEBUG:root:embed_head called
INFO:root:200 GET /q/embed (127.0.0.1)
DEBUG:root:get EmbedHandler
DEBUG:root:to_unicode
DEBUG:root:embed_content
DEBUG:root:embed_content
DEBUG:root:to_unicode
DEBUG:root:action: embed_content 
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:set_table has key/secret
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = %s and `secret`= %s
        
DEBUG:root:escape_sql args: [u'12345', u'54321']
DEBUG:root:
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = '12345' and `secret`= '54321'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042c02d0>
DEBUG:root:returning True from authencticate.
DEBUG:root:set_table authenticated
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042c04d0>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has key/secret
DEBUG:root:returning `True` from authenticate cached.
DEBUG:root:set_table authenticated
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042c06d0>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042c08d0>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042c0ad0>
DEBUG:root:qoorate preferences: {
    "THEME": "grid",
    "EMBED_CONF_JS": "
        var qoorateConfig = {
            QOORATE_URI: 'http://localhost',
            QOORATE_API_URI: 'http://localhost/q',
            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',
            XHR_PROXY_URI: '/q/feed',
            XHR_UPLOAD_URI: '/q/uploader',
            POST_MAX_LEN: 1000,
            PARENT_PAGE_SIZE: 10,
            CHILD_PAGE_SIZE: 10,
            AUTO_SCROLL: 1,
            THEME: 'grid',
            GRID_COLUMNS: 3,
            GRID_COLUMN_TRIM: 15,
            GRID_ROW_TRIM: 15
        };
        var qoorateLang = {
            FLAG_SUCCESS: 'Thanks for flagging this!',
            SHARE_SUCCESS: 'Thank you for sharing!',
            DELETE_SUCCESS: 'Thank you. This item has been deleted.',
            SIGNIN: 'Sign in using',
            SIGNEDIN: 'Signed in via',    
            OK: 'OK',
            CANCEL: 'Cancel',
            LOGOUT: 'Log Out',
            TOGGLE_ON: '+',
            TOGGLE_OFF: '-',
            CONTRIBUTION: 'Contribution',
            CONTRIBUTIONS: 'Contributions',
            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',
            REMOVE: 'Remove',
            LINK: 'Insert a link',
            TOPIC_COMMENT: 'Pose a Yes/No Question',
            COMMENT: 'Your Comment',
            IMAGE_COMMENT: 'Image Caption',
            POST_TO: 'Post to',
            POST_ANONYMOUS: 'Post anonymously',
            NICKNAME: 'Post as ',
            DEFAULT_NICKNAME: 'Anonymous',
            REPLY_LINK_COMMENT: 'Say something about your link',
            SHARE_COMMENT: 'comment about this share...',
            PUBLISH_BUTTON: 'Publish',
            POST_BUTTON: 'Post',
            POST_TO_BUTTON: 'Post To',
            REPLY_BUTTON: 'Reply',
            SHARE_BUTTON: 'Share',
            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',
            SELECT_IMAGE: 'Select an Image',
            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',
            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],
            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],
            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]
        };
    "
}

DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:preferences EMBED_CONF_JS:         var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    
DEBUG:root:embed_content called (key,secret): (12345,54321)
DEBUG:root:returning `True` from authenticate cached.
DEBUG:root:get_content_context
DEBUG:root:table: q_brooklyncode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:init_db_conn
DEBUG:root:NOT creating db_conn
DEBUG:root:1
DEBUG:root:5
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT f.`parent_sequence` , f.`child_sequence` , f.`id` , f.`locationId` , f.`relatedId`,
                f.`parentId` , f.`userId` , `u`.`username`, u.`thumbnailLarge` as userThumbnailLarge,
                ur.`username` as relatedUsername, ur.`thumbnailLarge` as relatedUserThumbnailLarge, f.`type` as `item_type`,
                f.`is_anonymous` , r.`is_anonymous` as `related_is_anonymous`, f.`name` , f.`location` ,f.`description`,f.`referer`,
                f.`voteCount` , f.`voteNumber` , f.`votesUp` ,f.`votesDown` , f.`flagCount`,  f.`childCount`, f.`sortOrder` , f.`status`,
                f.`thumbnailSmall` ,f.`thumbnailLarge` , f.`changeDate` , f.`createDate`, f.`nickname`, r.`nickname` as `related_nickname`
            FROM (
                # this query adds the sequence fields to filter by for paging
                SELECT  s1.*, @parentrownum := convert( IF( ( parentId = 0), @parentrownum +1, @parentrownum ), UNSIGNED INTEGER) AS parent_sequence,
                @childrownum := IF( ( @lastparent = parentId), @childrownum + 1, 0 ) AS child_sequence,
                @lastparent := if( parentId=0, id, parentId ) AS dummy_used_for_last_parent
                FROM
                    # QUERY 2: this query sorts the results properly
                    (SELECT s0.* FROM
                        # QUERY 1: This query gets the results we need with calculated fields to sort by
                        # We should probably have these fields in the database so they are indexed
                        (SELECT
                        CONVERT( if( parentId = 0, @parentVoteNumber:=voteNumber,
                            @parentVoteNumber ), SIGNED INTEGER ) as groupVoteNumber,          # Will order groups using parent voteNumber
                        CONVERT( if( parentId = 0, @parentVoteCount:=voteCount,
                            @parentVoteCount ), SIGNED INTEGER ) as groupVoteCount,            # Will order groups using parent voteCount
                        CONVERT( if( parentId = 0, @parentCreateDate:=createDate,
                            @parentCreateDate ), DATETIME ) as groupCreateDate,                # Will order groups using parent createDate
                        CONVERT( if(parentId=0, id, parentId), UNSIGNED INTEGER) as groupId,   # will order groups together
                        CONVERT( if(parentId = 0, 0, 1), UNSIGNED INTEGER) as isChild,         # will order parent first in group
                        r.*
                        FROM (
                            # this just makes sure our groups are grouped in parent child order
                            SELECT * from q_brooklyncode o  WHERE o.location = '5e13bbb73127b9fc424e3728c6500f28' ORDER BY
                             if( o.relatedId = 0, o.id, o.relatedId),
                             if( o.relatedId = 0, 0, o.id )
                            ) r,
                        ( SELECT @parentVoteNumber := 0 ) pvn,
                        ( SELECT @parentVoteCount  := 0 ) pvc,
                        ( SELECT @parentCreateDate := 0 ) pcd
                         WHERE location = '5e13bbb73127b9fc424e3728c6500f28' 
                    ) s0
                    
                    
                    ORDER BY
                    
                s0.groupVoteNumber DESC,
                s0.groupVoteCount DESC,
                s0.groupCreateDate ASC,
                 
                    groupId  ASC, # first order by group
                    isChild ASC, # Then make sure the parent is first
                    
                s0.voteNumber DESC,
                s0.voteCount DESC,
                s0.createDate ASC
                
            ) s1,
            ( SELECT @parentrownum := 0 ) pr,
            ( SELECT @childrownum := 0 ) cr, 
            ( SELECT @lastparent := -1 ) lp) f
            LEFT JOIN user u on u.id = f.userId
            LEFT JOIN q_brooklyncode r on r.id = f.relatedId
            LEFT JOIN user ur on ur.id = r.userId
            WHERE
            ((0 = 6 and parent_sequence >= 1) or parent_sequence BETWEEN 1 AND 6)
            AND
            ((0 = 6 and child_sequence >= 1) or (child_sequence=0 or child_sequence BETWEEN 1 AND 6))
        
DEBUG:root:escape_sql args: None
DEBUG:root:
            SELECT f.`parent_sequence` , f.`child_sequence` , f.`id` , f.`locationId` , f.`relatedId`,
                f.`parentId` , f.`userId` , `u`.`username`, u.`thumbnailLarge` as userThumbnailLarge,
                ur.`username` as relatedUsername, ur.`thumbnailLarge` as relatedUserThumbnailLarge, f.`type` as `item_type`,
                f.`is_anonymous` , r.`is_anonymous` as `related_is_anonymous`, f.`name` , f.`location` ,f.`description`,f.`referer`,
                f.`voteCount` , f.`voteNumber` , f.`votesUp` ,f.`votesDown` , f.`flagCount`,  f.`childCount`, f.`sortOrder` , f.`status`,
                f.`thumbnailSmall` ,f.`thumbnailLarge` , f.`changeDate` , f.`createDate`, f.`nickname`, r.`nickname` as `related_nickname`
            FROM (
                # this query adds the sequence fields to filter by for paging
                SELECT  s1.*, @parentrownum := convert( IF( ( parentId = 0), @parentrownum +1, @parentrownum ), UNSIGNED INTEGER) AS parent_sequence,
                @childrownum := IF( ( @lastparent = parentId), @childrownum + 1, 0 ) AS child_sequence,
                @lastparent := if( parentId=0, id, parentId ) AS dummy_used_for_last_parent
                FROM
                    # QUERY 2: this query sorts the results properly
                    (SELECT s0.* FROM
                        # QUERY 1: This query gets the results we need with calculated fields to sort by
                        # We should probably have these fields in the database so they are indexed
                        (SELECT
                        CONVERT( if( parentId = 0, @parentVoteNumber:=voteNumber,
                            @parentVoteNumber ), SIGNED INTEGER ) as groupVoteNumber,          # Will order groups using parent voteNumber
                        CONVERT( if( parentId = 0, @parentVoteCount:=voteCount,
                            @parentVoteCount ), SIGNED INTEGER ) as groupVoteCount,            # Will order groups using parent voteCount
                        CONVERT( if( parentId = 0, @parentCreateDate:=createDate,
                            @parentCreateDate ), DATETIME ) as groupCreateDate,                # Will order groups using parent createDate
                        CONVERT( if(parentId=0, id, parentId), UNSIGNED INTEGER) as groupId,   # will order groups together
                        CONVERT( if(parentId = 0, 0, 1), UNSIGNED INTEGER) as isChild,         # will order parent first in group
                        r.*
                        FROM (
                            # this just makes sure our groups are grouped in parent child order
                            SELECT * from q_brooklyncode o  WHERE o.location = '5e13bbb73127b9fc424e3728c6500f28' ORDER BY
                             if( o.relatedId = 0, o.id, o.relatedId),
                             if( o.relatedId = 0, 0, o.id )
                            ) r,
                        ( SELECT @parentVoteNumber := 0 ) pvn,
                        ( SELECT @parentVoteCount  := 0 ) pvc,
                        ( SELECT @parentCreateDate := 0 ) pcd
                         WHERE location = '5e13bbb73127b9fc424e3728c6500f28' 
                    ) s0
                    
                    
                    ORDER BY
                    
                s0.groupVoteNumber DESC,
                s0.groupVoteCount DESC,
                s0.groupCreateDate ASC,
                 
                    groupId  ASC, # first order by group
                    isChild ASC, # Then make sure the parent is first
                    
                s0.voteNumber DESC,
                s0.voteCount DESC,
                s0.createDate ASC
                
            ) s1,
            ( SELECT @parentrownum := 0 ) pr,
            ( SELECT @childrownum := 0 ) cr, 
            ( SELECT @lastparent := -1 ) lp) f
            LEFT JOIN user u on u.id = f.userId
            LEFT JOIN q_brooklyncode r on r.id = f.relatedId
            LEFT JOIN user ur on ur.id = r.userId
            WHERE
            ((0 = 6 and parent_sequence >= 1) or parent_sequence BETWEEN 1 AND 6)
            AND
            ((0 = 6 and child_sequence >= 1) or (child_sequence=0 or child_sequence BETWEEN 1 AND 6))
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042b6a90>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = %s
        
DEBUG:root:escape_sql args: [1L]
DEBUG:root:
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = 1
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042b6b10>
DEBUG:root:dictlist: {u'itemId': 1L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'1fe8a631d5522d10e2cf2e4fabedc90b', u'id': 1L}
DEBUG:root:dictItem: {u'itemId': 1L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'1fe8a631d5522d10e2cf2e4fabedc90b', u'id': 1L}
DEBUG:root:items: [<ImageItem: ImageItem object>]
DEBUG:root:im: [<ImageItem: ImageItem object>]
DEBUG:root:comment.images: [<ImageItem: ImageItem object>]
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = %s
        
DEBUG:root:escape_sql args: [2L]
DEBUG:root:
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = 2
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042b6d10>
DEBUG:root:dictlist: {u'itemId': 2L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'cfbb12022f81667e3c2746e3c80b2e1e', u'id': 2L}
DEBUG:root:dictItem: {u'itemId': 2L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'cfbb12022f81667e3c2746e3c80b2e1e', u'id': 2L}
DEBUG:root:items: [<ImageItem: ImageItem object>]
DEBUG:root:im: [<ImageItem: ImageItem object>]
DEBUG:root:comment.images: [<ImageItem: ImageItem object>]
DEBUG:root:Number of comments returned: 2
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:escape_sql args: []
DEBUG:root:
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042b6e90>
DEBUG:root:Number of contributions 2
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042c00d0>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042c02d0>
DEBUG:root:to_unicode
DEBUG:root:embed_content
DEBUG:root:embed_content
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:embed_content
DEBUG:root:embed_content
DEBUG:root:to_unicode
DEBUG:root:unsanitizing: test
DEBUG:root:unsanitizing encoded ascii: test
DEBUG:root:unsanitizing encoded utf8: test
DEBUG:root: unsanitized: test
DEBUG:root:unsanitizing: tester
DEBUG:root:unsanitizing encoded ascii: tester
DEBUG:root:unsanitizing encoded utf8: tester
DEBUG:root: unsanitized: tester
INFO:root:200 GET /q/embed (127.0.0.1)
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:undefined
DEBUG:root:undefined
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:undefined
DEBUG:root:undefined
DEBUG:root:to_unicode
DEBUG:root:unable to set_table
DEBUG:root:set_table
DEBUG:root:unable to set_table
DEBUG:root:set_table
DEBUG:root:unable to set_table
DEBUG:root:FeedHandler post
DEBUG:root:Body -> 
 action=logoffUser&location=5e13bbb73127b9fc424e3728c6500f28&referer=http%3A%2F%2Flocalhost%3A8081%2F%3Fp%3D1&q_short_name=undefined&QOOID=QOO51f460f57c582&QOOTID=QOOT51f460f57c593
DEBUG:root:Arguments -> 
 {"QOOID": ["QOO51f460f57c582"], "QOOTID": ["QOOT51f460f57c593"], "q_short_name": ["undefined"], "location": ["5e13bbb73127b9fc424e3728c6500f28"], "action": ["logoffUser"], "referer": ["http://localhost:8081/?p=1"]}
DEBUG:root:to_unicode
DEBUG:root:logoffUser
DEBUG:root:logoffUser
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:logoffUser
DEBUG:root:logoffUser
DEBUG:root:to_unicode
DEBUG:root:action: logoffUser
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042c04d0>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042c06d0>
DEBUG:root:execute
DEBUG:root:execute args: ['QOO51f460f57c582']
DEBUG:root:escape_sql sql: 
            UPDATE `user` SET `oauth_session_id`= null WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            UPDATE `user` SET `oauth_session_id`= null WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:execute: 
            UPDATE `user` SET `oauth_session_id`= null WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
INFO:root:200 POST /q/feed (127.0.0.1)
DEBUG:root:get EmbedHandler
DEBUG:root:to_unicode
DEBUG:root:embed_head
DEBUG:root:embed_head
DEBUG:root:to_unicode
DEBUG:root:action: embed_head 
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:set_table has key/secret
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = %s and `secret`= %s
        
DEBUG:root:escape_sql args: [u'12345', u'54321']
DEBUG:root:
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = '12345' and `secret`= '54321'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042c0ad0>
DEBUG:root:returning True from authencticate.
DEBUG:root:set_table authenticated
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042b6a90>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has key/secret
DEBUG:root:returning `True` from authenticate cached.
DEBUG:root:set_table authenticated
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042b6b10>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042b6d10>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042b6e90>
DEBUG:root:qoorate preferences: {
    "THEME": "grid",
    "EMBED_CONF_JS": "
        var qoorateConfig = {
            QOORATE_URI: 'http://localhost',
            QOORATE_API_URI: 'http://localhost/q',
            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',
            XHR_PROXY_URI: '/q/feed',
            XHR_UPLOAD_URI: '/q/uploader',
            POST_MAX_LEN: 1000,
            PARENT_PAGE_SIZE: 10,
            CHILD_PAGE_SIZE: 10,
            AUTO_SCROLL: 1,
            THEME: 'grid',
            GRID_COLUMNS: 3,
            GRID_COLUMN_TRIM: 15,
            GRID_ROW_TRIM: 15
        };
        var qoorateLang = {
            FLAG_SUCCESS: 'Thanks for flagging this!',
            SHARE_SUCCESS: 'Thank you for sharing!',
            DELETE_SUCCESS: 'Thank you. This item has been deleted.',
            SIGNIN: 'Sign in using',
            SIGNEDIN: 'Signed in via',    
            OK: 'OK',
            CANCEL: 'Cancel',
            LOGOUT: 'Log Out',
            TOGGLE_ON: '+',
            TOGGLE_OFF: '-',
            CONTRIBUTION: 'Contribution',
            CONTRIBUTIONS: 'Contributions',
            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',
            REMOVE: 'Remove',
            LINK: 'Insert a link',
            TOPIC_COMMENT: 'Pose a Yes/No Question',
            COMMENT: 'Your Comment',
            IMAGE_COMMENT: 'Image Caption',
            POST_TO: 'Post to',
            POST_ANONYMOUS: 'Post anonymously',
            NICKNAME: 'Post as ',
            DEFAULT_NICKNAME: 'Anonymous',
            REPLY_LINK_COMMENT: 'Say something about your link',
            SHARE_COMMENT: 'comment about this share...',
            PUBLISH_BUTTON: 'Publish',
            POST_BUTTON: 'Post',
            POST_TO_BUTTON: 'Post To',
            REPLY_BUTTON: 'Reply',
            SHARE_BUTTON: 'Share',
            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',
            SELECT_IMAGE: 'Select an Image',
            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',
            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],
            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],
            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]
        };
    "
}

DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:preferences EMBED_CONF_JS:         var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    
DEBUG:root:embed_head called
INFO:root:200 GET /q/embed (127.0.0.1)
DEBUG:root:get EmbedHandler
DEBUG:root:to_unicode
DEBUG:root:embed_content
DEBUG:root:embed_content
DEBUG:root:to_unicode
DEBUG:root:action: embed_content 
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:set_table has key/secret
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = %s and `secret`= %s
        
DEBUG:root:escape_sql args: [u'12345', u'54321']
DEBUG:root:
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = '12345' and `secret`= '54321'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042c00d0>
DEBUG:root:returning True from authencticate.
DEBUG:root:set_table authenticated
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042c02d0>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has key/secret
DEBUG:root:returning `True` from authenticate cached.
DEBUG:root:set_table authenticated
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042c04d0>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042c06d0>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042c08d0>
DEBUG:root:qoorate preferences: {
    "THEME": "grid",
    "EMBED_CONF_JS": "
        var qoorateConfig = {
            QOORATE_URI: 'http://localhost',
            QOORATE_API_URI: 'http://localhost/q',
            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',
            XHR_PROXY_URI: '/q/feed',
            XHR_UPLOAD_URI: '/q/uploader',
            POST_MAX_LEN: 1000,
            PARENT_PAGE_SIZE: 10,
            CHILD_PAGE_SIZE: 10,
            AUTO_SCROLL: 1,
            THEME: 'grid',
            GRID_COLUMNS: 3,
            GRID_COLUMN_TRIM: 15,
            GRID_ROW_TRIM: 15
        };
        var qoorateLang = {
            FLAG_SUCCESS: 'Thanks for flagging this!',
            SHARE_SUCCESS: 'Thank you for sharing!',
            DELETE_SUCCESS: 'Thank you. This item has been deleted.',
            SIGNIN: 'Sign in using',
            SIGNEDIN: 'Signed in via',    
            OK: 'OK',
            CANCEL: 'Cancel',
            LOGOUT: 'Log Out',
            TOGGLE_ON: '+',
            TOGGLE_OFF: '-',
            CONTRIBUTION: 'Contribution',
            CONTRIBUTIONS: 'Contributions',
            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',
            REMOVE: 'Remove',
            LINK: 'Insert a link',
            TOPIC_COMMENT: 'Pose a Yes/No Question',
            COMMENT: 'Your Comment',
            IMAGE_COMMENT: 'Image Caption',
            POST_TO: 'Post to',
            POST_ANONYMOUS: 'Post anonymously',
            NICKNAME: 'Post as ',
            DEFAULT_NICKNAME: 'Anonymous',
            REPLY_LINK_COMMENT: 'Say something about your link',
            SHARE_COMMENT: 'comment about this share...',
            PUBLISH_BUTTON: 'Publish',
            POST_BUTTON: 'Post',
            POST_TO_BUTTON: 'Post To',
            REPLY_BUTTON: 'Reply',
            SHARE_BUTTON: 'Share',
            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',
            SELECT_IMAGE: 'Select an Image',
            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',
            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],
            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],
            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]
        };
    "
}

DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:preferences EMBED_CONF_JS:         var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    
DEBUG:root:embed_content called (key,secret): (12345,54321)
DEBUG:root:returning `True` from authenticate cached.
DEBUG:root:get_content_context
DEBUG:root:table: q_brooklyncode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:init_db_conn
DEBUG:root:NOT creating db_conn
DEBUG:root:1
DEBUG:root:5
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT f.`parent_sequence` , f.`child_sequence` , f.`id` , f.`locationId` , f.`relatedId`,
                f.`parentId` , f.`userId` , `u`.`username`, u.`thumbnailLarge` as userThumbnailLarge,
                ur.`username` as relatedUsername, ur.`thumbnailLarge` as relatedUserThumbnailLarge, f.`type` as `item_type`,
                f.`is_anonymous` , r.`is_anonymous` as `related_is_anonymous`, f.`name` , f.`location` ,f.`description`,f.`referer`,
                f.`voteCount` , f.`voteNumber` , f.`votesUp` ,f.`votesDown` , f.`flagCount`,  f.`childCount`, f.`sortOrder` , f.`status`,
                f.`thumbnailSmall` ,f.`thumbnailLarge` , f.`changeDate` , f.`createDate`, f.`nickname`, r.`nickname` as `related_nickname`
            FROM (
                # this query adds the sequence fields to filter by for paging
                SELECT  s1.*, @parentrownum := convert( IF( ( parentId = 0), @parentrownum +1, @parentrownum ), UNSIGNED INTEGER) AS parent_sequence,
                @childrownum := IF( ( @lastparent = parentId), @childrownum + 1, 0 ) AS child_sequence,
                @lastparent := if( parentId=0, id, parentId ) AS dummy_used_for_last_parent
                FROM
                    # QUERY 2: this query sorts the results properly
                    (SELECT s0.* FROM
                        # QUERY 1: This query gets the results we need with calculated fields to sort by
                        # We should probably have these fields in the database so they are indexed
                        (SELECT
                        CONVERT( if( parentId = 0, @parentVoteNumber:=voteNumber,
                            @parentVoteNumber ), SIGNED INTEGER ) as groupVoteNumber,          # Will order groups using parent voteNumber
                        CONVERT( if( parentId = 0, @parentVoteCount:=voteCount,
                            @parentVoteCount ), SIGNED INTEGER ) as groupVoteCount,            # Will order groups using parent voteCount
                        CONVERT( if( parentId = 0, @parentCreateDate:=createDate,
                            @parentCreateDate ), DATETIME ) as groupCreateDate,                # Will order groups using parent createDate
                        CONVERT( if(parentId=0, id, parentId), UNSIGNED INTEGER) as groupId,   # will order groups together
                        CONVERT( if(parentId = 0, 0, 1), UNSIGNED INTEGER) as isChild,         # will order parent first in group
                        r.*
                        FROM (
                            # this just makes sure our groups are grouped in parent child order
                            SELECT * from q_brooklyncode o  WHERE o.location = '5e13bbb73127b9fc424e3728c6500f28' ORDER BY
                             if( o.relatedId = 0, o.id, o.relatedId),
                             if( o.relatedId = 0, 0, o.id )
                            ) r,
                        ( SELECT @parentVoteNumber := 0 ) pvn,
                        ( SELECT @parentVoteCount  := 0 ) pvc,
                        ( SELECT @parentCreateDate := 0 ) pcd
                         WHERE location = '5e13bbb73127b9fc424e3728c6500f28' 
                    ) s0
                    
                    
                    ORDER BY
                    
                s0.groupVoteNumber DESC,
                s0.groupVoteCount DESC,
                s0.groupCreateDate ASC,
                 
                    groupId  ASC, # first order by group
                    isChild ASC, # Then make sure the parent is first
                    
                s0.voteNumber DESC,
                s0.voteCount DESC,
                s0.createDate ASC
                
            ) s1,
            ( SELECT @parentrownum := 0 ) pr,
            ( SELECT @childrownum := 0 ) cr, 
            ( SELECT @lastparent := -1 ) lp) f
            LEFT JOIN user u on u.id = f.userId
            LEFT JOIN q_brooklyncode r on r.id = f.relatedId
            LEFT JOIN user ur on ur.id = r.userId
            WHERE
            ((0 = 6 and parent_sequence >= 1) or parent_sequence BETWEEN 1 AND 6)
            AND
            ((0 = 6 and child_sequence >= 1) or (child_sequence=0 or child_sequence BETWEEN 1 AND 6))
        
DEBUG:root:escape_sql args: None
DEBUG:root:
            SELECT f.`parent_sequence` , f.`child_sequence` , f.`id` , f.`locationId` , f.`relatedId`,
                f.`parentId` , f.`userId` , `u`.`username`, u.`thumbnailLarge` as userThumbnailLarge,
                ur.`username` as relatedUsername, ur.`thumbnailLarge` as relatedUserThumbnailLarge, f.`type` as `item_type`,
                f.`is_anonymous` , r.`is_anonymous` as `related_is_anonymous`, f.`name` , f.`location` ,f.`description`,f.`referer`,
                f.`voteCount` , f.`voteNumber` , f.`votesUp` ,f.`votesDown` , f.`flagCount`,  f.`childCount`, f.`sortOrder` , f.`status`,
                f.`thumbnailSmall` ,f.`thumbnailLarge` , f.`changeDate` , f.`createDate`, f.`nickname`, r.`nickname` as `related_nickname`
            FROM (
                # this query adds the sequence fields to filter by for paging
                SELECT  s1.*, @parentrownum := convert( IF( ( parentId = 0), @parentrownum +1, @parentrownum ), UNSIGNED INTEGER) AS parent_sequence,
                @childrownum := IF( ( @lastparent = parentId), @childrownum + 1, 0 ) AS child_sequence,
                @lastparent := if( parentId=0, id, parentId ) AS dummy_used_for_last_parent
                FROM
                    # QUERY 2: this query sorts the results properly
                    (SELECT s0.* FROM
                        # QUERY 1: This query gets the results we need with calculated fields to sort by
                        # We should probably have these fields in the database so they are indexed
                        (SELECT
                        CONVERT( if( parentId = 0, @parentVoteNumber:=voteNumber,
                            @parentVoteNumber ), SIGNED INTEGER ) as groupVoteNumber,          # Will order groups using parent voteNumber
                        CONVERT( if( parentId = 0, @parentVoteCount:=voteCount,
                            @parentVoteCount ), SIGNED INTEGER ) as groupVoteCount,            # Will order groups using parent voteCount
                        CONVERT( if( parentId = 0, @parentCreateDate:=createDate,
                            @parentCreateDate ), DATETIME ) as groupCreateDate,                # Will order groups using parent createDate
                        CONVERT( if(parentId=0, id, parentId), UNSIGNED INTEGER) as groupId,   # will order groups together
                        CONVERT( if(parentId = 0, 0, 1), UNSIGNED INTEGER) as isChild,         # will order parent first in group
                        r.*
                        FROM (
                            # this just makes sure our groups are grouped in parent child order
                            SELECT * from q_brooklyncode o  WHERE o.location = '5e13bbb73127b9fc424e3728c6500f28' ORDER BY
                             if( o.relatedId = 0, o.id, o.relatedId),
                             if( o.relatedId = 0, 0, o.id )
                            ) r,
                        ( SELECT @parentVoteNumber := 0 ) pvn,
                        ( SELECT @parentVoteCount  := 0 ) pvc,
                        ( SELECT @parentCreateDate := 0 ) pcd
                         WHERE location = '5e13bbb73127b9fc424e3728c6500f28' 
                    ) s0
                    
                    
                    ORDER BY
                    
                s0.groupVoteNumber DESC,
                s0.groupVoteCount DESC,
                s0.groupCreateDate ASC,
                 
                    groupId  ASC, # first order by group
                    isChild ASC, # Then make sure the parent is first
                    
                s0.voteNumber DESC,
                s0.voteCount DESC,
                s0.createDate ASC
                
            ) s1,
            ( SELECT @parentrownum := 0 ) pr,
            ( SELECT @childrownum := 0 ) cr, 
            ( SELECT @lastparent := -1 ) lp) f
            LEFT JOIN user u on u.id = f.userId
            LEFT JOIN q_brooklyncode r on r.id = f.relatedId
            LEFT JOIN user ur on ur.id = r.userId
            WHERE
            ((0 = 6 and parent_sequence >= 1) or parent_sequence BETWEEN 1 AND 6)
            AND
            ((0 = 6 and child_sequence >= 1) or (child_sequence=0 or child_sequence BETWEEN 1 AND 6))
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042c0ad0>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = %s
        
DEBUG:root:escape_sql args: [1L]
DEBUG:root:
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = 1
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042b6a90>
DEBUG:root:dictlist: {u'itemId': 1L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'1fe8a631d5522d10e2cf2e4fabedc90b', u'id': 1L}
DEBUG:root:dictItem: {u'itemId': 1L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'1fe8a631d5522d10e2cf2e4fabedc90b', u'id': 1L}
DEBUG:root:items: [<ImageItem: ImageItem object>]
DEBUG:root:im: [<ImageItem: ImageItem object>]
DEBUG:root:comment.images: [<ImageItem: ImageItem object>]
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = %s
        
DEBUG:root:escape_sql args: [2L]
DEBUG:root:
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = 2
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042b6b10>
DEBUG:root:dictlist: {u'itemId': 2L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'cfbb12022f81667e3c2746e3c80b2e1e', u'id': 2L}
DEBUG:root:dictItem: {u'itemId': 2L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'cfbb12022f81667e3c2746e3c80b2e1e', u'id': 2L}
DEBUG:root:items: [<ImageItem: ImageItem object>]
DEBUG:root:im: [<ImageItem: ImageItem object>]
DEBUG:root:comment.images: [<ImageItem: ImageItem object>]
DEBUG:root:Number of comments returned: 2
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:escape_sql args: []
DEBUG:root:
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042b6d10>
DEBUG:root:Number of contributions 2
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042b6e90>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042c00d0>
DEBUG:root:to_unicode
DEBUG:root:embed_content
DEBUG:root:embed_content
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:embed_content
DEBUG:root:embed_content
DEBUG:root:to_unicode
DEBUG:root:unsanitizing: test
DEBUG:root:unsanitizing encoded ascii: test
DEBUG:root:unsanitizing encoded utf8: test
DEBUG:root: unsanitized: test
DEBUG:root:unsanitizing: tester
DEBUG:root:unsanitizing encoded ascii: tester
DEBUG:root:unsanitizing encoded utf8: tester
DEBUG:root: unsanitized: tester
INFO:root:200 GET /q/embed (127.0.0.1)
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:set_table has q_short_name (12345)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042c02d0>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has q_short_name (12345)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042c04d0>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:feed.prepare, table: q_brooklyncode
DEBUG:root:FeedHandler post
DEBUG:root:Body -> 
 action=sort&location=5e13bbb73127b9fc424e3728c6500f28&referer=http%3A%2F%2Flocalhost%3A8081%2F%3Fp%3D1&q_short_name=12345&QOOID=QOO51f460f57c582&QOOTID=QOOT51f460f57c593&sort=2
DEBUG:root:Arguments -> 
 {"sort": ["2"], "QOOID": ["QOO51f460f57c582"], "QOOTID": ["QOOT51f460f57c593"], "q_short_name": ["12345"], "location": ["5e13bbb73127b9fc424e3728c6500f28"], "action": ["sort"], "referer": ["http://localhost:8081/?p=1"]}
DEBUG:root:to_unicode
DEBUG:root:sort
DEBUG:root:sort
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:sort
DEBUG:root:sort
DEBUG:root:to_unicode
DEBUG:root:action: sort
DEBUG:root:to_unicode
DEBUG:root:2
DEBUG:root:2
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:2
DEBUG:root:2
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:init_db_conn
DEBUG:root:NOT creating db_conn
DEBUG:root:1
DEBUG:root:5
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT f.`parent_sequence` , f.`child_sequence` , f.`id` , f.`locationId` , f.`relatedId`,
                f.`parentId` , f.`userId` , `u`.`username`, u.`thumbnailLarge` as userThumbnailLarge,
                ur.`username` as relatedUsername, ur.`thumbnailLarge` as relatedUserThumbnailLarge, f.`type` as `item_type`,
                f.`is_anonymous` , r.`is_anonymous` as `related_is_anonymous`, f.`name` , f.`location` ,f.`description`,f.`referer`,
                f.`voteCount` , f.`voteNumber` , f.`votesUp` ,f.`votesDown` , f.`flagCount`,  f.`childCount`, f.`sortOrder` , f.`status`,
                f.`thumbnailSmall` ,f.`thumbnailLarge` , f.`changeDate` , f.`createDate`, f.`nickname`, r.`nickname` as `related_nickname`
            FROM (
                # this query adds the sequence fields to filter by for paging
                SELECT  s1.*, @parentrownum := convert( IF( ( parentId = 0), @parentrownum +1, @parentrownum ), UNSIGNED INTEGER) AS parent_sequence,
                @childrownum := IF( ( @lastparent = parentId), @childrownum + 1, 0 ) AS child_sequence,
                @lastparent := if( parentId=0, id, parentId ) AS dummy_used_for_last_parent
                FROM
                    # QUERY 2: this query sorts the results properly
                    (SELECT s0.* FROM
                        # QUERY 1: This query gets the results we need with calculated fields to sort by
                        # We should probably have these fields in the database so they are indexed
                        (SELECT
                        CONVERT( if( parentId = 0, @parentVoteNumber:=voteNumber,
                            @parentVoteNumber ), SIGNED INTEGER ) as groupVoteNumber,          # Will order groups using parent voteNumber
                        CONVERT( if( parentId = 0, @parentVoteCount:=voteCount,
                            @parentVoteCount ), SIGNED INTEGER ) as groupVoteCount,            # Will order groups using parent voteCount
                        CONVERT( if( parentId = 0, @parentCreateDate:=createDate,
                            @parentCreateDate ), DATETIME ) as groupCreateDate,                # Will order groups using parent createDate
                        CONVERT( if(parentId=0, id, parentId), UNSIGNED INTEGER) as groupId,   # will order groups together
                        CONVERT( if(parentId = 0, 0, 1), UNSIGNED INTEGER) as isChild,         # will order parent first in group
                        r.*
                        FROM (
                            # this just makes sure our groups are grouped in parent child order
                            SELECT * from q_brooklyncode o  WHERE o.location = '5e13bbb73127b9fc424e3728c6500f28' ORDER BY
                             if( o.relatedId = 0, o.id, o.relatedId),
                             if( o.relatedId = 0, 0, o.id )
                            ) r,
                        ( SELECT @parentVoteNumber := 0 ) pvn,
                        ( SELECT @parentVoteCount  := 0 ) pvc,
                        ( SELECT @parentCreateDate := 0 ) pcd
                         WHERE location = '5e13bbb73127b9fc424e3728c6500f28' 
                    ) s0
                    
                    
                    ORDER BY
                    
                s0.groupCreateDate DESC,
                s0.groupVoteNumber DESC,
                s0.groupVoteCount DESC,
                 
                    groupId  ASC, # first order by group
                    isChild ASC, # Then make sure the parent is first
                    
                s0.createDate DESC,
                s0.voteNumber DESC,
                s0.voteCount DESC
                
            ) s1,
            ( SELECT @parentrownum := 0 ) pr,
            ( SELECT @childrownum := 0 ) cr, 
            ( SELECT @lastparent := -1 ) lp) f
            LEFT JOIN user u on u.id = f.userId
            LEFT JOIN q_brooklyncode r on r.id = f.relatedId
            LEFT JOIN user ur on ur.id = r.userId
            WHERE
            ((0 = 6 and parent_sequence >= 1) or parent_sequence BETWEEN 1 AND 6)
            AND
            ((0 = 6 and child_sequence >= 1) or (child_sequence=0 or child_sequence BETWEEN 1 AND 6))
        
DEBUG:root:escape_sql args: None
DEBUG:root:
            SELECT f.`parent_sequence` , f.`child_sequence` , f.`id` , f.`locationId` , f.`relatedId`,
                f.`parentId` , f.`userId` , `u`.`username`, u.`thumbnailLarge` as userThumbnailLarge,
                ur.`username` as relatedUsername, ur.`thumbnailLarge` as relatedUserThumbnailLarge, f.`type` as `item_type`,
                f.`is_anonymous` , r.`is_anonymous` as `related_is_anonymous`, f.`name` , f.`location` ,f.`description`,f.`referer`,
                f.`voteCount` , f.`voteNumber` , f.`votesUp` ,f.`votesDown` , f.`flagCount`,  f.`childCount`, f.`sortOrder` , f.`status`,
                f.`thumbnailSmall` ,f.`thumbnailLarge` , f.`changeDate` , f.`createDate`, f.`nickname`, r.`nickname` as `related_nickname`
            FROM (
                # this query adds the sequence fields to filter by for paging
                SELECT  s1.*, @parentrownum := convert( IF( ( parentId = 0), @parentrownum +1, @parentrownum ), UNSIGNED INTEGER) AS parent_sequence,
                @childrownum := IF( ( @lastparent = parentId), @childrownum + 1, 0 ) AS child_sequence,
                @lastparent := if( parentId=0, id, parentId ) AS dummy_used_for_last_parent
                FROM
                    # QUERY 2: this query sorts the results properly
                    (SELECT s0.* FROM
                        # QUERY 1: This query gets the results we need with calculated fields to sort by
                        # We should probably have these fields in the database so they are indexed
                        (SELECT
                        CONVERT( if( parentId = 0, @parentVoteNumber:=voteNumber,
                            @parentVoteNumber ), SIGNED INTEGER ) as groupVoteNumber,          # Will order groups using parent voteNumber
                        CONVERT( if( parentId = 0, @parentVoteCount:=voteCount,
                            @parentVoteCount ), SIGNED INTEGER ) as groupVoteCount,            # Will order groups using parent voteCount
                        CONVERT( if( parentId = 0, @parentCreateDate:=createDate,
                            @parentCreateDate ), DATETIME ) as groupCreateDate,                # Will order groups using parent createDate
                        CONVERT( if(parentId=0, id, parentId), UNSIGNED INTEGER) as groupId,   # will order groups together
                        CONVERT( if(parentId = 0, 0, 1), UNSIGNED INTEGER) as isChild,         # will order parent first in group
                        r.*
                        FROM (
                            # this just makes sure our groups are grouped in parent child order
                            SELECT * from q_brooklyncode o  WHERE o.location = '5e13bbb73127b9fc424e3728c6500f28' ORDER BY
                             if( o.relatedId = 0, o.id, o.relatedId),
                             if( o.relatedId = 0, 0, o.id )
                            ) r,
                        ( SELECT @parentVoteNumber := 0 ) pvn,
                        ( SELECT @parentVoteCount  := 0 ) pvc,
                        ( SELECT @parentCreateDate := 0 ) pcd
                         WHERE location = '5e13bbb73127b9fc424e3728c6500f28' 
                    ) s0
                    
                    
                    ORDER BY
                    
                s0.groupCreateDate DESC,
                s0.groupVoteNumber DESC,
                s0.groupVoteCount DESC,
                 
                    groupId  ASC, # first order by group
                    isChild ASC, # Then make sure the parent is first
                    
                s0.createDate DESC,
                s0.voteNumber DESC,
                s0.voteCount DESC
                
            ) s1,
            ( SELECT @parentrownum := 0 ) pr,
            ( SELECT @childrownum := 0 ) cr, 
            ( SELECT @lastparent := -1 ) lp) f
            LEFT JOIN user u on u.id = f.userId
            LEFT JOIN q_brooklyncode r on r.id = f.relatedId
            LEFT JOIN user ur on ur.id = r.userId
            WHERE
            ((0 = 6 and parent_sequence >= 1) or parent_sequence BETWEEN 1 AND 6)
            AND
            ((0 = 6 and child_sequence >= 1) or (child_sequence=0 or child_sequence BETWEEN 1 AND 6))
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042c06d0>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = %s
        
DEBUG:root:escape_sql args: [2L]
DEBUG:root:
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = 2
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042c08d0>
DEBUG:root:dictlist: {u'itemId': 2L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'cfbb12022f81667e3c2746e3c80b2e1e', u'id': 2L}
DEBUG:root:dictItem: {u'itemId': 2L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'cfbb12022f81667e3c2746e3c80b2e1e', u'id': 2L}
DEBUG:root:items: [<ImageItem: ImageItem object>]
DEBUG:root:im: [<ImageItem: ImageItem object>]
DEBUG:root:comment.images: [<ImageItem: ImageItem object>]
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = %s
        
DEBUG:root:escape_sql args: [1L]
DEBUG:root:
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = 1
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042c0ad0>
DEBUG:root:dictlist: {u'itemId': 1L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'1fe8a631d5522d10e2cf2e4fabedc90b', u'id': 1L}
DEBUG:root:dictItem: {u'itemId': 1L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'1fe8a631d5522d10e2cf2e4fabedc90b', u'id': 1L}
DEBUG:root:items: [<ImageItem: ImageItem object>]
DEBUG:root:im: [<ImageItem: ImageItem object>]
DEBUG:root:comment.images: [<ImageItem: ImageItem object>]
DEBUG:root:Number of comments returned: 2
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:escape_sql sql: 
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:escape_sql args: []
DEBUG:root:
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042ccbd0>
DEBUG:root:Number of contributions 2
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042b6a90>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042b6b10>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042b6d10>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042b6e90>
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:unsanitizing: tester
DEBUG:root:unsanitizing encoded ascii: tester
DEBUG:root:unsanitizing encoded utf8: tester
DEBUG:root: unsanitized: tester
DEBUG:root:unsanitizing: test
DEBUG:root:unsanitizing encoded ascii: test
DEBUG:root:unsanitizing encoded utf8: test
DEBUG:root: unsanitized: test
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:escape_sql sql: 
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:escape_sql args: []
DEBUG:root:
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042d49d0>
DEBUG:root:Number of contributions 2
INFO:root:200 POST /q/feed (127.0.0.1)
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:set_table has q_short_name (12345)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042c00d0>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has q_short_name (12345)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042c02d0>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:feed.prepare, table: q_brooklyncode
DEBUG:root:FeedHandler post
DEBUG:root:Body -> 
 action=sort&location=5e13bbb73127b9fc424e3728c6500f28&referer=http%3A%2F%2Flocalhost%3A8081%2F%3Fp%3D1&q_short_name=12345&QOOID=QOO51f460f57c582&QOOTID=QOOT51f460f57c593&sort=3
DEBUG:root:Arguments -> 
 {"sort": ["3"], "QOOID": ["QOO51f460f57c582"], "QOOTID": ["QOOT51f460f57c593"], "q_short_name": ["12345"], "location": ["5e13bbb73127b9fc424e3728c6500f28"], "action": ["sort"], "referer": ["http://localhost:8081/?p=1"]}
DEBUG:root:to_unicode
DEBUG:root:sort
DEBUG:root:sort
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:sort
DEBUG:root:sort
DEBUG:root:to_unicode
DEBUG:root:action: sort
DEBUG:root:to_unicode
DEBUG:root:3
DEBUG:root:3
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:3
DEBUG:root:3
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:init_db_conn
DEBUG:root:NOT creating db_conn
DEBUG:root:1
DEBUG:root:5
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT f.`parent_sequence` , f.`child_sequence` , f.`id` , f.`locationId` , f.`relatedId`,
                f.`parentId` , f.`userId` , `u`.`username`, u.`thumbnailLarge` as userThumbnailLarge,
                ur.`username` as relatedUsername, ur.`thumbnailLarge` as relatedUserThumbnailLarge, f.`type` as `item_type`,
                f.`is_anonymous` , r.`is_anonymous` as `related_is_anonymous`, f.`name` , f.`location` ,f.`description`,f.`referer`,
                f.`voteCount` , f.`voteNumber` , f.`votesUp` ,f.`votesDown` , f.`flagCount`,  f.`childCount`, f.`sortOrder` , f.`status`,
                f.`thumbnailSmall` ,f.`thumbnailLarge` , f.`changeDate` , f.`createDate`, f.`nickname`, r.`nickname` as `related_nickname`
            FROM (
                # this query adds the sequence fields to filter by for paging
                SELECT  s1.*, @parentrownum := convert( IF( ( parentId = 0), @parentrownum +1, @parentrownum ), UNSIGNED INTEGER) AS parent_sequence,
                @childrownum := IF( ( @lastparent = parentId), @childrownum + 1, 0 ) AS child_sequence,
                @lastparent := if( parentId=0, id, parentId ) AS dummy_used_for_last_parent
                FROM
                    # QUERY 2: this query sorts the results properly
                    (SELECT s0.* FROM
                        # QUERY 1: This query gets the results we need with calculated fields to sort by
                        # We should probably have these fields in the database so they are indexed
                        (SELECT
                        CONVERT( if( parentId = 0, @parentVoteNumber:=voteNumber,
                            @parentVoteNumber ), SIGNED INTEGER ) as groupVoteNumber,          # Will order groups using parent voteNumber
                        CONVERT( if( parentId = 0, @parentVoteCount:=voteCount,
                            @parentVoteCount ), SIGNED INTEGER ) as groupVoteCount,            # Will order groups using parent voteCount
                        CONVERT( if( parentId = 0, @parentCreateDate:=createDate,
                            @parentCreateDate ), DATETIME ) as groupCreateDate,                # Will order groups using parent createDate
                        CONVERT( if(parentId=0, id, parentId), UNSIGNED INTEGER) as groupId,   # will order groups together
                        CONVERT( if(parentId = 0, 0, 1), UNSIGNED INTEGER) as isChild,         # will order parent first in group
                        r.*
                        FROM (
                            # this just makes sure our groups are grouped in parent child order
                            SELECT * from q_brooklyncode o  WHERE o.location = '5e13bbb73127b9fc424e3728c6500f28' ORDER BY
                             if( o.relatedId = 0, o.id, o.relatedId),
                             if( o.relatedId = 0, 0, o.id )
                            ) r,
                        ( SELECT @parentVoteNumber := 0 ) pvn,
                        ( SELECT @parentVoteCount  := 0 ) pvc,
                        ( SELECT @parentCreateDate := 0 ) pcd
                         WHERE location = '5e13bbb73127b9fc424e3728c6500f28' 
                    ) s0
                    
                    
                    ORDER BY
                    
                s0.groupCreateDate ASC,
                s0.groupVoteNumber DESC,
                s0.groupVoteCount DESC,
                 
                    groupId  ASC, # first order by group
                    isChild ASC, # Then make sure the parent is first
                    
                s0.createDate ASC,
                s0.voteNumber DESC,
                s0.voteCount DESC
                
            ) s1,
            ( SELECT @parentrownum := 0 ) pr,
            ( SELECT @childrownum := 0 ) cr, 
            ( SELECT @lastparent := -1 ) lp) f
            LEFT JOIN user u on u.id = f.userId
            LEFT JOIN q_brooklyncode r on r.id = f.relatedId
            LEFT JOIN user ur on ur.id = r.userId
            WHERE
            ((0 = 6 and parent_sequence >= 1) or parent_sequence BETWEEN 1 AND 6)
            AND
            ((0 = 6 and child_sequence >= 1) or (child_sequence=0 or child_sequence BETWEEN 1 AND 6))
        
DEBUG:root:escape_sql args: None
DEBUG:root:
            SELECT f.`parent_sequence` , f.`child_sequence` , f.`id` , f.`locationId` , f.`relatedId`,
                f.`parentId` , f.`userId` , `u`.`username`, u.`thumbnailLarge` as userThumbnailLarge,
                ur.`username` as relatedUsername, ur.`thumbnailLarge` as relatedUserThumbnailLarge, f.`type` as `item_type`,
                f.`is_anonymous` , r.`is_anonymous` as `related_is_anonymous`, f.`name` , f.`location` ,f.`description`,f.`referer`,
                f.`voteCount` , f.`voteNumber` , f.`votesUp` ,f.`votesDown` , f.`flagCount`,  f.`childCount`, f.`sortOrder` , f.`status`,
                f.`thumbnailSmall` ,f.`thumbnailLarge` , f.`changeDate` , f.`createDate`, f.`nickname`, r.`nickname` as `related_nickname`
            FROM (
                # this query adds the sequence fields to filter by for paging
                SELECT  s1.*, @parentrownum := convert( IF( ( parentId = 0), @parentrownum +1, @parentrownum ), UNSIGNED INTEGER) AS parent_sequence,
                @childrownum := IF( ( @lastparent = parentId), @childrownum + 1, 0 ) AS child_sequence,
                @lastparent := if( parentId=0, id, parentId ) AS dummy_used_for_last_parent
                FROM
                    # QUERY 2: this query sorts the results properly
                    (SELECT s0.* FROM
                        # QUERY 1: This query gets the results we need with calculated fields to sort by
                        # We should probably have these fields in the database so they are indexed
                        (SELECT
                        CONVERT( if( parentId = 0, @parentVoteNumber:=voteNumber,
                            @parentVoteNumber ), SIGNED INTEGER ) as groupVoteNumber,          # Will order groups using parent voteNumber
                        CONVERT( if( parentId = 0, @parentVoteCount:=voteCount,
                            @parentVoteCount ), SIGNED INTEGER ) as groupVoteCount,            # Will order groups using parent voteCount
                        CONVERT( if( parentId = 0, @parentCreateDate:=createDate,
                            @parentCreateDate ), DATETIME ) as groupCreateDate,                # Will order groups using parent createDate
                        CONVERT( if(parentId=0, id, parentId), UNSIGNED INTEGER) as groupId,   # will order groups together
                        CONVERT( if(parentId = 0, 0, 1), UNSIGNED INTEGER) as isChild,         # will order parent first in group
                        r.*
                        FROM (
                            # this just makes sure our groups are grouped in parent child order
                            SELECT * from q_brooklyncode o  WHERE o.location = '5e13bbb73127b9fc424e3728c6500f28' ORDER BY
                             if( o.relatedId = 0, o.id, o.relatedId),
                             if( o.relatedId = 0, 0, o.id )
                            ) r,
                        ( SELECT @parentVoteNumber := 0 ) pvn,
                        ( SELECT @parentVoteCount  := 0 ) pvc,
                        ( SELECT @parentCreateDate := 0 ) pcd
                         WHERE location = '5e13bbb73127b9fc424e3728c6500f28' 
                    ) s0
                    
                    
                    ORDER BY
                    
                s0.groupCreateDate ASC,
                s0.groupVoteNumber DESC,
                s0.groupVoteCount DESC,
                 
                    groupId  ASC, # first order by group
                    isChild ASC, # Then make sure the parent is first
                    
                s0.createDate ASC,
                s0.voteNumber DESC,
                s0.voteCount DESC
                
            ) s1,
            ( SELECT @parentrownum := 0 ) pr,
            ( SELECT @childrownum := 0 ) cr, 
            ( SELECT @lastparent := -1 ) lp) f
            LEFT JOIN user u on u.id = f.userId
            LEFT JOIN q_brooklyncode r on r.id = f.relatedId
            LEFT JOIN user ur on ur.id = r.userId
            WHERE
            ((0 = 6 and parent_sequence >= 1) or parent_sequence BETWEEN 1 AND 6)
            AND
            ((0 = 6 and child_sequence >= 1) or (child_sequence=0 or child_sequence BETWEEN 1 AND 6))
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042c04d0>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = %s
        
DEBUG:root:escape_sql args: [1L]
DEBUG:root:
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = 1
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042c06d0>
DEBUG:root:dictlist: {u'itemId': 1L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'1fe8a631d5522d10e2cf2e4fabedc90b', u'id': 1L}
DEBUG:root:dictItem: {u'itemId': 1L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'1fe8a631d5522d10e2cf2e4fabedc90b', u'id': 1L}
DEBUG:root:items: [<ImageItem: ImageItem object>]
DEBUG:root:im: [<ImageItem: ImageItem object>]
DEBUG:root:comment.images: [<ImageItem: ImageItem object>]
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = %s
        
DEBUG:root:escape_sql args: [2L]
DEBUG:root:
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = 2
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042c08d0>
DEBUG:root:dictlist: {u'itemId': 2L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'cfbb12022f81667e3c2746e3c80b2e1e', u'id': 2L}
DEBUG:root:dictItem: {u'itemId': 2L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'cfbb12022f81667e3c2746e3c80b2e1e', u'id': 2L}
DEBUG:root:items: [<ImageItem: ImageItem object>]
DEBUG:root:im: [<ImageItem: ImageItem object>]
DEBUG:root:comment.images: [<ImageItem: ImageItem object>]
DEBUG:root:Number of comments returned: 2
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:escape_sql sql: 
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:escape_sql args: []
DEBUG:root:
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042cc250>
DEBUG:root:Number of contributions 2
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042c0ad0>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042b6a90>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042b6b10>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042b6d10>
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:unsanitizing: test
DEBUG:root:unsanitizing encoded ascii: test
DEBUG:root:unsanitizing encoded utf8: test
DEBUG:root: unsanitized: test
DEBUG:root:unsanitizing: tester
DEBUG:root:unsanitizing encoded ascii: tester
DEBUG:root:unsanitizing encoded utf8: tester
DEBUG:root: unsanitized: tester
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:escape_sql sql: 
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:escape_sql args: []
DEBUG:root:
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042cc2d0>
DEBUG:root:Number of contributions 2
INFO:root:200 POST /q/feed (127.0.0.1)
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:set_table has q_short_name (12345)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042b6e90>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has q_short_name (12345)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042c00d0>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:feed.prepare, table: q_brooklyncode
DEBUG:root:FeedHandler post
DEBUG:root:Body -> 
 action=sort&location=5e13bbb73127b9fc424e3728c6500f28&referer=http%3A%2F%2Flocalhost%3A8081%2F%3Fp%3D1&q_short_name=12345&QOOID=QOO51f460f57c582&QOOTID=QOOT51f460f57c593&sort=1
DEBUG:root:Arguments -> 
 {"sort": ["1"], "QOOID": ["QOO51f460f57c582"], "QOOTID": ["QOOT51f460f57c593"], "q_short_name": ["12345"], "location": ["5e13bbb73127b9fc424e3728c6500f28"], "action": ["sort"], "referer": ["http://localhost:8081/?p=1"]}
DEBUG:root:to_unicode
DEBUG:root:sort
DEBUG:root:sort
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:sort
DEBUG:root:sort
DEBUG:root:to_unicode
DEBUG:root:action: sort
DEBUG:root:to_unicode
DEBUG:root:1
DEBUG:root:1
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:1
DEBUG:root:1
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:init_db_conn
DEBUG:root:NOT creating db_conn
DEBUG:root:1
DEBUG:root:5
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT f.`parent_sequence` , f.`child_sequence` , f.`id` , f.`locationId` , f.`relatedId`,
                f.`parentId` , f.`userId` , `u`.`username`, u.`thumbnailLarge` as userThumbnailLarge,
                ur.`username` as relatedUsername, ur.`thumbnailLarge` as relatedUserThumbnailLarge, f.`type` as `item_type`,
                f.`is_anonymous` , r.`is_anonymous` as `related_is_anonymous`, f.`name` , f.`location` ,f.`description`,f.`referer`,
                f.`voteCount` , f.`voteNumber` , f.`votesUp` ,f.`votesDown` , f.`flagCount`,  f.`childCount`, f.`sortOrder` , f.`status`,
                f.`thumbnailSmall` ,f.`thumbnailLarge` , f.`changeDate` , f.`createDate`, f.`nickname`, r.`nickname` as `related_nickname`
            FROM (
                # this query adds the sequence fields to filter by for paging
                SELECT  s1.*, @parentrownum := convert( IF( ( parentId = 0), @parentrownum +1, @parentrownum ), UNSIGNED INTEGER) AS parent_sequence,
                @childrownum := IF( ( @lastparent = parentId), @childrownum + 1, 0 ) AS child_sequence,
                @lastparent := if( parentId=0, id, parentId ) AS dummy_used_for_last_parent
                FROM
                    # QUERY 2: this query sorts the results properly
                    (SELECT s0.* FROM
                        # QUERY 1: This query gets the results we need with calculated fields to sort by
                        # We should probably have these fields in the database so they are indexed
                        (SELECT
                        CONVERT( if( parentId = 0, @parentVoteNumber:=voteNumber,
                            @parentVoteNumber ), SIGNED INTEGER ) as groupVoteNumber,          # Will order groups using parent voteNumber
                        CONVERT( if( parentId = 0, @parentVoteCount:=voteCount,
                            @parentVoteCount ), SIGNED INTEGER ) as groupVoteCount,            # Will order groups using parent voteCount
                        CONVERT( if( parentId = 0, @parentCreateDate:=createDate,
                            @parentCreateDate ), DATETIME ) as groupCreateDate,                # Will order groups using parent createDate
                        CONVERT( if(parentId=0, id, parentId), UNSIGNED INTEGER) as groupId,   # will order groups together
                        CONVERT( if(parentId = 0, 0, 1), UNSIGNED INTEGER) as isChild,         # will order parent first in group
                        r.*
                        FROM (
                            # this just makes sure our groups are grouped in parent child order
                            SELECT * from q_brooklyncode o  WHERE o.location = '5e13bbb73127b9fc424e3728c6500f28' ORDER BY
                             if( o.relatedId = 0, o.id, o.relatedId),
                             if( o.relatedId = 0, 0, o.id )
                            ) r,
                        ( SELECT @parentVoteNumber := 0 ) pvn,
                        ( SELECT @parentVoteCount  := 0 ) pvc,
                        ( SELECT @parentCreateDate := 0 ) pcd
                         WHERE location = '5e13bbb73127b9fc424e3728c6500f28' 
                    ) s0
                    
                    
                    ORDER BY
                    
                s0.groupVoteNumber DESC,
                s0.groupVoteCount DESC,
                s0.groupCreateDate ASC,
                 
                    groupId  ASC, # first order by group
                    isChild ASC, # Then make sure the parent is first
                    
                s0.voteNumber DESC,
                s0.voteCount DESC,
                s0.createDate ASC
                
            ) s1,
            ( SELECT @parentrownum := 0 ) pr,
            ( SELECT @childrownum := 0 ) cr, 
            ( SELECT @lastparent := -1 ) lp) f
            LEFT JOIN user u on u.id = f.userId
            LEFT JOIN q_brooklyncode r on r.id = f.relatedId
            LEFT JOIN user ur on ur.id = r.userId
            WHERE
            ((0 = 6 and parent_sequence >= 1) or parent_sequence BETWEEN 1 AND 6)
            AND
            ((0 = 6 and child_sequence >= 1) or (child_sequence=0 or child_sequence BETWEEN 1 AND 6))
        
DEBUG:root:escape_sql args: None
DEBUG:root:
            SELECT f.`parent_sequence` , f.`child_sequence` , f.`id` , f.`locationId` , f.`relatedId`,
                f.`parentId` , f.`userId` , `u`.`username`, u.`thumbnailLarge` as userThumbnailLarge,
                ur.`username` as relatedUsername, ur.`thumbnailLarge` as relatedUserThumbnailLarge, f.`type` as `item_type`,
                f.`is_anonymous` , r.`is_anonymous` as `related_is_anonymous`, f.`name` , f.`location` ,f.`description`,f.`referer`,
                f.`voteCount` , f.`voteNumber` , f.`votesUp` ,f.`votesDown` , f.`flagCount`,  f.`childCount`, f.`sortOrder` , f.`status`,
                f.`thumbnailSmall` ,f.`thumbnailLarge` , f.`changeDate` , f.`createDate`, f.`nickname`, r.`nickname` as `related_nickname`
            FROM (
                # this query adds the sequence fields to filter by for paging
                SELECT  s1.*, @parentrownum := convert( IF( ( parentId = 0), @parentrownum +1, @parentrownum ), UNSIGNED INTEGER) AS parent_sequence,
                @childrownum := IF( ( @lastparent = parentId), @childrownum + 1, 0 ) AS child_sequence,
                @lastparent := if( parentId=0, id, parentId ) AS dummy_used_for_last_parent
                FROM
                    # QUERY 2: this query sorts the results properly
                    (SELECT s0.* FROM
                        # QUERY 1: This query gets the results we need with calculated fields to sort by
                        # We should probably have these fields in the database so they are indexed
                        (SELECT
                        CONVERT( if( parentId = 0, @parentVoteNumber:=voteNumber,
                            @parentVoteNumber ), SIGNED INTEGER ) as groupVoteNumber,          # Will order groups using parent voteNumber
                        CONVERT( if( parentId = 0, @parentVoteCount:=voteCount,
                            @parentVoteCount ), SIGNED INTEGER ) as groupVoteCount,            # Will order groups using parent voteCount
                        CONVERT( if( parentId = 0, @parentCreateDate:=createDate,
                            @parentCreateDate ), DATETIME ) as groupCreateDate,                # Will order groups using parent createDate
                        CONVERT( if(parentId=0, id, parentId), UNSIGNED INTEGER) as groupId,   # will order groups together
                        CONVERT( if(parentId = 0, 0, 1), UNSIGNED INTEGER) as isChild,         # will order parent first in group
                        r.*
                        FROM (
                            # this just makes sure our groups are grouped in parent child order
                            SELECT * from q_brooklyncode o  WHERE o.location = '5e13bbb73127b9fc424e3728c6500f28' ORDER BY
                             if( o.relatedId = 0, o.id, o.relatedId),
                             if( o.relatedId = 0, 0, o.id )
                            ) r,
                        ( SELECT @parentVoteNumber := 0 ) pvn,
                        ( SELECT @parentVoteCount  := 0 ) pvc,
                        ( SELECT @parentCreateDate := 0 ) pcd
                         WHERE location = '5e13bbb73127b9fc424e3728c6500f28' 
                    ) s0
                    
                    
                    ORDER BY
                    
                s0.groupVoteNumber DESC,
                s0.groupVoteCount DESC,
                s0.groupCreateDate ASC,
                 
                    groupId  ASC, # first order by group
                    isChild ASC, # Then make sure the parent is first
                    
                s0.voteNumber DESC,
                s0.voteCount DESC,
                s0.createDate ASC
                
            ) s1,
            ( SELECT @parentrownum := 0 ) pr,
            ( SELECT @childrownum := 0 ) cr, 
            ( SELECT @lastparent := -1 ) lp) f
            LEFT JOIN user u on u.id = f.userId
            LEFT JOIN q_brooklyncode r on r.id = f.relatedId
            LEFT JOIN user ur on ur.id = r.userId
            WHERE
            ((0 = 6 and parent_sequence >= 1) or parent_sequence BETWEEN 1 AND 6)
            AND
            ((0 = 6 and child_sequence >= 1) or (child_sequence=0 or child_sequence BETWEEN 1 AND 6))
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042c02d0>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = %s
        
DEBUG:root:escape_sql args: [1L]
DEBUG:root:
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = 1
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042c04d0>
DEBUG:root:dictlist: {u'itemId': 1L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'1fe8a631d5522d10e2cf2e4fabedc90b', u'id': 1L}
DEBUG:root:dictItem: {u'itemId': 1L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'1fe8a631d5522d10e2cf2e4fabedc90b', u'id': 1L}
DEBUG:root:items: [<ImageItem: ImageItem object>]
DEBUG:root:im: [<ImageItem: ImageItem object>]
DEBUG:root:comment.images: [<ImageItem: ImageItem object>]
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = %s
        
DEBUG:root:escape_sql args: [2L]
DEBUG:root:
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = 2
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042c06d0>
DEBUG:root:dictlist: {u'itemId': 2L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'cfbb12022f81667e3c2746e3c80b2e1e', u'id': 2L}
DEBUG:root:dictItem: {u'itemId': 2L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'cfbb12022f81667e3c2746e3c80b2e1e', u'id': 2L}
DEBUG:root:items: [<ImageItem: ImageItem object>]
DEBUG:root:im: [<ImageItem: ImageItem object>]
DEBUG:root:comment.images: [<ImageItem: ImageItem object>]
DEBUG:root:Number of comments returned: 2
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:escape_sql sql: 
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:escape_sql args: []
DEBUG:root:
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10435d050>
DEBUG:root:Number of contributions 2
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042c08d0>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042c0ad0>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042b6a90>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042b6b10>
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:unsanitizing: test
DEBUG:root:unsanitizing encoded ascii: test
DEBUG:root:unsanitizing encoded utf8: test
DEBUG:root: unsanitized: test
DEBUG:root:unsanitizing: tester
DEBUG:root:unsanitizing encoded ascii: tester
DEBUG:root:unsanitizing encoded utf8: tester
DEBUG:root: unsanitized: tester
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:escape_sql sql: 
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:escape_sql args: []
DEBUG:root:
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10435d850>
DEBUG:root:Number of contributions 2
INFO:root:200 POST /q/feed (127.0.0.1)
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:set_table has q_short_name (12345)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042b6d10>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has q_short_name (12345)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042b6e90>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:feed.prepare, table: q_brooklyncode
DEBUG:root:FeedHandler post
DEBUG:root:Body -> 
 action=sort&location=5e13bbb73127b9fc424e3728c6500f28&referer=http%3A%2F%2Flocalhost%3A8081%2F%3Fp%3D1&q_short_name=12345&QOOID=QOO51f460f57c582&QOOTID=QOOT51f460f57c593&sort=3
DEBUG:root:Arguments -> 
 {"sort": ["3"], "QOOID": ["QOO51f460f57c582"], "QOOTID": ["QOOT51f460f57c593"], "q_short_name": ["12345"], "location": ["5e13bbb73127b9fc424e3728c6500f28"], "action": ["sort"], "referer": ["http://localhost:8081/?p=1"]}
DEBUG:root:to_unicode
DEBUG:root:sort
DEBUG:root:sort
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:sort
DEBUG:root:sort
DEBUG:root:to_unicode
DEBUG:root:action: sort
DEBUG:root:to_unicode
DEBUG:root:3
DEBUG:root:3
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:3
DEBUG:root:3
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:init_db_conn
DEBUG:root:NOT creating db_conn
DEBUG:root:1
DEBUG:root:5
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT f.`parent_sequence` , f.`child_sequence` , f.`id` , f.`locationId` , f.`relatedId`,
                f.`parentId` , f.`userId` , `u`.`username`, u.`thumbnailLarge` as userThumbnailLarge,
                ur.`username` as relatedUsername, ur.`thumbnailLarge` as relatedUserThumbnailLarge, f.`type` as `item_type`,
                f.`is_anonymous` , r.`is_anonymous` as `related_is_anonymous`, f.`name` , f.`location` ,f.`description`,f.`referer`,
                f.`voteCount` , f.`voteNumber` , f.`votesUp` ,f.`votesDown` , f.`flagCount`,  f.`childCount`, f.`sortOrder` , f.`status`,
                f.`thumbnailSmall` ,f.`thumbnailLarge` , f.`changeDate` , f.`createDate`, f.`nickname`, r.`nickname` as `related_nickname`
            FROM (
                # this query adds the sequence fields to filter by for paging
                SELECT  s1.*, @parentrownum := convert( IF( ( parentId = 0), @parentrownum +1, @parentrownum ), UNSIGNED INTEGER) AS parent_sequence,
                @childrownum := IF( ( @lastparent = parentId), @childrownum + 1, 0 ) AS child_sequence,
                @lastparent := if( parentId=0, id, parentId ) AS dummy_used_for_last_parent
                FROM
                    # QUERY 2: this query sorts the results properly
                    (SELECT s0.* FROM
                        # QUERY 1: This query gets the results we need with calculated fields to sort by
                        # We should probably have these fields in the database so they are indexed
                        (SELECT
                        CONVERT( if( parentId = 0, @parentVoteNumber:=voteNumber,
                            @parentVoteNumber ), SIGNED INTEGER ) as groupVoteNumber,          # Will order groups using parent voteNumber
                        CONVERT( if( parentId = 0, @parentVoteCount:=voteCount,
                            @parentVoteCount ), SIGNED INTEGER ) as groupVoteCount,            # Will order groups using parent voteCount
                        CONVERT( if( parentId = 0, @parentCreateDate:=createDate,
                            @parentCreateDate ), DATETIME ) as groupCreateDate,                # Will order groups using parent createDate
                        CONVERT( if(parentId=0, id, parentId), UNSIGNED INTEGER) as groupId,   # will order groups together
                        CONVERT( if(parentId = 0, 0, 1), UNSIGNED INTEGER) as isChild,         # will order parent first in group
                        r.*
                        FROM (
                            # this just makes sure our groups are grouped in parent child order
                            SELECT * from q_brooklyncode o  WHERE o.location = '5e13bbb73127b9fc424e3728c6500f28' ORDER BY
                             if( o.relatedId = 0, o.id, o.relatedId),
                             if( o.relatedId = 0, 0, o.id )
                            ) r,
                        ( SELECT @parentVoteNumber := 0 ) pvn,
                        ( SELECT @parentVoteCount  := 0 ) pvc,
                        ( SELECT @parentCreateDate := 0 ) pcd
                         WHERE location = '5e13bbb73127b9fc424e3728c6500f28' 
                    ) s0
                    
                    
                    ORDER BY
                    
                s0.groupCreateDate ASC,
                s0.groupVoteNumber DESC,
                s0.groupVoteCount DESC,
                 
                    groupId  ASC, # first order by group
                    isChild ASC, # Then make sure the parent is first
                    
                s0.createDate ASC,
                s0.voteNumber DESC,
                s0.voteCount DESC
                
            ) s1,
            ( SELECT @parentrownum := 0 ) pr,
            ( SELECT @childrownum := 0 ) cr, 
            ( SELECT @lastparent := -1 ) lp) f
            LEFT JOIN user u on u.id = f.userId
            LEFT JOIN q_brooklyncode r on r.id = f.relatedId
            LEFT JOIN user ur on ur.id = r.userId
            WHERE
            ((0 = 6 and parent_sequence >= 1) or parent_sequence BETWEEN 1 AND 6)
            AND
            ((0 = 6 and child_sequence >= 1) or (child_sequence=0 or child_sequence BETWEEN 1 AND 6))
        
DEBUG:root:escape_sql args: None
DEBUG:root:
            SELECT f.`parent_sequence` , f.`child_sequence` , f.`id` , f.`locationId` , f.`relatedId`,
                f.`parentId` , f.`userId` , `u`.`username`, u.`thumbnailLarge` as userThumbnailLarge,
                ur.`username` as relatedUsername, ur.`thumbnailLarge` as relatedUserThumbnailLarge, f.`type` as `item_type`,
                f.`is_anonymous` , r.`is_anonymous` as `related_is_anonymous`, f.`name` , f.`location` ,f.`description`,f.`referer`,
                f.`voteCount` , f.`voteNumber` , f.`votesUp` ,f.`votesDown` , f.`flagCount`,  f.`childCount`, f.`sortOrder` , f.`status`,
                f.`thumbnailSmall` ,f.`thumbnailLarge` , f.`changeDate` , f.`createDate`, f.`nickname`, r.`nickname` as `related_nickname`
            FROM (
                # this query adds the sequence fields to filter by for paging
                SELECT  s1.*, @parentrownum := convert( IF( ( parentId = 0), @parentrownum +1, @parentrownum ), UNSIGNED INTEGER) AS parent_sequence,
                @childrownum := IF( ( @lastparent = parentId), @childrownum + 1, 0 ) AS child_sequence,
                @lastparent := if( parentId=0, id, parentId ) AS dummy_used_for_last_parent
                FROM
                    # QUERY 2: this query sorts the results properly
                    (SELECT s0.* FROM
                        # QUERY 1: This query gets the results we need with calculated fields to sort by
                        # We should probably have these fields in the database so they are indexed
                        (SELECT
                        CONVERT( if( parentId = 0, @parentVoteNumber:=voteNumber,
                            @parentVoteNumber ), SIGNED INTEGER ) as groupVoteNumber,          # Will order groups using parent voteNumber
                        CONVERT( if( parentId = 0, @parentVoteCount:=voteCount,
                            @parentVoteCount ), SIGNED INTEGER ) as groupVoteCount,            # Will order groups using parent voteCount
                        CONVERT( if( parentId = 0, @parentCreateDate:=createDate,
                            @parentCreateDate ), DATETIME ) as groupCreateDate,                # Will order groups using parent createDate
                        CONVERT( if(parentId=0, id, parentId), UNSIGNED INTEGER) as groupId,   # will order groups together
                        CONVERT( if(parentId = 0, 0, 1), UNSIGNED INTEGER) as isChild,         # will order parent first in group
                        r.*
                        FROM (
                            # this just makes sure our groups are grouped in parent child order
                            SELECT * from q_brooklyncode o  WHERE o.location = '5e13bbb73127b9fc424e3728c6500f28' ORDER BY
                             if( o.relatedId = 0, o.id, o.relatedId),
                             if( o.relatedId = 0, 0, o.id )
                            ) r,
                        ( SELECT @parentVoteNumber := 0 ) pvn,
                        ( SELECT @parentVoteCount  := 0 ) pvc,
                        ( SELECT @parentCreateDate := 0 ) pcd
                         WHERE location = '5e13bbb73127b9fc424e3728c6500f28' 
                    ) s0
                    
                    
                    ORDER BY
                    
                s0.groupCreateDate ASC,
                s0.groupVoteNumber DESC,
                s0.groupVoteCount DESC,
                 
                    groupId  ASC, # first order by group
                    isChild ASC, # Then make sure the parent is first
                    
                s0.createDate ASC,
                s0.voteNumber DESC,
                s0.voteCount DESC
                
            ) s1,
            ( SELECT @parentrownum := 0 ) pr,
            ( SELECT @childrownum := 0 ) cr, 
            ( SELECT @lastparent := -1 ) lp) f
            LEFT JOIN user u on u.id = f.userId
            LEFT JOIN q_brooklyncode r on r.id = f.relatedId
            LEFT JOIN user ur on ur.id = r.userId
            WHERE
            ((0 = 6 and parent_sequence >= 1) or parent_sequence BETWEEN 1 AND 6)
            AND
            ((0 = 6 and child_sequence >= 1) or (child_sequence=0 or child_sequence BETWEEN 1 AND 6))
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042c00d0>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = %s
        
DEBUG:root:escape_sql args: [1L]
DEBUG:root:
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = 1
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042c02d0>
DEBUG:root:dictlist: {u'itemId': 1L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'1fe8a631d5522d10e2cf2e4fabedc90b', u'id': 1L}
DEBUG:root:dictItem: {u'itemId': 1L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'1fe8a631d5522d10e2cf2e4fabedc90b', u'id': 1L}
DEBUG:root:items: [<ImageItem: ImageItem object>]
DEBUG:root:im: [<ImageItem: ImageItem object>]
DEBUG:root:comment.images: [<ImageItem: ImageItem object>]
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = %s
        
DEBUG:root:escape_sql args: [2L]
DEBUG:root:
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = 2
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042c04d0>
DEBUG:root:dictlist: {u'itemId': 2L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'cfbb12022f81667e3c2746e3c80b2e1e', u'id': 2L}
DEBUG:root:dictItem: {u'itemId': 2L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'cfbb12022f81667e3c2746e3c80b2e1e', u'id': 2L}
DEBUG:root:items: [<ImageItem: ImageItem object>]
DEBUG:root:im: [<ImageItem: ImageItem object>]
DEBUG:root:comment.images: [<ImageItem: ImageItem object>]
DEBUG:root:Number of comments returned: 2
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:escape_sql sql: 
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:escape_sql args: []
DEBUG:root:
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042d4c50>
DEBUG:root:Number of contributions 2
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042c06d0>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042c08d0>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042c0ad0>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042b6a90>
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:unsanitizing: test
DEBUG:root:unsanitizing encoded ascii: test
DEBUG:root:unsanitizing encoded utf8: test
DEBUG:root: unsanitized: test
DEBUG:root:unsanitizing: tester
DEBUG:root:unsanitizing encoded ascii: tester
DEBUG:root:unsanitizing encoded utf8: tester
DEBUG:root: unsanitized: tester
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:escape_sql sql: 
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:escape_sql args: []
DEBUG:root:
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10435dad0>
DEBUG:root:Number of contributions 2
INFO:root:200 POST /q/feed (127.0.0.1)
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:set_table has q_short_name (12345)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042b6b10>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has q_short_name (12345)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042b6d10>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:feed.prepare, table: q_brooklyncode
DEBUG:root:FeedHandler post
DEBUG:root:Body -> 
 action=sort&location=5e13bbb73127b9fc424e3728c6500f28&referer=http%3A%2F%2Flocalhost%3A8081%2F%3Fp%3D1&q_short_name=12345&QOOID=QOO51f460f57c582&QOOTID=QOOT51f460f57c593&sort=2
DEBUG:root:Arguments -> 
 {"sort": ["2"], "QOOID": ["QOO51f460f57c582"], "QOOTID": ["QOOT51f460f57c593"], "q_short_name": ["12345"], "location": ["5e13bbb73127b9fc424e3728c6500f28"], "action": ["sort"], "referer": ["http://localhost:8081/?p=1"]}
DEBUG:root:to_unicode
DEBUG:root:sort
DEBUG:root:sort
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:sort
DEBUG:root:sort
DEBUG:root:to_unicode
DEBUG:root:action: sort
DEBUG:root:to_unicode
DEBUG:root:2
DEBUG:root:2
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:2
DEBUG:root:2
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:init_db_conn
DEBUG:root:NOT creating db_conn
DEBUG:root:1
DEBUG:root:5
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT f.`parent_sequence` , f.`child_sequence` , f.`id` , f.`locationId` , f.`relatedId`,
                f.`parentId` , f.`userId` , `u`.`username`, u.`thumbnailLarge` as userThumbnailLarge,
                ur.`username` as relatedUsername, ur.`thumbnailLarge` as relatedUserThumbnailLarge, f.`type` as `item_type`,
                f.`is_anonymous` , r.`is_anonymous` as `related_is_anonymous`, f.`name` , f.`location` ,f.`description`,f.`referer`,
                f.`voteCount` , f.`voteNumber` , f.`votesUp` ,f.`votesDown` , f.`flagCount`,  f.`childCount`, f.`sortOrder` , f.`status`,
                f.`thumbnailSmall` ,f.`thumbnailLarge` , f.`changeDate` , f.`createDate`, f.`nickname`, r.`nickname` as `related_nickname`
            FROM (
                # this query adds the sequence fields to filter by for paging
                SELECT  s1.*, @parentrownum := convert( IF( ( parentId = 0), @parentrownum +1, @parentrownum ), UNSIGNED INTEGER) AS parent_sequence,
                @childrownum := IF( ( @lastparent = parentId), @childrownum + 1, 0 ) AS child_sequence,
                @lastparent := if( parentId=0, id, parentId ) AS dummy_used_for_last_parent
                FROM
                    # QUERY 2: this query sorts the results properly
                    (SELECT s0.* FROM
                        # QUERY 1: This query gets the results we need with calculated fields to sort by
                        # We should probably have these fields in the database so they are indexed
                        (SELECT
                        CONVERT( if( parentId = 0, @parentVoteNumber:=voteNumber,
                            @parentVoteNumber ), SIGNED INTEGER ) as groupVoteNumber,          # Will order groups using parent voteNumber
                        CONVERT( if( parentId = 0, @parentVoteCount:=voteCount,
                            @parentVoteCount ), SIGNED INTEGER ) as groupVoteCount,            # Will order groups using parent voteCount
                        CONVERT( if( parentId = 0, @parentCreateDate:=createDate,
                            @parentCreateDate ), DATETIME ) as groupCreateDate,                # Will order groups using parent createDate
                        CONVERT( if(parentId=0, id, parentId), UNSIGNED INTEGER) as groupId,   # will order groups together
                        CONVERT( if(parentId = 0, 0, 1), UNSIGNED INTEGER) as isChild,         # will order parent first in group
                        r.*
                        FROM (
                            # this just makes sure our groups are grouped in parent child order
                            SELECT * from q_brooklyncode o  WHERE o.location = '5e13bbb73127b9fc424e3728c6500f28' ORDER BY
                             if( o.relatedId = 0, o.id, o.relatedId),
                             if( o.relatedId = 0, 0, o.id )
                            ) r,
                        ( SELECT @parentVoteNumber := 0 ) pvn,
                        ( SELECT @parentVoteCount  := 0 ) pvc,
                        ( SELECT @parentCreateDate := 0 ) pcd
                         WHERE location = '5e13bbb73127b9fc424e3728c6500f28' 
                    ) s0
                    
                    
                    ORDER BY
                    
                s0.groupCreateDate DESC,
                s0.groupVoteNumber DESC,
                s0.groupVoteCount DESC,
                 
                    groupId  ASC, # first order by group
                    isChild ASC, # Then make sure the parent is first
                    
                s0.createDate DESC,
                s0.voteNumber DESC,
                s0.voteCount DESC
                
            ) s1,
            ( SELECT @parentrownum := 0 ) pr,
            ( SELECT @childrownum := 0 ) cr, 
            ( SELECT @lastparent := -1 ) lp) f
            LEFT JOIN user u on u.id = f.userId
            LEFT JOIN q_brooklyncode r on r.id = f.relatedId
            LEFT JOIN user ur on ur.id = r.userId
            WHERE
            ((0 = 6 and parent_sequence >= 1) or parent_sequence BETWEEN 1 AND 6)
            AND
            ((0 = 6 and child_sequence >= 1) or (child_sequence=0 or child_sequence BETWEEN 1 AND 6))
        
DEBUG:root:escape_sql args: None
DEBUG:root:
            SELECT f.`parent_sequence` , f.`child_sequence` , f.`id` , f.`locationId` , f.`relatedId`,
                f.`parentId` , f.`userId` , `u`.`username`, u.`thumbnailLarge` as userThumbnailLarge,
                ur.`username` as relatedUsername, ur.`thumbnailLarge` as relatedUserThumbnailLarge, f.`type` as `item_type`,
                f.`is_anonymous` , r.`is_anonymous` as `related_is_anonymous`, f.`name` , f.`location` ,f.`description`,f.`referer`,
                f.`voteCount` , f.`voteNumber` , f.`votesUp` ,f.`votesDown` , f.`flagCount`,  f.`childCount`, f.`sortOrder` , f.`status`,
                f.`thumbnailSmall` ,f.`thumbnailLarge` , f.`changeDate` , f.`createDate`, f.`nickname`, r.`nickname` as `related_nickname`
            FROM (
                # this query adds the sequence fields to filter by for paging
                SELECT  s1.*, @parentrownum := convert( IF( ( parentId = 0), @parentrownum +1, @parentrownum ), UNSIGNED INTEGER) AS parent_sequence,
                @childrownum := IF( ( @lastparent = parentId), @childrownum + 1, 0 ) AS child_sequence,
                @lastparent := if( parentId=0, id, parentId ) AS dummy_used_for_last_parent
                FROM
                    # QUERY 2: this query sorts the results properly
                    (SELECT s0.* FROM
                        # QUERY 1: This query gets the results we need with calculated fields to sort by
                        # We should probably have these fields in the database so they are indexed
                        (SELECT
                        CONVERT( if( parentId = 0, @parentVoteNumber:=voteNumber,
                            @parentVoteNumber ), SIGNED INTEGER ) as groupVoteNumber,          # Will order groups using parent voteNumber
                        CONVERT( if( parentId = 0, @parentVoteCount:=voteCount,
                            @parentVoteCount ), SIGNED INTEGER ) as groupVoteCount,            # Will order groups using parent voteCount
                        CONVERT( if( parentId = 0, @parentCreateDate:=createDate,
                            @parentCreateDate ), DATETIME ) as groupCreateDate,                # Will order groups using parent createDate
                        CONVERT( if(parentId=0, id, parentId), UNSIGNED INTEGER) as groupId,   # will order groups together
                        CONVERT( if(parentId = 0, 0, 1), UNSIGNED INTEGER) as isChild,         # will order parent first in group
                        r.*
                        FROM (
                            # this just makes sure our groups are grouped in parent child order
                            SELECT * from q_brooklyncode o  WHERE o.location = '5e13bbb73127b9fc424e3728c6500f28' ORDER BY
                             if( o.relatedId = 0, o.id, o.relatedId),
                             if( o.relatedId = 0, 0, o.id )
                            ) r,
                        ( SELECT @parentVoteNumber := 0 ) pvn,
                        ( SELECT @parentVoteCount  := 0 ) pvc,
                        ( SELECT @parentCreateDate := 0 ) pcd
                         WHERE location = '5e13bbb73127b9fc424e3728c6500f28' 
                    ) s0
                    
                    
                    ORDER BY
                    
                s0.groupCreateDate DESC,
                s0.groupVoteNumber DESC,
                s0.groupVoteCount DESC,
                 
                    groupId  ASC, # first order by group
                    isChild ASC, # Then make sure the parent is first
                    
                s0.createDate DESC,
                s0.voteNumber DESC,
                s0.voteCount DESC
                
            ) s1,
            ( SELECT @parentrownum := 0 ) pr,
            ( SELECT @childrownum := 0 ) cr, 
            ( SELECT @lastparent := -1 ) lp) f
            LEFT JOIN user u on u.id = f.userId
            LEFT JOIN q_brooklyncode r on r.id = f.relatedId
            LEFT JOIN user ur on ur.id = r.userId
            WHERE
            ((0 = 6 and parent_sequence >= 1) or parent_sequence BETWEEN 1 AND 6)
            AND
            ((0 = 6 and child_sequence >= 1) or (child_sequence=0 or child_sequence BETWEEN 1 AND 6))
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042b6e90>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = %s
        
DEBUG:root:escape_sql args: [2L]
DEBUG:root:
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = 2
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042c00d0>
DEBUG:root:dictlist: {u'itemId': 2L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'cfbb12022f81667e3c2746e3c80b2e1e', u'id': 2L}
DEBUG:root:dictItem: {u'itemId': 2L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'cfbb12022f81667e3c2746e3c80b2e1e', u'id': 2L}
DEBUG:root:items: [<ImageItem: ImageItem object>]
DEBUG:root:im: [<ImageItem: ImageItem object>]
DEBUG:root:comment.images: [<ImageItem: ImageItem object>]
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = %s
        
DEBUG:root:escape_sql args: [1L]
DEBUG:root:
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = 1
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042c02d0>
DEBUG:root:dictlist: {u'itemId': 1L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'1fe8a631d5522d10e2cf2e4fabedc90b', u'id': 1L}
DEBUG:root:dictItem: {u'itemId': 1L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'1fe8a631d5522d10e2cf2e4fabedc90b', u'id': 1L}
DEBUG:root:items: [<ImageItem: ImageItem object>]
DEBUG:root:im: [<ImageItem: ImageItem object>]
DEBUG:root:comment.images: [<ImageItem: ImageItem object>]
DEBUG:root:Number of comments returned: 2
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:escape_sql sql: 
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:escape_sql args: []
DEBUG:root:
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042c7c90>
DEBUG:root:Number of contributions 2
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042c04d0>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042c06d0>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042c08d0>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042c0ad0>
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:unsanitizing: tester
DEBUG:root:unsanitizing encoded ascii: tester
DEBUG:root:unsanitizing encoded utf8: tester
DEBUG:root: unsanitized: tester
DEBUG:root:unsanitizing: test
DEBUG:root:unsanitizing encoded ascii: test
DEBUG:root:unsanitizing encoded utf8: test
DEBUG:root: unsanitized: test
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:escape_sql sql: 
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:escape_sql args: []
DEBUG:root:
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10436fb90>
DEBUG:root:Number of contributions 2
INFO:root:200 POST /q/feed (127.0.0.1)
DEBUG:root:oauth GET twitter login
DEBUG:root:provider_settings -> 
{'REQUEST_TOKEN_URL_PATH': '/oauth/request_token', 'PROVIDER_TAG': 'tw', 'CONSUMER_SECRET': 'rJ5KZuTfumapW19O4IOdyKq0B5EIyFydGORkCas6Qg', 'OAUTH_VERSION': '1.0a', 'CALLBACK_URL': 'http://127.0.0.1/q/oauth/twitter/callback', 'CONSUMER_KEY': 'Rx5YrdsnGslwNEpALTowYA', 'REQUEST_TOKEN_URL': 'https://api.twitter.com/oauth/request_token', 'ACCESS_TOKEN_URL': 'https://api.twitter.com/oauth/access_token', 'AUTHORIZE_URL': 'https://api.twitter.com/oauth/authorize', 'USER_INFO': [['https://api.twitter.com/1.1/account/verify_credentials.json', [['username', ['screen_name']], ['email', ['screen_name']], ['oauth_uid', ['id']], ['thumbnailLarge', ['profile_image_url']]]]], 'PROVIDER_NAME': 'twitter', 'REQUEST_TOKEN_URL_HOST': 'https://api.twitter.com', 'ALIASES': [['fullname', ['name']], ['oauth_access_token', ['oauth_token']]]}
DEBUG:root:onBeforeRedirect hook empty.
DEBUG:root:Redis server connected (127.0.0.1:6379)
DEBUG:root:Redis server connected (127.0.0.1:6379)
DEBUG:root:to_unicode
DEBUG:root:QOO51f460f57c582
DEBUG:root:QOO51f460f57c582
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:QOO51f460f57c582
DEBUG:root:QOO51f460f57c582
DEBUG:root:to_unicode
DEBUG:root:oauth_callback: http://127.0.0.1/q/oauth/twitter/callback
DEBUG:root:_request oauth_secret: 
DEBUG:root:query_params -> 
{'oauth_version': '1.0', 'oauth_nonce': '53d7facffd04054d93656de4adf028e2', 'oauth_timestamp': '1375065294', 'oauth_consumer_key': 'Rx5YrdsnGslwNEpALTowYA', 'oauth_signature_method': 'HMAC-SHA1', 'oauth_callback': 'http://127.0.0.1/q/oauth/twitter/callback'}
DEBUG:root:signature_base_string: POST&https%3A%2F%2Fapi.twitter.com%2Foauth%2Frequest_token&oauth_callback%3Dhttp%253A%252F%252F127.0.0.1%252Fq%252Foauth%252Ftwitter%252Fcallback%26oauth_consumer_key%3DRx5YrdsnGslwNEpALTowYA%26oauth_nonce%3D53d7facffd04054d93656de4adf028e2%26oauth_signature_method%3DHMAC-SHA1%26oauth_timestamp%3D1375065294%26oauth_version%3D1.0
DEBUG:root:signature_key: rJ5KZuTfumapW19O4IOdyKq0B5EIyFydGORkCas6Qg&
DEBUG:root:oauth_signature: cyxPv3CnuOZxkbPCWD0OmhBPKG8=
DEBUG:root:Authorization: OAuth oauth_callback="http%3A%2F%2F127.0.0.1%2Fq%2Foauth%2Ftwitter%2Fcallback", oauth_consumer_key="Rx5YrdsnGslwNEpALTowYA", oauth_nonce="53d7facffd04054d93656de4adf028e2", oauth_signature="cyxPv3CnuOZxkbPCWD0OmhBPKG8%3D", oauth_signature_method="HMAC-SHA1", oauth_timestamp="1375065294", oauth_version="1.0"


INFO:requests.packages.urllib3.connectionpool:Starting new HTTPS connection (1): api.twitter.com
DEBUG:requests.packages.urllib3.connectionpool:"POST /oauth/request_token HTTP/1.1" 200 146
DEBUG:root:content -> 
oauth_token=D1bqLAUUEPlaJVJKJy9LJr19ABuqFckhY6n9m4Nk&oauth_token_secret=YynPGrSM07LsPEeaxm8jf5UtGRvkyfgV0ssH0SRYk&oauth_callback_confirmed=true
DEBUG:root:token_secret: YynPGrSM07LsPEeaxm8jf5UtGRvkyfgV0ssH0SRYk
DEBUG:root:data -> 
{'token': 'D1bqLAUUEPlaJVJKJy9LJr19ABuqFckhY6n9m4Nk', 'provider_tag': 'tw', 'token_secret': 'YynPGrSM07LsPEeaxm8jf5UtGRvkyfgV0ssH0SRYk', 'provider': 'twitter', 'session_id': u'QOO51f460f57c582', 'data': '{"oauth_token_secret": "YynPGrSM07LsPEeaxm8jf5UtGRvkyfgV0ssH0SRYk", "oauth_token": "D1bqLAUUEPlaJVJKJy9LJr19ABuqFckhY6n9m4Nk", "oauth_callback_confirmed": "true"}', 'id': 'D1bqLAUUEPlaJVJKJy9LJr19ABuqFckhY6n9m4Nk', 'api_id': 'D1bqLAUUEPlaJVJKJy9LJr19ABuqFckhY6n9m4Nk', 'initial_request_args': '{"QOOTID": ["QOOT51f460f57c593"], "QOOID": ["QOO51f460f57c582"], "q_short_name": ["12345"]}'}
DEBUG:root:shield_value: {"api_id":"D1bqLAUUEPlaJVJKJy9LJr19ABuqFckhY6n9m4Nk","data":"{\"oauth_token_secret\": \"YynPGrSM07LsPEeaxm8jf5UtGRvkyfgV0ssH0SRYk\", \"oauth_token\": \"D1bqLAUUEPlaJVJKJy9LJr19ABuqFckhY6n9m4Nk\", \"oauth_callback_confirmed\": \"true\"}","error_message":null,"id":"D1bqLAUUEPlaJVJKJy9LJr19ABuqFckhY6n9m4Nk","initial_request_args":"{\"QOOTID\": [\"QOOT51f460f57c593\"], \"QOOID\": [\"QOO51f460f57c582\"], \"q_short_name\": [\"12345\"]}","provider":"twitter","provider_tag":"tw","session_id":"QOO51f460f57c582","token":"D1bqLAUUEPlaJVJKJy9LJr19ABuqFckhY6n9m4Nk","token_secret":"YynPGrSM07LsPEeaxm8jf5UtGRvkyfgV0ssH0SRYk"}
DEBUG:root:shield_key: D1bqLAUUEPlaJVJKJy9LJr19ABuqFckhY6n9m4Nk
DEBUG:root:result: 1
DEBUG:root:Redirecting to url: https://api.twitter.com/oauth/authorize?oauth_token=D1bqLAUUEPlaJVJKJy9LJr19ABuqFckhY6n9m4Nk
INFO:root:302 GET /q/oauth/twitter/login (127.0.0.1)
DEBUG:root:oauth GET twitter callback
DEBUG:root:provider_settings -> 
{'REQUEST_TOKEN_URL_PATH': '/oauth/request_token', 'PROVIDER_TAG': 'tw', 'CONSUMER_SECRET': 'rJ5KZuTfumapW19O4IOdyKq0B5EIyFydGORkCas6Qg', 'OAUTH_VERSION': '1.0a', 'CALLBACK_URL': 'http://127.0.0.1/q/oauth/twitter/callback', 'CONSUMER_KEY': 'Rx5YrdsnGslwNEpALTowYA', 'REQUEST_TOKEN_URL': 'https://api.twitter.com/oauth/request_token', 'ACCESS_TOKEN_URL': 'https://api.twitter.com/oauth/access_token', 'AUTHORIZE_URL': 'https://api.twitter.com/oauth/authorize', 'USER_INFO': [['https://api.twitter.com/1.1/account/verify_credentials.json', [['username', ['screen_name']], ['email', ['screen_name']], ['oauth_uid', ['id']], ['thumbnailLarge', ['profile_image_url']]]]], 'PROVIDER_NAME': 'twitter', 'REQUEST_TOKEN_URL_HOST': 'https://api.twitter.com', 'ALIASES': [['fullname', ['name']], ['oauth_access_token', ['oauth_token']]]}
DEBUG:root:to_unicode
DEBUG:root:D1bqLAUUEPlaJVJKJy9LJr19ABuqFckhY6n9m4Nk
DEBUG:root:D1bqLAUUEPlaJVJKJy9LJr19ABuqFckhY6n9m4Nk
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:D1bqLAUUEPlaJVJKJy9LJr19ABuqFckhY6n9m4Nk
DEBUG:root:D1bqLAUUEPlaJVJKJy9LJr19ABuqFckhY6n9m4Nk
DEBUG:root:to_unicode
DEBUG:root:self.oauth_token: D1bqLAUUEPlaJVJKJy9LJr19ABuqFckhY6n9m4Nk
DEBUG:root:Redis server connected (127.0.0.1:6379)
DEBUG:root:Redis server connected (127.0.0.1:6379)
DEBUG:root:results: 2
DEBUG:root:results[0]: OK
DEBUG:root:results[1]: {u'session_id': u'QOO51f460f57c582', u'token_secret': u'YynPGrSM07LsPEeaxm8jf5UtGRvkyfgV0ssH0SRYk', u'error_message': None, u'api_id': u'D1bqLAUUEPlaJVJKJy9LJr19ABuqFckhY6n9m4Nk', u'token': u'D1bqLAUUEPlaJVJKJy9LJr19ABuqFckhY6n9m4Nk', u'provider_tag': u'tw', u'provider': u'twitter', u'data': u'{"oauth_token_secret": "YynPGrSM07LsPEeaxm8jf5UtGRvkyfgV0ssH0SRYk", "oauth_token": "D1bqLAUUEPlaJVJKJy9LJr19ABuqFckhY6n9m4Nk", "oauth_callback_confirmed": "true"}', u'id': u'D1bqLAUUEPlaJVJKJy9LJr19ABuqFckhY6n9m4Nk', u'initial_request_args': u'{"QOOTID": ["QOOT51f460f57c593"], "QOOID": ["QOO51f460f57c582"], "q_short_name": ["12345"]}'}
DEBUG:root:data: {u'session_id': u'QOO51f460f57c582', u'token_secret': u'YynPGrSM07LsPEeaxm8jf5UtGRvkyfgV0ssH0SRYk', u'error_message': None, u'api_id': u'D1bqLAUUEPlaJVJKJy9LJr19ABuqFckhY6n9m4Nk', u'token': u'D1bqLAUUEPlaJVJKJy9LJr19ABuqFckhY6n9m4Nk', u'provider_tag': u'tw', u'provider': u'twitter', u'data': u'{"oauth_token_secret": "YynPGrSM07LsPEeaxm8jf5UtGRvkyfgV0ssH0SRYk", "oauth_token": "D1bqLAUUEPlaJVJKJy9LJr19ABuqFckhY6n9m4Nk", "oauth_callback_confirmed": "true"}', u'id': u'D1bqLAUUEPlaJVJKJy9LJr19ABuqFckhY6n9m4Nk', u'initial_request_args': u'{"QOOTID": ["QOOT51f460f57c593"], "QOOID": ["QOO51f460f57c582"], "q_short_name": ["12345"]}'}
DEBUG:root:self.oauth_token: D1bqLAUUEPlaJVJKJy9LJr19ABuqFckhY6n9m4Nk
DEBUG:root:results: 2
DEBUG:root:results[0]: OK
DEBUG:root:results[1]: {u'session_id': u'QOO51f460f57c582', u'token_secret': u'YynPGrSM07LsPEeaxm8jf5UtGRvkyfgV0ssH0SRYk', u'error_message': None, u'api_id': u'D1bqLAUUEPlaJVJKJy9LJr19ABuqFckhY6n9m4Nk', u'token': u'D1bqLAUUEPlaJVJKJy9LJr19ABuqFckhY6n9m4Nk', u'provider_tag': u'tw', u'provider': u'twitter', u'data': u'{"oauth_token_secret": "YynPGrSM07LsPEeaxm8jf5UtGRvkyfgV0ssH0SRYk", "oauth_token": "D1bqLAUUEPlaJVJKJy9LJr19ABuqFckhY6n9m4Nk", "oauth_callback_confirmed": "true"}', u'id': u'D1bqLAUUEPlaJVJKJy9LJr19ABuqFckhY6n9m4Nk', u'initial_request_args': u'{"QOOTID": ["QOOT51f460f57c593"], "QOOID": ["QOO51f460f57c582"], "q_short_name": ["12345"]}'}
DEBUG:root:data: {u'session_id': u'QOO51f460f57c582', u'token_secret': u'YynPGrSM07LsPEeaxm8jf5UtGRvkyfgV0ssH0SRYk', u'error_message': None, u'api_id': u'D1bqLAUUEPlaJVJKJy9LJr19ABuqFckhY6n9m4Nk', u'token': u'D1bqLAUUEPlaJVJKJy9LJr19ABuqFckhY6n9m4Nk', u'provider_tag': u'tw', u'provider': u'twitter', u'data': u'{"oauth_token_secret": "YynPGrSM07LsPEeaxm8jf5UtGRvkyfgV0ssH0SRYk", "oauth_token": "D1bqLAUUEPlaJVJKJy9LJr19ABuqFckhY6n9m4Nk", "oauth_callback_confirmed": "true"}', u'id': u'D1bqLAUUEPlaJVJKJy9LJr19ABuqFckhY6n9m4Nk', u'initial_request_args': u'{"QOOTID": ["QOOT51f460f57c593"], "QOOID": ["QOO51f460f57c582"], "q_short_name": ["12345"]}'}
DEBUG:root:Merged arguments: {"QOOTID": ["QOOT51f460f57c593"], "oauth_token": ["D1bqLAUUEPlaJVJKJy9LJr19ABuqFckhY6n9m4Nk"], "oauth_verifier": ["O8X6BuBV1yGGN0Imto7kHHHwMYvhCifNXdVsY7sIziQ"], "q_short_name": ["12345"], "QOOID": ["QOO51f460f57c582"]}
DEBUG:root:to_unicode
DEBUG:root:O8X6BuBV1yGGN0Imto7kHHHwMYvhCifNXdVsY7sIziQ
DEBUG:root:O8X6BuBV1yGGN0Imto7kHHHwMYvhCifNXdVsY7sIziQ
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:O8X6BuBV1yGGN0Imto7kHHHwMYvhCifNXdVsY7sIziQ
DEBUG:root:O8X6BuBV1yGGN0Imto7kHHHwMYvhCifNXdVsY7sIziQ
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:QOO51f460f57c582
DEBUG:root:QOO51f460f57c582
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:QOO51f460f57c582
DEBUG:root:QOO51f460f57c582
DEBUG:root:to_unicode
DEBUG:root:oauth_token: D1bqLAUUEPlaJVJKJy9LJr19ABuqFckhY6n9m4Nk
DEBUG:root:oauth_verifier: O8X6BuBV1yGGN0Imto7kHHHwMYvhCifNXdVsY7sIziQ
DEBUG:root:_request oauth_secret: YynPGrSM07LsPEeaxm8jf5UtGRvkyfgV0ssH0SRYk
DEBUG:root:oauth_token: D1bqLAUUEPlaJVJKJy9LJr19ABuqFckhY6n9m4Nk
DEBUG:root:query_params -> 
{'oauth_nonce': '616cfe4ab03f2acbddbdc4e937bdfa78', 'oauth_timestamp': '1375065299', 'oauth_verifier': u'O8X6BuBV1yGGN0Imto7kHHHwMYvhCifNXdVsY7sIziQ', 'oauth_consumer_key': 'Rx5YrdsnGslwNEpALTowYA', 'oauth_signature_method': 'HMAC-SHA1', 'oauth_version': '1.0', 'oauth_token': u'D1bqLAUUEPlaJVJKJy9LJr19ABuqFckhY6n9m4Nk'}
DEBUG:root:signature_base_string: POST&https%3A%2F%2Fapi.twitter.com%2Foauth%2Faccess_token&oauth_consumer_key%3DRx5YrdsnGslwNEpALTowYA%26oauth_nonce%3D616cfe4ab03f2acbddbdc4e937bdfa78%26oauth_signature_method%3DHMAC-SHA1%26oauth_timestamp%3D1375065299%26oauth_token%3DD1bqLAUUEPlaJVJKJy9LJr19ABuqFckhY6n9m4Nk%26oauth_verifier%3DO8X6BuBV1yGGN0Imto7kHHHwMYvhCifNXdVsY7sIziQ%26oauth_version%3D1.0
DEBUG:root:signature_key: rJ5KZuTfumapW19O4IOdyKq0B5EIyFydGORkCas6Qg&YynPGrSM07LsPEeaxm8jf5UtGRvkyfgV0ssH0SRYk
DEBUG:root:oauth_signature: uu9nrMAD5I8fR71B4wk/d5TreAU=
DEBUG:root:Authorization: OAuth oauth_consumer_key="Rx5YrdsnGslwNEpALTowYA", oauth_nonce="616cfe4ab03f2acbddbdc4e937bdfa78", oauth_signature="uu9nrMAD5I8fR71B4wk%2Fd5TreAU%3D", oauth_signature_method="HMAC-SHA1", oauth_timestamp="1375065299", oauth_token="D1bqLAUUEPlaJVJKJy9LJr19ABuqFckhY6n9m4Nk", oauth_verifier="O8X6BuBV1yGGN0Imto7kHHHwMYvhCifNXdVsY7sIziQ", oauth_version="1.0"


INFO:requests.packages.urllib3.connectionpool:Starting new HTTPS connection (1): api.twitter.com
DEBUG:requests.packages.urllib3.connectionpool:"POST /oauth/access_token HTTP/1.1" 200 163
DEBUG:root:content -> 
oauth_token=14887950-NPNjPIzoucv4aDdi4SQ6OfXU2jtKqdKit9Zr0Kn8k&oauth_token_secret=f95Is9DYlOu3lu6UPOt8PHbfqzHh0qKuGz3Q1WwRk4&user_id=14887950&screen_name=sethmurphy
DEBUG:root:provider_settings: {'REQUEST_TOKEN_URL_PATH': '/oauth/request_token', 'PROVIDER_TAG': 'tw', 'CONSUMER_SECRET': 'rJ5KZuTfumapW19O4IOdyKq0B5EIyFydGORkCas6Qg', 'OAUTH_VERSION': '1.0a', 'CALLBACK_URL': 'http://127.0.0.1/q/oauth/twitter/callback', 'CONSUMER_KEY': 'Rx5YrdsnGslwNEpALTowYA', 'REQUEST_TOKEN_URL': 'https://api.twitter.com/oauth/request_token', 'ACCESS_TOKEN_URL': 'https://api.twitter.com/oauth/access_token', 'AUTHORIZE_URL': 'https://api.twitter.com/oauth/authorize', 'USER_INFO': [['https://api.twitter.com/1.1/account/verify_credentials.json', [['username', ['screen_name']], ['email', ['screen_name']], ['oauth_uid', ['id']], ['thumbnailLarge', ['profile_image_url']]]]], 'PROVIDER_NAME': 'twitter', 'REQUEST_TOKEN_URL_HOST': 'https://api.twitter.com', 'ALIASES': [['fullname', ['name']], ['oauth_access_token', ['oauth_token']]]}
DEBUG:root:oauth_token: 14887950-NPNjPIzoucv4aDdi4SQ6OfXU2jtKqdKit9Zr0Kn8k
DEBUG:root:_request oauth_secret: f95Is9DYlOu3lu6UPOt8PHbfqzHh0qKuGz3Q1WwRk4
DEBUG:root:oauth_token: 14887950-NPNjPIzoucv4aDdi4SQ6OfXU2jtKqdKit9Zr0Kn8k
DEBUG:root:query_params -> 
{'oauth_nonce': '8846500e61b4753a6186cfe7ff53c18f', 'oauth_timestamp': '1375065300', 'oauth_consumer_key': 'Rx5YrdsnGslwNEpALTowYA', 'oauth_signature_method': 'HMAC-SHA1', 'oauth_version': '1.0', 'oauth_token': '14887950-NPNjPIzoucv4aDdi4SQ6OfXU2jtKqdKit9Zr0Kn8k'}
DEBUG:root:signature_base_string: GET&https%3A%2F%2Fapi.twitter.com%2F1.1%2Faccount%2Fverify_credentials.json&oauth_consumer_key%3DRx5YrdsnGslwNEpALTowYA%26oauth_nonce%3D8846500e61b4753a6186cfe7ff53c18f%26oauth_signature_method%3DHMAC-SHA1%26oauth_timestamp%3D1375065300%26oauth_token%3D14887950-NPNjPIzoucv4aDdi4SQ6OfXU2jtKqdKit9Zr0Kn8k%26oauth_version%3D1.0
DEBUG:root:signature_key: rJ5KZuTfumapW19O4IOdyKq0B5EIyFydGORkCas6Qg&f95Is9DYlOu3lu6UPOt8PHbfqzHh0qKuGz3Q1WwRk4
DEBUG:root:oauth_signature: E9e8Q0hY8kM26Br2V/KmdxhBlKE=
DEBUG:root:Authorization: OAuth oauth_consumer_key="Rx5YrdsnGslwNEpALTowYA", oauth_nonce="8846500e61b4753a6186cfe7ff53c18f", oauth_signature="E9e8Q0hY8kM26Br2V%2FKmdxhBlKE%3D", oauth_signature_method="HMAC-SHA1", oauth_timestamp="1375065300", oauth_token="14887950-NPNjPIzoucv4aDdi4SQ6OfXU2jtKqdKit9Zr0Kn8k", oauth_version="1.0"


INFO:requests.packages.urllib3.connectionpool:Starting new HTTPS connection (1): api.twitter.com
DEBUG:requests.packages.urllib3.connectionpool:"GET /1.1/account/verify_credentials.json HTTP/1.1" 200 1154
DEBUG:root:content -> 
{"id":14887950,"id_str":"14887950","name":"Seth Murphy","screen_name":"sethmurphy","location":"Brooklyn, New York","description":"Brooklyn Coder. #NYUSLP13 @HackerSchool alum. Organize http:\/\/t.co\/VQkFYniJ where BK coders go to meet @brooklyncoded. Co-org http:\/\/t.co\/c05AvxiK.","url":"http:\/\/t.co\/RUmBvyXWo3","entities":{"url":{"urls":[{"url":"http:\/\/t.co\/RUmBvyXWo3","expanded_url":"http:\/\/sethmurphy.com","display_url":"sethmurphy.com","indices":[0,22]}]},"description":{"urls":[{"url":"http:\/\/t.co\/VQkFYniJ","expanded_url":"http:\/\/meetup.com\/BrooklynCoded","display_url":"meetup.com\/BrooklynCoded","indices":[55,75]},{"url":"http:\/\/t.co\/c05AvxiK","expanded_url":"http:\/\/meetup.com\/BrubeckNYC","display_url":"meetup.com\/BrubeckNYC","indices":[126,146]}]}},"protected":false,"followers_count":266,"friends_count":430,"listed_count":11,"created_at":"Sat May 24 03:41:46 +0000 2008","favourites_count":160,"utc_offset":-18000,"time_zone":"Quito","geo_enabled":false,"verified":false,"statuses_count":1140,"lang":"en","status":{"created_at":"Tue Jul 23 12:18:29 +0000 2013","id":359648711749533696,"id_str":"359648711749533696","text":".@Quirky does a major design relaunch on their site. Looks fresh. I like it! http:\/\/t.co\/7WnBvQhiSH \/cc @Salesbus","source":"web","truncated":false,"in_reply_to_status_id":null,"in_reply_to_status_id_str":null,"in_reply_to_user_id":null,"in_reply_to_user_id_str":null,"in_reply_to_screen_name":null,"geo":null,"coordinates":null,"place":null,"contributors":null,"retweet_count":1,"favorite_count":1,"entities":{"hashtags":[],"symbols":[],"urls":[{"url":"http:\/\/t.co\/7WnBvQhiSH","expanded_url":"http:\/\/www.quirky.com\/","display_url":"quirky.com","indices":[77,99]}],"user_mentions":[{"screen_name":"Quirky","name":"Quirky","id":24206345,"id_str":"24206345","indices":[1,8]},{"screen_name":"Salesbus","name":"Salesbus","id":701954414,"id_str":"701954414","indices":[104,113]}]},"favorited":false,"retweeted":false,"possibly_sensitive":false,"lang":"en"},"contributors_enabled":false,"is_translator":false,"profile_background_color":"C6E2EE","profile_background_image_url":"http:\/\/a0.twimg.com\/profile_background_images\/292704491\/background.jpg","profile_background_image_url_https":"https:\/\/si0.twimg.com\/profile_background_images\/292704491\/background.jpg","profile_background_tile":true,"profile_image_url":"http:\/\/a0.twimg.com\/profile_images\/2793955592\/297b32ce863d62ad496ccfab30b98ec2_normal.jpeg","profile_image_url_https":"https:\/\/si0.twimg.com\/profile_images\/2793955592\/297b32ce863d62ad496ccfab30b98ec2_normal.jpeg","profile_banner_url":"https:\/\/pbs.twimg.com\/profile_banners\/14887950\/1353702524","profile_link_color":"1F98C7","profile_sidebar_border_color":"C6E2EE","profile_sidebar_fill_color":"DAECF4","profile_text_color":"663B12","profile_use_background_image":true,"default_profile":false,"default_profile_image":false,"following":false,"follow_request_sent":false,"notifications":false}
DEBUG:root:user_info field: username
DEBUG:root:user_info simple field value
DEBUG:root:user_info joining [u'sethmurphy']
DEBUG:root:user_info field[0], value: username, sethmurphy
DEBUG:root:user_info field: email
DEBUG:root:user_info simple field value
DEBUG:root:user_info joining [u'sethmurphy']
DEBUG:root:user_info field[0], value: email, sethmurphy
DEBUG:root:user_info field: oauth_uid
DEBUG:root:user_info simple field value
DEBUG:root:user_info joining [14887950]
DEBUG:root:user_info field[0], value: oauth_uid, 14887950
DEBUG:root:user_info field: thumbnailLarge
DEBUG:root:user_info simple field value
DEBUG:root:user_info joining [u'http://a0.twimg.com/profile_images/2793955592/297b32ce863d62ad496ccfab30b98ec2_normal.jpeg']
DEBUG:root:user_info field[0], value: thumbnailLarge, http://a0.twimg.com/profile_images/2793955592/297b32ce863d62ad496ccfab30b98ec2_normal.jpeg
DEBUG:root:user_info field: fullname
DEBUG:root:user_info simple field value
DEBUG:root:user_info joining [u'Seth Murphy']
DEBUG:root:user_info field[0], value: fullname, Seth Murphy
DEBUG:root:user_info field: oauth_access_token
DEBUG:root:user_info simple field value
DEBUG:root:user_info joining ['14887950-NPNjPIzoucv4aDdi4SQ6OfXU2jtKqdKit9Zr0Kn8k']
DEBUG:root:user_info field[0], value: oauth_access_token, 14887950-NPNjPIzoucv4aDdi4SQ6OfXU2jtKqdKit9Zr0Kn8k
DEBUG:root:data -> 
{u'status': {u'contributors': None, u'truncated': False, u'text': u'.@Quirky does a major design relaunch on their site. Looks fresh. I like it! http://t.co/7WnBvQhiSH /cc @Salesbus', u'in_reply_to_status_id': None, u'id': 359648711749533696, u'favorite_count': 1, u'source': u'web', u'retweeted': False, u'coordinates': None, u'entities': {u'symbols': [], u'user_mentions': [{u'id': 24206345, u'indices': [1, 8], u'id_str': u'24206345', u'screen_name': u'Quirky', u'name': u'Quirky'}, {u'id': 701954414, u'indices': [104, 113], u'id_str': u'701954414', u'screen_name': u'Salesbus', u'name': u'Salesbus'}], u'hashtags': [], u'urls': [{u'url': u'http://t.co/7WnBvQhiSH', u'indices': [77, 99], u'expanded_url': u'http://www.quirky.com/', u'display_url': u'quirky.com'}]}, u'in_reply_to_screen_name': None, u'id_str': u'359648711749533696', u'retweet_count': 1, u'in_reply_to_user_id': None, u'favorited': False, u'geo': None, u'in_reply_to_user_id_str': None, u'possibly_sensitive': False, u'lang': u'en', u'created_at': u'Tue Jul 23 12:18:29 +0000 2013', u'in_reply_to_status_id_str': None, u'place': None}, u'follow_request_sent': False, 'thumbnailLarge': 'http://a0.twimg.com/profile_images/2793955592/297b32ce863d62ad496ccfab30b98ec2_normal.jpeg', 'oauth_token_secret': 'f95Is9DYlOu3lu6UPOt8PHbfqzHh0qKuGz3Q1WwRk4', u'time_zone': u'Quito', u'id': 14887950, 'oauth_access_token': '14887950-NPNjPIzoucv4aDdi4SQ6OfXU2jtKqdKit9Zr0Kn8k', u'description': u'Brooklyn Coder. #NYUSLP13 @HackerSchool alum. Organize http://t.co/VQkFYniJ where BK coders go to meet @brooklyncoded. Co-org http://t.co/c05AvxiK.', 'user_id': '14887950', u'entities': {u'url': {u'urls': [{u'url': u'http://t.co/RUmBvyXWo3', u'indices': [0, 22], u'expanded_url': u'http://sethmurphy.com', u'display_url': u'sethmurphy.com'}]}, u'description': {u'urls': [{u'url': u'http://t.co/VQkFYniJ', u'indices': [55, 75], u'expanded_url': u'http://meetup.com/BrooklynCoded', u'display_url': u'meetup.com/BrooklynCoded'}, {u'url': u'http://t.co/c05AvxiK', u'indices': [126, 146], u'expanded_url': u'http://meetup.com/BrubeckNYC', u'display_url': u'meetup.com/BrubeckNYC'}]}}, u'profile_text_color': u'663B12', u'profile_image_url_https': u'https://si0.twimg.com/profile_images/2793955592/297b32ce863d62ad496ccfab30b98ec2_normal.jpeg', u'profile_sidebar_fill_color': u'DAECF4', u'is_translator': False, u'geo_enabled': False, u'profile_use_background_image': True, u'followers_count': 266, u'protected': False, u'id_str': u'14887950', u'default_profile_image': False, 'email': 'sethmurphy', u'listed_count': 11, 'username': 'sethmurphy', u'utc_offset': -18000, u'statuses_count': 1140, u'profile_background_color': u'C6E2EE', u'friends_count': 430, u'profile_link_color': u'1F98C7', u'profile_image_url': u'http://a0.twimg.com/profile_images/2793955592/297b32ce863d62ad496ccfab30b98ec2_normal.jpeg', u'notifications': False, u'verified': False, u'profile_background_image_url_https': u'https://si0.twimg.com/profile_background_images/292704491/background.jpg', u'profile_banner_url': u'https://pbs.twimg.com/profile_banners/14887950/1353702524', u'profile_background_image_url': u'http://a0.twimg.com/profile_background_images/292704491/background.jpg', u'name': u'Seth Murphy', u'lang': u'en', u'profile_background_tile': True, u'favourites_count': 160, 'screen_name': u'sethmurphy', u'url': u'http://t.co/RUmBvyXWo3', u'created_at': u'Sat May 24 03:41:46 +0000 2008', 'oauth_uid': '14887950', u'contributors_enabled': False, u'location': u'Brooklyn, New York', u'profile_sidebar_border_color': u'C6E2EE', 'oauth_token': '14887950-NPNjPIzoucv4aDdi4SQ6OfXU2jtKqdKit9Zr0Kn8k', u'default_profile': False, u'following': False, 'fullname': 'Seth Murphy'} 
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:set_table has q_short_name (12345)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042b6a90>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:User authenticated -> 
 {'username': u'sethmurphy', 'thumbnailLarge': u'http://a0.twimg.com/profile_images/2793955592/297b32ce863d62ad496ccfab30b98ec2_normal.jpeg', 'oauth_data': '{"username": "sethmurphy", "follow_request_sent": false, "thumbnailLarge": "http://a0.twimg.com/profile_images/2793955592/297b32ce863d62ad496ccfab30b98ec2_normal.jpeg", "oauth_token_secret": "f95Is9DYlOu3lu6UPOt8PHbfqzHh0qKuGz3Q1WwRk4", "contributors_enabled": false, "profile_use_background_image": true, "id": 14887950, "oauth_access_token": "14887950-NPNjPIzoucv4aDdi4SQ6OfXU2jtKqdKit9Zr0Kn8k", "user_id": "14887950", "entities": {"url": {"urls": [{"url": "http://t.co/RUmBvyXWo3", "indices": [0, 22], "expanded_url": "http://sethmurphy.com", "display_url": "sethmurphy.com"}]}, "description": {"urls": [{"url": "http://t.co/VQkFYniJ", "indices": [55, 75], "expanded_url": "http://meetup.com/BrooklynCoded", "display_url": "meetup.com/BrooklynCoded"}, {"url": "http://t.co/c05AvxiK", "indices": [126, 146], "expanded_url": "http://meetup.com/BrubeckNYC", "display_url": "meetup.com/BrubeckNYC"}]}}, "profile_image_url_https": "https://si0.twimg.com/profile_images/2793955592/297b32ce863d62ad496ccfab30b98ec2_normal.jpeg", "profile_sidebar_fill_color": "DAECF4", "profile_text_color": "663B12", "followers_count": 266, "profile_sidebar_border_color": "C6E2EE", "id_str": "14887950", "default_profile_image": false, "email": "sethmurphy", "listed_count": 11, "status": {"contributors": null, "truncated": false, "text": ".@Quirky does a major design relaunch on their site. Looks fresh. I like it! http://t.co/7WnBvQhiSH /cc @Salesbus", "in_reply_to_status_id": null, "id": 359648711749533696, "favorite_count": 1, "source": "web", "retweeted": false, "coordinates": null, "entities": {"symbols": [], "user_mentions": [{"indices": [1, 8], "screen_name": "Quirky", "id": 24206345, "name": "Quirky", "id_str": "24206345"}, {"indices": [104, 113], "screen_name": "Salesbus", "id": 701954414, "name": "Salesbus", "id_str": "701954414"}], "hashtags": [], "urls": [{"url": "http://t.co/7WnBvQhiSH", "indices": [77, 99], "expanded_url": "http://www.quirky.com/", "display_url": "quirky.com"}]}, "in_reply_to_screen_name": null, "id_str": "359648711749533696", "retweet_count": 1, "in_reply_to_user_id": null, "favorited": false, "geo": null, "in_reply_to_user_id_str": null, "possibly_sensitive": false, "lang": "en", "created_at": "Tue Jul 23 12:18:29 +0000 2013", "in_reply_to_status_id_str": null, "place": null}, "utc_offset": -18000, "statuses_count": 1140, "description": "Brooklyn Coder. #NYUSLP13 @HackerSchool alum. Organize http://t.co/VQkFYniJ where BK coders go to meet @brooklyncoded. Co-org http://t.co/c05AvxiK.", "friends_count": 430, "location": "Brooklyn, New York", "profile_link_color": "1F98C7", "profile_image_url": "http://a0.twimg.com/profile_images/2793955592/297b32ce863d62ad496ccfab30b98ec2_normal.jpeg", "notifications": false, "verified": false, "geo_enabled": false, "profile_background_color": "C6E2EE", "profile_banner_url": "https://pbs.twimg.com/profile_banners/14887950/1353702524", "profile_background_image_url": "http://a0.twimg.com/profile_background_images/292704491/background.jpg", "screen_name": "sethmurphy", "lang": "en", "following": false, "profile_background_tile": true, "favourites_count": 160, "name": "Seth Murphy", "url": "http://t.co/RUmBvyXWo3", "created_at": "Sat May 24 03:41:46 +0000 2008", "oauth_uid": "14887950", "profile_background_image_url_https": "https://si0.twimg.com/profile_background_images/292704491/background.jpg", "time_zone": "Quito", "protected": false, "oauth_token": "14887950-NPNjPIzoucv4aDdi4SQ6OfXU2jtKqdKit9Zr0Kn8k", "default_profile": false, "is_translator": false, "fullname": "Seth Murphy"}', 'oauth_session_id': u'QOO51f460f57c582', 'password': None, 'changeDate': datetime.datetime(2013, 7, 28, 22, 35, 0, 539931), 'oauth_uid': u'14887950', 'oauth_provider': u'tw', 'createDate': datetime.datetime(2013, 7, 28, 22, 35, 0, 539931), 'oauth_access_token': u'14887950-NPNjPIzoucv4aDdi4SQ6OfXU2jtKqdKit9Zr0Kn8k', 'email': u'sethmurphy'}
DEBUG:root:initial_request_args:{u'QOOTID': [u'QOOT51f460f57c593'], u'QOOID': [u'QOO51f460f57c582'], u'q_short_name': [u'12345']}
DEBUG:root:execute
DEBUG:root:execute args: [u'QOO51f460f57c582']
DEBUG:root:escape_sql sql: 
            UPDATE `user` SET `oauth_session_id`= null WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: [u'QOO51f460f57c582']
DEBUG:root:
            UPDATE `user` SET `oauth_session_id`= null WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:execute: 
            UPDATE `user` SET `oauth_session_id`= null WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:MySqlApiQueryset create_one
DEBUG:root:MySqlApiQueryset create_one sql: 
                INSERT INTO `user` 
                set id=%s,role=%s,email=%s,password=%s,oauth_provider=%s,oauth_uid=%s,username=%s,location=%s,changeDate=%s,createDate=%s,thumbnailSmall=%s,thumbnailLarge=%s,oauth_session_id=%s,oauth_access_token=%s,oauth_data=%s,admin_role_qoorates=%s 
                ON DUPLICATE KEY UPDATE
                role=%s,email=%s,password=%s,oauth_provider=%s,oauth_uid=%s,username=%s,location=%s,changeDate=%s,thumbnailSmall=%s,thumbnailLarge=%s,oauth_session_id=%s,oauth_access_token=%s,oauth_data=%s
                
DEBUG:root:execute
DEBUG:root:execute args: [None, None, u'sethmurphy', None, u'tw', u'14887950', u'sethmurphy', None, datetime.datetime(2013, 7, 28, 22, 35, 0, 539931), datetime.datetime(2013, 7, 28, 22, 35, 0, 539931), None, u'http://a0.twimg.com/profile_images/2793955592/297b32ce863d62ad496ccfab30b98ec2_normal.jpeg', u'QOO51f460f57c582', u'14887950-NPNjPIzoucv4aDdi4SQ6OfXU2jtKqdKit9Zr0Kn8k', '{"username": "sethmurphy", "follow_request_sent": false, "thumbnailLarge": "http://a0.twimg.com/profile_images/2793955592/297b32ce863d62ad496ccfab30b98ec2_normal.jpeg", "oauth_token_secret": "f95Is9DYlOu3lu6UPOt8PHbfqzHh0qKuGz3Q1WwRk4", "contributors_enabled": false, "profile_use_background_image": true, "id": 14887950, "oauth_access_token": "14887950-NPNjPIzoucv4aDdi4SQ6OfXU2jtKqdKit9Zr0Kn8k", "user_id": "14887950", "entities": {"url": {"urls": [{"url": "http://t.co/RUmBvyXWo3", "indices": [0, 22], "expanded_url": "http://sethmurphy.com", "display_url": "sethmurphy.com"}]}, "description": {"urls": [{"url": "http://t.co/VQkFYniJ", "indices": [55, 75], "expanded_url": "http://meetup.com/BrooklynCoded", "display_url": "meetup.com/BrooklynCoded"}, {"url": "http://t.co/c05AvxiK", "indices": [126, 146], "expanded_url": "http://meetup.com/BrubeckNYC", "display_url": "meetup.com/BrubeckNYC"}]}}, "profile_image_url_https": "https://si0.twimg.com/profile_images/2793955592/297b32ce863d62ad496ccfab30b98ec2_normal.jpeg", "profile_sidebar_fill_color": "DAECF4", "profile_text_color": "663B12", "followers_count": 266, "profile_sidebar_border_color": "C6E2EE", "id_str": "14887950", "default_profile_image": false, "email": "sethmurphy", "listed_count": 11, "status": {"contributors": null, "truncated": false, "text": ".@Quirky does a major design relaunch on their site. Looks fresh. I like it! http://t.co/7WnBvQhiSH /cc @Salesbus", "in_reply_to_status_id": null, "id": 359648711749533696, "favorite_count": 1, "source": "web", "retweeted": false, "coordinates": null, "entities": {"symbols": [], "user_mentions": [{"indices": [1, 8], "screen_name": "Quirky", "id": 24206345, "name": "Quirky", "id_str": "24206345"}, {"indices": [104, 113], "screen_name": "Salesbus", "id": 701954414, "name": "Salesbus", "id_str": "701954414"}], "hashtags": [], "urls": [{"url": "http://t.co/7WnBvQhiSH", "indices": [77, 99], "expanded_url": "http://www.quirky.com/", "display_url": "quirky.com"}]}, "in_reply_to_screen_name": null, "id_str": "359648711749533696", "retweet_count": 1, "in_reply_to_user_id": null, "favorited": false, "geo": null, "in_reply_to_user_id_str": null, "possibly_sensitive": false, "lang": "en", "created_at": "Tue Jul 23 12:18:29 +0000 2013", "in_reply_to_status_id_str": null, "place": null}, "utc_offset": -18000, "statuses_count": 1140, "description": "Brooklyn Coder. #NYUSLP13 @HackerSchool alum. Organize http://t.co/VQkFYniJ where BK coders go to meet @brooklyncoded. Co-org http://t.co/c05AvxiK.", "friends_count": 430, "location": "Brooklyn, New York", "profile_link_color": "1F98C7", "profile_image_url": "http://a0.twimg.com/profile_images/2793955592/297b32ce863d62ad496ccfab30b98ec2_normal.jpeg", "notifications": false, "verified": false, "geo_enabled": false, "profile_background_color": "C6E2EE", "profile_banner_url": "https://pbs.twimg.com/profile_banners/14887950/1353702524", "profile_background_image_url": "http://a0.twimg.com/profile_background_images/292704491/background.jpg", "screen_name": "sethmurphy", "lang": "en", "following": false, "profile_background_tile": true, "favourites_count": 160, "name": "Seth Murphy", "url": "http://t.co/RUmBvyXWo3", "created_at": "Sat May 24 03:41:46 +0000 2008", "oauth_uid": "14887950", "profile_background_image_url_https": "https://si0.twimg.com/profile_background_images/292704491/background.jpg", "time_zone": "Quito", "protected": false, "oauth_token": "14887950-NPNjPIzoucv4aDdi4SQ6OfXU2jtKqdKit9Zr0Kn8k", "default_profile": false, "is_translator": false, "fullname": "Seth Murphy"}', None, None, u'sethmurphy', None, u'tw', u'14887950', u'sethmurphy', None, datetime.datetime(2013, 7, 28, 22, 35, 0, 539931), None, u'http://a0.twimg.com/profile_images/2793955592/297b32ce863d62ad496ccfab30b98ec2_normal.jpeg', u'QOO51f460f57c582', u'14887950-NPNjPIzoucv4aDdi4SQ6OfXU2jtKqdKit9Zr0Kn8k', '{"username": "sethmurphy", "follow_request_sent": false, "thumbnailLarge": "http://a0.twimg.com/profile_images/2793955592/297b32ce863d62ad496ccfab30b98ec2_normal.jpeg", "oauth_token_secret": "f95Is9DYlOu3lu6UPOt8PHbfqzHh0qKuGz3Q1WwRk4", "contributors_enabled": false, "profile_use_background_image": true, "id": 14887950, "oauth_access_token": "14887950-NPNjPIzoucv4aDdi4SQ6OfXU2jtKqdKit9Zr0Kn8k", "user_id": "14887950", "entities": {"url": {"urls": [{"url": "http://t.co/RUmBvyXWo3", "indices": [0, 22], "expanded_url": "http://sethmurphy.com", "display_url": "sethmurphy.com"}]}, "description": {"urls": [{"url": "http://t.co/VQkFYniJ", "indices": [55, 75], "expanded_url": "http://meetup.com/BrooklynCoded", "display_url": "meetup.com/BrooklynCoded"}, {"url": "http://t.co/c05AvxiK", "indices": [126, 146], "expanded_url": "http://meetup.com/BrubeckNYC", "display_url": "meetup.com/BrubeckNYC"}]}}, "profile_image_url_https": "https://si0.twimg.com/profile_images/2793955592/297b32ce863d62ad496ccfab30b98ec2_normal.jpeg", "profile_sidebar_fill_color": "DAECF4", "profile_text_color": "663B12", "followers_count": 266, "profile_sidebar_border_color": "C6E2EE", "id_str": "14887950", "default_profile_image": false, "email": "sethmurphy", "listed_count": 11, "status": {"contributors": null, "truncated": false, "text": ".@Quirky does a major design relaunch on their site. Looks fresh. I like it! http://t.co/7WnBvQhiSH /cc @Salesbus", "in_reply_to_status_id": null, "id": 359648711749533696, "favorite_count": 1, "source": "web", "retweeted": false, "coordinates": null, "entities": {"symbols": [], "user_mentions": [{"indices": [1, 8], "screen_name": "Quirky", "id": 24206345, "name": "Quirky", "id_str": "24206345"}, {"indices": [104, 113], "screen_name": "Salesbus", "id": 701954414, "name": "Salesbus", "id_str": "701954414"}], "hashtags": [], "urls": [{"url": "http://t.co/7WnBvQhiSH", "indices": [77, 99], "expanded_url": "http://www.quirky.com/", "display_url": "quirky.com"}]}, "in_reply_to_screen_name": null, "id_str": "359648711749533696", "retweet_count": 1, "in_reply_to_user_id": null, "favorited": false, "geo": null, "in_reply_to_user_id_str": null, "possibly_sensitive": false, "lang": "en", "created_at": "Tue Jul 23 12:18:29 +0000 2013", "in_reply_to_status_id_str": null, "place": null}, "utc_offset": -18000, "statuses_count": 1140, "description": "Brooklyn Coder. #NYUSLP13 @HackerSchool alum. Organize http://t.co/VQkFYniJ where BK coders go to meet @brooklyncoded. Co-org http://t.co/c05AvxiK.", "friends_count": 430, "location": "Brooklyn, New York", "profile_link_color": "1F98C7", "profile_image_url": "http://a0.twimg.com/profile_images/2793955592/297b32ce863d62ad496ccfab30b98ec2_normal.jpeg", "notifications": false, "verified": false, "geo_enabled": false, "profile_background_color": "C6E2EE", "profile_banner_url": "https://pbs.twimg.com/profile_banners/14887950/1353702524", "profile_background_image_url": "http://a0.twimg.com/profile_background_images/292704491/background.jpg", "screen_name": "sethmurphy", "lang": "en", "following": false, "profile_background_tile": true, "favourites_count": 160, "name": "Seth Murphy", "url": "http://t.co/RUmBvyXWo3", "created_at": "Sat May 24 03:41:46 +0000 2008", "oauth_uid": "14887950", "profile_background_image_url_https": "https://si0.twimg.com/profile_background_images/292704491/background.jpg", "time_zone": "Quito", "protected": false, "oauth_token": "14887950-NPNjPIzoucv4aDdi4SQ6OfXU2jtKqdKit9Zr0Kn8k", "default_profile": false, "is_translator": false, "fullname": "Seth Murphy"}']
DEBUG:root:escape_sql sql: 
                INSERT INTO `user` 
                set id=%s,role=%s,email=%s,password=%s,oauth_provider=%s,oauth_uid=%s,username=%s,location=%s,changeDate=%s,createDate=%s,thumbnailSmall=%s,thumbnailLarge=%s,oauth_session_id=%s,oauth_access_token=%s,oauth_data=%s,admin_role_qoorates=%s 
                ON DUPLICATE KEY UPDATE
                role=%s,email=%s,password=%s,oauth_provider=%s,oauth_uid=%s,username=%s,location=%s,changeDate=%s,thumbnailSmall=%s,thumbnailLarge=%s,oauth_session_id=%s,oauth_access_token=%s,oauth_data=%s
                
DEBUG:root:escape_sql args: [None, None, u'sethmurphy', None, u'tw', u'14887950', u'sethmurphy', None, datetime.datetime(2013, 7, 28, 22, 35, 0, 539931), datetime.datetime(2013, 7, 28, 22, 35, 0, 539931), None, u'http://a0.twimg.com/profile_images/2793955592/297b32ce863d62ad496ccfab30b98ec2_normal.jpeg', u'QOO51f460f57c582', u'14887950-NPNjPIzoucv4aDdi4SQ6OfXU2jtKqdKit9Zr0Kn8k', '{"username": "sethmurphy", "follow_request_sent": false, "thumbnailLarge": "http://a0.twimg.com/profile_images/2793955592/297b32ce863d62ad496ccfab30b98ec2_normal.jpeg", "oauth_token_secret": "f95Is9DYlOu3lu6UPOt8PHbfqzHh0qKuGz3Q1WwRk4", "contributors_enabled": false, "profile_use_background_image": true, "id": 14887950, "oauth_access_token": "14887950-NPNjPIzoucv4aDdi4SQ6OfXU2jtKqdKit9Zr0Kn8k", "user_id": "14887950", "entities": {"url": {"urls": [{"url": "http://t.co/RUmBvyXWo3", "indices": [0, 22], "expanded_url": "http://sethmurphy.com", "display_url": "sethmurphy.com"}]}, "description": {"urls": [{"url": "http://t.co/VQkFYniJ", "indices": [55, 75], "expanded_url": "http://meetup.com/BrooklynCoded", "display_url": "meetup.com/BrooklynCoded"}, {"url": "http://t.co/c05AvxiK", "indices": [126, 146], "expanded_url": "http://meetup.com/BrubeckNYC", "display_url": "meetup.com/BrubeckNYC"}]}}, "profile_image_url_https": "https://si0.twimg.com/profile_images/2793955592/297b32ce863d62ad496ccfab30b98ec2_normal.jpeg", "profile_sidebar_fill_color": "DAECF4", "profile_text_color": "663B12", "followers_count": 266, "profile_sidebar_border_color": "C6E2EE", "id_str": "14887950", "default_profile_image": false, "email": "sethmurphy", "listed_count": 11, "status": {"contributors": null, "truncated": false, "text": ".@Quirky does a major design relaunch on their site. Looks fresh. I like it! http://t.co/7WnBvQhiSH /cc @Salesbus", "in_reply_to_status_id": null, "id": 359648711749533696, "favorite_count": 1, "source": "web", "retweeted": false, "coordinates": null, "entities": {"symbols": [], "user_mentions": [{"indices": [1, 8], "screen_name": "Quirky", "id": 24206345, "name": "Quirky", "id_str": "24206345"}, {"indices": [104, 113], "screen_name": "Salesbus", "id": 701954414, "name": "Salesbus", "id_str": "701954414"}], "hashtags": [], "urls": [{"url": "http://t.co/7WnBvQhiSH", "indices": [77, 99], "expanded_url": "http://www.quirky.com/", "display_url": "quirky.com"}]}, "in_reply_to_screen_name": null, "id_str": "359648711749533696", "retweet_count": 1, "in_reply_to_user_id": null, "favorited": false, "geo": null, "in_reply_to_user_id_str": null, "possibly_sensitive": false, "lang": "en", "created_at": "Tue Jul 23 12:18:29 +0000 2013", "in_reply_to_status_id_str": null, "place": null}, "utc_offset": -18000, "statuses_count": 1140, "description": "Brooklyn Coder. #NYUSLP13 @HackerSchool alum. Organize http://t.co/VQkFYniJ where BK coders go to meet @brooklyncoded. Co-org http://t.co/c05AvxiK.", "friends_count": 430, "location": "Brooklyn, New York", "profile_link_color": "1F98C7", "profile_image_url": "http://a0.twimg.com/profile_images/2793955592/297b32ce863d62ad496ccfab30b98ec2_normal.jpeg", "notifications": false, "verified": false, "geo_enabled": false, "profile_background_color": "C6E2EE", "profile_banner_url": "https://pbs.twimg.com/profile_banners/14887950/1353702524", "profile_background_image_url": "http://a0.twimg.com/profile_background_images/292704491/background.jpg", "screen_name": "sethmurphy", "lang": "en", "following": false, "profile_background_tile": true, "favourites_count": 160, "name": "Seth Murphy", "url": "http://t.co/RUmBvyXWo3", "created_at": "Sat May 24 03:41:46 +0000 2008", "oauth_uid": "14887950", "profile_background_image_url_https": "https://si0.twimg.com/profile_background_images/292704491/background.jpg", "time_zone": "Quito", "protected": false, "oauth_token": "14887950-NPNjPIzoucv4aDdi4SQ6OfXU2jtKqdKit9Zr0Kn8k", "default_profile": false, "is_translator": false, "fullname": "Seth Murphy"}', None, None, u'sethmurphy', None, u'tw', u'14887950', u'sethmurphy', None, datetime.datetime(2013, 7, 28, 22, 35, 0, 539931), None, u'http://a0.twimg.com/profile_images/2793955592/297b32ce863d62ad496ccfab30b98ec2_normal.jpeg', u'QOO51f460f57c582', u'14887950-NPNjPIzoucv4aDdi4SQ6OfXU2jtKqdKit9Zr0Kn8k', '{"username": "sethmurphy", "follow_request_sent": false, "thumbnailLarge": "http://a0.twimg.com/profile_images/2793955592/297b32ce863d62ad496ccfab30b98ec2_normal.jpeg", "oauth_token_secret": "f95Is9DYlOu3lu6UPOt8PHbfqzHh0qKuGz3Q1WwRk4", "contributors_enabled": false, "profile_use_background_image": true, "id": 14887950, "oauth_access_token": "14887950-NPNjPIzoucv4aDdi4SQ6OfXU2jtKqdKit9Zr0Kn8k", "user_id": "14887950", "entities": {"url": {"urls": [{"url": "http://t.co/RUmBvyXWo3", "indices": [0, 22], "expanded_url": "http://sethmurphy.com", "display_url": "sethmurphy.com"}]}, "description": {"urls": [{"url": "http://t.co/VQkFYniJ", "indices": [55, 75], "expanded_url": "http://meetup.com/BrooklynCoded", "display_url": "meetup.com/BrooklynCoded"}, {"url": "http://t.co/c05AvxiK", "indices": [126, 146], "expanded_url": "http://meetup.com/BrubeckNYC", "display_url": "meetup.com/BrubeckNYC"}]}}, "profile_image_url_https": "https://si0.twimg.com/profile_images/2793955592/297b32ce863d62ad496ccfab30b98ec2_normal.jpeg", "profile_sidebar_fill_color": "DAECF4", "profile_text_color": "663B12", "followers_count": 266, "profile_sidebar_border_color": "C6E2EE", "id_str": "14887950", "default_profile_image": false, "email": "sethmurphy", "listed_count": 11, "status": {"contributors": null, "truncated": false, "text": ".@Quirky does a major design relaunch on their site. Looks fresh. I like it! http://t.co/7WnBvQhiSH /cc @Salesbus", "in_reply_to_status_id": null, "id": 359648711749533696, "favorite_count": 1, "source": "web", "retweeted": false, "coordinates": null, "entities": {"symbols": [], "user_mentions": [{"indices": [1, 8], "screen_name": "Quirky", "id": 24206345, "name": "Quirky", "id_str": "24206345"}, {"indices": [104, 113], "screen_name": "Salesbus", "id": 701954414, "name": "Salesbus", "id_str": "701954414"}], "hashtags": [], "urls": [{"url": "http://t.co/7WnBvQhiSH", "indices": [77, 99], "expanded_url": "http://www.quirky.com/", "display_url": "quirky.com"}]}, "in_reply_to_screen_name": null, "id_str": "359648711749533696", "retweet_count": 1, "in_reply_to_user_id": null, "favorited": false, "geo": null, "in_reply_to_user_id_str": null, "possibly_sensitive": false, "lang": "en", "created_at": "Tue Jul 23 12:18:29 +0000 2013", "in_reply_to_status_id_str": null, "place": null}, "utc_offset": -18000, "statuses_count": 1140, "description": "Brooklyn Coder. #NYUSLP13 @HackerSchool alum. Organize http://t.co/VQkFYniJ where BK coders go to meet @brooklyncoded. Co-org http://t.co/c05AvxiK.", "friends_count": 430, "location": "Brooklyn, New York", "profile_link_color": "1F98C7", "profile_image_url": "http://a0.twimg.com/profile_images/2793955592/297b32ce863d62ad496ccfab30b98ec2_normal.jpeg", "notifications": false, "verified": false, "geo_enabled": false, "profile_background_color": "C6E2EE", "profile_banner_url": "https://pbs.twimg.com/profile_banners/14887950/1353702524", "profile_background_image_url": "http://a0.twimg.com/profile_background_images/292704491/background.jpg", "screen_name": "sethmurphy", "lang": "en", "following": false, "profile_background_tile": true, "favourites_count": 160, "name": "Seth Murphy", "url": "http://t.co/RUmBvyXWo3", "created_at": "Sat May 24 03:41:46 +0000 2008", "oauth_uid": "14887950", "profile_background_image_url_https": "https://si0.twimg.com/profile_background_images/292704491/background.jpg", "time_zone": "Quito", "protected": false, "oauth_token": "14887950-NPNjPIzoucv4aDdi4SQ6OfXU2jtKqdKit9Zr0Kn8k", "default_profile": false, "is_translator": false, "fullname": "Seth Murphy"}']
DEBUG:root:
                INSERT INTO `user` 
                set id=NULL,role=NULL,email='sethmurphy',password=NULL,oauth_provider='tw',oauth_uid='14887950',username='sethmurphy',location=NULL,changeDate='2013-07-28 22:35:00',createDate='2013-07-28 22:35:00',thumbnailSmall=NULL,thumbnailLarge='http://a0.twimg.com/profile_images/2793955592/297b32ce863d62ad496ccfab30b98ec2_normal.jpeg',oauth_session_id='QOO51f460f57c582',oauth_access_token='14887950-NPNjPIzoucv4aDdi4SQ6OfXU2jtKqdKit9Zr0Kn8k',oauth_data='{\"username\": \"sethmurphy\", \"follow_request_sent\": false, \"thumbnailLarge\": \"http://a0.twimg.com/profile_images/2793955592/297b32ce863d62ad496ccfab30b98ec2_normal.jpeg\", \"oauth_token_secret\": \"f95Is9DYlOu3lu6UPOt8PHbfqzHh0qKuGz3Q1WwRk4\", \"contributors_enabled\": false, \"profile_use_background_image\": true, \"id\": 14887950, \"oauth_access_token\": \"14887950-NPNjPIzoucv4aDdi4SQ6OfXU2jtKqdKit9Zr0Kn8k\", \"user_id\": \"14887950\", \"entities\": {\"url\": {\"urls\": [{\"url\": \"http://t.co/RUmBvyXWo3\", \"indices\": [0, 22], \"expanded_url\": \"http://sethmurphy.com\", \"display_url\": \"sethmurphy.com\"}]}, \"description\": {\"urls\": [{\"url\": \"http://t.co/VQkFYniJ\", \"indices\": [55, 75], \"expanded_url\": \"http://meetup.com/BrooklynCoded\", \"display_url\": \"meetup.com/BrooklynCoded\"}, {\"url\": \"http://t.co/c05AvxiK\", \"indices\": [126, 146], \"expanded_url\": \"http://meetup.com/BrubeckNYC\", \"display_url\": \"meetup.com/BrubeckNYC\"}]}}, \"profile_image_url_https\": \"https://si0.twimg.com/profile_images/2793955592/297b32ce863d62ad496ccfab30b98ec2_normal.jpeg\", \"profile_sidebar_fill_color\": \"DAECF4\", \"profile_text_color\": \"663B12\", \"followers_count\": 266, \"profile_sidebar_border_color\": \"C6E2EE\", \"id_str\": \"14887950\", \"default_profile_image\": false, \"email\": \"sethmurphy\", \"listed_count\": 11, \"status\": {\"contributors\": null, \"truncated\": false, \"text\": \".@Quirky does a major design relaunch on their site. Looks fresh. I like it! http://t.co/7WnBvQhiSH /cc @Salesbus\", \"in_reply_to_status_id\": null, \"id\": 359648711749533696, \"favorite_count\": 1, \"source\": \"web\", \"retweeted\": false, \"coordinates\": null, \"entities\": {\"symbols\": [], \"user_mentions\": [{\"indices\": [1, 8], \"screen_name\": \"Quirky\", \"id\": 24206345, \"name\": \"Quirky\", \"id_str\": \"24206345\"}, {\"indices\": [104, 113], \"screen_name\": \"Salesbus\", \"id\": 701954414, \"name\": \"Salesbus\", \"id_str\": \"701954414\"}], \"hashtags\": [], \"urls\": [{\"url\": \"http://t.co/7WnBvQhiSH\", \"indices\": [77, 99], \"expanded_url\": \"http://www.quirky.com/\", \"display_url\": \"quirky.com\"}]}, \"in_reply_to_screen_name\": null, \"id_str\": \"359648711749533696\", \"retweet_count\": 1, \"in_reply_to_user_id\": null, \"favorited\": false, \"geo\": null, \"in_reply_to_user_id_str\": null, \"possibly_sensitive\": false, \"lang\": \"en\", \"created_at\": \"Tue Jul 23 12:18:29 +0000 2013\", \"in_reply_to_status_id_str\": null, \"place\": null}, \"utc_offset\": -18000, \"statuses_count\": 1140, \"description\": \"Brooklyn Coder. #NYUSLP13 @HackerSchool alum. Organize http://t.co/VQkFYniJ where BK coders go to meet @brooklyncoded. Co-org http://t.co/c05AvxiK.\", \"friends_count\": 430, \"location\": \"Brooklyn, New York\", \"profile_link_color\": \"1F98C7\", \"profile_image_url\": \"http://a0.twimg.com/profile_images/2793955592/297b32ce863d62ad496ccfab30b98ec2_normal.jpeg\", \"notifications\": false, \"verified\": false, \"geo_enabled\": false, \"profile_background_color\": \"C6E2EE\", \"profile_banner_url\": \"https://pbs.twimg.com/profile_banners/14887950/1353702524\", \"profile_background_image_url\": \"http://a0.twimg.com/profile_background_images/292704491/background.jpg\", \"screen_name\": \"sethmurphy\", \"lang\": \"en\", \"following\": false, \"profile_background_tile\": true, \"favourites_count\": 160, \"name\": \"Seth Murphy\", \"url\": \"http://t.co/RUmBvyXWo3\", \"created_at\": \"Sat May 24 03:41:46 +0000 2008\", \"oauth_uid\": \"14887950\", \"profile_background_image_url_https\": \"https://si0.twimg.com/profile_background_images/292704491/background.jpg\", \"time_zone\": \"Quito\", \"protected\": false, \"oauth_token\": \"14887950-NPNjPIzoucv4aDdi4SQ6OfXU2jtKqdKit9Zr0Kn8k\", \"default_profile\": false, \"is_translator\": false, \"fullname\": \"Seth Murphy\"}',admin_role_qoorates=NULL 
                ON DUPLICATE KEY UPDATE
                role=NULL,email='sethmurphy',password=NULL,oauth_provider='tw',oauth_uid='14887950',username='sethmurphy',location=NULL,changeDate='2013-07-28 22:35:00',thumbnailSmall=NULL,thumbnailLarge='http://a0.twimg.com/profile_images/2793955592/297b32ce863d62ad496ccfab30b98ec2_normal.jpeg',oauth_session_id='QOO51f460f57c582',oauth_access_token='14887950-NPNjPIzoucv4aDdi4SQ6OfXU2jtKqdKit9Zr0Kn8k',oauth_data='{\"username\": \"sethmurphy\", \"follow_request_sent\": false, \"thumbnailLarge\": \"http://a0.twimg.com/profile_images/2793955592/297b32ce863d62ad496ccfab30b98ec2_normal.jpeg\", \"oauth_token_secret\": \"f95Is9DYlOu3lu6UPOt8PHbfqzHh0qKuGz3Q1WwRk4\", \"contributors_enabled\": false, \"profile_use_background_image\": true, \"id\": 14887950, \"oauth_access_token\": \"14887950-NPNjPIzoucv4aDdi4SQ6OfXU2jtKqdKit9Zr0Kn8k\", \"user_id\": \"14887950\", \"entities\": {\"url\": {\"urls\": [{\"url\": \"http://t.co/RUmBvyXWo3\", \"indices\": [0, 22], \"expanded_url\": \"http://sethmurphy.com\", \"display_url\": \"sethmurphy.com\"}]}, \"description\": {\"urls\": [{\"url\": \"http://t.co/VQkFYniJ\", \"indices\": [55, 75], \"expanded_url\": \"http://meetup.com/BrooklynCoded\", \"display_url\": \"meetup.com/BrooklynCoded\"}, {\"url\": \"http://t.co/c05AvxiK\", \"indices\": [126, 146], \"expanded_url\": \"http://meetup.com/BrubeckNYC\", \"display_url\": \"meetup.com/BrubeckNYC\"}]}}, \"profile_image_url_https\": \"https://si0.twimg.com/profile_images/2793955592/297b32ce863d62ad496ccfab30b98ec2_normal.jpeg\", \"profile_sidebar_fill_color\": \"DAECF4\", \"profile_text_color\": \"663B12\", \"followers_count\": 266, \"profile_sidebar_border_color\": \"C6E2EE\", \"id_str\": \"14887950\", \"default_profile_image\": false, \"email\": \"sethmurphy\", \"listed_count\": 11, \"status\": {\"contributors\": null, \"truncated\": false, \"text\": \".@Quirky does a major design relaunch on their site. Looks fresh. I like it! http://t.co/7WnBvQhiSH /cc @Salesbus\", \"in_reply_to_status_id\": null, \"id\": 359648711749533696, \"favorite_count\": 1, \"source\": \"web\", \"retweeted\": false, \"coordinates\": null, \"entities\": {\"symbols\": [], \"user_mentions\": [{\"indices\": [1, 8], \"screen_name\": \"Quirky\", \"id\": 24206345, \"name\": \"Quirky\", \"id_str\": \"24206345\"}, {\"indices\": [104, 113], \"screen_name\": \"Salesbus\", \"id\": 701954414, \"name\": \"Salesbus\", \"id_str\": \"701954414\"}], \"hashtags\": [], \"urls\": [{\"url\": \"http://t.co/7WnBvQhiSH\", \"indices\": [77, 99], \"expanded_url\": \"http://www.quirky.com/\", \"display_url\": \"quirky.com\"}]}, \"in_reply_to_screen_name\": null, \"id_str\": \"359648711749533696\", \"retweet_count\": 1, \"in_reply_to_user_id\": null, \"favorited\": false, \"geo\": null, \"in_reply_to_user_id_str\": null, \"possibly_sensitive\": false, \"lang\": \"en\", \"created_at\": \"Tue Jul 23 12:18:29 +0000 2013\", \"in_reply_to_status_id_str\": null, \"place\": null}, \"utc_offset\": -18000, \"statuses_count\": 1140, \"description\": \"Brooklyn Coder. #NYUSLP13 @HackerSchool alum. Organize http://t.co/VQkFYniJ where BK coders go to meet @brooklyncoded. Co-org http://t.co/c05AvxiK.\", \"friends_count\": 430, \"location\": \"Brooklyn, New York\", \"profile_link_color\": \"1F98C7\", \"profile_image_url\": \"http://a0.twimg.com/profile_images/2793955592/297b32ce863d62ad496ccfab30b98ec2_normal.jpeg\", \"notifications\": false, \"verified\": false, \"geo_enabled\": false, \"profile_background_color\": \"C6E2EE\", \"profile_banner_url\": \"https://pbs.twimg.com/profile_banners/14887950/1353702524\", \"profile_background_image_url\": \"http://a0.twimg.com/profile_background_images/292704491/background.jpg\", \"screen_name\": \"sethmurphy\", \"lang\": \"en\", \"following\": false, \"profile_background_tile\": true, \"favourites_count\": 160, \"name\": \"Seth Murphy\", \"url\": \"http://t.co/RUmBvyXWo3\", \"created_at\": \"Sat May 24 03:41:46 +0000 2008\", \"oauth_uid\": \"14887950\", \"profile_background_image_url_https\": \"https://si0.twimg.com/profile_background_images/292704491/background.jpg\", \"time_zone\": \"Quito\", \"protected\": false, \"oauth_token\": \"14887950-NPNjPIzoucv4aDdi4SQ6OfXU2jtKqdKit9Zr0Kn8k\", \"default_profile\": false, \"is_translator\": false, \"fullname\": \"Seth Murphy\"}'
                
DEBUG:root:execute: 
                INSERT INTO `user` 
                set id=NULL,role=NULL,email='sethmurphy',password=NULL,oauth_provider='tw',oauth_uid='14887950',username='sethmurphy',location=NULL,changeDate='2013-07-28 22:35:00',createDate='2013-07-28 22:35:00',thumbnailSmall=NULL,thumbnailLarge='http://a0.twimg.com/profile_images/2793955592/297b32ce863d62ad496ccfab30b98ec2_normal.jpeg',oauth_session_id='QOO51f460f57c582',oauth_access_token='14887950-NPNjPIzoucv4aDdi4SQ6OfXU2jtKqdKit9Zr0Kn8k',oauth_data='{\"username\": \"sethmurphy\", \"follow_request_sent\": false, \"thumbnailLarge\": \"http://a0.twimg.com/profile_images/2793955592/297b32ce863d62ad496ccfab30b98ec2_normal.jpeg\", \"oauth_token_secret\": \"f95Is9DYlOu3lu6UPOt8PHbfqzHh0qKuGz3Q1WwRk4\", \"contributors_enabled\": false, \"profile_use_background_image\": true, \"id\": 14887950, \"oauth_access_token\": \"14887950-NPNjPIzoucv4aDdi4SQ6OfXU2jtKqdKit9Zr0Kn8k\", \"user_id\": \"14887950\", \"entities\": {\"url\": {\"urls\": [{\"url\": \"http://t.co/RUmBvyXWo3\", \"indices\": [0, 22], \"expanded_url\": \"http://sethmurphy.com\", \"display_url\": \"sethmurphy.com\"}]}, \"description\": {\"urls\": [{\"url\": \"http://t.co/VQkFYniJ\", \"indices\": [55, 75], \"expanded_url\": \"http://meetup.com/BrooklynCoded\", \"display_url\": \"meetup.com/BrooklynCoded\"}, {\"url\": \"http://t.co/c05AvxiK\", \"indices\": [126, 146], \"expanded_url\": \"http://meetup.com/BrubeckNYC\", \"display_url\": \"meetup.com/BrubeckNYC\"}]}}, \"profile_image_url_https\": \"https://si0.twimg.com/profile_images/2793955592/297b32ce863d62ad496ccfab30b98ec2_normal.jpeg\", \"profile_sidebar_fill_color\": \"DAECF4\", \"profile_text_color\": \"663B12\", \"followers_count\": 266, \"profile_sidebar_border_color\": \"C6E2EE\", \"id_str\": \"14887950\", \"default_profile_image\": false, \"email\": \"sethmurphy\", \"listed_count\": 11, \"status\": {\"contributors\": null, \"truncated\": false, \"text\": \".@Quirky does a major design relaunch on their site. Looks fresh. I like it! http://t.co/7WnBvQhiSH /cc @Salesbus\", \"in_reply_to_status_id\": null, \"id\": 359648711749533696, \"favorite_count\": 1, \"source\": \"web\", \"retweeted\": false, \"coordinates\": null, \"entities\": {\"symbols\": [], \"user_mentions\": [{\"indices\": [1, 8], \"screen_name\": \"Quirky\", \"id\": 24206345, \"name\": \"Quirky\", \"id_str\": \"24206345\"}, {\"indices\": [104, 113], \"screen_name\": \"Salesbus\", \"id\": 701954414, \"name\": \"Salesbus\", \"id_str\": \"701954414\"}], \"hashtags\": [], \"urls\": [{\"url\": \"http://t.co/7WnBvQhiSH\", \"indices\": [77, 99], \"expanded_url\": \"http://www.quirky.com/\", \"display_url\": \"quirky.com\"}]}, \"in_reply_to_screen_name\": null, \"id_str\": \"359648711749533696\", \"retweet_count\": 1, \"in_reply_to_user_id\": null, \"favorited\": false, \"geo\": null, \"in_reply_to_user_id_str\": null, \"possibly_sensitive\": false, \"lang\": \"en\", \"created_at\": \"Tue Jul 23 12:18:29 +0000 2013\", \"in_reply_to_status_id_str\": null, \"place\": null}, \"utc_offset\": -18000, \"statuses_count\": 1140, \"description\": \"Brooklyn Coder. #NYUSLP13 @HackerSchool alum. Organize http://t.co/VQkFYniJ where BK coders go to meet @brooklyncoded. Co-org http://t.co/c05AvxiK.\", \"friends_count\": 430, \"location\": \"Brooklyn, New York\", \"profile_link_color\": \"1F98C7\", \"profile_image_url\": \"http://a0.twimg.com/profile_images/2793955592/297b32ce863d62ad496ccfab30b98ec2_normal.jpeg\", \"notifications\": false, \"verified\": false, \"geo_enabled\": false, \"profile_background_color\": \"C6E2EE\", \"profile_banner_url\": \"https://pbs.twimg.com/profile_banners/14887950/1353702524\", \"profile_background_image_url\": \"http://a0.twimg.com/profile_background_images/292704491/background.jpg\", \"screen_name\": \"sethmurphy\", \"lang\": \"en\", \"following\": false, \"profile_background_tile\": true, \"favourites_count\": 160, \"name\": \"Seth Murphy\", \"url\": \"http://t.co/RUmBvyXWo3\", \"created_at\": \"Sat May 24 03:41:46 +0000 2008\", \"oauth_uid\": \"14887950\", \"profile_background_image_url_https\": \"https://si0.twimg.com/profile_background_images/292704491/background.jpg\", \"time_zone\": \"Quito\", \"protected\": false, \"oauth_token\": \"14887950-NPNjPIzoucv4aDdi4SQ6OfXU2jtKqdKit9Zr0Kn8k\", \"default_profile\": false, \"is_translator\": false, \"fullname\": \"Seth Murphy\"}',admin_role_qoorates=NULL 
                ON DUPLICATE KEY UPDATE
                role=NULL,email='sethmurphy',password=NULL,oauth_provider='tw',oauth_uid='14887950',username='sethmurphy',location=NULL,changeDate='2013-07-28 22:35:00',thumbnailSmall=NULL,thumbnailLarge='http://a0.twimg.com/profile_images/2793955592/297b32ce863d62ad496ccfab30b98ec2_normal.jpeg',oauth_session_id='QOO51f460f57c582',oauth_access_token='14887950-NPNjPIzoucv4aDdi4SQ6OfXU2jtKqdKit9Zr0Kn8k',oauth_data='{\"username\": \"sethmurphy\", \"follow_request_sent\": false, \"thumbnailLarge\": \"http://a0.twimg.com/profile_images/2793955592/297b32ce863d62ad496ccfab30b98ec2_normal.jpeg\", \"oauth_token_secret\": \"f95Is9DYlOu3lu6UPOt8PHbfqzHh0qKuGz3Q1WwRk4\", \"contributors_enabled\": false, \"profile_use_background_image\": true, \"id\": 14887950, \"oauth_access_token\": \"14887950-NPNjPIzoucv4aDdi4SQ6OfXU2jtKqdKit9Zr0Kn8k\", \"user_id\": \"14887950\", \"entities\": {\"url\": {\"urls\": [{\"url\": \"http://t.co/RUmBvyXWo3\", \"indices\": [0, 22], \"expanded_url\": \"http://sethmurphy.com\", \"display_url\": \"sethmurphy.com\"}]}, \"description\": {\"urls\": [{\"url\": \"http://t.co/VQkFYniJ\", \"indices\": [55, 75], \"expanded_url\": \"http://meetup.com/BrooklynCoded\", \"display_url\": \"meetup.com/BrooklynCoded\"}, {\"url\": \"http://t.co/c05AvxiK\", \"indices\": [126, 146], \"expanded_url\": \"http://meetup.com/BrubeckNYC\", \"display_url\": \"meetup.com/BrubeckNYC\"}]}}, \"profile_image_url_https\": \"https://si0.twimg.com/profile_images/2793955592/297b32ce863d62ad496ccfab30b98ec2_normal.jpeg\", \"profile_sidebar_fill_color\": \"DAECF4\", \"profile_text_color\": \"663B12\", \"followers_count\": 266, \"profile_sidebar_border_color\": \"C6E2EE\", \"id_str\": \"14887950\", \"default_profile_image\": false, \"email\": \"sethmurphy\", \"listed_count\": 11, \"status\": {\"contributors\": null, \"truncated\": false, \"text\": \".@Quirky does a major design relaunch on their site. Looks fresh. I like it! http://t.co/7WnBvQhiSH /cc @Salesbus\", \"in_reply_to_status_id\": null, \"id\": 359648711749533696, \"favorite_count\": 1, \"source\": \"web\", \"retweeted\": false, \"coordinates\": null, \"entities\": {\"symbols\": [], \"user_mentions\": [{\"indices\": [1, 8], \"screen_name\": \"Quirky\", \"id\": 24206345, \"name\": \"Quirky\", \"id_str\": \"24206345\"}, {\"indices\": [104, 113], \"screen_name\": \"Salesbus\", \"id\": 701954414, \"name\": \"Salesbus\", \"id_str\": \"701954414\"}], \"hashtags\": [], \"urls\": [{\"url\": \"http://t.co/7WnBvQhiSH\", \"indices\": [77, 99], \"expanded_url\": \"http://www.quirky.com/\", \"display_url\": \"quirky.com\"}]}, \"in_reply_to_screen_name\": null, \"id_str\": \"359648711749533696\", \"retweet_count\": 1, \"in_reply_to_user_id\": null, \"favorited\": false, \"geo\": null, \"in_reply_to_user_id_str\": null, \"possibly_sensitive\": false, \"lang\": \"en\", \"created_at\": \"Tue Jul 23 12:18:29 +0000 2013\", \"in_reply_to_status_id_str\": null, \"place\": null}, \"utc_offset\": -18000, \"statuses_count\": 1140, \"description\": \"Brooklyn Coder. #NYUSLP13 @HackerSchool alum. Organize http://t.co/VQkFYniJ where BK coders go to meet @brooklyncoded. Co-org http://t.co/c05AvxiK.\", \"friends_count\": 430, \"location\": \"Brooklyn, New York\", \"profile_link_color\": \"1F98C7\", \"profile_image_url\": \"http://a0.twimg.com/profile_images/2793955592/297b32ce863d62ad496ccfab30b98ec2_normal.jpeg\", \"notifications\": false, \"verified\": false, \"geo_enabled\": false, \"profile_background_color\": \"C6E2EE\", \"profile_banner_url\": \"https://pbs.twimg.com/profile_banners/14887950/1353702524\", \"profile_background_image_url\": \"http://a0.twimg.com/profile_background_images/292704491/background.jpg\", \"screen_name\": \"sethmurphy\", \"lang\": \"en\", \"following\": false, \"profile_background_tile\": true, \"favourites_count\": 160, \"name\": \"Seth Murphy\", \"url\": \"http://t.co/RUmBvyXWo3\", \"created_at\": \"Sat May 24 03:41:46 +0000 2008\", \"oauth_uid\": \"14887950\", \"profile_background_image_url_https\": \"https://si0.twimg.com/profile_background_images/292704491/background.jpg\", \"time_zone\": \"Quito\", \"protected\": false, \"oauth_token\": \"14887950-NPNjPIzoucv4aDdi4SQ6OfXU2jtKqdKit9Zr0Kn8k\", \"default_profile\": false, \"is_translator\": false, \"fullname\": \"Seth Murphy\"}'
                
DEBUG:root:MySqlApiQueryset create_one (status, affected_rows): (Updated, 2)
DEBUG:root:User persisted Updated -> User object
INFO:root:200 GET /q/oauth/twitter/callback (127.0.0.1)
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:set_table has q_short_name (12345)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042b6e90>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has q_short_name (12345)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042c00d0>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:feed.prepare, table: q_brooklyncode
DEBUG:root:FeedHandler post
DEBUG:root:Body -> 
 action=validateLogin&QOOID=QOO51f460f57c582&QOOTID=QOOT51f460f57c593&q_short_name=12345
DEBUG:root:Arguments -> 
 {"action": ["validateLogin"], "QOOID": ["QOO51f460f57c582"], "q_short_name": ["12345"], "QOOTID": ["QOOT51f460f57c593"]}
DEBUG:root:to_unicode
DEBUG:root:validateLogin
DEBUG:root:validateLogin
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:validateLogin
DEBUG:root:validateLogin
DEBUG:root:to_unicode
DEBUG:root:action: validateLogin
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042c02d0>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042c04d0>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042c06d0>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042c08d0>
INFO:root:200 POST /q/feed (127.0.0.1)
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:set_table has q_short_name (12345)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042c0ad0>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has q_short_name (12345)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042b6a90>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:feed.prepare, table: q_brooklyncode
DEBUG:root:FeedHandler post
DEBUG:root:Body -> 
 replyTopic=Do+you%3F&action=addItem&location=5e13bbb73127b9fc424e3728c6500f28&referer=http%3A%2F%2Flocalhost%3A8081%2F%3Fp%3D1&q_short_name=12345&QOOID=QOO51f460f57c582&QOOTID=QOOT51f460f57c593
DEBUG:root:Arguments -> 
 {"QOOID": ["QOO51f460f57c582"], "QOOTID": ["QOOT51f460f57c593"], "replyTopic": ["Do you?"], "q_short_name": ["12345"], "location": ["5e13bbb73127b9fc424e3728c6500f28"], "action": ["addItem"], "referer": ["http://localhost:8081/?p=1"]}
DEBUG:root:to_unicode
DEBUG:root:addItem
DEBUG:root:addItem
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:addItem
DEBUG:root:addItem
DEBUG:root:to_unicode
DEBUG:root:action: addItem
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042b6b10>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042b6d10>
DEBUG:root:to_unicode
DEBUG:root:Do you?
DEBUG:root:Do you?
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:Do you?
DEBUG:root:Do you?
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:http://localhost:8081/?p=1
DEBUG:root:http://localhost:8081/?p=1
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:http://localhost:8081/?p=1
DEBUG:root:http://localhost:8081/?p=1
DEBUG:root:to_unicode
DEBUG:root:MySqlApiQueryset create_one
DEBUG:root:MySqlApiQueryset create_one sql: 
                INSERT INTO `q_brooklyncode` 
                set id=%s,locationId=%s,relatedId=%s,parentId=%s,userId=%s,type=%s,name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s,createDate=%s 
                ON DUPLICATE KEY UPDATE
                name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s
                
DEBUG:root:execute
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:execute args: [None, 0L, 0L, 0L, 1L, 10L, u'Do you?', u'5e13bbb73127b9fc424e3728c6500f28', None, 0L, 0L, 0L, 0L, 0L, 0L, 0L, '', None, None, u'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 22, 35, 14, 501688), datetime.datetime(2013, 7, 28, 22, 35, 14, 501688), u'Do you?', u'5e13bbb73127b9fc424e3728c6500f28', None, 0L, 0L, 0L, 0L, 0L, 0L, 0L, '', None, None, u'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 22, 35, 14, 501688)]
DEBUG:root:escape_sql sql: 
                INSERT INTO `q_brooklyncode` 
                set id=%s,locationId=%s,relatedId=%s,parentId=%s,userId=%s,type=%s,name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s,createDate=%s 
                ON DUPLICATE KEY UPDATE
                name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s
                
DEBUG:root:escape_sql args: [None, 0L, 0L, 0L, 1L, 10L, u'Do you?', u'5e13bbb73127b9fc424e3728c6500f28', None, 0L, 0L, 0L, 0L, 0L, 0L, 0L, '', None, None, u'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 22, 35, 14, 501688), datetime.datetime(2013, 7, 28, 22, 35, 14, 501688), u'Do you?', u'5e13bbb73127b9fc424e3728c6500f28', None, 0L, 0L, 0L, 0L, 0L, 0L, 0L, '', None, None, u'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 22, 35, 14, 501688)]
DEBUG:root:
                INSERT INTO `q_brooklyncode` 
                set id=NULL,locationId=0,relatedId=0,parentId=0,userId=1,type=10,name='Do you?',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=0,voteNumber=0,votesUp=0,votesDown=0,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge=NULL,referer='http://localhost:8081/?p=1',changeDate='2013-07-28 22:35:14',createDate='2013-07-28 22:35:14' 
                ON DUPLICATE KEY UPDATE
                name='Do you?',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=0,voteNumber=0,votesUp=0,votesDown=0,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge=NULL,referer='http://localhost:8081/?p=1',changeDate='2013-07-28 22:35:14'
                
DEBUG:root:execute: 
                INSERT INTO `q_brooklyncode` 
                set id=NULL,locationId=0,relatedId=0,parentId=0,userId=1,type=10,name='Do you?',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=0,voteNumber=0,votesUp=0,votesDown=0,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge=NULL,referer='http://localhost:8081/?p=1',changeDate='2013-07-28 22:35:14',createDate='2013-07-28 22:35:14' 
                ON DUPLICATE KEY UPDATE
                name='Do you?',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=0,voteNumber=0,votesUp=0,votesDown=0,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge=NULL,referer='http://localhost:8081/?p=1',changeDate='2013-07-28 22:35:14'
                
DEBUG:root:MySqlApiQueryset create_one (status, affected_rows): (Created, 1)
DEBUG:root:inserted_id: 3)
DEBUG:root:update_child_count(Comment object)
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:escape_sql sql: 
            SELECT count(*) as `childCount`
            FROM `q_brooklyncode` `f`
            WHERE `f`.`parentId`= %s
            
DEBUG:root:escape_sql args: [3L]
DEBUG:root:
            SELECT count(*) as `childCount`
            FROM `q_brooklyncode` `f`
            WHERE `f`.`parentId`= 3
            
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042d47d0>
DEBUG:root:child_count: 0
DEBUG:root:MySqlApiQueryset create_one
DEBUG:root:MySqlApiQueryset create_one sql: 
                INSERT INTO `q_brooklyncode` 
                set id=%s,locationId=%s,relatedId=%s,parentId=%s,userId=%s,type=%s,name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s,createDate=%s 
                ON DUPLICATE KEY UPDATE
                name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s
                
DEBUG:root:execute
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:execute args: [3L, 0L, 0L, 0L, 1L, 10L, u'Do you?', u'5e13bbb73127b9fc424e3728c6500f28', None, 0L, 0L, 0L, 0L, 0L, 0L, 0L, '', None, None, u'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 22, 35, 14, 501688), datetime.datetime(2013, 7, 28, 22, 35, 14, 501688), u'Do you?', u'5e13bbb73127b9fc424e3728c6500f28', None, 0L, 0L, 0L, 0L, 0L, 0L, 0L, '', None, None, u'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 22, 35, 14, 501688)]
DEBUG:root:escape_sql sql: 
                INSERT INTO `q_brooklyncode` 
                set id=%s,locationId=%s,relatedId=%s,parentId=%s,userId=%s,type=%s,name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s,createDate=%s 
                ON DUPLICATE KEY UPDATE
                name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s
                
DEBUG:root:escape_sql args: [3L, 0L, 0L, 0L, 1L, 10L, u'Do you?', u'5e13bbb73127b9fc424e3728c6500f28', None, 0L, 0L, 0L, 0L, 0L, 0L, 0L, '', None, None, u'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 22, 35, 14, 501688), datetime.datetime(2013, 7, 28, 22, 35, 14, 501688), u'Do you?', u'5e13bbb73127b9fc424e3728c6500f28', None, 0L, 0L, 0L, 0L, 0L, 0L, 0L, '', None, None, u'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 22, 35, 14, 501688)]
DEBUG:root:
                INSERT INTO `q_brooklyncode` 
                set id=3,locationId=0,relatedId=0,parentId=0,userId=1,type=10,name='Do you?',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=0,voteNumber=0,votesUp=0,votesDown=0,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge=NULL,referer='http://localhost:8081/?p=1',changeDate='2013-07-28 22:35:14',createDate='2013-07-28 22:35:14' 
                ON DUPLICATE KEY UPDATE
                name='Do you?',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=0,voteNumber=0,votesUp=0,votesDown=0,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge=NULL,referer='http://localhost:8081/?p=1',changeDate='2013-07-28 22:35:14'
                
DEBUG:root:execute: 
                INSERT INTO `q_brooklyncode` 
                set id=3,locationId=0,relatedId=0,parentId=0,userId=1,type=10,name='Do you?',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=0,voteNumber=0,votesUp=0,votesDown=0,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge=NULL,referer='http://localhost:8081/?p=1',changeDate='2013-07-28 22:35:14',createDate='2013-07-28 22:35:14' 
                ON DUPLICATE KEY UPDATE
                name='Do you?',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=0,voteNumber=0,votesUp=0,votesDown=0,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge=NULL,referer='http://localhost:8081/?p=1',changeDate='2013-07-28 22:35:14'
                
DEBUG:root:item_exists
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:escape_sql sql: SELECT count(*) FROM `q_brooklyncode`  WHERE id = %s
DEBUG:root:escape_sql args: [3L]
DEBUG:root:SELECT count(*) FROM `q_brooklyncode`  WHERE id = 3
DEBUG:root:MySqlApiQueryset create_one (status, affected_rows): (NO CHANGES, 0)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042b6e90>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042c00d0>
DEBUG:root:CONTEXT: {'has_more_contributions': False, 'app': {'CHILD_PAGE_SIZE': 5, 'QOORATE_API_URI': 'http://localhost/q', 'TEMP_DIR': 'tmp', 'BACKGROUND_S3_UPLOAD': True, 'BROKEN_IMG_URI': 'http://localhost/q/img/blank.gif', 'POLLING_INTERVAL': 15, 'QOORATE_IMG_PATH': 'http://localhost/q/uploader/images/', 'S3_IMG_PATH': 'https://s3.amazonaws.com/qoorate.brooklyncode/', 'AMAZON_BUCKET': 'qoorate.brooklyncode', 'QOORATE_URI': 'http://localhost', 'PARENT_PAGE_SIZE': 5}, 'thumbnailLargeHash': None, 'parentCount': 5, 'q_short_name': u'12345', 'is_admin': False, 'parent_tag': u'p_brooklyncode', 'moreIndex': 1, 'comments': [<Comment: Comment object>], 'location': u'5e13bbb73127b9fc424e3728c6500f28', 'current_user': <User: User object>, 'related_user': None, 'childCount': 5, 'comment_images': [None]}
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:
     
        
            
             
        
    

</div>

<div class="q_clear"></div>
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:escape_sql sql: 
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:escape_sql args: []
DEBUG:root:
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10436f6d0>
DEBUG:root:Number of contributions 3
INFO:root:200 POST /q/feed (127.0.0.1)
DEBUG:root:get EmbedHandler
DEBUG:root:to_unicode
DEBUG:root:embed_head
DEBUG:root:embed_head
DEBUG:root:to_unicode
DEBUG:root:action: embed_head 
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:set_table has key/secret
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = %s and `secret`= %s
        
DEBUG:root:escape_sql args: [u'12345', u'54321']
DEBUG:root:
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = '12345' and `secret`= '54321'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042c02d0>
DEBUG:root:returning True from authencticate.
DEBUG:root:set_table authenticated
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042c04d0>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has key/secret
DEBUG:root:returning `True` from authenticate cached.
DEBUG:root:set_table authenticated
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042c06d0>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042c08d0>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042c0ad0>
DEBUG:root:qoorate preferences: {
    "THEME": "grid",
    "EMBED_CONF_JS": "
        var qoorateConfig = {
            QOORATE_URI: 'http://localhost',
            QOORATE_API_URI: 'http://localhost/q',
            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',
            XHR_PROXY_URI: '/q/feed',
            XHR_UPLOAD_URI: '/q/uploader',
            POST_MAX_LEN: 1000,
            PARENT_PAGE_SIZE: 10,
            CHILD_PAGE_SIZE: 10,
            AUTO_SCROLL: 1,
            THEME: 'grid',
            GRID_COLUMNS: 3,
            GRID_COLUMN_TRIM: 15,
            GRID_ROW_TRIM: 15
        };
        var qoorateLang = {
            FLAG_SUCCESS: 'Thanks for flagging this!',
            SHARE_SUCCESS: 'Thank you for sharing!',
            DELETE_SUCCESS: 'Thank you. This item has been deleted.',
            SIGNIN: 'Sign in using',
            SIGNEDIN: 'Signed in via',    
            OK: 'OK',
            CANCEL: 'Cancel',
            LOGOUT: 'Log Out',
            TOGGLE_ON: '+',
            TOGGLE_OFF: '-',
            CONTRIBUTION: 'Contribution',
            CONTRIBUTIONS: 'Contributions',
            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',
            REMOVE: 'Remove',
            LINK: 'Insert a link',
            TOPIC_COMMENT: 'Pose a Yes/No Question',
            COMMENT: 'Your Comment',
            IMAGE_COMMENT: 'Image Caption',
            POST_TO: 'Post to',
            POST_ANONYMOUS: 'Post anonymously',
            NICKNAME: 'Post as ',
            DEFAULT_NICKNAME: 'Anonymous',
            REPLY_LINK_COMMENT: 'Say something about your link',
            SHARE_COMMENT: 'comment about this share...',
            PUBLISH_BUTTON: 'Publish',
            POST_BUTTON: 'Post',
            POST_TO_BUTTON: 'Post To',
            REPLY_BUTTON: 'Reply',
            SHARE_BUTTON: 'Share',
            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',
            SELECT_IMAGE: 'Select an Image',
            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',
            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],
            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],
            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]
        };
    "
}

DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:preferences EMBED_CONF_JS:         var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    
DEBUG:root:embed_head called
INFO:root:200 GET /q/embed (127.0.0.1)
DEBUG:root:get EmbedHandler
DEBUG:root:to_unicode
DEBUG:root:embed_content
DEBUG:root:embed_content
DEBUG:root:to_unicode
DEBUG:root:action: embed_content 
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:set_table has key/secret
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = %s and `secret`= %s
        
DEBUG:root:escape_sql args: [u'12345', u'54321']
DEBUG:root:
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = '12345' and `secret`= '54321'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042b6a90>
DEBUG:root:returning True from authencticate.
DEBUG:root:set_table authenticated
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042b6b10>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has key/secret
DEBUG:root:returning `True` from authenticate cached.
DEBUG:root:set_table authenticated
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042b6d10>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042b6e90>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042c00d0>
DEBUG:root:qoorate preferences: {
    "THEME": "grid",
    "EMBED_CONF_JS": "
        var qoorateConfig = {
            QOORATE_URI: 'http://localhost',
            QOORATE_API_URI: 'http://localhost/q',
            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',
            XHR_PROXY_URI: '/q/feed',
            XHR_UPLOAD_URI: '/q/uploader',
            POST_MAX_LEN: 1000,
            PARENT_PAGE_SIZE: 10,
            CHILD_PAGE_SIZE: 10,
            AUTO_SCROLL: 1,
            THEME: 'grid',
            GRID_COLUMNS: 3,
            GRID_COLUMN_TRIM: 15,
            GRID_ROW_TRIM: 15
        };
        var qoorateLang = {
            FLAG_SUCCESS: 'Thanks for flagging this!',
            SHARE_SUCCESS: 'Thank you for sharing!',
            DELETE_SUCCESS: 'Thank you. This item has been deleted.',
            SIGNIN: 'Sign in using',
            SIGNEDIN: 'Signed in via',    
            OK: 'OK',
            CANCEL: 'Cancel',
            LOGOUT: 'Log Out',
            TOGGLE_ON: '+',
            TOGGLE_OFF: '-',
            CONTRIBUTION: 'Contribution',
            CONTRIBUTIONS: 'Contributions',
            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',
            REMOVE: 'Remove',
            LINK: 'Insert a link',
            TOPIC_COMMENT: 'Pose a Yes/No Question',
            COMMENT: 'Your Comment',
            IMAGE_COMMENT: 'Image Caption',
            POST_TO: 'Post to',
            POST_ANONYMOUS: 'Post anonymously',
            NICKNAME: 'Post as ',
            DEFAULT_NICKNAME: 'Anonymous',
            REPLY_LINK_COMMENT: 'Say something about your link',
            SHARE_COMMENT: 'comment about this share...',
            PUBLISH_BUTTON: 'Publish',
            POST_BUTTON: 'Post',
            POST_TO_BUTTON: 'Post To',
            REPLY_BUTTON: 'Reply',
            SHARE_BUTTON: 'Share',
            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',
            SELECT_IMAGE: 'Select an Image',
            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',
            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],
            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],
            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]
        };
    "
}

DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:preferences EMBED_CONF_JS:         var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    
DEBUG:root:embed_content called (key,secret): (12345,54321)
DEBUG:root:returning `True` from authenticate cached.
DEBUG:root:get_content_context
DEBUG:root:table: q_brooklyncode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:init_db_conn
DEBUG:root:NOT creating db_conn
DEBUG:root:1
DEBUG:root:5
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT f.`parent_sequence` , f.`child_sequence` , f.`id` , f.`locationId` , f.`relatedId`,
                f.`parentId` , f.`userId` , `u`.`username`, u.`thumbnailLarge` as userThumbnailLarge,
                ur.`username` as relatedUsername, ur.`thumbnailLarge` as relatedUserThumbnailLarge, f.`type` as `item_type`,
                f.`is_anonymous` , r.`is_anonymous` as `related_is_anonymous`, f.`name` , f.`location` ,f.`description`,f.`referer`,
                f.`voteCount` , f.`voteNumber` , f.`votesUp` ,f.`votesDown` , f.`flagCount`,  f.`childCount`, f.`sortOrder` , f.`status`,
                f.`thumbnailSmall` ,f.`thumbnailLarge` , f.`changeDate` , f.`createDate`, f.`nickname`, r.`nickname` as `related_nickname`
            FROM (
                # this query adds the sequence fields to filter by for paging
                SELECT  s1.*, @parentrownum := convert( IF( ( parentId = 0), @parentrownum +1, @parentrownum ), UNSIGNED INTEGER) AS parent_sequence,
                @childrownum := IF( ( @lastparent = parentId), @childrownum + 1, 0 ) AS child_sequence,
                @lastparent := if( parentId=0, id, parentId ) AS dummy_used_for_last_parent
                FROM
                    # QUERY 2: this query sorts the results properly
                    (SELECT s0.* FROM
                        # QUERY 1: This query gets the results we need with calculated fields to sort by
                        # We should probably have these fields in the database so they are indexed
                        (SELECT
                        CONVERT( if( parentId = 0, @parentVoteNumber:=voteNumber,
                            @parentVoteNumber ), SIGNED INTEGER ) as groupVoteNumber,          # Will order groups using parent voteNumber
                        CONVERT( if( parentId = 0, @parentVoteCount:=voteCount,
                            @parentVoteCount ), SIGNED INTEGER ) as groupVoteCount,            # Will order groups using parent voteCount
                        CONVERT( if( parentId = 0, @parentCreateDate:=createDate,
                            @parentCreateDate ), DATETIME ) as groupCreateDate,                # Will order groups using parent createDate
                        CONVERT( if(parentId=0, id, parentId), UNSIGNED INTEGER) as groupId,   # will order groups together
                        CONVERT( if(parentId = 0, 0, 1), UNSIGNED INTEGER) as isChild,         # will order parent first in group
                        r.*
                        FROM (
                            # this just makes sure our groups are grouped in parent child order
                            SELECT * from q_brooklyncode o  WHERE o.location = '5e13bbb73127b9fc424e3728c6500f28' ORDER BY
                             if( o.relatedId = 0, o.id, o.relatedId),
                             if( o.relatedId = 0, 0, o.id )
                            ) r,
                        ( SELECT @parentVoteNumber := 0 ) pvn,
                        ( SELECT @parentVoteCount  := 0 ) pvc,
                        ( SELECT @parentCreateDate := 0 ) pcd
                         WHERE location = '5e13bbb73127b9fc424e3728c6500f28' 
                    ) s0
                    
                    
                    ORDER BY
                    
                s0.groupVoteNumber DESC,
                s0.groupVoteCount DESC,
                s0.groupCreateDate ASC,
                 
                    groupId  ASC, # first order by group
                    isChild ASC, # Then make sure the parent is first
                    
                s0.voteNumber DESC,
                s0.voteCount DESC,
                s0.createDate ASC
                
            ) s1,
            ( SELECT @parentrownum := 0 ) pr,
            ( SELECT @childrownum := 0 ) cr, 
            ( SELECT @lastparent := -1 ) lp) f
            LEFT JOIN user u on u.id = f.userId
            LEFT JOIN q_brooklyncode r on r.id = f.relatedId
            LEFT JOIN user ur on ur.id = r.userId
            WHERE
            ((0 = 6 and parent_sequence >= 1) or parent_sequence BETWEEN 1 AND 6)
            AND
            ((0 = 6 and child_sequence >= 1) or (child_sequence=0 or child_sequence BETWEEN 1 AND 6))
        
DEBUG:root:escape_sql args: None
DEBUG:root:
            SELECT f.`parent_sequence` , f.`child_sequence` , f.`id` , f.`locationId` , f.`relatedId`,
                f.`parentId` , f.`userId` , `u`.`username`, u.`thumbnailLarge` as userThumbnailLarge,
                ur.`username` as relatedUsername, ur.`thumbnailLarge` as relatedUserThumbnailLarge, f.`type` as `item_type`,
                f.`is_anonymous` , r.`is_anonymous` as `related_is_anonymous`, f.`name` , f.`location` ,f.`description`,f.`referer`,
                f.`voteCount` , f.`voteNumber` , f.`votesUp` ,f.`votesDown` , f.`flagCount`,  f.`childCount`, f.`sortOrder` , f.`status`,
                f.`thumbnailSmall` ,f.`thumbnailLarge` , f.`changeDate` , f.`createDate`, f.`nickname`, r.`nickname` as `related_nickname`
            FROM (
                # this query adds the sequence fields to filter by for paging
                SELECT  s1.*, @parentrownum := convert( IF( ( parentId = 0), @parentrownum +1, @parentrownum ), UNSIGNED INTEGER) AS parent_sequence,
                @childrownum := IF( ( @lastparent = parentId), @childrownum + 1, 0 ) AS child_sequence,
                @lastparent := if( parentId=0, id, parentId ) AS dummy_used_for_last_parent
                FROM
                    # QUERY 2: this query sorts the results properly
                    (SELECT s0.* FROM
                        # QUERY 1: This query gets the results we need with calculated fields to sort by
                        # We should probably have these fields in the database so they are indexed
                        (SELECT
                        CONVERT( if( parentId = 0, @parentVoteNumber:=voteNumber,
                            @parentVoteNumber ), SIGNED INTEGER ) as groupVoteNumber,          # Will order groups using parent voteNumber
                        CONVERT( if( parentId = 0, @parentVoteCount:=voteCount,
                            @parentVoteCount ), SIGNED INTEGER ) as groupVoteCount,            # Will order groups using parent voteCount
                        CONVERT( if( parentId = 0, @parentCreateDate:=createDate,
                            @parentCreateDate ), DATETIME ) as groupCreateDate,                # Will order groups using parent createDate
                        CONVERT( if(parentId=0, id, parentId), UNSIGNED INTEGER) as groupId,   # will order groups together
                        CONVERT( if(parentId = 0, 0, 1), UNSIGNED INTEGER) as isChild,         # will order parent first in group
                        r.*
                        FROM (
                            # this just makes sure our groups are grouped in parent child order
                            SELECT * from q_brooklyncode o  WHERE o.location = '5e13bbb73127b9fc424e3728c6500f28' ORDER BY
                             if( o.relatedId = 0, o.id, o.relatedId),
                             if( o.relatedId = 0, 0, o.id )
                            ) r,
                        ( SELECT @parentVoteNumber := 0 ) pvn,
                        ( SELECT @parentVoteCount  := 0 ) pvc,
                        ( SELECT @parentCreateDate := 0 ) pcd
                         WHERE location = '5e13bbb73127b9fc424e3728c6500f28' 
                    ) s0
                    
                    
                    ORDER BY
                    
                s0.groupVoteNumber DESC,
                s0.groupVoteCount DESC,
                s0.groupCreateDate ASC,
                 
                    groupId  ASC, # first order by group
                    isChild ASC, # Then make sure the parent is first
                    
                s0.voteNumber DESC,
                s0.voteCount DESC,
                s0.createDate ASC
                
            ) s1,
            ( SELECT @parentrownum := 0 ) pr,
            ( SELECT @childrownum := 0 ) cr, 
            ( SELECT @lastparent := -1 ) lp) f
            LEFT JOIN user u on u.id = f.userId
            LEFT JOIN q_brooklyncode r on r.id = f.relatedId
            LEFT JOIN user ur on ur.id = r.userId
            WHERE
            ((0 = 6 and parent_sequence >= 1) or parent_sequence BETWEEN 1 AND 6)
            AND
            ((0 = 6 and child_sequence >= 1) or (child_sequence=0 or child_sequence BETWEEN 1 AND 6))
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042c02d0>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = %s
        
DEBUG:root:escape_sql args: [1L]
DEBUG:root:
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = 1
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042c04d0>
DEBUG:root:dictlist: {u'itemId': 1L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'1fe8a631d5522d10e2cf2e4fabedc90b', u'id': 1L}
DEBUG:root:dictItem: {u'itemId': 1L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'1fe8a631d5522d10e2cf2e4fabedc90b', u'id': 1L}
DEBUG:root:items: [<ImageItem: ImageItem object>]
DEBUG:root:im: [<ImageItem: ImageItem object>]
DEBUG:root:comment.images: [<ImageItem: ImageItem object>]
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = %s
        
DEBUG:root:escape_sql args: [2L]
DEBUG:root:
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = 2
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042c06d0>
DEBUG:root:dictlist: {u'itemId': 2L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'cfbb12022f81667e3c2746e3c80b2e1e', u'id': 2L}
DEBUG:root:dictItem: {u'itemId': 2L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'cfbb12022f81667e3c2746e3c80b2e1e', u'id': 2L}
DEBUG:root:items: [<ImageItem: ImageItem object>]
DEBUG:root:im: [<ImageItem: ImageItem object>]
DEBUG:root:comment.images: [<ImageItem: ImageItem object>]
DEBUG:root:Number of comments returned: 3
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:escape_sql args: []
DEBUG:root:
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042c08d0>
DEBUG:root:Number of contributions 3
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042c0ad0>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042b6a90>
DEBUG:root:to_unicode
DEBUG:root:embed_content
DEBUG:root:embed_content
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:embed_content
DEBUG:root:embed_content
DEBUG:root:to_unicode
DEBUG:root:unsanitizing: test
DEBUG:root:unsanitizing encoded ascii: test
DEBUG:root:unsanitizing encoded utf8: test
DEBUG:root: unsanitized: test
DEBUG:root:unsanitizing: tester
DEBUG:root:unsanitizing encoded ascii: tester
DEBUG:root:unsanitizing encoded utf8: tester
DEBUG:root: unsanitized: tester
DEBUG:root:unsanitizing: Do you?
DEBUG:root:unsanitizing encoded ascii: Do you?
DEBUG:root:unsanitizing encoded utf8: Do you?
DEBUG:root: unsanitized: Do you?
INFO:root:200 GET /q/embed (127.0.0.1)
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:set_table has q_short_name (12345)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042b6b10>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has q_short_name (12345)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042b6d10>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:feed.prepare, table: q_brooklyncode
DEBUG:root:FeedHandler post
DEBUG:root:Body -> 
 action=upVote&location=5e13bbb73127b9fc424e3728c6500f28&referer=http%3A%2F%2Flocalhost%3A8081%2F%3Fp%3D1&q_short_name=12345&QOOID=QOO51f460f57c582&QOOTID=QOOT51f460f57c593&relatedId=3
DEBUG:root:Arguments -> 
 {"QOOID": ["QOO51f460f57c582"], "QOOTID": ["QOOT51f460f57c593"], "q_short_name": ["12345"], "location": ["5e13bbb73127b9fc424e3728c6500f28"], "action": ["upVote"], "referer": ["http://localhost:8081/?p=1"], "relatedId": ["3"]}
DEBUG:root:to_unicode
DEBUG:root:upVote
DEBUG:root:upVote
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:upVote
DEBUG:root:upVote
DEBUG:root:to_unicode
DEBUG:root:action: upVote
DEBUG:root:perform_vote(1)
DEBUG:root:to_unicode
DEBUG:root:3
DEBUG:root:3
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:3
DEBUG:root:3
DEBUG:root:to_unicode
DEBUG:root:MySqlApiQueryset read_one
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:escape_sql sql: SELECT `id`,`locationId`,`relatedId`,`parentId`,`userId`,`type`,`name`,`location`,`description`,`voteCount`,`voteNumber`,`votesUp`,`votesDown`,`flagCount`,`childCount`,`sortOrder`,`status`,`thumbnailSmall`,`thumbnailLarge`,`referer`,`changeDate`,`createDate` FROM `q_brooklyncode` WHERE ID = %s
DEBUG:root:escape_sql args: [3]
DEBUG:root:SELECT `id`,`locationId`,`relatedId`,`parentId`,`userId`,`type`,`name`,`location`,`description`,`voteCount`,`voteNumber`,`votesUp`,`votesDown`,`flagCount`,`childCount`,`sortOrder`,`status`,`thumbnailSmall`,`thumbnailLarge`,`referer`,`changeDate`,`createDate` FROM `q_brooklyncode` WHERE ID = 3
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042c7850>
DEBUG:root:_vote(1, Comment object)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042b6e90>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042c00d0>
DEBUG:root:user_id, item.userId: 1, 1
INFO:root:ERROR: (You cannot vote on your own contribution)Traceback (most recent call last):
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 314, in post
    self.perform_vote(self.UP)
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 744, in perform_vote
    vote = self._vote(direction, item)
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 828, in _vote
    raise Exception('You cannot vote on your own contribution')
Exception: You cannot vote on your own contribution

INFO:root:500 POST /q/feed (127.0.0.1)
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:set_table has q_short_name (12345)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042c02d0>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has q_short_name (12345)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042c04d0>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:feed.prepare, table: q_brooklyncode
DEBUG:root:FeedHandler post
DEBUG:root:Body -> 
 action=downVote&location=5e13bbb73127b9fc424e3728c6500f28&referer=http%3A%2F%2Flocalhost%3A8081%2F%3Fp%3D1&q_short_name=12345&QOOID=QOO51f460f57c582&QOOTID=QOOT51f460f57c593&relatedId=3
DEBUG:root:Arguments -> 
 {"QOOID": ["QOO51f460f57c582"], "QOOTID": ["QOOT51f460f57c593"], "q_short_name": ["12345"], "location": ["5e13bbb73127b9fc424e3728c6500f28"], "action": ["downVote"], "referer": ["http://localhost:8081/?p=1"], "relatedId": ["3"]}
DEBUG:root:to_unicode
DEBUG:root:downVote
DEBUG:root:downVote
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:downVote
DEBUG:root:downVote
DEBUG:root:to_unicode
DEBUG:root:action: downVote
DEBUG:root:perform_vote(-1)
DEBUG:root:to_unicode
DEBUG:root:3
DEBUG:root:3
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:3
DEBUG:root:3
DEBUG:root:to_unicode
DEBUG:root:MySqlApiQueryset read_one
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:escape_sql sql: SELECT `id`,`locationId`,`relatedId`,`parentId`,`userId`,`type`,`name`,`location`,`description`,`voteCount`,`voteNumber`,`votesUp`,`votesDown`,`flagCount`,`childCount`,`sortOrder`,`status`,`thumbnailSmall`,`thumbnailLarge`,`referer`,`changeDate`,`createDate` FROM `q_brooklyncode` WHERE ID = %s
DEBUG:root:escape_sql args: [3]
DEBUG:root:SELECT `id`,`locationId`,`relatedId`,`parentId`,`userId`,`type`,`name`,`location`,`description`,`voteCount`,`voteNumber`,`votesUp`,`votesDown`,`flagCount`,`childCount`,`sortOrder`,`status`,`thumbnailSmall`,`thumbnailLarge`,`referer`,`changeDate`,`createDate` FROM `q_brooklyncode` WHERE ID = 3
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10435dad0>
DEBUG:root:_vote(-1, Comment object)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042c06d0>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042c08d0>
DEBUG:root:user_id, item.userId: 1, 1
INFO:root:ERROR: (You cannot vote on your own contribution)Traceback (most recent call last):
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 316, in post
    self.perform_vote(self.DOWN)
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 744, in perform_vote
    vote = self._vote(direction, item)
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 828, in _vote
    raise Exception('You cannot vote on your own contribution')
Exception: You cannot vote on your own contribution

INFO:root:500 POST /q/feed (127.0.0.1)
DEBUG:root:None
DEBUG:root:{u'content-length': u'4270944', u'PATTERN': u'/q/', u'x-forwarded-for': u'127.0.0.1', u'URI': u'/q/uploader?action=uploader&qqfile=DSC07330.JPG', u'accept': u'*/*', u'user-agent': u'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/28.0.1500.71 Safari/537.36', u'host': u'localhost', u'VERSION': u'HTTP/1.1', u'cookie': u'wordpress_8dec71ede39ad9ff3b3fbc03311bdc45=qoorate|1375142446|8148fbb3583470985c5fca59e75d635a; SBID=\\"!MZ6JnTJnDncb7k3n0Ya9Sg==?gAJVBFNCSURxAWN1dWlkClVVSUQKcQIpgXEDfXEEVQNpbnRxBYoQqUXRlREm8LXjTshLPYe7cXNihnEGLg==\\"; wordpress_test_cookie=WP Cookie check; wordpress_logged_in_8dec71ede39ad9ff3b3fbc03311bdc45=qoorate|1375142446|86fd9ec6d6a221f44c7b1244f05dcd23; QOOID=QOO51f460f57c582; QOOTID=QOOT51f460f57c593; wp-settings-time-1=1374970345', u'expect': u'100-continue', u'QUERY': u'action=uploader&qqfile=DSC07330.JPG', u'PATH': u'/q/uploader', u'content-type': u'application/x-www-form-urlencoded', u'METHOD': u'POST'}
DEBUG:root:TemporaryImageUploadHandler post
DEBUG:root:to_unicode
DEBUG:root:DSC07330.JPG
DEBUG:root:DSC07330.JPG
DEBUG:root:to_unicode
DEBUG:root:{'S3_PORT': 443, 'INIT_BUCKET': True, 'RETRY_INTERVAL': 60, 'S3_HOST': 's3.amazonaws.com', 'ACCEPTABLE_UPLOAD_MIME_TYPES': ['image/jpeg', 'image/gif', 'image/png'], 'IMAGE_INFO': [(None, 'JPEG', '_f', 'jpg'), ((300, 200), 'JPEG', '_t', 'jpg'), ((120, 200), 'JPEG', '_m', 'jpg'), ((170, 100), 'JPEG', '_f', 'jpg'), ((50, 50), 'JPEG', '_s', 'jpg')], 'TEMP_UPLOAD_DIR': 'tmp', 'SERVICE_INFO': {'SERVICE_ID': 'uploader', 'SERVICE_REGISTRATION_PASSPHRASE': '137b789e-b7eb-475a-8d5a-b16ab544yurp', 'ASYNC': False, 'SERVICE_REGISTRATION_ADDR': 'ipc://run/uploader/brubeck_svc_registration', 'SERVICE_ADDR': 'ipc://run/uploader/brubeck_svc'}, 'AMAZON_BUCKET': 'qoorate.brooklyncode', 'AMAZON_SECRET': 'K3NKUTZIZWQ9B1UzQcZpl5frT4VClA9Ud0gffWPC', 'AMAZON_KEY': 'AKIAIMJ3ACDQBKM4PBDQ'}
DEBUG:root:filename: DSC07330.JPG
DEBUG:root:hash: afdaf6b1c369d65535041c375356f03f
DEBUG:root:download_file_name: ./tmp/afdaf6b1c369d65535041c375356f03f
DEBUG:root:mime_type: image/jpeg
DEBUG:root:checking mime_type: image/jpeg
DEBUG:root:mime_type OK
DEBUG:root:width: 4000
DEBUG:root:height: 3000
DEBUG:root:['']
DEBUG:root:['']
DEBUG:root:to_unicode
DEBUG:root:Àíf"k0°íF
DEBUG:root:Àíf"k0°íF
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:”€\†ü W »yËIÔûkœuÀø›º5ï¿íF(Ï¿êÆOﬁ ß ÷ÉHE≠N∑EÁÜ¥˚95(/d˚…õiÅ 	ÎéO zsÕ}Rü ,guéé #∫”£Û¨Óaí}¿ÜS« d‰Ò≈gQu5[û$⁄Ã˜Ûﬂ\I}3nôåJ ¶’ÍO zuˇ 
DEBUG:root:”€\†ü W »yËIÔûkœuÀø›º5ï¿íF(Ï¿êÆOﬁ ß ÷ÉHE≠N∑EÁÜ¥˚95(/d˚…õiÅ 	ÎéO zsÕ}Rü ,guéé #∫”£Û¨Óaí}¿ÜS« d‰Ò≈gQu5[û$⁄Ã˜Ûﬂ\I}3nôåJ ¶’ÍO zuˇ 
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:ﬂj±7∂ˆÒÅ DõI«#'ÆO Øa‚ mjX ◊D{	$C  è5∫ ≥{Úœ4÷‡l¡aqÛG A‹ú® Ü9œ?Å
DEBUG:root:ﬂj±7∂ˆÒÅ DõI«#'ÆO Øa‚ mjX ◊D{	$C  è5∫ ≥{Úœ4÷‡l¡aqÛG A‹ú® Ü9œ?Å
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root: AâeI•â÷@§πŒFy¡œ‚G„]ƒQ¨H±Æp£ ú÷∞]@íä∞
( ¢Ä
( ¢Ä
( ¢Ä
( ¢Ä
( ¢Ä
( ¢Ä
( ¢Ä
( ¢Ä
( ¢Ä
( ¢Ä
( ¢Ä
( ¢Ä
( ¢Ä# F » CúÂ±…œs˛{”∑≈{éœÁ@ ÊπØ
DEBUG:root: AâeI•â÷@§πŒFy¡œ‚G„]ƒQ¨H±Æp£ ú÷∞]@íä∞
( ¢Ä
( ¢Ä
( ¢Ä
( ¢Ä
( ¢Ä
( ¢Ä
( ¢Ä
( ¢Ä
( ¢Ä
( ¢Ä
( ¢Ä
( ¢Ä
( ¢Ä# F » CúÂ±…œs˛{”∑≈{éœÁ@ ÊπØ
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:¨ã˚ŒrSçªÄ<g≠CÖﬁÄs:“Íæ 1Î⁄LÀ·€÷˝‘Òπë#|Çcó˚¨ ˝j’œåm5ÿ≠Â1Gkp c¢IÑos¯”PI‹ﬁ.ÍÁ?©\y∞ÊP<•pãí@«ÎÙ˜¨ÈÌÂÄ°Ç}—» ÅîÁxnπ CèZ†ñÃ‚µœ
Àp¶Í$‚QñhóåÁˇ Æz˚{◊ ¨÷é#uda¡g% ›
DEBUG:root:¨ã˚ŒrSçªÄ<g≠CÖﬁÄs:“Íæ 1Î⁄LÀ·€÷˝‘Òπë#|Çcó˚¨ ˝j’œåm5ÿ≠Â1Gkp c¢IÑos¯”PI‹ﬁ.ÍÁ?©\y∞ÊP<•pãí@«ÎÙ˜¨ÈÌÂÄ°Ç}—» ÅîÁxnπ CèZ†ñÃ‚µœ
Àp¶Í$‚QñhóåÁˇ Æz˚{◊ ¨÷é#uda¡g% ›
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:Yâ ‘ÚrNsZSÍD›ñá a‡0ÛÍñ∂Ú›•ºl∆“Ê 1O f·Kv#8»Î¯’€üá rÿ‹$7Û-ƒ œ*F‰≥>¡ìÛzú Ω˛µ°êi˙ µ˝á¶E’‘N´{  	*[''…»ÎZzûç®õ("˚?˙êÃí ∆∆aŒ„‹úw4ö∫h“õ› 9kﬁ ø:ëÛ  Ç«dJYN2rp~ûµôi5∆è#î¥K≤Ë»— rπ=yı ÷∞44bÒ.õ•ÍZL2Ÿ}ë5Ù{ ‡—˘â	_ò?#π «Ωsﬂ tÀW∑
DEBUG:root:Yâ ‘ÚrNsZSÍD›ñá a‡0ÛÍñ∂Ú›•ºl∆“Ê 1O f·Kv#8»Î¯’€üá rÿ‹$7Û-ƒ œ*F‰≥>¡ìÛzú Ω˛µ°êi˙ µ˝á¶E’‘N´{  	*[''…»ÎZzûç®õ("˚?˙êÃí ∆∆aŒ„‹úw4ö∫h“õ› 9kﬁ ø:ëÛ  Ç«dJYN2rp~ûµôi5∆è#î¥K≤Ë»— rπ=yı ÷∞44bÒ.õ•ÍZL2Ÿ}ë5Ù{ ‡—˘â	_ò?#π «Ωsﬂ tÀW∑
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:w _Ã˛~ı≤¯h¢à 
DEBUG:root:w _Ã˛~ı≤¯h¢à 
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:OØ≠n@P≤¨ü e¬æ  'øÍ Ã ],— è u Ârsü´z|ë4ÅCmì8¡_îì…œÊz˙– £i:où 	 •
DEBUG:root:OØ≠n@P≤¨ü e¬æ  'øÍ Ã ],— è u Ârsü´z|ë4ÅCmì8¡_îì…œÊz˙– £i:où 	 •
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:r Ä NŸ˛µ^Û√w–y/ˆimÑÎÖ   ∂x' œ©†÷2V’ÍSä◊Pµ#Ì J±ç—≤èôÄ Ù¸∫˙ı¨∑ºæKÅ nc Øô Ì√Â,yœæ={–]’Æf]Í7–“ ù9'Ê
DEBUG:root:r Ä NŸ˛µ^Û√w–y/ˆimÑÎÖ   ∂x' œ©†÷2V’ÍSä◊Pµ#Ì J±ç—≤èôÄ Ù¸∫˙ı¨∑ºæKÅ nc Øô Ì√Â,yœæ={–]’Æf]Í7–“ ù9'Ê
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:Ü ,Oœô	^ƒ∑∑9 Õ √ö∑ã5ÿº9·®%‘ÆÊ?æö "  ÜXÀ1˛ \sÎ“¥ß i 7es÷µ€Ø ¸/“c“!ùµe¶€{‰àfgPxÔ∆I?˝s_*ÎZıˆ´®\^ﬁ›ô«öuÇ´ œ ˛µ‹÷ä)ô√V€‹√˚`yq˚√$àƒ _ï{Ú{åfæÖ˝ùˇ gﬂ ˛–û/”º/·˚{ë·‘ >π‚ s q 
DEBUG:root:Ü ,Oœô	^ƒ∑∑9 Õ √ö∑ã5ÿº9·®%‘ÆÊ?æö "  ÜXÀ1˛ \sÎ“¥ß i 7es÷µ€Ø ¸/“c“!ùµe¶€{‰àfgPxÔ∆I?˝s_*ÎZıˆ´®\^ﬁ›ô«öuÇ´ œ ˛µ‹÷ä)ô√V€‹√˚`yq˚√$àƒ _ï{Ú{åfæÖ˝ùˇ gﬂ ˛–û/”º/·˚{ë·‘ >π‚ s q 
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:K¡ö{›⁄ ∆ÜË[]¨  ∫®Ê@H
ü\˝j°Ò ¯≠iÿˆ ΩC[k…S^»äGW∑ïM“Œé‡ €‘ØÎœz‰Ù≠C˚ Rk∏¨¸œ)ôZ5 `  ˆıÕo œ-¬…ªôû!Ò æ‘Êñh’ƒ–ÌFh@‹	» È≈~å¡1ØÌÌæ#K%√bEπ16sÂÃ$œìÛ ª  áΩ{Ÿn¥Í Ç¥ÏQ:D≤\¡e ∞í´ ÇIêê ‰˛ `ﬂU–*Ln'™]S £¸ûŸÔÎ¸ÎÁ´ˇ  ô◊iÛ3 ~4*≈i°,±o J
DEBUG:root:K¡ö{›⁄ ∆ÜË[]¨  ∫®Ê@H
ü\˝j°Ò ¯≠iÿˆ ΩC[k…S^»äGW∑ïM“Œé‡ €‘ØÎœz‰Ù≠C˚ Rk∏¨¸œ)ôZ5 `  ˆıÕo œ-¬…ªôû!Ò æ‘Êñh’ƒ–ÌFh@‹	» È≈~å¡1ØÌÌæ#K%√bEπ16sÂÃ$œìÛ ª  áΩ{Ÿn¥Í Ç¥ÏQ:D≤\¡e ∞í´ ÇIêê ‰˛ `ﬂU–*Ln'™]S £¸ûŸÔÎ¸ÎÁ´ˇ  ô◊iÛ3 ~4*≈i°,±o J
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:J— 4∑7 N”F  ∂Á  9Ô≈V59S‰KP¬Íﬁ∂>Ü’¸][^Û ÖºK?á/-ck¥‘ÿ%˝ú„£EÂ£âA9 dq∑ü}ˇ Ö⁄øé¸K£E¶Ë 93Õh“A¶ƒÁÏÛ†\∫ 0
DEBUG:root:J— 4∑7 N”F  ∂Á  9Ô≈V59S‰KP¬Íﬁ∂>Ü’¸][^Û ÖºK?á/-ck¥‘ÿ%˝ú„£EÂ£âA9 dq∑ü}ˇ Ö⁄øé¸K£E¶Ë 93Õh“A¶ƒÁÏÛ†\∫ 0
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:˜  G<ÒÍkÕ5_Ö˙ÏQ@ê^‹3G !ﬁ‡ìÖ$êø˝sJRÊ%ﬂõö«Ÿ?µ4“º)kg® ó •Ωøî‰Ôr"a nÈ◊o◊5⁄√‚X wπYê"? NCg∞ıÍx¨g ‰ht xÕ |÷(˘  ßjé>ùÍÙ^5≥Ú≠èòfô›∆›üªL Ú}Ú{w<˙Ê N£‚4ª∏pßl, d`>Rs–„‹ÒÙÆ[PÒÙæ ˛Œ◊Ïm4ªª›6ÔÌ6∂˙ºÅl.à»"U<≤úú„ö ÏìˆÔ±Ò~†-ºQã‡˜à4â,6\6ùa≤á\´ÇÓÑ 	9 9»´W ¥wÏì©E öüÏ˘¢X»≠‰›E·mf-@ï‡ ∞¬® ì◊9»¸j‘ ‹Œ°n„]˝è5· ¯ø¯ó·[{ÑV”‚¥ø{Á¥aí Xπœ\r
DEBUG:root:˜  G<ÒÍkÕ5_Ö˙ÏQ@ê^‹3G !ﬁ‡ìÖ$êø˝sJRÊ%ﬂõö«Ÿ?µ4“º)kg® ó •Ωøî‰Ôr"a nÈ◊o◊5⁄√‚X wπYê"? NCg∞ıÍx¨g ‰ht xÕ |÷(˘  ßjé>ùÍÙ^5≥Ú≠èòfô›∆›üªL Ú}Ú{w<˙Ê N£‚4ª∏pßl, d`>Rs–„‹ÒÙÆ[PÒÙæ ˛Œ◊Ïm4ªª›6ÔÌ6∂˙ºÅl.à»"U<≤úú„ö ÏìˆÔ±Ò~†-ºQã‡˜à4â,6\6ùa≤á\´ÇÓÑ 	9 9»´W ¥wÏì©E öüÏ˘¢X»≠‰›E·mf-@ï‡ ∞¬® ì◊9»¸j‘ ‹Œ°n„]˝è5· ¯ø¯ó·[{ÑV”‚¥ø{Á¥aí Xπœ\r
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:Mi^Ó∆ç§∂M>uºÒŒ ¬3úƒ¸ıı„>ı–€¡n )"9ê¸»pzu#È◊Ωk{l:ëñ≈Ñ[9"ìm©YÛÖóìøÍ9Î˛}k·Ô€f“Kµ∞å<V⁄]ºrIÂ≤«∫IYÅlu„ >πÎ÷æüá Òâû tπh3‡	,^h¢òœ9NTÇÂ√0‰˜ÙŒsSç Rû–… * îê° ı?x~#¸Ò˙Çÿ¯Çk kÏ∞›) <lgOôTé	>˛ÙöÆë‚HÓm≠Ìt´Î”p	VÇ2"«Síxœ^æùÈö√b”hZ˘ãˆ~° L)é‚
DEBUG:root:Mi^Ó∆ç§∂M>uºÒŒ ¬3úƒ¸ıı„>ı–€¡n )"9ê¸»pzu#È◊Ωk{l:ëñ≈Ñ[9"ìm©YÛÖóìøÍ9Î˛}k·Ô€f“Kµ∞å<V⁄]ºrIÂ≤«∫IYÅlu„ >πÎ÷æüá Òâû tπh3‡	,^h¢òœ9NTÇÂ√0‰˜ÙŒsSç Rû–… * îê° ı?x~#¸Ò˙Çÿ¯Çk kÏ∞›) <lgOôTé	>˛ÙöÆë‚HÓm≠Ìt´Î”p	VÇ2"«Síxœ^æùÈö√b”hZ˘ãˆ~° L)é‚
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root: ü/ÑÙó\j∫ qœ#ì >ì4 `dñﬂ∑‹ıı¨áã,lt´õ€8ãô"é€^ñ  \˝’›ëüQY*óm3G X© Vúˇ  4t∑xºk„õEÛA»Òe„:7 r )SÄ{è^µÍP¸M˝¢¨6 ‚øåwoWç/ÙÎ=CÃè$ng{r ‡éI$˜® –ÔÌ ÒÛ¡ 7˙•æø·ΩwR‘n7]jû*»ΩøNÂ#h§å*Á<`ˆ Æ ^Òóà|SÆk^ ÒUÌæ±‚_ 0KÎ∑âÄ≥E9Xmó$E ˇ t ˝O}c k‘hÃõY YcRX|ßp›‘?Œ∂ap Cí≈ShI  1…ˇ ?Z∞9ÌV∏∞µˇ âTS=≈”2ô" åC <‡ÁΩy æó¨Í⁄÷ü•€€_ÍzŒ∑?Ÿ,≠`âÆ.%g'? Ï I<  'ÄMm d'∂¨ÙKèÖ⁄ﬂÖÌ¶o €•é≥{ I•i≠s ≠  ù$iål√s ·zÒœp höb DÈ  ”Ó5=E‡kÉ¶i6rjW°#RÚ8â |(…' éÁ5◊F  ∆Szªû±À‡wƒﬂå~/—¸'·oáﬁ1≥˛ﬂ$?âµœ^h˙=§
~y yëQû	  üC˝ | ¯‡Ÿ´¡∂^ ï≠≠Ôàd¥ xü≈ ?2ÓÚwÊX˜u	Àsúù«÷ΩäpT†˚≥ ∆W”ë ∂√ ‰"≤≤ÔU»-œ?_‚?ïVb¨ ™ÁêÁÊ›úıÙ¸ÎH=,xrZ±   N=xı„Ω5råôA˜LaÛë˛˙ˇ Z≤$¥d¨ ¢Ç# Gﬁ#á$ˇ >ÿ•…#¢p Éì◊ú˛?Øz â   AœóË>ˆy<˛t™ T ˝Â¬∞^ºú‰u¸k 6€∏…>œ À9  ŸÛdóÁ?ó„Q∂–¿2 Û≤ íHÈÌå˛¥EŸÅ$!3¬Â¡,A… sﬂÒÎœ_∆ò¯]ÿ?}é’`H^πˇ  |‘ÖØ∞*6 2|ò√ ¨û¸Òˇ Î´P∆ÓdEu·3µ”çß$ˆˇ ?≠)
DEBUG:root: ü/ÑÙó\j∫ qœ#ì >ì4 `dñﬂ∑‹ıı¨áã,lt´õ€8ãô"é€^ñ  \˝’›ëüQY*óm3G X© Vúˇ  4t∑xºk„õEÛA»Òe„:7 r )SÄ{è^µÍP¸M˝¢¨6 ‚øåwoWç/ÙÎ=CÃè$ng{r ‡éI$˜® –ÔÌ ÒÛ¡ 7˙•æø·ΩwR‘n7]jû*»ΩøNÂ#h§å*Á<`ˆ Æ ^Òóà|SÆk^ ÒUÌæ±‚_ 0KÎ∑âÄ≥E9Xmó$E ˇ t ˝O}c k‘hÃõY YcRX|ßp›‘?Œ∂ap Cí≈ShI  1…ˇ ?Z∞9ÌV∏∞µˇ âTS=≈”2ô" åC <‡ÁΩy æó¨Í⁄÷ü•€€_ÍzŒ∑?Ÿ,≠`âÆ.%g'? Ï I<  'ÄMm d'∂¨ÙKèÖ⁄ﬂÖÌ¶o €•é≥{ I•i≠s ≠  ù$iål√s ·zÒœp höb DÈ  ”Ó5=E‡kÉ¶i6rjW°#RÚ8â |(…' éÁ5◊F  ∆Szªû±À‡wƒﬂå~/—¸'·oáﬁ1≥˛ﬂ$?âµœ^h˙=§
~y yëQû	  üC˝ | ¯‡Ÿ´¡∂^ ï≠≠Ôàd¥ xü≈ ?2ÓÚwÊX˜u	Àsúù«÷ΩäpT†˚≥ ∆W”ë ∂√ ‰"≤≤ÔU»-œ?_‚?ïVb¨ ™ÁêÁÊ›úıÙ¸ÎH=,xrZ±   N=xı„Ω5råôA˜LaÛë˛˙ˇ Z≤$¥d¨ ¢Ç# Gﬁ#á$ˇ >ÿ•…#¢p Éì◊ú˛?Øz â   AœóË>ˆy<˛t™ T ˝Â¬∞^ºú‰u¸k 6€∏…>œ À9  ŸÛdóÁ?ó„Q∂–¿2 Û≤ íHÈÌå˛¥EŸÅ$!3¬Â¡,A… sﬂÒÎœ_∆ò¯]ÿ?}é’`H^πˇ  |‘ÖØ∞*6 2|ò√ ¨û¸Òˇ Î´P∆ÓdEu·3µ”çß$ˆˇ ?≠)
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:BéΩz ^ıœ  x\L“GxûSÇä/-åFRA'ÂnúgØz®-.m eÊtV?Ÿ vQ_Ÿœe%º≈’
DEBUG:root:BéΩz ^ıœ  x\L“GxûSÇä/-åFRA'ÂnúgØz®-.m eÊtV?Ÿ vQ_Ÿœe%º≈’
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:è‚~≠„}7¡˙TÕ™E6ï®}èO∫ï,„-wòC ñ  Å«= ï“¨çª≈j Ih„ dàñP‡˜«_«Ω5/wó©YŸï-¸Mµ°> KõÌ7‚ •‹∑∏õÊ±’‚…'ÀbŸ»Á  ∆¥Ù´gä6ÖS	 û`òÂÜ[û ÁU ‘ ƒ{7â ±x √õ q4Æ‰û  2±«¸ üÀ÷º†C.–Å∂∞   z∏'ê/z#¨l6ÓÓ} ‡dík}
DEBUG:root:è‚~≠„}7¡˙TÕ™E6ï®}èO∫ï,„-wòC ñ  Å«= ï“¨çª≈j Ih„ dàñP‡˜«_«Ω5/wó©YŸï-¸Mµ°> KõÌ7‚ •‹∑∏õÊ±’‚…'ÀbŸ»Á  ∆¥Ù´gä6ÖS	 û`òÂÜ[û ÁU ‘ ƒ{7â ±x √õ q4Æ‰û  2±«¸ üÀ÷º†C.–Å∂∞   z∏'ê/z#¨l6ÓÓ} ‡dík}
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:9ºˇ ±Ï∏bÕ 0Ív  åéùÎÍm:∆k  ùs éÊ’Dr\¥õÂõ©‹{ Ω´g™h»Ùo ^#¯c¬÷æS2≈e"4ª˛Y	ì9 ‘ √÷º÷êÕ ÒÂ†8‰‡8Œ>ù{˚‘GH‹ †º í•Ωåá%gv È∆‚	*  s_ ˛›Mi ∆ç NÅß∏ìL¯se%Ã≥
DEBUG:root:9ºˇ ±Ï∏bÕ 0Ív  åéùÎÍm:∆k  ùs éÊ’Dr\¥õÂõ©‹{ Ω´g™h»Ùo ^#¯c¬÷æS2≈e"4ª˛Y	ì9 ‘ √÷º÷êÕ ÒÂ†8‰‡8Œ>ù{˚‘GH‹ †º í•Ωåá%gv È∆‚	*  s_ ˛›Mi ∆ç NÅß∏ìL¯se%Ã≥
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:  ƒAc3(Û˜
DEBUG:root:  ƒAc3(Û˜
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:K≈  ≥¨€G•jÉI÷o ∂◊–Ÿ ∏ÓÊxV=ã˛÷ @ÓEu≈{ßîùÓvﬂ <I5Ï¨S@’t‰“¥ÁâÓ/Ìe¥ΩöIºøµ §t 1˙±¨Ÿ¥Y LíhßÛ Ç\[  á√dê}:˛§‘Ú›Z„ ·Àg≥æ¥ ˜1ã¥πêIÇ” ¿Ç ”= πVI5
DEBUG:root:K≈  ≥¨€G•jÉI÷o ∂◊–Ÿ ∏ÓÊxV=ã˛÷ @ÓEu≈{ßîùÓvﬂ <I5Ï¨S@’t‰“¥ÁâÓ/Ìe¥ΩöIºøµ §t 1˙±¨Ÿ¥Y LíhßÛ Ç\[  á√dê}:˛§‘Ú›Z„ ·Àg≥æ¥ ˜1ã¥πêIÇ” ¿Ç ”= πVI5
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:#Dª‘ HPB ¨D  ¶ ô =Íe≥ ◊C6”Uπü≈6˜w∑QﬁC%Áõ4nßiR€ä∑‡qˇ  Ø≥Ù›'BªÇ
DEBUG:root:#Dª‘ HPB ¨D  ¶ ô =Íe≥ ◊C6”Uπü≈6˜w∑QﬁC%Áõ4nßiR€ä∑‡qˇ  Ø≥Ù›'BªÇ
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:¡?_z„/n‡M€õcÓ⁄Ÿ û∏ Á≠L)Ÿ∂TÁe´9Î´Àsj<å]ŒQô∞ É∆y˙W =‚°"I   hhÛ∑<ı«^á¸Û^æ çûß Zóı1'Ò ¥p4
DEBUG:root:¡?_z„/n‡M€õcÓ⁄Ÿ û∏ Á≠L)Ÿ∂TÁe´9Î´Àsj<å]ŒQô∞ É∆y˙W =‚°"I   hhÛ∑<ı«^á¸Û^æ çûß Zóı1'Ò ¥p4
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:¿f©•àë∞≤â (\ 0Nwq˛=ÎüQ•@ÓóV≤ŒÕêòój∆O\˙ıÆËTÁ\¨
 €®$´©$ñE…¡ 9¸:~u] (YIuLrs û@ÁÒˇ <÷U7∞ JÃP: <πW ÍrO≥  Ò™À!⁄Æ »Û<¶w…à ˝„é3YÅbh º»Ãª£-å∆8'ús¯û  ˆŒfGDmä%¡|nŒA#ü\P -Œõ 2…ÂÖ~ bÑÓ ˛Ω:‰5=>Vb‰ÓR~UCìúû}∫ˆ≠ì“‡q”ÿ47D¨{OF» õ#ÆyÓzT ÿ p≤ ±´. rÛ◊ ÁÎ˙’ æWò¬HJ™°¬∫gq9‰ˇ üzÈt…%ÛQ  I?Öπ¡Œy'ß Á÷∂á¬ ¢Z_œk h∂‚sÄJ( 0˚ÿ»ıœ˘ÔÙ Éf¥ï°ê¬-—¬ñF'jì… ıÓ«Ωif’Ó ˛.Iqg º⁄5ƒKÒI’¢[Ì á rI=rÁ€◊µ|q©Õ)ôú>·ÊÌt\Æ A é›Oz  «Q µÆÁ!™H…Iπ  hP>ØÎÔ÷π9ôf ≥ A#Ê* ¸üÁÔY™ _,"ê  ì∆NrA?çYÅ$be P Xû …œ \Ù©m¶Ù Nﬁ0|øô‘üü*I Á#5zy]sá¬Ö√>	›‘ÚØˇ ^ùı∞ °É.H˘Éˇ  Iaœ_Á¯’yÆÂÖÉåÇ2 :6s◊ÿfò Vì‚Xˆà‰ì‰fBÍœï 9 ?óÂÎ_W¸>¯Ö ∞6os Ï Fü2øò±üº[Í3MY›0=˙yÏı{q∞A7˙?ôÑmê FNHÁø5ÛãmÑ.ÍË  8 ¡¯w9ˇ 
Õ
DEBUG:root:¿f©•àë∞≤â (\ 0Nwq˛=ÎüQ•@ÓóV≤ŒÕêòój∆O\˙ıÆËTÁ\¨
 €®$´©$ñE…¡ 9¸:~u] (YIuLrs û@ÁÒˇ <÷U7∞ JÃP: <πW ÍrO≥  Ò™À!⁄Æ »Û<¶w…à ˝„é3YÅbh º»Ãª£-å∆8'ús¯û  ˆŒfGDmä%¡|nŒA#ü\P -Œõ 2…ÂÖ~ bÑÓ ˛Ω:‰5=>Vb‰ÓR~UCìúû}∫ˆ≠ì“‡q”ÿ47D¨{OF» õ#ÆyÓzT ÿ p≤ ±´. rÛ◊ ÁÎ˙’ æWò¬HJ™°¬∫gq9‰ˇ üzÈt…%ÛQ  I?Öπ¡Œy'ß Á÷∂á¬ ¢Z_œk h∂‚sÄJ( 0˚ÿ»ıœ˘ÔÙ Éf¥ï°ê¬-—¬ñF'jì… ıÓ«Ωif’Ó ˛.Iqg º⁄5ƒKÒI’¢[Ì á rI=rÁ€◊µ|q©Õ)ôú>·ÊÌt\Æ A é›Oz  «Q µÆÁ!™H…Iπ  hP>ØÎÔ÷π9ôf ≥ A#Ê* ¸üÁÔY™ _,"ê  ì∆NrA?çYÅ$be P Xû …œ \Ù©m¶Ù Nﬁ0|øô‘üü*I Á#5zy]sá¬Ö√>	›‘ÚØˇ ^ùı∞ °É.H˘Éˇ  Iaœ_Á¯’yÆÂÖÉåÇ2 :6s◊ÿfò Vì‚Xˆà‰ì‰fBÍœï 9 ?óÂÎ_W¸>¯Ö ∞6os Ï Fü2øò±üº[Í3MY›0=˙yÏı{q∞A7˙?ôÑmê FNHÁø5ÛãmÑ.ÍË  8 ¡¯w9ˇ 
Õ
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:7WªVE˚A1˘aHV¿obk§áQ
DEBUG:root:7WªVE˚A1˘aHV¿obk§áQ
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:ò,I9ﬂÔè«ı¨Õ	…"4‹åªâ%£¸Û˘Áˇ ØR#ÜVc∏ ˜@RKÁ<Á¸Û@◊WsoKπ0yõ1Ê vc ˜ˇ =}˙‘˜ dŒÆ‡˘ò*˚G Ús˛}kétÔ
DEBUG:root:ò,I9ﬂÔè«ı¨Õ	…"4‹åªâ%£¸Û˘Áˇ ØR#ÜVc∏ ˜@RKÁ<Á¸Û@◊WsoKπ0yõ1Ê vc ˜ˇ =}˙‘˜ dŒÆ‡˘ò*˚G Ús˛}kétÔ
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:âk/ÀÇ‡üó#◊≠jc-dŒ Tï§ïæS≤  e≤3ﬂö≈Û]‹ ÂA˘Fy«ˇ ^ÇK(Ï ˘0¿ı∆	œSﬂß>˘´—ÃÈµîüî êı›úú~Ω ¶ùùŒÑ¨¨uvì EëX ôg€¿lúı¸zuÆ„Mù%Du' ñ'ìÿéA˜ÆòªH∆JÃÎÙÎ§âXæ– „o¸¥˙Á˙{◊G “  ∫¸   bzˇ üZËé≤$ø Î(e âã Øû
DEBUG:root:âk/ÀÇ‡üó#◊≠jc-dŒ Tï§ïæS≤  e≤3ﬂö≈Û]‹ ÂA˘Fy«ˇ ^ÇK(Ï ˘0¿ı∆	œSﬂß>˘´—ÃÈµîüî êı›úú~Ω ¶ùùŒÑ¨¨uvì EëX ôg€¿lúı¸zuÆ„Mù%Du' ñ'ìÿéA˜ÆòªH∆JÃÎÙÎ§âXæ– „o¸¥˙Á˙{◊G “  ∫¸   bzˇ üZËé≤$ø Î(e âã Øû
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:ü, ßRO®Ô÷±%údç‡∫Ú úwÁ¸ı©6Üà©Ä«Â G°?@y?ZkñG^ä˘˜¿ÓN  ˛∫ {hvZ<ñ¬‘ Êr˚\u ?˛≥≈u J#ÖÜp 0 ı<w?ç j-ûuwáïô]âÚdØ ÎÔT˜ åc⁄	<ñ  $ÁÈXÕ›ËÕá,†»S< v‡`˙ûœ^µyf!£ ‰` r~CüÈﬁàª0: I˛ÃTπ ≤ ùçú<◊Eop © Ã7) ¶ 'Ú‰˛u— f`˜gYcv í¿Ñ >sÇÌûÁÍüÎ≥ë:°
DEBUG:root:ü, ßRO®Ô÷±%údç‡∫Ú úwÁ¸ı©6Üà©Ä«Â G°?@y?ZkñG^ä˘˜¿ÓN  ˛∫ {hvZ<ñ¬‘ Êr˚\u ?˛≥≈u J#ÖÜp 0 ı<w?ç j-ûuwáïô]âÚdØ ÎÔT˜ åc⁄	<ñ  $ÁÈXÕ›ËÕá,†»S< v‡`˙ûœ^µyf!£ ‰` r~CüÈﬁàª0: I˛ÃTπ ≤ ùçú<◊Eop © Ã7) ¶ 'Ú‰˛u— f`˜gYcv í¿Ñ >sÇÌûÁÍüÎ≥ë:°
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:ƒ »¡Á ˙W=q?ü∞2ı 6   #'ÒÁ˙÷}¿•"‡ ±ôyd,Ih˙˜Á•W s 5îC ≥lÚ∑ 'úgØØÁ@  õ‰ ^4l2c# #'ìœZ≤Ñ Õª|¨AŒ·œ›$Åû˘†»au*Wù¡ÚKu∆  π≠
DEBUG:root:ƒ »¡Á ˙W=q?ü∞2ı 6   #'ÒÁ˙÷}¿•"‡ ±ôyd,Ih˙˜Á•W s 5îC ≥lÚ∑ 'úgØØÁ@  õ‰ ^4l2c# #'ìœZ≤Ñ Õª|¨AŒ·œ›$Åû˘†»au*Wù¡ÚKu∆  π≠
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:N¶»Ig i Ö Ê   r«Å€öµ Ou$¬Y AÅâB„ÀÎÌﬂ=Ωk¬®”nMû§nó*gØx_√∂è  #Çco0I*n%Xåı#¸køº—R
DEBUG:root:N¶»Ig i Ö Ê   r«Å€öµ Ou$¬Y AÅâB„ÀÎÌﬂ=Ωk¬®”nMû§nó*gØx_√∂è  #Çco0I*n%Xåı#¸køº—R
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:œ¯÷|3≈>¡  *a$*rXÉ…˛ç M ¥ì»—¬ ¬∂ﬁA…ŒIˆˇ ı÷º> ªïå`*	S?8‰ÚXsèÛö Ë‡“"¥Ç8ßÅ ØR8‹}s¯˛¥”oÛ å·É ‰èõh'ú ^kú ]‹ ‚dâ¸ó«œÚïe'˙÷bÍ∑∂VÏ…2>¯∂1b à9∆O„@ ≈Œ±u<òi ïó s ‡cåû√Ø„Y‚f úú3g oÌ˛~¥”kf ¥çbí√p°_|#0ìïGÕ¸˝iíJÆ» ãFΩc]ªè\úıËmΩŸ¨cÀ≠ ¯l6Ï·Ú0y…ÊØ¡nÌ¿|»´µ ≥ s◊Òˇ ı“,∑m¶,m Õ n_Ó wÁååÛ˛}kFX“R≠ Q ª<èïªÛ€ˇ ◊ﬁÄ2ÊÖaªP ng˝‰  ùsêG„WÓØ–‚“ ·H|Õ·»˝ ˛o@h 6¯™4o © #Ê … ‰ÚüÛ®‚ñiâƒ™å™NÃ}Ûìüßﬁ¢˜‹¡ÓÃ˘ôYôôI „9 è˘ ¥¶D *ù¨ßÜ<7=âıÁÎÕ %í  ÷`‹ÆC C rüΩI‰…Û∏Ú‘ µ∞x ˆ˜˛¥ ü(  Ìegsï ëﬂπ¸ˇ 1LÉÃp≠è1r vx ‘ ı´Ñ≠t  Ô Ùê @Á ÒŒœΩAl<ﬂ1öRwq∑q‹: ˙qè÷îõoPZËN v6 ú©<uÁØ˘ÈMè#ylâ0y ıÍOOÛöìh≈DÖ‚√  ›¡⁄ »ÔœÎ÷î)  gÃ>náw œ?ò¸h(ù≠ñL
DEBUG:root:œ¯÷|3≈>¡  *a$*rXÉ…˛ç M ¥ì»—¬ ¬∂ﬁA…ŒIˆˇ ı÷º> ªïå`*	S?8‰ÚXsèÛö Ë‡“"¥Ç8ßÅ ØR8‹}s¯˛¥”oÛ å·É ‰èõh'ú ^kú ]‹ ‚dâ¸ó«œÚïe'˙÷bÍ∑∂VÏ…2>¯∂1b à9∆O„@ ≈Œ±u<òi ïó s ‡cåû√Ø„Y‚f úú3g oÌ˛~¥”kf ¥çbí√p°_|#0ìïGÕ¸˝iíJÆ» ãFΩc]ªè\úıËmΩŸ¨cÀ≠ ¯l6Ï·Ú0y…ÊØ¡nÌ¿|»´µ ≥ s◊Òˇ ı“,∑m¶,m Õ n_Ó wÁååÛ˛}kFX“R≠ Q ª<èïªÛ€ˇ ◊ﬁÄ2ÊÖaªP ng˝‰  ùsêG„WÓØ–‚“ ·H|Õ·»˝ ˛o@h 6¯™4o © #Ê … ‰ÚüÛ®‚ñiâƒ™å™NÃ}Ûìüßﬁ¢˜‹¡ÓÃ˘ôYôôI „9 è˘ ¥¶D *ù¨ßÜ<7=âıÁÎÕ %í  ÷`‹ÆC C rüΩI‰…Û∏Ú‘ µ∞x ˆ˜˛¥ ü(  Ìegsï ëﬂπ¸ˇ 1LÉÃp≠è1r vx ‘ ı´Ñ≠t  Ô Ùê @Á ÒŒœΩAl<ﬂ1öRwq∑q‹: ˙qè÷îõoPZËN v6 ú©<uÁØ˘ÈMè#ylâ0y ıÍOOÛöìh≈DÖ‚√  ›¡⁄ »ÔœÎ÷î)  gÃ>náw œ?ò¸h(ù≠ñL
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:X”4Ö$2HX ¡ ñ 9„?ÁÒ°ïÜ jÌoªó,
DEBUG:root:X”4Ö$2HX ¡ ñ 9„?ÁÒ°ïÜ jÌoªó,
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:qÌ˛}Î9 
DEBUG:root:qÌ˛}Î9 
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:Û‹Úk2Óo-[`¡~ [†Áû¸ÛöMŸ6 Qù˜0bCÌ» \ˇ ˙Í‰Á∂OQŒs◊?üÊ  ÓÓ ª 2\üÚ˝u"6’»M€âRI»=œÁ÷ê  B¨ èΩ˛Ó”úú’Ñ9V‹Al„¶
ûß8ˇ  ı¥euÊ ÿYQAÎœÃ ¶OQ˛≠ZYäpà√®Rô ˙íq˛sT
DEBUG:root:Û‹Úk2Óo-[`¡~ [†Áû¸ÛöMŸ6 Qù˜0bCÌ» \ˇ ˙Í‰Á∂OQŒs◊?üÊ  ÓÓ ª 2\üÚ˝u"6’»M€âRI»=œÁ÷ê  B¨ èΩ˛Ó”úú’Ñ9V‹Al„¶
ûß8ˇ  ı¥euÊ ÿYQAÎœÃ ¶OQ˛≠ZYäpà√®Rô ˙íq˛sT
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:˘a YwJü¿c8Â±¯i°€M%Î3Mmqat÷ìi˜q5Ω˙:≥oIb îe¡ 7 É[S®ÓuBjKÃ„Æ¨eÇDWÄ™´u8œ'øÁı‰˝k:XGÀëèõ   {ˇ ZËSO‘≤7âT±(I∆v „‘Ù™ÊŸ7oOπ'g
DEBUG:root:˘a YwJü¿c8Â±¯i°€M%Î3Mmqat÷ìi˜q5Ω˙:≥oIb îe¡ 7 É[S®ÓuBjKÃ„Æ¨eÇDWÄ™´u8œ'øÁı‰˝k:XGÀëèõ   {ˇ ZËSO‘≤7âT±(I∆v „‘Ù™ÊŸ7oOπ'g
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:95 ÃVª˚,í å—´·ôSÊ⁄ »œ~ÊΩ √Ö.ÆÃ≤ ©±IM˚6 π ˙ı˜®ƒ≈(∂U ~ß£≈ N¨ $∂v ·|ıˇ ı“√ß¥í´ò¡ 'dä@›ŒHˇ <Êº”≤	
DEBUG:root:95 ÃVª˚,í å—´·ôSÊ⁄ »œ~ÊΩ √Ö.ÆÃ≤ ©±IM˚6 π ˙ı˜®ƒ≈(∂U ~ß£≈ N¨ $∂v ·|ıˇ ı“√ß¥í´ò¡ 'dä@›ŒHˇ <Êº”≤	
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:  öÁ|¨  q«ry‹GÊ? ’Ì:Â‘1/í¯O0 ÿÓ  ¿˚◊Éô[S—¬7u©Óû ï⁄4c83‰ƒ—1⁄[' ìÍ	¸Î–`æî)@pÊlÌ-ù£øÚÌ˙◊ÀK‚g–S¯H P>hëô  *8¡…ÓOCä±ˆÖ}§o
DEBUG:root:  öÁ|¨  q«ry‹GÊ? ’Ì:Â‘1/í¯O0 ÿÓ  ¿˚◊Éô[S—¬7u©Óû ï⁄4c83‰ƒ—1⁄[' ìÍ	¸Î–`æî)@pÊlÌ-ù£øÚÌ˙◊ÀK‚g–S¯H P>hëô  *8¡…ÓOCä±ˆÖ}§o
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root: ¯∆≈ w eL*ÌÄ§‰±'†Á?ùz-∂∑zë2≠≈¡@vnÖéıbx¿ÙÎüZ˘<~ ﬂ±ÙxJ˛ÂÓ\ÉQPÊwñ‡\B√ô∆ v OÛ¸˛µ“>ßˆ¥⁄ eä\
DEBUG:root: ¯∆≈ w eL*ÌÄ§‰±'†Á?ùz-∂∑zë2≠≈¡@vnÖéıbx¿ÙÎüZ˘<~ ﬂ±ÙxJ˛ÂÓ\ÉQPÊwñ‡\B√ô∆ v OÛ¸˛µ“>ßˆ¥⁄ eä\
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:>Œ9áÓZtîÂù 2 ßÎücÈ“∑ Ê {uîπÃhVMŸ œ=±ﬂÅ˘R
DEBUG:root:>Œ9áÓZtîÂù 2 ßÎücÈ“∑ Ê {uîπÃhVMŸ œ=±ﬂÅ˘R
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:∆2ê¡Ü ïπ'Ø~ˇ ü9ß ooò ]«-ézúúPn9 5î£ ¿rJù∏˜ˇ  Óy´pr>bß q#$Ò¿™áƒe5≠ƒÃ≤ F`ÄÉÄ√ Áì◊<˛=˛µn’ä¢ƒ‡Ó…bTëŒsœßˇ ^∂ µûw†ªÂ… ê yŒ=ÍGéE  ÆÓåyÙ$ˇ : qô U?{ H∑”üÂKÁ…ÅÄ    dt4‚˘@‘iã*|Ñ*Æ qÚíG<˝{Uïvå ^Ñ <pßΩ∑∏ Y$P•≤ÿ vùºÛíd‘—»WñL †Ö
DEBUG:root:∆2ê¡Ü ïπ'Ø~ˇ ü9ß ooò ]«-ézúúPn9 5î£ ¿rJù∏˜ˇ  Óy´pr>bß q#$Ò¿™áƒe5≠ƒÃ≤ F`ÄÉÄ√ Áì◊<˛=˛µn’ä¢ƒ‡Ó…bTëŒsœßˇ ^∂ µûw†ªÂ… ê yŒ=ÍGéE  ÆÓåyÙ$ˇ : qô U?{ H∑”üÂKÁ…ÅÄ    dt4‚˘@‘iã*|Ñ*Æ qÚíG<˝{Uïvå ^Ñ <pßΩ∑∏ Y$P•≤ÿ vùºÛíd‘—»WñL †Ö
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:Ú
DEBUG:root:Ú
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:≤#â#p Àé:Á◊◊éµπú“Hör7Ø VcÀÉ¿'?„ÎQYÓ$» 
DEBUG:root:≤#â#p Àé:Á◊◊éµπú“Hör7Ø VcÀÉ¿'?„ÎQYÓ$» 
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:—ùÿ‰Ûœ˘˛uüπK 2∫ÓAÛ.AS›[¸ı5ÚßŸß£D—€ ®´"â 2 …
DEBUG:root:—ùÿ‰Ûœ˘˛uüπK 2∫ÓAÛ.AS›[¸ı5ÚßŸß£D—€ ®´"â 2 …
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:ªﬂ©Ía5\ßV4∂y‰ïb"8œÃFv©Ír  èø5A†Ú‰VÑ  i  ∏ı9«Á^Zö≥Mù¸Ω .Z€[‹yÕ"Ü∏u*í1$G◊vGÂﬂø÷∫ Öî6ﬁDˆ≤ΩƒqÅ –Mµ ÆÂÈﬂÎ^n ﬁïë€Ca ˙  èsóGò2"7ÃÑëüßS[)ôàëD
DEBUG:root:ªﬂ©Ía5\ßV4∂y‰ïb"8œÃFv©Ír  èø5A†Ú‰VÑ  i  ∏ı9«Á^Zö≥Mù¸Ω .Z€[‹yÕ"Ü∏u*í1$G◊vGÂﬂø÷∫ Öî6ﬁDˆ≤ΩƒqÅ –Mµ ÆÂÈﬂÎ^n ﬁïë€Ca ˙  èsóGò2"7ÃÑëüßS[)ôàëD
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root: "≤§¨é¡ ÁÜ¿Ózˇ µÔ]Gö"  ìììÇqﬂ'ı¸ÍJnÓ‰ñW ŒY  I–  úuœÊz◊D5 W ¡dEl,cëí« ◊üÎI´´ ‘%hjI%⁄‹#H>¯\a¯S‘û? ^3‚6ô/ß,ã Œ ©€ Á< ¸ÒÔı9Õksxª≠O>πFfy åÜOQ±W 8'=94ÎubÑÌâ ü0ÉÀ'?˝~ûÊ†°≤®bN◊√ é‡ì€?”ΩR{ 18—2∑Ã»6±$Ú ∑'≠o  ¨6Ôπï<ΩÜ%P T \ <} ≠d´∆$1M !F‹09-ª°˝iúÌZÁoß[mí% 
8 #`ûp}zcøπØ\”≠·6”À# ¯ 0 œ  É¯ ?:Œ°ËeÓ’.G%¬€∆`x‹˘£ ]§º|Á∑˘Êô!uVX∞	å£ B@ œ?ØÁ\Œ °ˆqítÓŸ·>7úEq2ùÃ eõ   OØlì¯è∆πªMZ“Kes"¬wm._hn‹~^ı’MhŸÚyõµfyØåµ ,Áô£1Œ ¿ ÷O00a…'€<‚∞¥πcï’ÇeJyÆ ~T''ü«=˚Sú[ı  ﬂ%œLπx.°ï^i£KØ=`/∂ pF 9«9#˙◊ª[JØ≤B´Êl˘îÚ§ ææßö™QÓeèml… Uyé 
OP:Ú3˛~µ1Ë¡ Xõ# ®¡#?˛Æµ–y ŸôÌk
DEBUG:root: "≤§¨é¡ ÁÜ¿Ózˇ µÔ]Gö"  ìììÇqﬂ'ı¸ÍJnÓ‰ñW ŒY  I–  úuœÊz◊D5 W ¡dEl,cëí« ◊üÎI´´ ‘%hjI%⁄‹#H>¯\a¯S‘û? ^3‚6ô/ß,ã Œ ©€ Á< ¸ÒÔı9Õksxª≠O>πFfy åÜOQ±W 8'=94ÎubÑÌâ ü0ÉÀ'?˝~ûÊ†°≤®bN◊√ é‡ì€?”ΩR{ 18—2∑Ã»6±$Ú ∑'≠o  ¨6Ôπï<ΩÜ%P T \ <} ≠d´∆$1M !F‹09-ª°˝iúÌZÁoß[mí% 
8 #`ûp}zcøπØ\”≠·6”À# ¯ 0 œ  É¯ ?:Œ°ËeÓ’.G%¬€∆`x‹˘£ ]§º|Á∑˘Êô!uVX∞	å£ B@ œ?ØÁ\Œ °ˆqítÓŸ·>7úEq2ùÃ eõ   OØlì¯è∆πªMZ“Kes"¬wm._hn‹~^ı’MhŸÚyõµfyØåµ ,Áô£1Œ ¿ ÷O00a…'€<‚∞¥πcï’ÇeJyÆ ~T''ü«=˚Sú[ı  ﬂ%œLπx.°ï^i£KØ=`/∂ pF 9«9#˙◊ª[JØ≤B´Êl˘îÚ§ ææßö™QÓeèml… Uyé 
OP:Ú3˛~µ1Ë¡ Xõ# ®¡#?˛Æµ–y ŸôÌk
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root: Ê3"ØâuÎÑ÷.âÛ  %øñ´¥ßbC O
DEBUG:root: Ê3"ØâuÎÑ÷.âÛ  %øñ´¥ßbC O
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:É ø˝zŒi   œ#¸∆ 
 ∑◊¸ˇ çiv¢≠∏„.käó.Œë34AGÓ¿_C…8 „¯“IvLÖs∫/3 1(«‘üˇ ]d’’ä ó{•è.Ãë ïIŒÓπÕm[›!˘èÃÍI›€'∂? 1ÎXµf– PÃSÏÌ
DEBUG:root:É ø˝zŒi   œ#¸∆ 
 ∑◊¸ˇ çiv¢≠∏„.käó.Œë34AGÓ¿_C…8 „¯“IvLÖs∫/3 1(«‘üˇ ]d’’ä ó{•è.Ãë ïIŒÓπÕm[›!˘èÃÍI›€'∂? 1ÎXµf– PÃSÏÌ
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:I  £‰…e∆ 
Á8
DEBUG:root:I  £‰…e∆ 
Á8
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root: œSÈÌ«JtíÉïP6ûßêI'?ÁÎ@ Û¥ó#w9⁄3œØ Ö)`£-úgí9∆O= ˛øp …".l ?√ì∏g◊Û˝j=¡ ∞$sÉ»‰ Z º"U  pX°8…'ú˚rsRy£  òrr2H«∂?Œ}Ë Uì bÏN  @  …ÁØzù.ë˘»AÉÚúñœ˘¸Û@ 2
Ç 69s¸#åÁıÔˇ ◊ß[1dñf
<∂⁄™[,ŸÔ˙ú– Í™É{ … c8ıˇ  ¸˛u:∏*2ø7\ˇ xw¿œøÎU X \ågœ=pŒOÁO»¡S∏é†c cˇ Î¸kTÓÆ »≤U~˜#Ê⁄wddÊß1·îsá 3Û ¸˙‚ò	!fÌÖ Ö   }˙z’ònJê P‰d∞Œz˜ÙËZ íÓc,£ 9 9V9Áåı˙öS/r©Å¿ aA=?Î@ıÌ˝?œ˘ÔQ
DEBUG:root: œSÈÌ«JtíÉïP6ûßêI'?ÁÎ@ Û¥ó#w9⁄3œØ Ö)`£-úgí9∆O= ˛øp …".l ?√ì∏g◊Û˝j=¡ ∞$sÉ»‰ Z º"U  pX°8…'ú˚rsRy£  òrr2H«∂?Œ}Ë Uì bÏN  @  …ÁØzù.ë˘»AÉÚúñœ˘¸Û@ 2
Ç 69s¸#åÁıÔˇ ◊ß[1dñf
<∂⁄™[,ŸÔ˙ú– Í™É{ … c8ıˇ  ¸˛u:∏*2ø7\ˇ xw¿œøÎU X \ågœ=pŒOÁO»¡S∏é†c cˇ Î¸kTÓÆ »≤U~˜#Ê⁄wddÊß1·îsá 3Û ¸˙‚ò	!fÌÖ Ö   }˙z’ònJê P‰d∞Œz˜ÙËZ íÓc,£ 9 9V9Áåı˙öS/r©Å¿ aA=?Î@ıÌ˝?œ˘ÔQ
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:À¥Å˜‹ Äqœ=˚üŒÉ{[a^ÂÄ›∏‡å·T±˙˙“‚6|FD¸|≠Ç∏c…<˛øZ PdLe¡!r¿ìé •8 îVªT‰ ˜≥Ç~øù ,lÆå Öb≈∞N
ì◊ü≠)C ñ F◊Ë@-Œpr ŒÄ I'›g,pH œRr≠5ôö@ #™Ø √ ÎﬂÛ¸Ë ®õ#p¿·òπRK éﬂ„Rá%xb ¿
DEBUG:root:À¥Å˜‹ Äqœ=˚üŒÉ{[a^ÂÄ›∏‡å·T±˙˙“‚6|FD¸|≠Ç∏c…<˛øZ PdLe¡!r¿ìé •8 îVªT‰ ˜≥Ç~øù ,lÆå Öb≈∞N
ì◊ü≠)C ñ F◊Ë@-Œpr ŒÄ I'›g,pH œRr≠5ôö@ #™Ø √ ÎﬂÛ¸Ë ®õ#p¿·òπRK éﬂ„Rá%xb ¿
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:OÁ˛yÆ∑I”—€s†⁄I0‡í‹üΩÔ^ "VlÙË¬ÏÙ
DEBUG:root:OÁ˛yÆ∑I”—€s†⁄I0‡í‹üΩÔ^ "VlÙË¬ÏÙ
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:^DnßüœØØΩt
DEBUG:root:^DnßüœØØΩt
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:Œ —∑ Óy ”:…p ñ[œ Â  â‡úc˘uÕkÈBS î¢6›Û ‹ §ı˙ ÷æ‚¢ä¢|º]ÁπﬁŸN¬›ã∞èÓ∆õà=˝ ˘¸k
DEBUG:root:Œ —∑ Óy ”:…p ñ[œ Â  â‡úc˘uÕkÈBS î¢6›Û ‹ §ı˙ ÷æ‚¢ä¢|º]ÁπﬁŸN¬›ã∞èÓ∆õà=˝ ˘¸k
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:¡\ê≠ÎœZÁ n ñ0§#  ﬂÕ⁄§¸πÎü\bª5¶  ì<aÇ° úÁÒÔ˘– koÇ }™ √πäÁû Û¸Î]-Q’∑É G
DEBUG:root:¡\ê≠ÎœZÁ n ñ0§#  ﬂÕ⁄§¸πÎü\bª5¶  ì<aÇ° úÁÒÔ˘– koÇ }™ √πäÁû Û¸Î]-Q’∑É G
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:	,B¸Áí `rN Æ<˛ ”E1EHÿ˘∞'
DEBUG:root:	,B¸Áí `rN Æ<˛ ”E1EHÿ˘∞'
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:åqﬂ=èÁYîTçú∆BÏëæ˛‚¯`y=Ω:P≤OÁ®SÊ©à Ï ‹« ÎÏ1˛s@ íbƒ ŒÛ˜∏%HÎ˘’Ç0$  h‘d`‰±‡ ˙Ò@  Ì⁄Eiwá1në’≤ „Åﬂ$”≠‚ﬂ
DEBUG:root:åqﬂ=èÁYîTçú∆BÏëæ˛‚¯`y=Ω:P≤OÁ®SÊ©à Ï ‹« ÎÏ1˛s@ íbƒ ŒÛ˜∏%HÎ˘’Ç0$  h‘d`‰±‡ ˙Ò@  Ì⁄Eiwá1në’≤ „Åﬂ$”≠‚ﬂ
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:…Û\ﬂ ígLåTêŒ lÖ©∆s˝:ˇ ûk∑—. ¸¨$v Z2 " ‹Ú~ß◊ÒØ ≤˜o‘ı©ª3ø”Áﬁ f2¨Œ€¬˝—‘Á?QÕmA4f ¶
DEBUG:root:…Û\ﬂ ígLåTêŒ lÖ©∆s˝:ˇ ûk∑—. ¸¨$v Z2 " ‹Ú~ß◊ÒØ ≤˜o‘ı©ª3ø”Áﬁ f2¨Œ€¬˝—‘Á?QÕmA4f ¶
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:}Î°∑ ¬ ¢°Àê∏?2û§èÁ¯– Ùæ  	F˚ƒÛú˛4Ÿ6 ñ…Û9R …Á®>Ÿ˝h 1nªAkÑ  Cπ±é¯¸?≠d∫ 
C∂\ê6åÅåÚz– Q’Y¬êwå Ë}˛ü˝zô!
DEBUG:root:}Î°∑ ¬ ¢°Àê∏?2û§èÁ¯– Ùæ  	F˚ƒÛú˛4Ÿ6 ñ…Û9R …Á®>Ÿ˝h 1nªAkÑ  Cπ±é¯¸?≠d∫ 
C∂\ê6åÅåÚz– Q’Y¬êwå Ë}˛ü˝zô!
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:œS¥∞∂# ë Ö
DEBUG:root:œS¥∞∂# ë Ö
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:Œ ˛ ﬂ _?õ®xõ_æî/ó ÛÍìÆ≈9¬‰0 ©˙ÁøZ» œq
DEBUG:root:Œ ˛ ﬂ _?õ®xõ_æî/ó ÛÍìÆ≈9¬‰0 ©˙ÁøZ» œq
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root: È†Öù]î»6êåT>yÌüß5•©\¿mƒ\«Á ùŸﬁ¸Áì¯PLù€g u0ÜeTçHç∑271∑ÆGÁ¯’[kµöÊ· ¢´ Ú¶X s‘ü«¸Ê≤îmv#–º ·=W≈”Lñê4:}°Õ›‰ßÀ∑àdˇ  „ Î◊û'œÇ4 Ô ¯[|ö•“M[S-Â}†g,â‹ÆH ô ≠@y  Å„
DEBUG:root: È†Öù]î»6êåT>yÌüß5•©\¿mƒ\«Á ùŸﬁ¸Áì¯PLù€g u0ÜeTçHç∑271∑ÆGÁ¯’[kµöÊ· ¢´ Ú¶X s‘ü«¸Ê≤îmv#–º ·=W≈”Lñê4:}°Õ›‰ßÀ∑àdˇ  „ Î◊û'œÇ4 Ô ¯[|ö•“M[S-Â}†g,â‹ÆH ô ≠@y  Å„
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:‹= DÓœ/‘tmKYI,› …çÅíI Â‰é:˛û’–¡ˇ QãJπ6±A$∫|B‡<≤ÕúaGØ^«<‘≠Õ*Àí6G—˛)“n<?·è
K¶Ó∂é  -÷™ñóé)à )vË ?ﬁ?çx ñ£‚yv€«9ÇIÀK(‹ π9œL˜≠'.TcáJwlı{ü «•xz)ò2ºƒK6“™äπ…  zÛˇ Î¨/ ¯#G_ xOP∑‘ ≥‘¸M<∏í‰áÜ¡ dãÕîr¿`»‹zw¨y€OS¢—RV_3“˛ ¸ Óñ˜^.÷µQ´ÈzM∫˝Çy≠äZj∑MÇ i$ëﬂæ{◊ ‚Q5∑äìWxZœEπ’ ’å ÂB“HÃÿ †Œ ÷-∂¨ÀZ…˜>îÒ?çmº!¢hvæ í√O:‹_øø@./Œ È'gë”ØjÛ›_]‘ı{KÁñ)5	mÏe∫üœRÒ0XŸò∂x¿ „ø Ù£}ﬁ‚ù£ œõ|7·Õf˚L˛“πU≤—Æ59-≠ 'iòÜ
DEBUG:root:‹= DÓœ/‘tmKYI,› …çÅíI Â‰é:˛û’–¡ˇ QãJπ6±A$∫|B‡<≤ÕúaGØ^«<‘≠Õ*Àí6G—˛)“n<?·è
K¶Ó∂é  -÷™ñóé)à )vË ?ﬁ?çx ñ£‚yv€«9ÇIÀK(‹ π9œL˜≠'.TcáJwlı{ü «•xz)ò2ºƒK6“™äπ…  zÛˇ Î¨/ ¯#G_ xOP∑‘ ≥‘¸M<∏í‰áÜ¡ dãÕîr¿`»‹zw¨y€OS¢—RV_3“˛ ¸ Óñ˜^.÷µQ´ÈzM∫˝Çy≠äZj∑MÇ i$ëﬂæ{◊ ‚Q5∑äìWxZœEπ’ ’å ÂB“HÃÿ †Œ ÷-∂¨ÀZ…˜>îÒ?çmº!¢hvæ í√O:‹_øø@./Œ È'gë”ØjÛ›_]‘ı{KÁñ)5	mÏe∫üœRÒ0XŸò∂x¿ „ø Ù£}ﬁ‚ù£ œõ|7·Õf˚L˛“πU≤—Æ59-≠ 'iòÜ
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:Yãmú=ºz=¬x° [O ›C,gdîπ  p‡ê}8>ï—¯7¬ö.°‡≠"‚K %öﬁIgﬁr åí ÌlÚ Í>ΩÛH’YE\Â|
DEBUG:root:Yãmú=ºz=¬x° [O ›C,gdîπ  p‡ê}8>ï—¯7¬ö.°‡≠"‚K %öﬁIgﬁr åí ÌlÚ Í>ΩÛH’YE\Â|
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:r1Ä≤ƒÿ˝›∆2$RB∂7pIŒs]M ó√˛0¥¥“ˇ · Ò~ãoØEn%m ˆÍÚˆ ¥yŸÉ Ø îí ¿‹§tÂYH…Ënm4Ø ËóM
DEBUG:root:r1Ä≤ƒÿ˝›∆2$RB∂7pIŒs]M ó√˛0¥¥“ˇ · Ò~ãoØEn%m ˆÍÚˆ ¥yŸÉ Ø îí ¿‹§tÂYH…Ënm4Ø ËóM
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:5= œ‡˝á«â/4èÜíZÈﬁ?í’Ó¥_Í Ÿx¢e‹”Z€Õ!TÇÏ®ﬂ
πÚÂbc,ÑÆ|ÀRˇ àD· È Z?ä<  ≤ûﬁˆ›¨nå
s‰NÆAÛê±(‡|¿ëìÚ–¸˜4KE%‘˜_Ö©~æ Ω∑ ﬂO˝•yo∂p“KÄã¥úêUÉ±#ßpk‹u{v  —cû›“Yı]%'à∑11* ‰Ì   <ìZSΩﬁÜ““îu’ûë‚ãy„º]ΩÕÅ∑ÚÏu µ∫±Æ‡Û   zÌìro JÊ~#i”Z-Ñ ã \h˜W ∆2X ¯!7pd8‡é›ÍjZÈ>§“ìçÏœÅ|wi≠j⁄Ã7⁄t3Bñs∞ªÅú¨®únœ˝›ŸÙ5≠a·ÎÀªÀ©¨5çÚ∆ÏâêÇ ˘l‡˜ŒrM\RÂ€V9JÕ Oà¨o-‚1ÎSõ∞<¯ÌU—üÕîÁñ8$ı „◊ﬁºYÙ(„∞’/cCgoeÀµ¡V œºÆÿ˚í3ê:‡sS ´Û)lÉ˚Tk∂6/Ì-Êëv˜ˆÚ¬»ó ûa€.ÂlñPv3 ê  ö˝ ¯p÷∫èÖt'ªô£ûÁLÉl∑NÓ#q¿]ÿ-∑¶ ê99#≠:ù “M≥∏πÛ€K=§lcó˜¢‚ @ ÁÊ⁄Õ¡Î÷ºGƒ LÚhﬁ ElD÷ ¥äc⁄ d''wÀÅŸπ∆OJ ≠Ør ªl˘√‡“È±x¶ÔL‘/ç‘Wõâµ¥íQ ≤¸√
DEBUG:root:5= œ‡˝á«â/4èÜíZÈﬁ?í’Ó¥_Í Ÿx¢e‹”Z€Õ!TÇÏ®ﬂ
πÚÂbc,ÑÆ|ÀRˇ àD· È Z?ä<  ≤ûﬁˆ›¨nå
s‰NÆAÛê±(‡|¿ëìÚ–¸˜4KE%‘˜_Ö©~æ Ω∑ ﬂO˝•yo∂p“KÄã¥úêUÉ±#ßpk‹u{v  —cû›“Yı]%'à∑11* ‰Ì   <ìZSΩﬁÜ““îu’ûë‚ãy„º]ΩÕÅ∑ÚÏu µ∫±Æ‡Û   zÌìro JÊ~#i”Z-Ñ ã \h˜W ∆2X ¯!7pd8‡é›ÍjZÈ>§“ìçÏœÅ|wi≠j⁄Ã7⁄t3Bñs∞ªÅú¨®únœ˝›ŸÙ5≠a·ÎÀªÀ©¨5çÚ∆ÏâêÇ ˘l‡˜ŒrM\RÂ€V9JÕ Oà¨o-‚1ÎSõ∞<¯ÌU—üÕîÁñ8$ı „◊ﬁºYÙ(„∞’/cCgoeÀµ¡V œºÆÿ˚í3ê:‡sS ´Û)lÉ˚Tk∂6/Ì-Êëv˜ˆÚ¬»ó ûa€.ÂlñPv3 ê  ö˝ ¯p÷∫èÖt'ªô£ûÁLÉl∑NÓ#q¿]ÿ-∑¶ ê99#≠:ù “M≥∏πÛ€K=§lcó˜¢‚ @ ÁÊ⁄Õ¡Î÷ºGƒ LÚhﬁ ElD÷ ¥äc⁄ d''wÀÅŸπ∆OJ ≠Ør ªl˘√‡“È±x¶ÔL‘/ç‘Wõâµ¥íQ ≤¸√
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:ß#é*‹,Ø{ï ˆ Ñ„Ü€·ﬂÖÌ,•t _i—≈  Ö¬It ÇH„,p:dqå◊Ø¯ëãxõ¡"eTÕ˛°6A»µw òûπ8>∆≥N˜7∂â˜:€ÿ ¯™Kï qm Jé.ª£o>Âé=èRO˜Ü=Oôk Tíx¶˜S±ºM
DEBUG:root:ß#é*‹,Ø{ï ˆ Ñ„Ü€·ﬂÖÌ,•t _i—≈  Ö¬It ÇH„,p:dqå◊Ø¯ëãxõ¡"eTÕ˛°6A»µw òûπ8>∆≥N˜7∂â˜:€ÿ ¯™Kï qm Jé.ª£o>Âé=èRO˜Ü=Oôk Tíx¶˜S±ºM
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:O∆7á√z
… «n$øö⁄XÌ^ Sú"9∆«v‡ » à ™ZèÏ’ak
DEBUG:root:O∆7á√z
… «n$øö⁄XÌ^ Sú"9∆«v‡ » à ™ZèÏ’ak
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:zÄ§ º H$1‰ÖÁ?˛∫ÑÌ›ç∏  åÚAˇ 
DEBUG:root:zÄ§ º H$1‰ÖÁ?˛∫ÑÌ›ç∏  åÚAˇ 
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:á 9#'úÛ˛=~µ ln‹:å < ûOÎWŒÌn† ›…# gÅÿ Îœ?Z@ Ó
DEBUG:root:á 9#'úÛ˛=~µ ln‹:å < ûOÎWŒÌn† ›…# gÅÿ Îœ?Z@ Ó
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root::‡34˜ ]»è,ì ¡}ê¿É §c÷∏üÜ”µµÕÙ1‹ ”¸â^‚)% $∏*¡ Rr«>‘Z∆)Ÿ‹¬≤∫’5 ÌBﬁ %ë÷{ì*Ö	∑Ê'© {#8 ¶æä¯ „e≠óç£‘`íIuç#O”¨`há -»êπœÃ
™Ó g©œj •JwVH˜mG„, ü uèÖkß›G™j>9±Ò-ŒΩ   ˆD Œãi
m›ÛÕ?ûÏ[ ∫∆ Ïãﬁ ÒΩæ©c‡  j>cË ^Ø F∑≤X
‹Œ€Æ'ò¶ IX*ßòI! Tp1IÌÊc(›ßπ˙ ˚0Îqx#„ √˚ 'I∑◊|cc¶ ¯C%:qqß¯øZï◊Ì  ...≠ë˛œnÁï :Æ‡~ík#·ØƒO jñ˛$G–|e‡ΩJ„OOàI X›˘0,íÍ K™™	^ Ê»XÀ∏)-¬öÈ¡Î ˜NÁ
DEBUG:root::‡34˜ ]»è,ì ¡}ê¿É §c÷∏üÜ”µµÕÙ1‹ ”¸â^‚)% $∏*¡ Rr«>‘Z∆)Ÿ‹¬≤∫’5 ÌBﬁ %ë÷{ì*Ö	∑Ê'© {#8 ¶æä¯ „e≠óç£‘`íIuç#O”¨`há -»êπœÃ
™Ó g©œj •JwVH˜mG„, ü uèÖkß›G™j>9±Ò-ŒΩ   ˆD Œãi
m›ÛÕ?ûÏ[ ∫∆ Ïãﬁ ÒΩæ©c‡  j>cË ^Ø F∑≤X
‹Œ€Æ'ò¶ IX*ßòI! Tp1IÌÊc(›ßπ˙ ˚0Îqx#„ √˚ 'I∑◊|cc¶ ¯C%:qqß¯øZï◊Ì  ...≠ë˛œnÁï :Æ‡~ík#·ØƒO jñ˛$G–|e‡ΩJ„OOàI X›˘0,íÍ K™™	^ Ê»XÀ∏)-¬öÈ¡Î ˜NÁ
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root: ° gf∑8{- Î3ƒ†ô m2ò@i Ûé: ˆ≥]˜É°û“€l6À B“Àuq#»Ò≤ ÂO (Ô‹„ΩKìë◊Fü 
DEBUG:root: ° gf∑8{- Î3ƒ†ô m2ò@i Ûé: ˆ≥]˜É°û“€l6À B“Àuq#»Ò≤ ÂO (Ô‹„ΩKìë◊Fü 
DEBUG:root:to_unicode
INFO:root:200 POST /q/uploader (127.0.0.1)
DEBUG:root:None
DEBUG:root:{u'cookie': u'SBID="!MZ6JnTJnDncb7k3n0Ya9Sg==?gAJVBFNCSURxAWN1dWlkClVVSUQKcQIpgXEDfXEEVQNpbnRxBYoQqUXRlREm8LXjTshLPYe7cXNihnEGLg=="; wordpress_test_cookie=WP+Cookie+check; wordpress_logged_in_8dec71ede39ad9ff3b3fbc03311bdc45=qoorate%7C1375142446%7C86fd9ec6d6a221f44c7b1244f05dcd23; QOOID=QOO51f460f57c582; QOOTID=QOOT51f460f57c593; wp-settings-time-1=1374970345', u'accept-language': u'en-US,en;q=0.8', u'accept-encoding': u'gzip,deflate,sdch', u'PATTERN': u'/q/', u'x-forwarded-for': u'127.0.0.1', u'host': u'localhost', u'accept': u'image/webp,*/*;q=0.8', u'user-agent': u'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/28.0.1500.71 Safari/537.36', u'connection': u'keep-alive', u'VERSION': u'HTTP/1.1', u'referer': u'http://localhost:8081/?p=1', u'PATH': u'/q/uploader/images/afdaf6b1c369d65535041c375356f03f', u'METHOD': u'GET', u'URI': u'/q/uploader/images/afdaf6b1c369d65535041c375356f03f'}
DEBUG:root:TemporaryImageViewHandler get
DEBUG:root:filename: afdaf6b1c369d65535041c375356f03f
DEBUG:root:hash: <built-in function hash>
DEBUG:root:requested_file_name: ./tmp/afdaf6b1c369d65535041c375356f03f
DEBUG:root:mime_type: image/jpeg
INFO:root:200 GET /q/uploader/images/afdaf6b1c369d65535041c375356f03f (127.0.0.1)
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:set_table has q_short_name (12345)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042c0ad0>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has q_short_name (12345)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042b6a90>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:feed.prepare, table: q_brooklyncode
DEBUG:root:FeedHandler post
DEBUG:root:Body -> 
 replyComment=me&thumbnailLarge=afdaf6b1c369d65535041c375356f03f&replyPhoto=&action=addItem&location=5e13bbb73127b9fc424e3728c6500f28&referer=http%3A%2F%2Flocalhost%3A8081%2F%3Fp%3D1&q_short_name=12345&QOOID=QOO51f460f57c582&QOOTID=QOOT51f460f57c593
DEBUG:root:Arguments -> 
 {"thumbnailLarge": ["afdaf6b1c369d65535041c375356f03f"], "QOOID": ["QOO51f460f57c582"], "QOOTID": ["QOOT51f460f57c593"], "q_short_name": ["12345"], "location": ["5e13bbb73127b9fc424e3728c6500f28"], "replyComment": ["me"], "action": ["addItem"], "referer": ["http://localhost:8081/?p=1"]}
DEBUG:root:to_unicode
DEBUG:root:addItem
DEBUG:root:addItem
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:addItem
DEBUG:root:addItem
DEBUG:root:to_unicode
DEBUG:root:action: addItem
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042b6b10>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042b6d10>
DEBUG:root:to_unicode
DEBUG:root:me
DEBUG:root:me
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:me
DEBUG:root:me
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:afdaf6b1c369d65535041c375356f03f
DEBUG:root:afdaf6b1c369d65535041c375356f03f
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:afdaf6b1c369d65535041c375356f03f
DEBUG:root:afdaf6b1c369d65535041c375356f03f
DEBUG:root:to_unicode
DEBUG:root:spawning upload
DEBUG:root:upload_to_S3 : afdaf6b1c369d65535041c375356f03f
DEBUG:root:upload_to_S3 : afdaf6b1c369d65535041c375356f03f
DEBUG:root:create_images_for_S3
DEBUG:root:file_path: tmp
DEBUG:root:file_name: afdaf6b1c369d65535041c375356f03f
DEBUG:root:filename: tmp/afdaf6b1c369d65535041c375356f03f
DEBUG:root:create_images_for_S3 image_infos: [(None, 'JPEG', '_f', 'jpg'), ((300, 200), 'JPEG', '_t', 'jpg'), ((120, 200), 'JPEG', '_m', 'jpg'), ((170, 100), 'JPEG', '_f', 'jpg'), ((50, 50), 'JPEG', '_s', 'jpg')] 
DEBUG:root:create_images_for_S3  image_info: (None, 'JPEG', '_f', 'jpg') 
DEBUG:root:filename created: afdaf6b1c369d65535041c375356f03f_f.jpg
DEBUG:root:create_images_for_S3  image_info: ((300, 200), 'JPEG', '_t', 'jpg') 
DEBUG:root:image_info[0]: (300, 200)
DEBUG:root:image_info[1]: JPEG
DEBUG:root:image_info[2]: _t
DEBUG:root:image_info[3]: jpg
DEBUG:root:filename created: afdaf6b1c369d65535041c375356f03f_t.jpg
DEBUG:root:create_images_for_S3  image_info: ((120, 200), 'JPEG', '_m', 'jpg') 
DEBUG:root:image_info[0]: (120, 200)
DEBUG:root:image_info[1]: JPEG
DEBUG:root:image_info[2]: _m
DEBUG:root:image_info[3]: jpg
DEBUG:root:filename created: afdaf6b1c369d65535041c375356f03f_m.jpg
DEBUG:root:create_images_for_S3  image_info: ((170, 100), 'JPEG', '_f', 'jpg') 
DEBUG:root:image_info[0]: (170, 100)
DEBUG:root:image_info[1]: JPEG
DEBUG:root:image_info[2]: _f
DEBUG:root:image_info[3]: jpg
DEBUG:root:filename created: afdaf6b1c369d65535041c375356f03f_f.jpg
DEBUG:root:create_images_for_S3  image_info: ((50, 50), 'JPEG', '_s', 'jpg') 
DEBUG:root:image_info[0]: (50, 50)
DEBUG:root:image_info[1]: JPEG
DEBUG:root:image_info[2]: _s
DEBUG:root:image_info[3]: jpg
DEBUG:root:filename created: afdaf6b1c369d65535041c375356f03f_s.jpg
DEBUG:root:create_images_for_S3 return filenames: [u'afdaf6b1c369d65535041c375356f03f_f.jpg', u'afdaf6b1c369d65535041c375356f03f_t.jpg', u'afdaf6b1c369d65535041c375356f03f_m.jpg', u'afdaf6b1c369d65535041c375356f03f_f.jpg', u'afdaf6b1c369d65535041c375356f03f_s.jpg'] 
DEBUG:root:file_names: [u'afdaf6b1c369d65535041c375356f03f_f.jpg', u'afdaf6b1c369d65535041c375356f03f_t.jpg', u'afdaf6b1c369d65535041c375356f03f_m.jpg', u'afdaf6b1c369d65535041c375356f03f_f.jpg', u'afdaf6b1c369d65535041c375356f03f_s.jpg']
DEBUG:root:len(file_names): 5
DEBUG:boto:path=/
DEBUG:boto:auth_path=/qoorate.brooklyncode/
DEBUG:boto:Method: PUT
DEBUG:boto:Path: /
DEBUG:boto:Data: 
DEBUG:boto:Headers: {}
DEBUG:boto:Host: qoorate.brooklyncode.s3.amazonaws.com
DEBUG:boto:establishing HTTPS connection: host=qoorate.brooklyncode.s3.amazonaws.com, kwargs={}
DEBUG:boto:Token: None
DEBUG:boto:StringToSign:
PUT


Mon, 29 Jul 2013 02:36:42 GMT
/qoorate.brooklyncode/
DEBUG:boto:path=/
DEBUG:boto:auth_path=/qoorate.brooklyncode/
DEBUG:boto:path=/?policy
DEBUG:boto:auth_path=/qoorate.brooklyncode/?policy
DEBUG:boto:Method: PUT
DEBUG:boto:Path: /?policy
DEBUG:boto:Data: {
                    "Version": "2008-10-17",
                    "Statement": [
                        {
                            "Sid": "AddPerm",
                            "Effect": "Allow",
                            "Principal": {
                                "AWS": "*"
                            },
                            "Action": "s3:GetObject",
                            "Resource": "arn:aws:s3:::qoorate.brooklyncode/*"
                        }
                    ]
                }
            
DEBUG:boto:Headers: {}
DEBUG:boto:Host: qoorate.brooklyncode.s3.amazonaws.com
DEBUG:boto:Token: None
DEBUG:boto:StringToSign:
PUT


Mon, 29 Jul 2013 02:36:44 GMT
/qoorate.brooklyncode/?policy
DEBUG:root:create_images_for_S3
DEBUG:root:file_path: tmp
DEBUG:root:file_name: afdaf6b1c369d65535041c375356f03f
DEBUG:root:filename: tmp/afdaf6b1c369d65535041c375356f03f
DEBUG:root:create_images_for_S3 image_infos: [(None, 'JPEG', '_f', 'jpg'), ((300, 200), 'JPEG', '_t', 'jpg'), ((120, 200), 'JPEG', '_m', 'jpg'), ((170, 100), 'JPEG', '_f', 'jpg'), ((50, 50), 'JPEG', '_s', 'jpg')] 
DEBUG:root:create_images_for_S3  image_info: (None, 'JPEG', '_f', 'jpg') 
DEBUG:root:filename created: afdaf6b1c369d65535041c375356f03f_f.jpg
DEBUG:root:create_images_for_S3  image_info: ((300, 200), 'JPEG', '_t', 'jpg') 
DEBUG:root:image_info[0]: (300, 200)
DEBUG:root:image_info[1]: JPEG
DEBUG:root:image_info[2]: _t
DEBUG:root:image_info[3]: jpg
DEBUG:root:filename created: afdaf6b1c369d65535041c375356f03f_t.jpg
DEBUG:root:create_images_for_S3  image_info: ((120, 200), 'JPEG', '_m', 'jpg') 
DEBUG:root:image_info[0]: (120, 200)
DEBUG:root:image_info[1]: JPEG
DEBUG:root:image_info[2]: _m
DEBUG:root:image_info[3]: jpg
DEBUG:root:filename created: afdaf6b1c369d65535041c375356f03f_m.jpg
DEBUG:root:create_images_for_S3  image_info: ((170, 100), 'JPEG', '_f', 'jpg') 
DEBUG:root:image_info[0]: (170, 100)
DEBUG:root:image_info[1]: JPEG
DEBUG:root:image_info[2]: _f
DEBUG:root:image_info[3]: jpg
DEBUG:root:filename created: afdaf6b1c369d65535041c375356f03f_f.jpg
DEBUG:root:create_images_for_S3  image_info: ((50, 50), 'JPEG', '_s', 'jpg') 
DEBUG:root:image_info[0]: (50, 50)
DEBUG:root:image_info[1]: JPEG
DEBUG:root:image_info[2]: _s
DEBUG:root:image_info[3]: jpg
DEBUG:root:filename created: afdaf6b1c369d65535041c375356f03f_s.jpg
DEBUG:root:create_images_for_S3 return filenames: [u'afdaf6b1c369d65535041c375356f03f_f.jpg', u'afdaf6b1c369d65535041c375356f03f_t.jpg', u'afdaf6b1c369d65535041c375356f03f_m.jpg', u'afdaf6b1c369d65535041c375356f03f_f.jpg', u'afdaf6b1c369d65535041c375356f03f_s.jpg'] 
DEBUG:root:file_names: [u'afdaf6b1c369d65535041c375356f03f_f.jpg', u'afdaf6b1c369d65535041c375356f03f_t.jpg', u'afdaf6b1c369d65535041c375356f03f_m.jpg', u'afdaf6b1c369d65535041c375356f03f_f.jpg', u'afdaf6b1c369d65535041c375356f03f_s.jpg']
DEBUG:root:images: [u'afdaf6b1c369d65535041c375356f03f_f.jpg', u'afdaf6b1c369d65535041c375356f03f_t.jpg', u'afdaf6b1c369d65535041c375356f03f_m.jpg', u'afdaf6b1c369d65535041c375356f03f_f.jpg', u'afdaf6b1c369d65535041c375356f03f_s.jpg']
DEBUG:root:image_file_name: afdaf6b1c369d65535041c375356f03f_f.jpg
DEBUG:root:Uploading afdaf6b1c369d65535041c375356f03f_f.jpg to Amazon S3 bucket qoorate.brooklyncode
DEBUG:boto:path=/afdaf6b1c369d65535041c375356f03f_f.jpg
DEBUG:boto:auth_path=/qoorate.brooklyncode/afdaf6b1c369d65535041c375356f03f_f.jpg
DEBUG:boto:Method: PUT
DEBUG:boto:Path: /afdaf6b1c369d65535041c375356f03f_f.jpg
DEBUG:boto:Data: 
DEBUG:boto:Headers: {'Content-Length': '3183', 'Content-MD5': 'u29gk/FuOTFc6OIArYNrKw==', 'Content-Type': 'image/jpeg', 'Expect': '100-Continue', 'User-Agent': 'Boto/2.2.2 (darwin)'}
DEBUG:boto:Host: qoorate.brooklyncode.s3.amazonaws.com
DEBUG:boto:Token: None
DEBUG:boto:StringToSign:
PUT
u29gk/FuOTFc6OIArYNrKw==
image/jpeg
Mon, 29 Jul 2013 02:36:50 GMT
/qoorate.brooklyncode/afdaf6b1c369d65535041c375356f03f_f.jpg
DEBUG:boto:path=/afdaf6b1c369d65535041c375356f03f_f.jpg
DEBUG:boto:auth_path=/qoorate.brooklyncode/afdaf6b1c369d65535041c375356f03f_f.jpg
DEBUG:boto:path=/afdaf6b1c369d65535041c375356f03f_f.jpg?acl
DEBUG:boto:auth_path=/qoorate.brooklyncode/afdaf6b1c369d65535041c375356f03f_f.jpg?acl
DEBUG:boto:Method: PUT
DEBUG:boto:Path: /afdaf6b1c369d65535041c375356f03f_f.jpg?acl
DEBUG:boto:Data: 
DEBUG:boto:Headers: {'x-amz-acl': 'public-read'}
DEBUG:boto:Host: qoorate.brooklyncode.s3.amazonaws.com
DEBUG:boto:Token: None
DEBUG:boto:StringToSign:
PUT


Mon, 29 Jul 2013 02:36:51 GMT
x-amz-acl:public-read
/qoorate.brooklyncode/afdaf6b1c369d65535041c375356f03f_f.jpg?acl
DEBUG:root:image_file_name: afdaf6b1c369d65535041c375356f03f_t.jpg
DEBUG:root:Uploading afdaf6b1c369d65535041c375356f03f_t.jpg to Amazon S3 bucket qoorate.brooklyncode
DEBUG:boto:path=/afdaf6b1c369d65535041c375356f03f_t.jpg
DEBUG:boto:auth_path=/qoorate.brooklyncode/afdaf6b1c369d65535041c375356f03f_t.jpg
DEBUG:boto:Method: PUT
DEBUG:boto:Path: /afdaf6b1c369d65535041c375356f03f_t.jpg
DEBUG:boto:Data: 
DEBUG:boto:Headers: {'Content-Length': '9406', 'Content-MD5': 'uKLaGb40FNNU+eAzd5U9DQ==', 'Content-Type': 'image/jpeg', 'Expect': '100-Continue', 'User-Agent': 'Boto/2.2.2 (darwin)'}
DEBUG:boto:Host: qoorate.brooklyncode.s3.amazonaws.com
DEBUG:boto:Token: None
DEBUG:boto:StringToSign:
PUT
uKLaGb40FNNU+eAzd5U9DQ==
image/jpeg
Mon, 29 Jul 2013 02:36:51 GMT
/qoorate.brooklyncode/afdaf6b1c369d65535041c375356f03f_t.jpg
DEBUG:boto:path=/afdaf6b1c369d65535041c375356f03f_t.jpg
DEBUG:boto:auth_path=/qoorate.brooklyncode/afdaf6b1c369d65535041c375356f03f_t.jpg
DEBUG:boto:path=/afdaf6b1c369d65535041c375356f03f_t.jpg?acl
DEBUG:boto:auth_path=/qoorate.brooklyncode/afdaf6b1c369d65535041c375356f03f_t.jpg?acl
DEBUG:boto:Method: PUT
DEBUG:boto:Path: /afdaf6b1c369d65535041c375356f03f_t.jpg?acl
DEBUG:boto:Data: 
DEBUG:boto:Headers: {'x-amz-acl': 'public-read'}
DEBUG:boto:Host: qoorate.brooklyncode.s3.amazonaws.com
DEBUG:boto:Token: None
DEBUG:boto:StringToSign:
PUT


Mon, 29 Jul 2013 02:36:51 GMT
x-amz-acl:public-read
/qoorate.brooklyncode/afdaf6b1c369d65535041c375356f03f_t.jpg?acl
DEBUG:root:image_file_name: afdaf6b1c369d65535041c375356f03f_m.jpg
DEBUG:root:Uploading afdaf6b1c369d65535041c375356f03f_m.jpg to Amazon S3 bucket qoorate.brooklyncode
DEBUG:boto:path=/afdaf6b1c369d65535041c375356f03f_m.jpg
DEBUG:boto:auth_path=/qoorate.brooklyncode/afdaf6b1c369d65535041c375356f03f_m.jpg
DEBUG:boto:Method: PUT
DEBUG:boto:Path: /afdaf6b1c369d65535041c375356f03f_m.jpg
DEBUG:boto:Data: 
DEBUG:boto:Headers: {'Content-Length': '3183', 'Content-MD5': 'u29gk/FuOTFc6OIArYNrKw==', 'Content-Type': 'image/jpeg', 'Expect': '100-Continue', 'User-Agent': 'Boto/2.2.2 (darwin)'}
DEBUG:boto:Host: qoorate.brooklyncode.s3.amazonaws.com
DEBUG:boto:Token: None
DEBUG:boto:StringToSign:
PUT
u29gk/FuOTFc6OIArYNrKw==
image/jpeg
Mon, 29 Jul 2013 02:36:51 GMT
/qoorate.brooklyncode/afdaf6b1c369d65535041c375356f03f_m.jpg
DEBUG:boto:path=/afdaf6b1c369d65535041c375356f03f_m.jpg
DEBUG:boto:auth_path=/qoorate.brooklyncode/afdaf6b1c369d65535041c375356f03f_m.jpg
DEBUG:boto:path=/afdaf6b1c369d65535041c375356f03f_m.jpg?acl
DEBUG:boto:auth_path=/qoorate.brooklyncode/afdaf6b1c369d65535041c375356f03f_m.jpg?acl
DEBUG:boto:Method: PUT
DEBUG:boto:Path: /afdaf6b1c369d65535041c375356f03f_m.jpg?acl
DEBUG:boto:Data: 
DEBUG:boto:Headers: {'x-amz-acl': 'public-read'}
DEBUG:boto:Host: qoorate.brooklyncode.s3.amazonaws.com
DEBUG:boto:Token: None
DEBUG:boto:StringToSign:
PUT


Mon, 29 Jul 2013 02:36:51 GMT
x-amz-acl:public-read
/qoorate.brooklyncode/afdaf6b1c369d65535041c375356f03f_m.jpg?acl
DEBUG:root:image_file_name: afdaf6b1c369d65535041c375356f03f_f.jpg
DEBUG:root:Uploading afdaf6b1c369d65535041c375356f03f_f.jpg to Amazon S3 bucket qoorate.brooklyncode
DEBUG:boto:path=/afdaf6b1c369d65535041c375356f03f_f.jpg
DEBUG:boto:auth_path=/qoorate.brooklyncode/afdaf6b1c369d65535041c375356f03f_f.jpg
DEBUG:boto:Method: PUT
DEBUG:boto:Path: /afdaf6b1c369d65535041c375356f03f_f.jpg
DEBUG:boto:Data: 
DEBUG:boto:Headers: {'Content-Length': '3183', 'Content-MD5': 'u29gk/FuOTFc6OIArYNrKw==', 'Content-Type': 'image/jpeg', 'Expect': '100-Continue', 'User-Agent': 'Boto/2.2.2 (darwin)'}
DEBUG:boto:Host: qoorate.brooklyncode.s3.amazonaws.com
DEBUG:boto:Token: None
DEBUG:boto:StringToSign:
PUT
u29gk/FuOTFc6OIArYNrKw==
image/jpeg
Mon, 29 Jul 2013 02:36:51 GMT
/qoorate.brooklyncode/afdaf6b1c369d65535041c375356f03f_f.jpg
DEBUG:boto:path=/afdaf6b1c369d65535041c375356f03f_f.jpg
DEBUG:boto:auth_path=/qoorate.brooklyncode/afdaf6b1c369d65535041c375356f03f_f.jpg
DEBUG:boto:path=/afdaf6b1c369d65535041c375356f03f_f.jpg?acl
DEBUG:boto:auth_path=/qoorate.brooklyncode/afdaf6b1c369d65535041c375356f03f_f.jpg?acl
DEBUG:boto:Method: PUT
DEBUG:boto:Path: /afdaf6b1c369d65535041c375356f03f_f.jpg?acl
DEBUG:boto:Data: 
DEBUG:boto:Headers: {'x-amz-acl': 'public-read'}
DEBUG:boto:Host: qoorate.brooklyncode.s3.amazonaws.com
DEBUG:boto:Token: None
DEBUG:boto:StringToSign:
PUT


Mon, 29 Jul 2013 02:36:51 GMT
x-amz-acl:public-read
/qoorate.brooklyncode/afdaf6b1c369d65535041c375356f03f_f.jpg?acl
DEBUG:root:image_file_name: afdaf6b1c369d65535041c375356f03f_s.jpg
DEBUG:root:Uploading afdaf6b1c369d65535041c375356f03f_s.jpg to Amazon S3 bucket qoorate.brooklyncode
DEBUG:boto:path=/afdaf6b1c369d65535041c375356f03f_s.jpg
DEBUG:boto:auth_path=/qoorate.brooklyncode/afdaf6b1c369d65535041c375356f03f_s.jpg
DEBUG:boto:Method: PUT
DEBUG:boto:Path: /afdaf6b1c369d65535041c375356f03f_s.jpg
DEBUG:boto:Data: 
DEBUG:boto:Headers: {'Content-Length': '1264', 'Content-MD5': 'S9ExlDgw7bObhFMYtr1epw==', 'Content-Type': 'image/jpeg', 'Expect': '100-Continue', 'User-Agent': 'Boto/2.2.2 (darwin)'}
DEBUG:boto:Host: qoorate.brooklyncode.s3.amazonaws.com
DEBUG:boto:Token: None
DEBUG:boto:StringToSign:
PUT
S9ExlDgw7bObhFMYtr1epw==
image/jpeg
Mon, 29 Jul 2013 02:36:51 GMT
/qoorate.brooklyncode/afdaf6b1c369d65535041c375356f03f_s.jpg
DEBUG:boto:path=/afdaf6b1c369d65535041c375356f03f_s.jpg
DEBUG:boto:auth_path=/qoorate.brooklyncode/afdaf6b1c369d65535041c375356f03f_s.jpg
DEBUG:boto:path=/afdaf6b1c369d65535041c375356f03f_s.jpg?acl
DEBUG:boto:auth_path=/qoorate.brooklyncode/afdaf6b1c369d65535041c375356f03f_s.jpg?acl
DEBUG:boto:Method: PUT
DEBUG:boto:Path: /afdaf6b1c369d65535041c375356f03f_s.jpg?acl
DEBUG:boto:Data: 
DEBUG:boto:Headers: {'x-amz-acl': 'public-read'}
DEBUG:boto:Host: qoorate.brooklyncode.s3.amazonaws.com
DEBUG:boto:Token: None
DEBUG:boto:StringToSign:
PUT


Mon, 29 Jul 2013 02:36:51 GMT
x-amz-acl:public-read
/qoorate.brooklyncode/afdaf6b1c369d65535041c375356f03f_s.jpg?acl
DEBUG:root:spawned upload
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:http://localhost:8081/?p=1
DEBUG:root:http://localhost:8081/?p=1
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:http://localhost:8081/?p=1
DEBUG:root:http://localhost:8081/?p=1
DEBUG:root:to_unicode
DEBUG:root:MySqlApiQueryset create_one
DEBUG:root:MySqlApiQueryset create_one sql: 
                INSERT INTO `q_brooklyncode` 
                set id=%s,locationId=%s,relatedId=%s,parentId=%s,userId=%s,type=%s,name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s,createDate=%s 
                ON DUPLICATE KEY UPDATE
                name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s
                
DEBUG:root:execute
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:execute args: [None, 0L, 0L, 0L, 1L, 1L, u'me', u'5e13bbb73127b9fc424e3728c6500f28', None, 0L, 0L, 0L, 0L, 0L, 0L, 0L, '', None, u'afdaf6b1c369d65535041c375356f03f', u'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 22, 36, 51, 966358), datetime.datetime(2013, 7, 28, 22, 36, 51, 966358), u'me', u'5e13bbb73127b9fc424e3728c6500f28', None, 0L, 0L, 0L, 0L, 0L, 0L, 0L, '', None, u'afdaf6b1c369d65535041c375356f03f', u'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 22, 36, 51, 966358)]
DEBUG:root:escape_sql sql: 
                INSERT INTO `q_brooklyncode` 
                set id=%s,locationId=%s,relatedId=%s,parentId=%s,userId=%s,type=%s,name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s,createDate=%s 
                ON DUPLICATE KEY UPDATE
                name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s
                
DEBUG:root:escape_sql args: [None, 0L, 0L, 0L, 1L, 1L, u'me', u'5e13bbb73127b9fc424e3728c6500f28', None, 0L, 0L, 0L, 0L, 0L, 0L, 0L, '', None, u'afdaf6b1c369d65535041c375356f03f', u'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 22, 36, 51, 966358), datetime.datetime(2013, 7, 28, 22, 36, 51, 966358), u'me', u'5e13bbb73127b9fc424e3728c6500f28', None, 0L, 0L, 0L, 0L, 0L, 0L, 0L, '', None, u'afdaf6b1c369d65535041c375356f03f', u'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 22, 36, 51, 966358)]
DEBUG:root:
                INSERT INTO `q_brooklyncode` 
                set id=NULL,locationId=0,relatedId=0,parentId=0,userId=1,type=1,name='me',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=0,voteNumber=0,votesUp=0,votesDown=0,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge='afdaf6b1c369d65535041c375356f03f',referer='http://localhost:8081/?p=1',changeDate='2013-07-28 22:36:51',createDate='2013-07-28 22:36:51' 
                ON DUPLICATE KEY UPDATE
                name='me',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=0,voteNumber=0,votesUp=0,votesDown=0,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge='afdaf6b1c369d65535041c375356f03f',referer='http://localhost:8081/?p=1',changeDate='2013-07-28 22:36:51'
                
DEBUG:root:execute: 
                INSERT INTO `q_brooklyncode` 
                set id=NULL,locationId=0,relatedId=0,parentId=0,userId=1,type=1,name='me',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=0,voteNumber=0,votesUp=0,votesDown=0,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge='afdaf6b1c369d65535041c375356f03f',referer='http://localhost:8081/?p=1',changeDate='2013-07-28 22:36:51',createDate='2013-07-28 22:36:51' 
                ON DUPLICATE KEY UPDATE
                name='me',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=0,voteNumber=0,votesUp=0,votesDown=0,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge='afdaf6b1c369d65535041c375356f03f',referer='http://localhost:8081/?p=1',changeDate='2013-07-28 22:36:51'
                
DEBUG:root:MySqlApiQueryset create_one (status, affected_rows): (Created, 1)
DEBUG:root:inserted_id: 4)
DEBUG:root:update_child_count(Comment object)
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:escape_sql sql: 
            SELECT count(*) as `childCount`
            FROM `q_brooklyncode` `f`
            WHERE `f`.`parentId`= %s
            
DEBUG:root:escape_sql args: [4L]
DEBUG:root:
            SELECT count(*) as `childCount`
            FROM `q_brooklyncode` `f`
            WHERE `f`.`parentId`= 4
            
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042cc450>
DEBUG:root:child_count: 0
DEBUG:root:MySqlApiQueryset create_one
DEBUG:root:MySqlApiQueryset create_one sql: 
                INSERT INTO `q_brooklyncode` 
                set id=%s,locationId=%s,relatedId=%s,parentId=%s,userId=%s,type=%s,name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s,createDate=%s 
                ON DUPLICATE KEY UPDATE
                name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s
                
DEBUG:root:execute
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:execute args: [4L, 0L, 0L, 0L, 1L, 1L, u'me', u'5e13bbb73127b9fc424e3728c6500f28', None, 0L, 0L, 0L, 0L, 0L, 0L, 0L, '', None, u'afdaf6b1c369d65535041c375356f03f', u'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 22, 36, 51, 966358), datetime.datetime(2013, 7, 28, 22, 36, 51, 966358), u'me', u'5e13bbb73127b9fc424e3728c6500f28', None, 0L, 0L, 0L, 0L, 0L, 0L, 0L, '', None, u'afdaf6b1c369d65535041c375356f03f', u'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 22, 36, 51, 966358)]
DEBUG:root:escape_sql sql: 
                INSERT INTO `q_brooklyncode` 
                set id=%s,locationId=%s,relatedId=%s,parentId=%s,userId=%s,type=%s,name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s,createDate=%s 
                ON DUPLICATE KEY UPDATE
                name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s
                
DEBUG:root:escape_sql args: [4L, 0L, 0L, 0L, 1L, 1L, u'me', u'5e13bbb73127b9fc424e3728c6500f28', None, 0L, 0L, 0L, 0L, 0L, 0L, 0L, '', None, u'afdaf6b1c369d65535041c375356f03f', u'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 22, 36, 51, 966358), datetime.datetime(2013, 7, 28, 22, 36, 51, 966358), u'me', u'5e13bbb73127b9fc424e3728c6500f28', None, 0L, 0L, 0L, 0L, 0L, 0L, 0L, '', None, u'afdaf6b1c369d65535041c375356f03f', u'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 22, 36, 51, 966358)]
DEBUG:root:
                INSERT INTO `q_brooklyncode` 
                set id=4,locationId=0,relatedId=0,parentId=0,userId=1,type=1,name='me',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=0,voteNumber=0,votesUp=0,votesDown=0,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge='afdaf6b1c369d65535041c375356f03f',referer='http://localhost:8081/?p=1',changeDate='2013-07-28 22:36:51',createDate='2013-07-28 22:36:51' 
                ON DUPLICATE KEY UPDATE
                name='me',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=0,voteNumber=0,votesUp=0,votesDown=0,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge='afdaf6b1c369d65535041c375356f03f',referer='http://localhost:8081/?p=1',changeDate='2013-07-28 22:36:51'
                
DEBUG:root:execute: 
                INSERT INTO `q_brooklyncode` 
                set id=4,locationId=0,relatedId=0,parentId=0,userId=1,type=1,name='me',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=0,voteNumber=0,votesUp=0,votesDown=0,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge='afdaf6b1c369d65535041c375356f03f',referer='http://localhost:8081/?p=1',changeDate='2013-07-28 22:36:51',createDate='2013-07-28 22:36:51' 
                ON DUPLICATE KEY UPDATE
                name='me',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=0,voteNumber=0,votesUp=0,votesDown=0,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge='afdaf6b1c369d65535041c375356f03f',referer='http://localhost:8081/?p=1',changeDate='2013-07-28 22:36:51'
                
DEBUG:root:item_exists
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:escape_sql sql: SELECT count(*) FROM `q_brooklyncode`  WHERE id = %s
DEBUG:root:escape_sql args: [4L]
DEBUG:root:SELECT count(*) FROM `q_brooklyncode`  WHERE id = 4
DEBUG:root:MySqlApiQueryset create_one (status, affected_rows): (NO CHANGES, 0)
DEBUG:root:MySqlApiQueryset create_one
DEBUG:root:MySqlApiQueryset create_one sql: 
                INSERT INTO `q_brooklyncode_images` 
                set id=%s,itemId=%s,s3Bucket=%s,thumbnailLargeHash=%s 
                ON DUPLICATE KEY UPDATE
                s3Bucket=%s,thumbnailLargeHash=%s
                
DEBUG:root:execute
DEBUG:root:execute args: [None, 4L, 'qoorate.brooklyncode', u'afdaf6b1c369d65535041c375356f03f', 'qoorate.brooklyncode', u'afdaf6b1c369d65535041c375356f03f']
DEBUG:root:escape_sql sql: 
                INSERT INTO `q_brooklyncode_images` 
                set id=%s,itemId=%s,s3Bucket=%s,thumbnailLargeHash=%s 
                ON DUPLICATE KEY UPDATE
                s3Bucket=%s,thumbnailLargeHash=%s
                
DEBUG:root:escape_sql args: [None, 4L, 'qoorate.brooklyncode', u'afdaf6b1c369d65535041c375356f03f', 'qoorate.brooklyncode', u'afdaf6b1c369d65535041c375356f03f']
DEBUG:root:
                INSERT INTO `q_brooklyncode_images` 
                set id=NULL,itemId=4,s3Bucket='qoorate.brooklyncode',thumbnailLargeHash='afdaf6b1c369d65535041c375356f03f' 
                ON DUPLICATE KEY UPDATE
                s3Bucket='qoorate.brooklyncode',thumbnailLargeHash='afdaf6b1c369d65535041c375356f03f'
                
DEBUG:root:execute: 
                INSERT INTO `q_brooklyncode_images` 
                set id=NULL,itemId=4,s3Bucket='qoorate.brooklyncode',thumbnailLargeHash='afdaf6b1c369d65535041c375356f03f' 
                ON DUPLICATE KEY UPDATE
                s3Bucket='qoorate.brooklyncode',thumbnailLargeHash='afdaf6b1c369d65535041c375356f03f'
                
DEBUG:root:MySqlApiQueryset create_one (status, affected_rows): (Created, 1)
DEBUG:root:inserted_id: 3)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042c00d0>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042c02d0>
DEBUG:root:CONTEXT: {'has_more_contributions': False, 'app': {'CHILD_PAGE_SIZE': 5, 'QOORATE_API_URI': 'http://localhost/q', 'TEMP_DIR': 'tmp', 'BACKGROUND_S3_UPLOAD': True, 'BROKEN_IMG_URI': 'http://localhost/q/img/blank.gif', 'POLLING_INTERVAL': 15, 'QOORATE_IMG_PATH': 'http://localhost/q/uploader/images/', 'S3_IMG_PATH': 'https://s3.amazonaws.com/qoorate.brooklyncode/', 'AMAZON_BUCKET': 'qoorate.brooklyncode', 'QOORATE_URI': 'http://localhost', 'PARENT_PAGE_SIZE': 5}, 'thumbnailLargeHash': u'afdaf6b1c369d65535041c375356f03f', 'parentCount': 5, 'q_short_name': u'12345', 'is_admin': False, 'parent_tag': u'p_brooklyncode', 'moreIndex': 1, 'comments': [<Comment: Comment object>], 'location': u'5e13bbb73127b9fc424e3728c6500f28', 'current_user': <User: User object>, 'related_user': None, 'childCount': 5, 'comment_images': [('Created', <ImageItem: ImageItem object>)]}
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:
     
        
            
             
        
    

</div>

<div class="q_clear"></div>
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:escape_sql sql: 
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:escape_sql args: []
DEBUG:root:
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x105f35b10>
DEBUG:root:Number of contributions 4
INFO:root:200 POST /q/feed (127.0.0.1)
DEBUG:root:get EmbedHandler
DEBUG:root:to_unicode
DEBUG:root:embed_head
DEBUG:root:embed_head
DEBUG:root:to_unicode
DEBUG:root:action: embed_head 
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:set_table has key/secret
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = %s and `secret`= %s
        
DEBUG:root:escape_sql args: [u'12345', u'54321']
DEBUG:root:
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = '12345' and `secret`= '54321'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042c04d0>
DEBUG:root:returning True from authencticate.
DEBUG:root:set_table authenticated
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042c06d0>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has key/secret
DEBUG:root:returning `True` from authenticate cached.
DEBUG:root:set_table authenticated
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042c08d0>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042c0ad0>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042b6a90>
DEBUG:root:qoorate preferences: {
    "THEME": "grid",
    "EMBED_CONF_JS": "
        var qoorateConfig = {
            QOORATE_URI: 'http://localhost',
            QOORATE_API_URI: 'http://localhost/q',
            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',
            XHR_PROXY_URI: '/q/feed',
            XHR_UPLOAD_URI: '/q/uploader',
            POST_MAX_LEN: 1000,
            PARENT_PAGE_SIZE: 10,
            CHILD_PAGE_SIZE: 10,
            AUTO_SCROLL: 1,
            THEME: 'grid',
            GRID_COLUMNS: 3,
            GRID_COLUMN_TRIM: 15,
            GRID_ROW_TRIM: 15
        };
        var qoorateLang = {
            FLAG_SUCCESS: 'Thanks for flagging this!',
            SHARE_SUCCESS: 'Thank you for sharing!',
            DELETE_SUCCESS: 'Thank you. This item has been deleted.',
            SIGNIN: 'Sign in using',
            SIGNEDIN: 'Signed in via',    
            OK: 'OK',
            CANCEL: 'Cancel',
            LOGOUT: 'Log Out',
            TOGGLE_ON: '+',
            TOGGLE_OFF: '-',
            CONTRIBUTION: 'Contribution',
            CONTRIBUTIONS: 'Contributions',
            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',
            REMOVE: 'Remove',
            LINK: 'Insert a link',
            TOPIC_COMMENT: 'Pose a Yes/No Question',
            COMMENT: 'Your Comment',
            IMAGE_COMMENT: 'Image Caption',
            POST_TO: 'Post to',
            POST_ANONYMOUS: 'Post anonymously',
            NICKNAME: 'Post as ',
            DEFAULT_NICKNAME: 'Anonymous',
            REPLY_LINK_COMMENT: 'Say something about your link',
            SHARE_COMMENT: 'comment about this share...',
            PUBLISH_BUTTON: 'Publish',
            POST_BUTTON: 'Post',
            POST_TO_BUTTON: 'Post To',
            REPLY_BUTTON: 'Reply',
            SHARE_BUTTON: 'Share',
            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',
            SELECT_IMAGE: 'Select an Image',
            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',
            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],
            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],
            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]
        };
    "
}

DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:preferences EMBED_CONF_JS:         var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    
DEBUG:root:embed_head called
INFO:root:200 GET /q/embed (127.0.0.1)
DEBUG:root:get EmbedHandler
DEBUG:root:to_unicode
DEBUG:root:embed_content
DEBUG:root:embed_content
DEBUG:root:to_unicode
DEBUG:root:action: embed_content 
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:set_table has key/secret
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = %s and `secret`= %s
        
DEBUG:root:escape_sql args: [u'12345', u'54321']
DEBUG:root:
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = '12345' and `secret`= '54321'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042b6b10>
DEBUG:root:returning True from authencticate.
DEBUG:root:set_table authenticated
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042b6d10>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has key/secret
DEBUG:root:returning `True` from authenticate cached.
DEBUG:root:set_table authenticated
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042b6e90>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042c00d0>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042c02d0>
DEBUG:root:qoorate preferences: {
    "THEME": "grid",
    "EMBED_CONF_JS": "
        var qoorateConfig = {
            QOORATE_URI: 'http://localhost',
            QOORATE_API_URI: 'http://localhost/q',
            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',
            XHR_PROXY_URI: '/q/feed',
            XHR_UPLOAD_URI: '/q/uploader',
            POST_MAX_LEN: 1000,
            PARENT_PAGE_SIZE: 10,
            CHILD_PAGE_SIZE: 10,
            AUTO_SCROLL: 1,
            THEME: 'grid',
            GRID_COLUMNS: 3,
            GRID_COLUMN_TRIM: 15,
            GRID_ROW_TRIM: 15
        };
        var qoorateLang = {
            FLAG_SUCCESS: 'Thanks for flagging this!',
            SHARE_SUCCESS: 'Thank you for sharing!',
            DELETE_SUCCESS: 'Thank you. This item has been deleted.',
            SIGNIN: 'Sign in using',
            SIGNEDIN: 'Signed in via',    
            OK: 'OK',
            CANCEL: 'Cancel',
            LOGOUT: 'Log Out',
            TOGGLE_ON: '+',
            TOGGLE_OFF: '-',
            CONTRIBUTION: 'Contribution',
            CONTRIBUTIONS: 'Contributions',
            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',
            REMOVE: 'Remove',
            LINK: 'Insert a link',
            TOPIC_COMMENT: 'Pose a Yes/No Question',
            COMMENT: 'Your Comment',
            IMAGE_COMMENT: 'Image Caption',
            POST_TO: 'Post to',
            POST_ANONYMOUS: 'Post anonymously',
            NICKNAME: 'Post as ',
            DEFAULT_NICKNAME: 'Anonymous',
            REPLY_LINK_COMMENT: 'Say something about your link',
            SHARE_COMMENT: 'comment about this share...',
            PUBLISH_BUTTON: 'Publish',
            POST_BUTTON: 'Post',
            POST_TO_BUTTON: 'Post To',
            REPLY_BUTTON: 'Reply',
            SHARE_BUTTON: 'Share',
            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',
            SELECT_IMAGE: 'Select an Image',
            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',
            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],
            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],
            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]
        };
    "
}

DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:preferences EMBED_CONF_JS:         var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    
DEBUG:root:embed_content called (key,secret): (12345,54321)
DEBUG:root:returning `True` from authenticate cached.
DEBUG:root:get_content_context
DEBUG:root:table: q_brooklyncode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:init_db_conn
DEBUG:root:NOT creating db_conn
DEBUG:root:1
DEBUG:root:5
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT f.`parent_sequence` , f.`child_sequence` , f.`id` , f.`locationId` , f.`relatedId`,
                f.`parentId` , f.`userId` , `u`.`username`, u.`thumbnailLarge` as userThumbnailLarge,
                ur.`username` as relatedUsername, ur.`thumbnailLarge` as relatedUserThumbnailLarge, f.`type` as `item_type`,
                f.`is_anonymous` , r.`is_anonymous` as `related_is_anonymous`, f.`name` , f.`location` ,f.`description`,f.`referer`,
                f.`voteCount` , f.`voteNumber` , f.`votesUp` ,f.`votesDown` , f.`flagCount`,  f.`childCount`, f.`sortOrder` , f.`status`,
                f.`thumbnailSmall` ,f.`thumbnailLarge` , f.`changeDate` , f.`createDate`, f.`nickname`, r.`nickname` as `related_nickname`
            FROM (
                # this query adds the sequence fields to filter by for paging
                SELECT  s1.*, @parentrownum := convert( IF( ( parentId = 0), @parentrownum +1, @parentrownum ), UNSIGNED INTEGER) AS parent_sequence,
                @childrownum := IF( ( @lastparent = parentId), @childrownum + 1, 0 ) AS child_sequence,
                @lastparent := if( parentId=0, id, parentId ) AS dummy_used_for_last_parent
                FROM
                    # QUERY 2: this query sorts the results properly
                    (SELECT s0.* FROM
                        # QUERY 1: This query gets the results we need with calculated fields to sort by
                        # We should probably have these fields in the database so they are indexed
                        (SELECT
                        CONVERT( if( parentId = 0, @parentVoteNumber:=voteNumber,
                            @parentVoteNumber ), SIGNED INTEGER ) as groupVoteNumber,          # Will order groups using parent voteNumber
                        CONVERT( if( parentId = 0, @parentVoteCount:=voteCount,
                            @parentVoteCount ), SIGNED INTEGER ) as groupVoteCount,            # Will order groups using parent voteCount
                        CONVERT( if( parentId = 0, @parentCreateDate:=createDate,
                            @parentCreateDate ), DATETIME ) as groupCreateDate,                # Will order groups using parent createDate
                        CONVERT( if(parentId=0, id, parentId), UNSIGNED INTEGER) as groupId,   # will order groups together
                        CONVERT( if(parentId = 0, 0, 1), UNSIGNED INTEGER) as isChild,         # will order parent first in group
                        r.*
                        FROM (
                            # this just makes sure our groups are grouped in parent child order
                            SELECT * from q_brooklyncode o  WHERE o.location = '5e13bbb73127b9fc424e3728c6500f28' ORDER BY
                             if( o.relatedId = 0, o.id, o.relatedId),
                             if( o.relatedId = 0, 0, o.id )
                            ) r,
                        ( SELECT @parentVoteNumber := 0 ) pvn,
                        ( SELECT @parentVoteCount  := 0 ) pvc,
                        ( SELECT @parentCreateDate := 0 ) pcd
                         WHERE location = '5e13bbb73127b9fc424e3728c6500f28' 
                    ) s0
                    
                    
                    ORDER BY
                    
                s0.groupVoteNumber DESC,
                s0.groupVoteCount DESC,
                s0.groupCreateDate ASC,
                 
                    groupId  ASC, # first order by group
                    isChild ASC, # Then make sure the parent is first
                    
                s0.voteNumber DESC,
                s0.voteCount DESC,
                s0.createDate ASC
                
            ) s1,
            ( SELECT @parentrownum := 0 ) pr,
            ( SELECT @childrownum := 0 ) cr, 
            ( SELECT @lastparent := -1 ) lp) f
            LEFT JOIN user u on u.id = f.userId
            LEFT JOIN q_brooklyncode r on r.id = f.relatedId
            LEFT JOIN user ur on ur.id = r.userId
            WHERE
            ((0 = 6 and parent_sequence >= 1) or parent_sequence BETWEEN 1 AND 6)
            AND
            ((0 = 6 and child_sequence >= 1) or (child_sequence=0 or child_sequence BETWEEN 1 AND 6))
        
DEBUG:root:escape_sql args: None
DEBUG:root:
            SELECT f.`parent_sequence` , f.`child_sequence` , f.`id` , f.`locationId` , f.`relatedId`,
                f.`parentId` , f.`userId` , `u`.`username`, u.`thumbnailLarge` as userThumbnailLarge,
                ur.`username` as relatedUsername, ur.`thumbnailLarge` as relatedUserThumbnailLarge, f.`type` as `item_type`,
                f.`is_anonymous` , r.`is_anonymous` as `related_is_anonymous`, f.`name` , f.`location` ,f.`description`,f.`referer`,
                f.`voteCount` , f.`voteNumber` , f.`votesUp` ,f.`votesDown` , f.`flagCount`,  f.`childCount`, f.`sortOrder` , f.`status`,
                f.`thumbnailSmall` ,f.`thumbnailLarge` , f.`changeDate` , f.`createDate`, f.`nickname`, r.`nickname` as `related_nickname`
            FROM (
                # this query adds the sequence fields to filter by for paging
                SELECT  s1.*, @parentrownum := convert( IF( ( parentId = 0), @parentrownum +1, @parentrownum ), UNSIGNED INTEGER) AS parent_sequence,
                @childrownum := IF( ( @lastparent = parentId), @childrownum + 1, 0 ) AS child_sequence,
                @lastparent := if( parentId=0, id, parentId ) AS dummy_used_for_last_parent
                FROM
                    # QUERY 2: this query sorts the results properly
                    (SELECT s0.* FROM
                        # QUERY 1: This query gets the results we need with calculated fields to sort by
                        # We should probably have these fields in the database so they are indexed
                        (SELECT
                        CONVERT( if( parentId = 0, @parentVoteNumber:=voteNumber,
                            @parentVoteNumber ), SIGNED INTEGER ) as groupVoteNumber,          # Will order groups using parent voteNumber
                        CONVERT( if( parentId = 0, @parentVoteCount:=voteCount,
                            @parentVoteCount ), SIGNED INTEGER ) as groupVoteCount,            # Will order groups using parent voteCount
                        CONVERT( if( parentId = 0, @parentCreateDate:=createDate,
                            @parentCreateDate ), DATETIME ) as groupCreateDate,                # Will order groups using parent createDate
                        CONVERT( if(parentId=0, id, parentId), UNSIGNED INTEGER) as groupId,   # will order groups together
                        CONVERT( if(parentId = 0, 0, 1), UNSIGNED INTEGER) as isChild,         # will order parent first in group
                        r.*
                        FROM (
                            # this just makes sure our groups are grouped in parent child order
                            SELECT * from q_brooklyncode o  WHERE o.location = '5e13bbb73127b9fc424e3728c6500f28' ORDER BY
                             if( o.relatedId = 0, o.id, o.relatedId),
                             if( o.relatedId = 0, 0, o.id )
                            ) r,
                        ( SELECT @parentVoteNumber := 0 ) pvn,
                        ( SELECT @parentVoteCount  := 0 ) pvc,
                        ( SELECT @parentCreateDate := 0 ) pcd
                         WHERE location = '5e13bbb73127b9fc424e3728c6500f28' 
                    ) s0
                    
                    
                    ORDER BY
                    
                s0.groupVoteNumber DESC,
                s0.groupVoteCount DESC,
                s0.groupCreateDate ASC,
                 
                    groupId  ASC, # first order by group
                    isChild ASC, # Then make sure the parent is first
                    
                s0.voteNumber DESC,
                s0.voteCount DESC,
                s0.createDate ASC
                
            ) s1,
            ( SELECT @parentrownum := 0 ) pr,
            ( SELECT @childrownum := 0 ) cr, 
            ( SELECT @lastparent := -1 ) lp) f
            LEFT JOIN user u on u.id = f.userId
            LEFT JOIN q_brooklyncode r on r.id = f.relatedId
            LEFT JOIN user ur on ur.id = r.userId
            WHERE
            ((0 = 6 and parent_sequence >= 1) or parent_sequence BETWEEN 1 AND 6)
            AND
            ((0 = 6 and child_sequence >= 1) or (child_sequence=0 or child_sequence BETWEEN 1 AND 6))
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042c04d0>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = %s
        
DEBUG:root:escape_sql args: [1L]
DEBUG:root:
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = 1
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042c06d0>
DEBUG:root:dictlist: {u'itemId': 1L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'1fe8a631d5522d10e2cf2e4fabedc90b', u'id': 1L}
DEBUG:root:dictItem: {u'itemId': 1L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'1fe8a631d5522d10e2cf2e4fabedc90b', u'id': 1L}
DEBUG:root:items: [<ImageItem: ImageItem object>]
DEBUG:root:im: [<ImageItem: ImageItem object>]
DEBUG:root:comment.images: [<ImageItem: ImageItem object>]
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = %s
        
DEBUG:root:escape_sql args: [2L]
DEBUG:root:
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = 2
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042c08d0>
DEBUG:root:dictlist: {u'itemId': 2L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'cfbb12022f81667e3c2746e3c80b2e1e', u'id': 2L}
DEBUG:root:dictItem: {u'itemId': 2L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'cfbb12022f81667e3c2746e3c80b2e1e', u'id': 2L}
DEBUG:root:items: [<ImageItem: ImageItem object>]
DEBUG:root:im: [<ImageItem: ImageItem object>]
DEBUG:root:comment.images: [<ImageItem: ImageItem object>]
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = %s
        
DEBUG:root:escape_sql args: [4L]
DEBUG:root:
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = 4
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042c0ad0>
DEBUG:root:dictlist: {u'itemId': 4L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'afdaf6b1c369d65535041c375356f03f', u'id': 3L}
DEBUG:root:dictItem: {u'itemId': 4L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'afdaf6b1c369d65535041c375356f03f', u'id': 3L}
DEBUG:root:items: [<ImageItem: ImageItem object>]
DEBUG:root:im: [<ImageItem: ImageItem object>]
DEBUG:root:comment.images: [<ImageItem: ImageItem object>]
DEBUG:root:Number of comments returned: 4
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:escape_sql args: []
DEBUG:root:
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042b6a90>
DEBUG:root:Number of contributions 4
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042b6b10>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042b6d10>
DEBUG:root:to_unicode
DEBUG:root:embed_content
DEBUG:root:embed_content
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:embed_content
DEBUG:root:embed_content
DEBUG:root:to_unicode
DEBUG:root:unsanitizing: test
DEBUG:root:unsanitizing encoded ascii: test
DEBUG:root:unsanitizing encoded utf8: test
DEBUG:root: unsanitized: test
DEBUG:root:unsanitizing: tester
DEBUG:root:unsanitizing encoded ascii: tester
DEBUG:root:unsanitizing encoded utf8: tester
DEBUG:root: unsanitized: tester
DEBUG:root:unsanitizing: Do you?
DEBUG:root:unsanitizing encoded ascii: Do you?
DEBUG:root:unsanitizing encoded utf8: Do you?
DEBUG:root: unsanitized: Do you?
DEBUG:root:unsanitizing: me
DEBUG:root:unsanitizing encoded ascii: me
DEBUG:root:unsanitizing encoded utf8: me
DEBUG:root: unsanitized: me
INFO:root:200 GET /q/embed (127.0.0.1)
DEBUG:root:None
DEBUG:root:{u'content-length': u'21394', u'PATTERN': u'/q/', u'x-forwarded-for': u'127.0.0.1', u'URI': u'/q/uploader?action=uploader&qqfile=Screen+Shot+2013-07-19+at+10.00.33+AM.png', u'accept': u'*/*', u'user-agent': u'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/28.0.1500.71 Safari/537.36', u'host': u'localhost', u'VERSION': u'HTTP/1.1', u'cookie': u'wordpress_8dec71ede39ad9ff3b3fbc03311bdc45=qoorate|1375142446|8148fbb3583470985c5fca59e75d635a; SBID=\\"!MZ6JnTJnDncb7k3n0Ya9Sg==?gAJVBFNCSURxAWN1dWlkClVVSUQKcQIpgXEDfXEEVQNpbnRxBYoQqUXRlREm8LXjTshLPYe7cXNihnEGLg==\\"; wordpress_test_cookie=WP Cookie check; wordpress_logged_in_8dec71ede39ad9ff3b3fbc03311bdc45=qoorate|1375142446|86fd9ec6d6a221f44c7b1244f05dcd23; QOOID=QOO51f460f57c582; QOOTID=QOOT51f460f57c593; wp-settings-time-1=1374970345', u'expect': u'100-continue', u'QUERY': u'action=uploader&qqfile=Screen+Shot+2013-07-19+at+10.00.33+AM.png', u'PATH': u'/q/uploader', u'content-type': u'application/x-www-form-urlencoded', u'METHOD': u'POST'}
DEBUG:root:TemporaryImageUploadHandler post
DEBUG:root:to_unicode
DEBUG:root:Screen Shot 2013-07-19 at 10.00.33 AM.png
DEBUG:root:Screen Shot 2013-07-19 at 10.00.33 AM.png
DEBUG:root:to_unicode
DEBUG:root:{'S3_PORT': 443, 'INIT_BUCKET': True, 'RETRY_INTERVAL': 60, 'S3_HOST': 's3.amazonaws.com', 'ACCEPTABLE_UPLOAD_MIME_TYPES': ['image/jpeg', 'image/gif', 'image/png'], 'IMAGE_INFO': [(None, 'JPEG', '_f', 'jpg'), ((300, 200), 'JPEG', '_t', 'jpg'), ((120, 200), 'JPEG', '_m', 'jpg'), ((170, 100), 'JPEG', '_f', 'jpg'), ((50, 50), 'JPEG', '_s', 'jpg')], 'TEMP_UPLOAD_DIR': 'tmp', 'SERVICE_INFO': {'SERVICE_ID': 'uploader', 'SERVICE_REGISTRATION_PASSPHRASE': '137b789e-b7eb-475a-8d5a-b16ab544yurp', 'ASYNC': False, 'SERVICE_REGISTRATION_ADDR': 'ipc://run/uploader/brubeck_svc_registration', 'SERVICE_ADDR': 'ipc://run/uploader/brubeck_svc'}, 'AMAZON_BUCKET': 'qoorate.brooklyncode', 'AMAZON_SECRET': 'K3NKUTZIZWQ9B1UzQcZpl5frT4VClA9Ud0gffWPC', 'AMAZON_KEY': 'AKIAIMJ3ACDQBKM4PBDQ'}
DEBUG:root:filename: Screen Shot 2013-07-19 at 10.00.33 AM.png
DEBUG:root:hash: dffa39e6d8f1b616cfab3be4e93e47c6
DEBUG:root:download_file_name: ./tmp/dffa39e6d8f1b616cfab3be4e93e47c6
DEBUG:root:mime_type: image/png
DEBUG:root:checking mime_type: image/png
DEBUG:root:mime_type OK
DEBUG:root:width: 798
DEBUG:root:height: 374
DEBUG:root:['']
DEBUG:root:['']
INFO:root:200 POST /q/uploader (127.0.0.1)
DEBUG:root:None
DEBUG:root:{u'cookie': u'SBID="!MZ6JnTJnDncb7k3n0Ya9Sg==?gAJVBFNCSURxAWN1dWlkClVVSUQKcQIpgXEDfXEEVQNpbnRxBYoQqUXRlREm8LXjTshLPYe7cXNihnEGLg=="; wordpress_test_cookie=WP+Cookie+check; wordpress_logged_in_8dec71ede39ad9ff3b3fbc03311bdc45=qoorate%7C1375142446%7C86fd9ec6d6a221f44c7b1244f05dcd23; QOOID=QOO51f460f57c582; QOOTID=QOOT51f460f57c593; wp-settings-time-1=1374970345', u'accept-language': u'en-US,en;q=0.8', u'accept-encoding': u'gzip,deflate,sdch', u'PATTERN': u'/q/', u'x-forwarded-for': u'127.0.0.1', u'host': u'localhost', u'accept': u'image/webp,*/*;q=0.8', u'user-agent': u'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/28.0.1500.71 Safari/537.36', u'connection': u'keep-alive', u'VERSION': u'HTTP/1.1', u'referer': u'http://localhost:8081/?p=1', u'PATH': u'/q/uploader/images/dffa39e6d8f1b616cfab3be4e93e47c6', u'METHOD': u'GET', u'URI': u'/q/uploader/images/dffa39e6d8f1b616cfab3be4e93e47c6'}
DEBUG:root:TemporaryImageViewHandler get
DEBUG:root:filename: dffa39e6d8f1b616cfab3be4e93e47c6
DEBUG:root:hash: <built-in function hash>
DEBUG:root:requested_file_name: ./tmp/dffa39e6d8f1b616cfab3be4e93e47c6
DEBUG:root:mime_type: image/png
INFO:root:200 GET /q/uploader/images/dffa39e6d8f1b616cfab3be4e93e47c6 (127.0.0.1)
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:set_table has q_short_name (12345)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042b6e90>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has q_short_name (12345)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042c00d0>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:feed.prepare, table: q_brooklyncode
DEBUG:root:FeedHandler post
DEBUG:root:Body -> 
 replyComment=must&thumbnailLarge=dffa39e6d8f1b616cfab3be4e93e47c6&replyPhoto=&action=addItem&location=5e13bbb73127b9fc424e3728c6500f28&referer=http%3A%2F%2Flocalhost%3A8081%2F%3Fp%3D1&q_short_name=12345&QOOID=QOO51f460f57c582&QOOTID=QOOT51f460f57c593
DEBUG:root:Arguments -> 
 {"thumbnailLarge": ["dffa39e6d8f1b616cfab3be4e93e47c6"], "QOOID": ["QOO51f460f57c582"], "QOOTID": ["QOOT51f460f57c593"], "q_short_name": ["12345"], "location": ["5e13bbb73127b9fc424e3728c6500f28"], "replyComment": ["must"], "action": ["addItem"], "referer": ["http://localhost:8081/?p=1"]}
DEBUG:root:to_unicode
DEBUG:root:addItem
DEBUG:root:addItem
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:addItem
DEBUG:root:addItem
DEBUG:root:to_unicode
DEBUG:root:action: addItem
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042c02d0>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042c04d0>
DEBUG:root:to_unicode
DEBUG:root:must
DEBUG:root:must
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:must
DEBUG:root:must
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:dffa39e6d8f1b616cfab3be4e93e47c6
DEBUG:root:dffa39e6d8f1b616cfab3be4e93e47c6
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:dffa39e6d8f1b616cfab3be4e93e47c6
DEBUG:root:dffa39e6d8f1b616cfab3be4e93e47c6
DEBUG:root:to_unicode
DEBUG:root:spawning upload
DEBUG:root:upload_to_S3 : dffa39e6d8f1b616cfab3be4e93e47c6
DEBUG:root:upload_to_S3 : dffa39e6d8f1b616cfab3be4e93e47c6
DEBUG:root:create_images_for_S3
DEBUG:root:file_path: tmp
DEBUG:root:file_name: dffa39e6d8f1b616cfab3be4e93e47c6
DEBUG:root:filename: tmp/dffa39e6d8f1b616cfab3be4e93e47c6
DEBUG:root:create_images_for_S3 image_infos: [(None, 'JPEG', '_f', 'jpg'), ((300, 200), 'JPEG', '_t', 'jpg'), ((120, 200), 'JPEG', '_m', 'jpg'), ((170, 100), 'JPEG', '_f', 'jpg'), ((50, 50), 'JPEG', '_s', 'jpg')] 
DEBUG:root:create_images_for_S3  image_info: (None, 'JPEG', '_f', 'jpg') 
DEBUG:root:filename created: dffa39e6d8f1b616cfab3be4e93e47c6_f.jpg
DEBUG:root:create_images_for_S3  image_info: ((300, 200), 'JPEG', '_t', 'jpg') 
DEBUG:root:image_info[0]: (300, 200)
DEBUG:root:image_info[1]: JPEG
DEBUG:root:image_info[2]: _t
DEBUG:root:image_info[3]: jpg
DEBUG:root:filename created: dffa39e6d8f1b616cfab3be4e93e47c6_t.jpg
DEBUG:root:create_images_for_S3  image_info: ((120, 200), 'JPEG', '_m', 'jpg') 
DEBUG:root:image_info[0]: (120, 200)
DEBUG:root:image_info[1]: JPEG
DEBUG:root:image_info[2]: _m
DEBUG:root:image_info[3]: jpg
DEBUG:root:filename created: dffa39e6d8f1b616cfab3be4e93e47c6_m.jpg
DEBUG:root:create_images_for_S3  image_info: ((170, 100), 'JPEG', '_f', 'jpg') 
DEBUG:root:image_info[0]: (170, 100)
DEBUG:root:image_info[1]: JPEG
DEBUG:root:image_info[2]: _f
DEBUG:root:image_info[3]: jpg
DEBUG:root:filename created: dffa39e6d8f1b616cfab3be4e93e47c6_f.jpg
DEBUG:root:create_images_for_S3  image_info: ((50, 50), 'JPEG', '_s', 'jpg') 
DEBUG:root:image_info[0]: (50, 50)
DEBUG:root:image_info[1]: JPEG
DEBUG:root:image_info[2]: _s
DEBUG:root:image_info[3]: jpg
DEBUG:root:filename created: dffa39e6d8f1b616cfab3be4e93e47c6_s.jpg
DEBUG:root:create_images_for_S3 return filenames: [u'dffa39e6d8f1b616cfab3be4e93e47c6_f.jpg', u'dffa39e6d8f1b616cfab3be4e93e47c6_t.jpg', u'dffa39e6d8f1b616cfab3be4e93e47c6_m.jpg', u'dffa39e6d8f1b616cfab3be4e93e47c6_f.jpg', u'dffa39e6d8f1b616cfab3be4e93e47c6_s.jpg'] 
DEBUG:root:file_names: [u'dffa39e6d8f1b616cfab3be4e93e47c6_f.jpg', u'dffa39e6d8f1b616cfab3be4e93e47c6_t.jpg', u'dffa39e6d8f1b616cfab3be4e93e47c6_m.jpg', u'dffa39e6d8f1b616cfab3be4e93e47c6_f.jpg', u'dffa39e6d8f1b616cfab3be4e93e47c6_s.jpg']
DEBUG:root:len(file_names): 5
DEBUG:boto:path=/
DEBUG:boto:auth_path=/qoorate.brooklyncode/
DEBUG:boto:Method: PUT
DEBUG:boto:Path: /
DEBUG:boto:Data: 
DEBUG:boto:Headers: {}
DEBUG:boto:Host: qoorate.brooklyncode.s3.amazonaws.com
DEBUG:boto:establishing HTTPS connection: host=qoorate.brooklyncode.s3.amazonaws.com, kwargs={}
DEBUG:boto:Token: None
DEBUG:boto:StringToSign:
PUT


Mon, 29 Jul 2013 02:38:36 GMT
/qoorate.brooklyncode/
DEBUG:boto:path=/
DEBUG:boto:auth_path=/qoorate.brooklyncode/
DEBUG:boto:path=/?policy
DEBUG:boto:auth_path=/qoorate.brooklyncode/?policy
DEBUG:boto:Method: PUT
DEBUG:boto:Path: /?policy
DEBUG:boto:Data: {
                    "Version": "2008-10-17",
                    "Statement": [
                        {
                            "Sid": "AddPerm",
                            "Effect": "Allow",
                            "Principal": {
                                "AWS": "*"
                            },
                            "Action": "s3:GetObject",
                            "Resource": "arn:aws:s3:::qoorate.brooklyncode/*"
                        }
                    ]
                }
            
DEBUG:boto:Headers: {}
DEBUG:boto:Host: qoorate.brooklyncode.s3.amazonaws.com
DEBUG:boto:Token: None
DEBUG:boto:StringToSign:
PUT


Mon, 29 Jul 2013 02:38:37 GMT
/qoorate.brooklyncode/?policy
DEBUG:root:create_images_for_S3
DEBUG:root:file_path: tmp
DEBUG:root:file_name: dffa39e6d8f1b616cfab3be4e93e47c6
DEBUG:root:filename: tmp/dffa39e6d8f1b616cfab3be4e93e47c6
DEBUG:root:create_images_for_S3 image_infos: [(None, 'JPEG', '_f', 'jpg'), ((300, 200), 'JPEG', '_t', 'jpg'), ((120, 200), 'JPEG', '_m', 'jpg'), ((170, 100), 'JPEG', '_f', 'jpg'), ((50, 50), 'JPEG', '_s', 'jpg')] 
DEBUG:root:create_images_for_S3  image_info: (None, 'JPEG', '_f', 'jpg') 
DEBUG:root:filename created: dffa39e6d8f1b616cfab3be4e93e47c6_f.jpg
DEBUG:root:create_images_for_S3  image_info: ((300, 200), 'JPEG', '_t', 'jpg') 
DEBUG:root:image_info[0]: (300, 200)
DEBUG:root:image_info[1]: JPEG
DEBUG:root:image_info[2]: _t
DEBUG:root:image_info[3]: jpg
DEBUG:root:filename created: dffa39e6d8f1b616cfab3be4e93e47c6_t.jpg
DEBUG:root:create_images_for_S3  image_info: ((120, 200), 'JPEG', '_m', 'jpg') 
DEBUG:root:image_info[0]: (120, 200)
DEBUG:root:image_info[1]: JPEG
DEBUG:root:image_info[2]: _m
DEBUG:root:image_info[3]: jpg
DEBUG:root:filename created: dffa39e6d8f1b616cfab3be4e93e47c6_m.jpg
DEBUG:root:create_images_for_S3  image_info: ((170, 100), 'JPEG', '_f', 'jpg') 
DEBUG:root:image_info[0]: (170, 100)
DEBUG:root:image_info[1]: JPEG
DEBUG:root:image_info[2]: _f
DEBUG:root:image_info[3]: jpg
DEBUG:root:filename created: dffa39e6d8f1b616cfab3be4e93e47c6_f.jpg
DEBUG:root:create_images_for_S3  image_info: ((50, 50), 'JPEG', '_s', 'jpg') 
DEBUG:root:image_info[0]: (50, 50)
DEBUG:root:image_info[1]: JPEG
DEBUG:root:image_info[2]: _s
DEBUG:root:image_info[3]: jpg
DEBUG:root:filename created: dffa39e6d8f1b616cfab3be4e93e47c6_s.jpg
DEBUG:root:create_images_for_S3 return filenames: [u'dffa39e6d8f1b616cfab3be4e93e47c6_f.jpg', u'dffa39e6d8f1b616cfab3be4e93e47c6_t.jpg', u'dffa39e6d8f1b616cfab3be4e93e47c6_m.jpg', u'dffa39e6d8f1b616cfab3be4e93e47c6_f.jpg', u'dffa39e6d8f1b616cfab3be4e93e47c6_s.jpg'] 
DEBUG:root:file_names: [u'dffa39e6d8f1b616cfab3be4e93e47c6_f.jpg', u'dffa39e6d8f1b616cfab3be4e93e47c6_t.jpg', u'dffa39e6d8f1b616cfab3be4e93e47c6_m.jpg', u'dffa39e6d8f1b616cfab3be4e93e47c6_f.jpg', u'dffa39e6d8f1b616cfab3be4e93e47c6_s.jpg']
DEBUG:root:images: [u'dffa39e6d8f1b616cfab3be4e93e47c6_f.jpg', u'dffa39e6d8f1b616cfab3be4e93e47c6_t.jpg', u'dffa39e6d8f1b616cfab3be4e93e47c6_m.jpg', u'dffa39e6d8f1b616cfab3be4e93e47c6_f.jpg', u'dffa39e6d8f1b616cfab3be4e93e47c6_s.jpg']
DEBUG:root:image_file_name: dffa39e6d8f1b616cfab3be4e93e47c6_f.jpg
DEBUG:root:Uploading dffa39e6d8f1b616cfab3be4e93e47c6_f.jpg to Amazon S3 bucket qoorate.brooklyncode
DEBUG:boto:path=/dffa39e6d8f1b616cfab3be4e93e47c6_f.jpg
DEBUG:boto:auth_path=/qoorate.brooklyncode/dffa39e6d8f1b616cfab3be4e93e47c6_f.jpg
DEBUG:boto:Method: PUT
DEBUG:boto:Path: /dffa39e6d8f1b616cfab3be4e93e47c6_f.jpg
DEBUG:boto:Data: 
DEBUG:boto:Headers: {'Content-Length': '1529', 'Content-MD5': 'FgEAa0zYHGSqM0tdHzTL7Q==', 'Content-Type': 'image/jpeg', 'Expect': '100-Continue', 'User-Agent': 'Boto/2.2.2 (darwin)'}
DEBUG:boto:Host: qoorate.brooklyncode.s3.amazonaws.com
DEBUG:boto:Token: None
DEBUG:boto:StringToSign:
PUT
FgEAa0zYHGSqM0tdHzTL7Q==
image/jpeg
Mon, 29 Jul 2013 02:38:37 GMT
/qoorate.brooklyncode/dffa39e6d8f1b616cfab3be4e93e47c6_f.jpg
DEBUG:boto:path=/dffa39e6d8f1b616cfab3be4e93e47c6_f.jpg
DEBUG:boto:auth_path=/qoorate.brooklyncode/dffa39e6d8f1b616cfab3be4e93e47c6_f.jpg
DEBUG:boto:path=/dffa39e6d8f1b616cfab3be4e93e47c6_f.jpg?acl
DEBUG:boto:auth_path=/qoorate.brooklyncode/dffa39e6d8f1b616cfab3be4e93e47c6_f.jpg?acl
DEBUG:boto:Method: PUT
DEBUG:boto:Path: /dffa39e6d8f1b616cfab3be4e93e47c6_f.jpg?acl
DEBUG:boto:Data: 
DEBUG:boto:Headers: {'x-amz-acl': 'public-read'}
DEBUG:boto:Host: qoorate.brooklyncode.s3.amazonaws.com
DEBUG:boto:Token: None
DEBUG:boto:StringToSign:
PUT


Mon, 29 Jul 2013 02:38:37 GMT
x-amz-acl:public-read
/qoorate.brooklyncode/dffa39e6d8f1b616cfab3be4e93e47c6_f.jpg?acl
DEBUG:root:image_file_name: dffa39e6d8f1b616cfab3be4e93e47c6_t.jpg
DEBUG:root:Uploading dffa39e6d8f1b616cfab3be4e93e47c6_t.jpg to Amazon S3 bucket qoorate.brooklyncode
DEBUG:boto:path=/dffa39e6d8f1b616cfab3be4e93e47c6_t.jpg
DEBUG:boto:auth_path=/qoorate.brooklyncode/dffa39e6d8f1b616cfab3be4e93e47c6_t.jpg
DEBUG:boto:Method: PUT
DEBUG:boto:Path: /dffa39e6d8f1b616cfab3be4e93e47c6_t.jpg
DEBUG:boto:Data: 
DEBUG:boto:Headers: {'Content-Length': '3310', 'Content-MD5': 't1sSM2m31hJlVShVinpkdg==', 'Content-Type': 'image/jpeg', 'Expect': '100-Continue', 'User-Agent': 'Boto/2.2.2 (darwin)'}
DEBUG:boto:Host: qoorate.brooklyncode.s3.amazonaws.com
DEBUG:boto:Token: None
DEBUG:boto:StringToSign:
PUT
t1sSM2m31hJlVShVinpkdg==
image/jpeg
Mon, 29 Jul 2013 02:38:37 GMT
/qoorate.brooklyncode/dffa39e6d8f1b616cfab3be4e93e47c6_t.jpg
DEBUG:boto:path=/dffa39e6d8f1b616cfab3be4e93e47c6_t.jpg
DEBUG:boto:auth_path=/qoorate.brooklyncode/dffa39e6d8f1b616cfab3be4e93e47c6_t.jpg
DEBUG:boto:path=/dffa39e6d8f1b616cfab3be4e93e47c6_t.jpg?acl
DEBUG:boto:auth_path=/qoorate.brooklyncode/dffa39e6d8f1b616cfab3be4e93e47c6_t.jpg?acl
DEBUG:boto:Method: PUT
DEBUG:boto:Path: /dffa39e6d8f1b616cfab3be4e93e47c6_t.jpg?acl
DEBUG:boto:Data: 
DEBUG:boto:Headers: {'x-amz-acl': 'public-read'}
DEBUG:boto:Host: qoorate.brooklyncode.s3.amazonaws.com
DEBUG:boto:Token: None
DEBUG:boto:StringToSign:
PUT


Mon, 29 Jul 2013 02:38:37 GMT
x-amz-acl:public-read
/qoorate.brooklyncode/dffa39e6d8f1b616cfab3be4e93e47c6_t.jpg?acl
DEBUG:root:image_file_name: dffa39e6d8f1b616cfab3be4e93e47c6_m.jpg
DEBUG:root:Uploading dffa39e6d8f1b616cfab3be4e93e47c6_m.jpg to Amazon S3 bucket qoorate.brooklyncode
DEBUG:boto:path=/dffa39e6d8f1b616cfab3be4e93e47c6_m.jpg
DEBUG:boto:auth_path=/qoorate.brooklyncode/dffa39e6d8f1b616cfab3be4e93e47c6_m.jpg
DEBUG:boto:Method: PUT
DEBUG:boto:Path: /dffa39e6d8f1b616cfab3be4e93e47c6_m.jpg
DEBUG:boto:Data: 
DEBUG:boto:Headers: {'Content-Length': '1529', 'Content-MD5': 'FgEAa0zYHGSqM0tdHzTL7Q==', 'Content-Type': 'image/jpeg', 'Expect': '100-Continue', 'User-Agent': 'Boto/2.2.2 (darwin)'}
DEBUG:boto:Host: qoorate.brooklyncode.s3.amazonaws.com
DEBUG:boto:Token: None
DEBUG:boto:StringToSign:
PUT
FgEAa0zYHGSqM0tdHzTL7Q==
image/jpeg
Mon, 29 Jul 2013 02:38:37 GMT
/qoorate.brooklyncode/dffa39e6d8f1b616cfab3be4e93e47c6_m.jpg
DEBUG:boto:path=/dffa39e6d8f1b616cfab3be4e93e47c6_m.jpg
DEBUG:boto:auth_path=/qoorate.brooklyncode/dffa39e6d8f1b616cfab3be4e93e47c6_m.jpg
DEBUG:boto:path=/dffa39e6d8f1b616cfab3be4e93e47c6_m.jpg?acl
DEBUG:boto:auth_path=/qoorate.brooklyncode/dffa39e6d8f1b616cfab3be4e93e47c6_m.jpg?acl
DEBUG:boto:Method: PUT
DEBUG:boto:Path: /dffa39e6d8f1b616cfab3be4e93e47c6_m.jpg?acl
DEBUG:boto:Data: 
DEBUG:boto:Headers: {'x-amz-acl': 'public-read'}
DEBUG:boto:Host: qoorate.brooklyncode.s3.amazonaws.com
DEBUG:boto:Token: None
DEBUG:boto:StringToSign:
PUT


Mon, 29 Jul 2013 02:38:37 GMT
x-amz-acl:public-read
/qoorate.brooklyncode/dffa39e6d8f1b616cfab3be4e93e47c6_m.jpg?acl
DEBUG:root:image_file_name: dffa39e6d8f1b616cfab3be4e93e47c6_f.jpg
DEBUG:root:Uploading dffa39e6d8f1b616cfab3be4e93e47c6_f.jpg to Amazon S3 bucket qoorate.brooklyncode
DEBUG:boto:path=/dffa39e6d8f1b616cfab3be4e93e47c6_f.jpg
DEBUG:boto:auth_path=/qoorate.brooklyncode/dffa39e6d8f1b616cfab3be4e93e47c6_f.jpg
DEBUG:boto:Method: PUT
DEBUG:boto:Path: /dffa39e6d8f1b616cfab3be4e93e47c6_f.jpg
DEBUG:boto:Data: 
DEBUG:boto:Headers: {'Content-Length': '1529', 'Content-MD5': 'FgEAa0zYHGSqM0tdHzTL7Q==', 'Content-Type': 'image/jpeg', 'Expect': '100-Continue', 'User-Agent': 'Boto/2.2.2 (darwin)'}
DEBUG:boto:Host: qoorate.brooklyncode.s3.amazonaws.com
DEBUG:boto:Token: None
DEBUG:boto:StringToSign:
PUT
FgEAa0zYHGSqM0tdHzTL7Q==
image/jpeg
Mon, 29 Jul 2013 02:38:38 GMT
/qoorate.brooklyncode/dffa39e6d8f1b616cfab3be4e93e47c6_f.jpg
DEBUG:boto:path=/dffa39e6d8f1b616cfab3be4e93e47c6_f.jpg
DEBUG:boto:auth_path=/qoorate.brooklyncode/dffa39e6d8f1b616cfab3be4e93e47c6_f.jpg
DEBUG:boto:path=/dffa39e6d8f1b616cfab3be4e93e47c6_f.jpg?acl
DEBUG:boto:auth_path=/qoorate.brooklyncode/dffa39e6d8f1b616cfab3be4e93e47c6_f.jpg?acl
DEBUG:boto:Method: PUT
DEBUG:boto:Path: /dffa39e6d8f1b616cfab3be4e93e47c6_f.jpg?acl
DEBUG:boto:Data: 
DEBUG:boto:Headers: {'x-amz-acl': 'public-read'}
DEBUG:boto:Host: qoorate.brooklyncode.s3.amazonaws.com
DEBUG:boto:Token: None
DEBUG:boto:StringToSign:
PUT


Mon, 29 Jul 2013 02:38:38 GMT
x-amz-acl:public-read
/qoorate.brooklyncode/dffa39e6d8f1b616cfab3be4e93e47c6_f.jpg?acl
DEBUG:root:image_file_name: dffa39e6d8f1b616cfab3be4e93e47c6_s.jpg
DEBUG:root:Uploading dffa39e6d8f1b616cfab3be4e93e47c6_s.jpg to Amazon S3 bucket qoorate.brooklyncode
DEBUG:boto:path=/dffa39e6d8f1b616cfab3be4e93e47c6_s.jpg
DEBUG:boto:auth_path=/qoorate.brooklyncode/dffa39e6d8f1b616cfab3be4e93e47c6_s.jpg
DEBUG:boto:Method: PUT
DEBUG:boto:Path: /dffa39e6d8f1b616cfab3be4e93e47c6_s.jpg
DEBUG:boto:Data: 
DEBUG:boto:Headers: {'Content-Length': '955', 'Content-MD5': 'gx29roQQV2WRPjNaY8M+UA==', 'Content-Type': 'image/jpeg', 'Expect': '100-Continue', 'User-Agent': 'Boto/2.2.2 (darwin)'}
DEBUG:boto:Host: qoorate.brooklyncode.s3.amazonaws.com
DEBUG:boto:Token: None
DEBUG:boto:StringToSign:
PUT
gx29roQQV2WRPjNaY8M+UA==
image/jpeg
Mon, 29 Jul 2013 02:38:38 GMT
/qoorate.brooklyncode/dffa39e6d8f1b616cfab3be4e93e47c6_s.jpg
DEBUG:boto:path=/dffa39e6d8f1b616cfab3be4e93e47c6_s.jpg
DEBUG:boto:auth_path=/qoorate.brooklyncode/dffa39e6d8f1b616cfab3be4e93e47c6_s.jpg
DEBUG:boto:path=/dffa39e6d8f1b616cfab3be4e93e47c6_s.jpg?acl
DEBUG:boto:auth_path=/qoorate.brooklyncode/dffa39e6d8f1b616cfab3be4e93e47c6_s.jpg?acl
DEBUG:boto:Method: PUT
DEBUG:boto:Path: /dffa39e6d8f1b616cfab3be4e93e47c6_s.jpg?acl
DEBUG:boto:Data: 
DEBUG:boto:Headers: {'x-amz-acl': 'public-read'}
DEBUG:boto:Host: qoorate.brooklyncode.s3.amazonaws.com
DEBUG:boto:Token: None
DEBUG:boto:StringToSign:
PUT


Mon, 29 Jul 2013 02:38:38 GMT
x-amz-acl:public-read
/qoorate.brooklyncode/dffa39e6d8f1b616cfab3be4e93e47c6_s.jpg?acl
DEBUG:root:spawned upload
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:http://localhost:8081/?p=1
DEBUG:root:http://localhost:8081/?p=1
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:http://localhost:8081/?p=1
DEBUG:root:http://localhost:8081/?p=1
DEBUG:root:to_unicode
DEBUG:root:MySqlApiQueryset create_one
DEBUG:root:MySqlApiQueryset create_one sql: 
                INSERT INTO `q_brooklyncode` 
                set id=%s,locationId=%s,relatedId=%s,parentId=%s,userId=%s,type=%s,name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s,createDate=%s 
                ON DUPLICATE KEY UPDATE
                name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s
                
DEBUG:root:execute
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:execute args: [None, 0L, 0L, 0L, 1L, 1L, u'must', u'5e13bbb73127b9fc424e3728c6500f28', None, 0L, 0L, 0L, 0L, 0L, 0L, 0L, '', None, u'dffa39e6d8f1b616cfab3be4e93e47c6', u'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 22, 38, 38, 422986), datetime.datetime(2013, 7, 28, 22, 38, 38, 422986), u'must', u'5e13bbb73127b9fc424e3728c6500f28', None, 0L, 0L, 0L, 0L, 0L, 0L, 0L, '', None, u'dffa39e6d8f1b616cfab3be4e93e47c6', u'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 22, 38, 38, 422986)]
DEBUG:root:escape_sql sql: 
                INSERT INTO `q_brooklyncode` 
                set id=%s,locationId=%s,relatedId=%s,parentId=%s,userId=%s,type=%s,name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s,createDate=%s 
                ON DUPLICATE KEY UPDATE
                name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s
                
DEBUG:root:escape_sql args: [None, 0L, 0L, 0L, 1L, 1L, u'must', u'5e13bbb73127b9fc424e3728c6500f28', None, 0L, 0L, 0L, 0L, 0L, 0L, 0L, '', None, u'dffa39e6d8f1b616cfab3be4e93e47c6', u'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 22, 38, 38, 422986), datetime.datetime(2013, 7, 28, 22, 38, 38, 422986), u'must', u'5e13bbb73127b9fc424e3728c6500f28', None, 0L, 0L, 0L, 0L, 0L, 0L, 0L, '', None, u'dffa39e6d8f1b616cfab3be4e93e47c6', u'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 22, 38, 38, 422986)]
DEBUG:root:
                INSERT INTO `q_brooklyncode` 
                set id=NULL,locationId=0,relatedId=0,parentId=0,userId=1,type=1,name='must',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=0,voteNumber=0,votesUp=0,votesDown=0,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge='dffa39e6d8f1b616cfab3be4e93e47c6',referer='http://localhost:8081/?p=1',changeDate='2013-07-28 22:38:38',createDate='2013-07-28 22:38:38' 
                ON DUPLICATE KEY UPDATE
                name='must',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=0,voteNumber=0,votesUp=0,votesDown=0,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge='dffa39e6d8f1b616cfab3be4e93e47c6',referer='http://localhost:8081/?p=1',changeDate='2013-07-28 22:38:38'
                
DEBUG:root:execute: 
                INSERT INTO `q_brooklyncode` 
                set id=NULL,locationId=0,relatedId=0,parentId=0,userId=1,type=1,name='must',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=0,voteNumber=0,votesUp=0,votesDown=0,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge='dffa39e6d8f1b616cfab3be4e93e47c6',referer='http://localhost:8081/?p=1',changeDate='2013-07-28 22:38:38',createDate='2013-07-28 22:38:38' 
                ON DUPLICATE KEY UPDATE
                name='must',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=0,voteNumber=0,votesUp=0,votesDown=0,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge='dffa39e6d8f1b616cfab3be4e93e47c6',referer='http://localhost:8081/?p=1',changeDate='2013-07-28 22:38:38'
                
DEBUG:root:MySqlApiQueryset create_one (status, affected_rows): (Created, 1)
DEBUG:root:inserted_id: 5)
DEBUG:root:update_child_count(Comment object)
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:escape_sql sql: 
            SELECT count(*) as `childCount`
            FROM `q_brooklyncode` `f`
            WHERE `f`.`parentId`= %s
            
DEBUG:root:escape_sql args: [5L]
DEBUG:root:
            SELECT count(*) as `childCount`
            FROM `q_brooklyncode` `f`
            WHERE `f`.`parentId`= 5
            
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10435d9d0>
DEBUG:root:child_count: 0
DEBUG:root:MySqlApiQueryset create_one
DEBUG:root:MySqlApiQueryset create_one sql: 
                INSERT INTO `q_brooklyncode` 
                set id=%s,locationId=%s,relatedId=%s,parentId=%s,userId=%s,type=%s,name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s,createDate=%s 
                ON DUPLICATE KEY UPDATE
                name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s
                
DEBUG:root:execute
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:execute args: [5L, 0L, 0L, 0L, 1L, 1L, u'must', u'5e13bbb73127b9fc424e3728c6500f28', None, 0L, 0L, 0L, 0L, 0L, 0L, 0L, '', None, u'dffa39e6d8f1b616cfab3be4e93e47c6', u'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 22, 38, 38, 422986), datetime.datetime(2013, 7, 28, 22, 38, 38, 422986), u'must', u'5e13bbb73127b9fc424e3728c6500f28', None, 0L, 0L, 0L, 0L, 0L, 0L, 0L, '', None, u'dffa39e6d8f1b616cfab3be4e93e47c6', u'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 22, 38, 38, 422986)]
DEBUG:root:escape_sql sql: 
                INSERT INTO `q_brooklyncode` 
                set id=%s,locationId=%s,relatedId=%s,parentId=%s,userId=%s,type=%s,name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s,createDate=%s 
                ON DUPLICATE KEY UPDATE
                name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s
                
DEBUG:root:escape_sql args: [5L, 0L, 0L, 0L, 1L, 1L, u'must', u'5e13bbb73127b9fc424e3728c6500f28', None, 0L, 0L, 0L, 0L, 0L, 0L, 0L, '', None, u'dffa39e6d8f1b616cfab3be4e93e47c6', u'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 22, 38, 38, 422986), datetime.datetime(2013, 7, 28, 22, 38, 38, 422986), u'must', u'5e13bbb73127b9fc424e3728c6500f28', None, 0L, 0L, 0L, 0L, 0L, 0L, 0L, '', None, u'dffa39e6d8f1b616cfab3be4e93e47c6', u'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 22, 38, 38, 422986)]
DEBUG:root:
                INSERT INTO `q_brooklyncode` 
                set id=5,locationId=0,relatedId=0,parentId=0,userId=1,type=1,name='must',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=0,voteNumber=0,votesUp=0,votesDown=0,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge='dffa39e6d8f1b616cfab3be4e93e47c6',referer='http://localhost:8081/?p=1',changeDate='2013-07-28 22:38:38',createDate='2013-07-28 22:38:38' 
                ON DUPLICATE KEY UPDATE
                name='must',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=0,voteNumber=0,votesUp=0,votesDown=0,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge='dffa39e6d8f1b616cfab3be4e93e47c6',referer='http://localhost:8081/?p=1',changeDate='2013-07-28 22:38:38'
                
DEBUG:root:execute: 
                INSERT INTO `q_brooklyncode` 
                set id=5,locationId=0,relatedId=0,parentId=0,userId=1,type=1,name='must',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=0,voteNumber=0,votesUp=0,votesDown=0,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge='dffa39e6d8f1b616cfab3be4e93e47c6',referer='http://localhost:8081/?p=1',changeDate='2013-07-28 22:38:38',createDate='2013-07-28 22:38:38' 
                ON DUPLICATE KEY UPDATE
                name='must',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=0,voteNumber=0,votesUp=0,votesDown=0,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge='dffa39e6d8f1b616cfab3be4e93e47c6',referer='http://localhost:8081/?p=1',changeDate='2013-07-28 22:38:38'
                
DEBUG:root:item_exists
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:escape_sql sql: SELECT count(*) FROM `q_brooklyncode`  WHERE id = %s
DEBUG:root:escape_sql args: [5L]
DEBUG:root:SELECT count(*) FROM `q_brooklyncode`  WHERE id = 5
DEBUG:root:MySqlApiQueryset create_one (status, affected_rows): (NO CHANGES, 0)
DEBUG:root:MySqlApiQueryset create_one
DEBUG:root:MySqlApiQueryset create_one sql: 
                INSERT INTO `q_brooklyncode_images` 
                set id=%s,itemId=%s,s3Bucket=%s,thumbnailLargeHash=%s 
                ON DUPLICATE KEY UPDATE
                s3Bucket=%s,thumbnailLargeHash=%s
                
DEBUG:root:execute
DEBUG:root:execute args: [None, 5L, 'qoorate.brooklyncode', u'dffa39e6d8f1b616cfab3be4e93e47c6', 'qoorate.brooklyncode', u'dffa39e6d8f1b616cfab3be4e93e47c6']
DEBUG:root:escape_sql sql: 
                INSERT INTO `q_brooklyncode_images` 
                set id=%s,itemId=%s,s3Bucket=%s,thumbnailLargeHash=%s 
                ON DUPLICATE KEY UPDATE
                s3Bucket=%s,thumbnailLargeHash=%s
                
DEBUG:root:escape_sql args: [None, 5L, 'qoorate.brooklyncode', u'dffa39e6d8f1b616cfab3be4e93e47c6', 'qoorate.brooklyncode', u'dffa39e6d8f1b616cfab3be4e93e47c6']
DEBUG:root:
                INSERT INTO `q_brooklyncode_images` 
                set id=NULL,itemId=5,s3Bucket='qoorate.brooklyncode',thumbnailLargeHash='dffa39e6d8f1b616cfab3be4e93e47c6' 
                ON DUPLICATE KEY UPDATE
                s3Bucket='qoorate.brooklyncode',thumbnailLargeHash='dffa39e6d8f1b616cfab3be4e93e47c6'
                
DEBUG:root:execute: 
                INSERT INTO `q_brooklyncode_images` 
                set id=NULL,itemId=5,s3Bucket='qoorate.brooklyncode',thumbnailLargeHash='dffa39e6d8f1b616cfab3be4e93e47c6' 
                ON DUPLICATE KEY UPDATE
                s3Bucket='qoorate.brooklyncode',thumbnailLargeHash='dffa39e6d8f1b616cfab3be4e93e47c6'
                
DEBUG:root:MySqlApiQueryset create_one (status, affected_rows): (Created, 1)
DEBUG:root:inserted_id: 4)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042c08d0>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1042c0ad0>
DEBUG:root:CONTEXT: {'has_more_contributions': False, 'app': {'CHILD_PAGE_SIZE': 5, 'QOORATE_API_URI': 'http://localhost/q', 'TEMP_DIR': 'tmp', 'BACKGROUND_S3_UPLOAD': True, 'BROKEN_IMG_URI': 'http://localhost/q/img/blank.gif', 'POLLING_INTERVAL': 15, 'QOORATE_IMG_PATH': 'http://localhost/q/uploader/images/', 'S3_IMG_PATH': 'https://s3.amazonaws.com/qoorate.brooklyncode/', 'AMAZON_BUCKET': 'qoorate.brooklyncode', 'QOORATE_URI': 'http://localhost', 'PARENT_PAGE_SIZE': 5}, 'thumbnailLargeHash': u'dffa39e6d8f1b616cfab3be4e93e47c6', 'parentCount': 5, 'q_short_name': u'12345', 'is_admin': False, 'parent_tag': u'p_brooklyncode', 'moreIndex': 1, 'comments': [<Comment: Comment object>], 'location': u'5e13bbb73127b9fc424e3728c6500f28', 'current_user': <User: User object>, 'related_user': None, 'childCount': 5, 'comment_images': [('Created', <ImageItem: ImageItem object>)]}
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:
     
        
            
             
        
    

</div>

<div class="q_clear"></div>
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:escape_sql sql: 
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:escape_sql args: []
DEBUG:root:
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10437e550>
DEBUG:root:Number of contributions 5
INFO:root:200 POST /q/feed (127.0.0.1)
Mon, 29 Jul 2013 02:38:55 GMT [ERROR] (errno: No such file or directory) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 02:38:55 GMT [ERROR] (errno: None) Failed to create target for route /q/static/
Mon, 29 Jul 2013 02:38:55 GMT [ERROR] (errno: None) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 02:38:55 GMT [ERROR] (errno: None) Failed to create target for route /q/robots.txt
Mon, 29 Jul 2013 02:38:55 GMT [ERROR] (errno: None) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 02:38:55 GMT [ERROR] (errno: None) Failed to create target for route /q/favicon.ico
Mon, 29 Jul 2013 02:38:55 GMT [INFO] (src/mime.c:49) MAX limits.mime_ext_len=128
Mon, 29 Jul 2013 02:38:55 GMT [INFO] (src/host.c:74) MAX limits.url_path=256, limits.host_name=256
Mon, 29 Jul 2013 02:38:55 GMT [INFO] (src/config/config.c:109) Loaded proxy 1:127.0.0.1:8081
Mon, 29 Jul 2013 02:38:55 GMT [INFO] (src/config/config.c:227) Loaded route 1:/:proxy for host 1:localhost
Mon, 29 Jul 2013 02:38:55 GMT [INFO] (src/handler.c:343) MAX limits.handler_stack=102400
Mon, 29 Jul 2013 02:38:55 GMT [INFO] (src/config/config.c:85) Loaded handler 1:ipc://run/qoorateserver/mongrel2_send:137b789e-b7eb-475a-8d5c-b16ab54493yu:ipc://run/qoorateserver/mongrel2_rcv:
Mon, 29 Jul 2013 02:38:55 GMT [INFO] (src/config/config.c:227) Loaded route 2:/q/:handler for host 1:localhost
Mon, 29 Jul 2013 02:38:55 GMT [INFO] (src/dir.c:195) MAX limits.dir_send_buffer=16384, limits.dir_max_path=256
Mon, 29 Jul 2013 02:38:55 GMT [INFO] (src/config/config.c:136) Loaded directory 1:static/qoorateserver/js/:index.html
Mon, 29 Jul 2013 02:38:55 GMT [INFO] (src/config/config.c:227) Loaded route 3:/q/js/:dir for host 1:localhost
Mon, 29 Jul 2013 02:38:55 GMT [INFO] (src/config/config.c:136) Loaded directory 2:static/qoorateserver/css/:index.html
Mon, 29 Jul 2013 02:38:55 GMT [INFO] (src/config/config.c:227) Loaded route 4:/q/css/:dir for host 1:localhost
Mon, 29 Jul 2013 02:38:55 GMT [INFO] (src/config/config.c:136) Loaded directory 3:static/qoorateserver/img/:index.html
Mon, 29 Jul 2013 02:38:55 GMT [INFO] (src/config/config.c:227) Loaded route 5:/q/img/:dir for host 1:localhost
Mon, 29 Jul 2013 02:38:55 GMT [INFO] (src/config/config.c:312) Loaded 1 hosts for server 1:fe76e442-da24-4708-b0ef-c4ahr2b7d131
Mon, 29 Jul 2013 02:38:55 GMT [INFO] (src/server.c:445) LOADING Handler ipc://run/qoorateserver/mongrel2_send
Mon, 29 Jul 2013 02:38:55 GMT [ERROR] (src/unixy.c:99: errno: No such file or directory) Failed to open PID file ../run/mongrel2.pid for reading.
Mon, 29 Jul 2013 02:38:55 GMT [INFO] (src/unixy.c:137) No previous mongrel2 running, continuing on.
Mon, 29 Jul 2013 02:38:55 GMT [INFO] (src/mongrel2.c:223) All loaded up, time to turn into a server.
Mon, 29 Jul 2013 02:38:55 GMT [INFO] (src/mongrel2.c:224) -- Starting Mongrel2/1.8.1. Copyright (C) Zed A. Shaw. Licensed BSD.

Mon, 29 Jul 2013 02:38:55 GMT [INFO] (src/mongrel2.c:225) -- Look in logs/error.log for startup messages and errors.
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
INFO:root:Using project directory: .
DEBUG:root:loading settings from ./conf/uploader/settings.py
INFO:root:Using coroutine library: gevent
DEBUG:root:******** START _service_registration *********
DEBUG:root:service_registration_passphrase: 137b789e-b7eb-475a-8d5a-b16ab544yurp
DEBUG:root:service_id: uploader
DEBUG:root:service_registration_addr: ipc://run/uploader/brubeck_svc_registration
DEBUG:root:service_passphrase: 137b789e-b7eb-475a-8d5a-b16ab544yurp
DEBUG:root:service_addr: ipc://run/uploader/brubeck_svc
DEBUG:root:service_response_addr: ipc://run/uploader/brubeck_svc_response
DEBUG:root:service_heartbeat_addr: None
DEBUG:root:service_heartbeat_timeout: 5
DEBUG:root:sender_id: bd0aeba74d644b8f9539b2ec25b8b5ce
DEBUG:root:is_reregistration: 0
DEBUG:root:service_heartbeat_interval: 3
DEBUG:root:******** END _service_registration *********
DEBUG:root:register_service: (service_registration_addr, service_registration_passphrase,service_heartbeat_timeout,sender_id): (ipc://run/uploader/brubeck_svc_registration,137b789e-b7eb-475a-8d5a-b16ab544yurp, 5, bd0aeba74d644b8f9539b2ec25b8b5ce)
DEBUG:root:service_registration sending request
DEBUG:root:service_registration waiting for response
INFO:root:Using project directory: .
DEBUG:root:loading settings from ./conf/qoorateserver/development.py
INFO:root:Using coroutine library: gevent
DEBUG:root:creating application db_conn pool
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:get EmbedHandler
DEBUG:root:to_unicode
DEBUG:root:embed_head
DEBUG:root:embed_head
DEBUG:root:to_unicode
DEBUG:root:action: embed_head 
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:set_table has key/secret
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = %s and `secret`= %s
        
DEBUG:root:escape_sql args: [u'12345', u'54321']
DEBUG:root:
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = '12345' and `secret`= '54321'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x110812a90>
DEBUG:root:returning True from authencticate.
DEBUG:root:set_table authenticated
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x110812b10>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has key/secret
DEBUG:root:returning `True` from authenticate cached.
DEBUG:root:set_table authenticated
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x110812d10>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x110812e90>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x11081c0d0>
DEBUG:root:qoorate preferences: {
    "THEME": "grid",
    "EMBED_CONF_JS": "
        var qoorateConfig = {
            QOORATE_URI: 'http://localhost',
            QOORATE_API_URI: 'http://localhost/q',
            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',
            XHR_PROXY_URI: '/q/feed',
            XHR_UPLOAD_URI: '/q/uploader',
            POST_MAX_LEN: 1000,
            PARENT_PAGE_SIZE: 10,
            CHILD_PAGE_SIZE: 10,
            AUTO_SCROLL: 1,
            THEME: 'grid',
            GRID_COLUMNS: 3,
            GRID_COLUMN_TRIM: 15,
            GRID_ROW_TRIM: 15
        };
        var qoorateLang = {
            FLAG_SUCCESS: 'Thanks for flagging this!',
            SHARE_SUCCESS: 'Thank you for sharing!',
            DELETE_SUCCESS: 'Thank you. This item has been deleted.',
            SIGNIN: 'Sign in using',
            SIGNEDIN: 'Signed in via',    
            OK: 'OK',
            CANCEL: 'Cancel',
            LOGOUT: 'Log Out',
            TOGGLE_ON: '+',
            TOGGLE_OFF: '-',
            CONTRIBUTION: 'Contribution',
            CONTRIBUTIONS: 'Contributions',
            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',
            REMOVE: 'Remove',
            LINK: 'Insert a link',
            TOPIC_COMMENT: 'Pose a Yes/No Question',
            COMMENT: 'Your Comment',
            IMAGE_COMMENT: 'Image Caption',
            POST_TO: 'Post to',
            POST_ANONYMOUS: 'Post anonymously',
            NICKNAME: 'Post as ',
            DEFAULT_NICKNAME: 'Anonymous',
            REPLY_LINK_COMMENT: 'Say something about your link',
            SHARE_COMMENT: 'comment about this share...',
            PUBLISH_BUTTON: 'Publish',
            POST_BUTTON: 'Post',
            POST_TO_BUTTON: 'Post To',
            REPLY_BUTTON: 'Reply',
            SHARE_BUTTON: 'Share',
            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',
            SELECT_IMAGE: 'Select an Image',
            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',
            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],
            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],
            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]
        };
    "
}

DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:preferences EMBED_CONF_JS:         var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    
DEBUG:root:embed_head called
INFO:root:200 GET /q/embed (127.0.0.1)
DEBUG:root:get EmbedHandler
DEBUG:root:to_unicode
DEBUG:root:embed_content
DEBUG:root:embed_content
DEBUG:root:to_unicode
DEBUG:root:action: embed_content 
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:set_table has key/secret
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = %s and `secret`= %s
        
DEBUG:root:escape_sql args: [u'12345', u'54321']
DEBUG:root:
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = '12345' and `secret`= '54321'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x11081c2d0>
DEBUG:root:returning True from authencticate.
DEBUG:root:set_table authenticated
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x11081c4d0>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has key/secret
DEBUG:root:returning `True` from authenticate cached.
DEBUG:root:set_table authenticated
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x11081c6d0>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x11081c8d0>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x11081cad0>
DEBUG:root:qoorate preferences: {
    "THEME": "grid",
    "EMBED_CONF_JS": "
        var qoorateConfig = {
            QOORATE_URI: 'http://localhost',
            QOORATE_API_URI: 'http://localhost/q',
            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',
            XHR_PROXY_URI: '/q/feed',
            XHR_UPLOAD_URI: '/q/uploader',
            POST_MAX_LEN: 1000,
            PARENT_PAGE_SIZE: 10,
            CHILD_PAGE_SIZE: 10,
            AUTO_SCROLL: 1,
            THEME: 'grid',
            GRID_COLUMNS: 3,
            GRID_COLUMN_TRIM: 15,
            GRID_ROW_TRIM: 15
        };
        var qoorateLang = {
            FLAG_SUCCESS: 'Thanks for flagging this!',
            SHARE_SUCCESS: 'Thank you for sharing!',
            DELETE_SUCCESS: 'Thank you. This item has been deleted.',
            SIGNIN: 'Sign in using',
            SIGNEDIN: 'Signed in via',    
            OK: 'OK',
            CANCEL: 'Cancel',
            LOGOUT: 'Log Out',
            TOGGLE_ON: '+',
            TOGGLE_OFF: '-',
            CONTRIBUTION: 'Contribution',
            CONTRIBUTIONS: 'Contributions',
            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',
            REMOVE: 'Remove',
            LINK: 'Insert a link',
            TOPIC_COMMENT: 'Pose a Yes/No Question',
            COMMENT: 'Your Comment',
            IMAGE_COMMENT: 'Image Caption',
            POST_TO: 'Post to',
            POST_ANONYMOUS: 'Post anonymously',
            NICKNAME: 'Post as ',
            DEFAULT_NICKNAME: 'Anonymous',
            REPLY_LINK_COMMENT: 'Say something about your link',
            SHARE_COMMENT: 'comment about this share...',
            PUBLISH_BUTTON: 'Publish',
            POST_BUTTON: 'Post',
            POST_TO_BUTTON: 'Post To',
            REPLY_BUTTON: 'Reply',
            SHARE_BUTTON: 'Share',
            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',
            SELECT_IMAGE: 'Select an Image',
            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',
            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],
            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],
            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]
        };
    "
}

DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:preferences EMBED_CONF_JS:         var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    
DEBUG:root:embed_content called (key,secret): (12345,54321)
DEBUG:root:returning `True` from authenticate cached.
DEBUG:root:get_content_context
DEBUG:root:table: q_brooklyncode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:init_db_conn
DEBUG:root:NOT creating db_conn
DEBUG:root:1
DEBUG:root:5
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT f.`parent_sequence` , f.`child_sequence` , f.`id` , f.`locationId` , f.`relatedId`,
                f.`parentId` , f.`userId` , `u`.`username`, u.`thumbnailLarge` as userThumbnailLarge,
                ur.`username` as relatedUsername, ur.`thumbnailLarge` as relatedUserThumbnailLarge, f.`type` as `item_type`,
                f.`is_anonymous` , r.`is_anonymous` as `related_is_anonymous`, f.`name` , f.`location` ,f.`description`,f.`referer`,
                f.`voteCount` , f.`voteNumber` , f.`votesUp` ,f.`votesDown` , f.`flagCount`,  f.`childCount`, f.`sortOrder` , f.`status`,
                f.`thumbnailSmall` ,f.`thumbnailLarge` , f.`changeDate` , f.`createDate`, f.`nickname`, r.`nickname` as `related_nickname`
            FROM (
                # this query adds the sequence fields to filter by for paging
                SELECT  s1.*, @parentrownum := convert( IF( ( parentId = 0), @parentrownum +1, @parentrownum ), UNSIGNED INTEGER) AS parent_sequence,
                @childrownum := IF( ( @lastparent = parentId), @childrownum + 1, 0 ) AS child_sequence,
                @lastparent := if( parentId=0, id, parentId ) AS dummy_used_for_last_parent
                FROM
                    # QUERY 2: this query sorts the results properly
                    (SELECT s0.* FROM
                        # QUERY 1: This query gets the results we need with calculated fields to sort by
                        # We should probably have these fields in the database so they are indexed
                        (SELECT
                        CONVERT( if( parentId = 0, @parentVoteNumber:=voteNumber,
                            @parentVoteNumber ), SIGNED INTEGER ) as groupVoteNumber,          # Will order groups using parent voteNumber
                        CONVERT( if( parentId = 0, @parentVoteCount:=voteCount,
                            @parentVoteCount ), SIGNED INTEGER ) as groupVoteCount,            # Will order groups using parent voteCount
                        CONVERT( if( parentId = 0, @parentCreateDate:=createDate,
                            @parentCreateDate ), DATETIME ) as groupCreateDate,                # Will order groups using parent createDate
                        CONVERT( if(parentId=0, id, parentId), UNSIGNED INTEGER) as groupId,   # will order groups together
                        CONVERT( if(parentId = 0, 0, 1), UNSIGNED INTEGER) as isChild,         # will order parent first in group
                        r.*
                        FROM (
                            # this just makes sure our groups are grouped in parent child order
                            SELECT * from q_brooklyncode o  WHERE o.location = '5e13bbb73127b9fc424e3728c6500f28' ORDER BY
                             if( o.relatedId = 0, o.id, o.relatedId),
                             if( o.relatedId = 0, 0, o.id )
                            ) r,
                        ( SELECT @parentVoteNumber := 0 ) pvn,
                        ( SELECT @parentVoteCount  := 0 ) pvc,
                        ( SELECT @parentCreateDate := 0 ) pcd
                         WHERE location = '5e13bbb73127b9fc424e3728c6500f28' 
                    ) s0
                    
                    
                    ORDER BY
                    
                s0.groupVoteNumber DESC,
                s0.groupVoteCount DESC,
                s0.groupCreateDate ASC,
                 
                    groupId  ASC, # first order by group
                    isChild ASC, # Then make sure the parent is first
                    
                s0.voteNumber DESC,
                s0.voteCount DESC,
                s0.createDate ASC
                
            ) s1,
            ( SELECT @parentrownum := 0 ) pr,
            ( SELECT @childrownum := 0 ) cr, 
            ( SELECT @lastparent := -1 ) lp) f
            LEFT JOIN user u on u.id = f.userId
            LEFT JOIN q_brooklyncode r on r.id = f.relatedId
            LEFT JOIN user ur on ur.id = r.userId
            WHERE
            ((0 = 6 and parent_sequence >= 1) or parent_sequence BETWEEN 1 AND 6)
            AND
            ((0 = 6 and child_sequence >= 1) or (child_sequence=0 or child_sequence BETWEEN 1 AND 6))
        
DEBUG:root:escape_sql args: None
DEBUG:root:
            SELECT f.`parent_sequence` , f.`child_sequence` , f.`id` , f.`locationId` , f.`relatedId`,
                f.`parentId` , f.`userId` , `u`.`username`, u.`thumbnailLarge` as userThumbnailLarge,
                ur.`username` as relatedUsername, ur.`thumbnailLarge` as relatedUserThumbnailLarge, f.`type` as `item_type`,
                f.`is_anonymous` , r.`is_anonymous` as `related_is_anonymous`, f.`name` , f.`location` ,f.`description`,f.`referer`,
                f.`voteCount` , f.`voteNumber` , f.`votesUp` ,f.`votesDown` , f.`flagCount`,  f.`childCount`, f.`sortOrder` , f.`status`,
                f.`thumbnailSmall` ,f.`thumbnailLarge` , f.`changeDate` , f.`createDate`, f.`nickname`, r.`nickname` as `related_nickname`
            FROM (
                # this query adds the sequence fields to filter by for paging
                SELECT  s1.*, @parentrownum := convert( IF( ( parentId = 0), @parentrownum +1, @parentrownum ), UNSIGNED INTEGER) AS parent_sequence,
                @childrownum := IF( ( @lastparent = parentId), @childrownum + 1, 0 ) AS child_sequence,
                @lastparent := if( parentId=0, id, parentId ) AS dummy_used_for_last_parent
                FROM
                    # QUERY 2: this query sorts the results properly
                    (SELECT s0.* FROM
                        # QUERY 1: This query gets the results we need with calculated fields to sort by
                        # We should probably have these fields in the database so they are indexed
                        (SELECT
                        CONVERT( if( parentId = 0, @parentVoteNumber:=voteNumber,
                            @parentVoteNumber ), SIGNED INTEGER ) as groupVoteNumber,          # Will order groups using parent voteNumber
                        CONVERT( if( parentId = 0, @parentVoteCount:=voteCount,
                            @parentVoteCount ), SIGNED INTEGER ) as groupVoteCount,            # Will order groups using parent voteCount
                        CONVERT( if( parentId = 0, @parentCreateDate:=createDate,
                            @parentCreateDate ), DATETIME ) as groupCreateDate,                # Will order groups using parent createDate
                        CONVERT( if(parentId=0, id, parentId), UNSIGNED INTEGER) as groupId,   # will order groups together
                        CONVERT( if(parentId = 0, 0, 1), UNSIGNED INTEGER) as isChild,         # will order parent first in group
                        r.*
                        FROM (
                            # this just makes sure our groups are grouped in parent child order
                            SELECT * from q_brooklyncode o  WHERE o.location = '5e13bbb73127b9fc424e3728c6500f28' ORDER BY
                             if( o.relatedId = 0, o.id, o.relatedId),
                             if( o.relatedId = 0, 0, o.id )
                            ) r,
                        ( SELECT @parentVoteNumber := 0 ) pvn,
                        ( SELECT @parentVoteCount  := 0 ) pvc,
                        ( SELECT @parentCreateDate := 0 ) pcd
                         WHERE location = '5e13bbb73127b9fc424e3728c6500f28' 
                    ) s0
                    
                    
                    ORDER BY
                    
                s0.groupVoteNumber DESC,
                s0.groupVoteCount DESC,
                s0.groupCreateDate ASC,
                 
                    groupId  ASC, # first order by group
                    isChild ASC, # Then make sure the parent is first
                    
                s0.voteNumber DESC,
                s0.voteCount DESC,
                s0.createDate ASC
                
            ) s1,
            ( SELECT @parentrownum := 0 ) pr,
            ( SELECT @childrownum := 0 ) cr, 
            ( SELECT @lastparent := -1 ) lp) f
            LEFT JOIN user u on u.id = f.userId
            LEFT JOIN q_brooklyncode r on r.id = f.relatedId
            LEFT JOIN user ur on ur.id = r.userId
            WHERE
            ((0 = 6 and parent_sequence >= 1) or parent_sequence BETWEEN 1 AND 6)
            AND
            ((0 = 6 and child_sequence >= 1) or (child_sequence=0 or child_sequence BETWEEN 1 AND 6))
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x110812a90>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = %s
        
DEBUG:root:escape_sql args: [1L]
DEBUG:root:
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = 1
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x110812b10>
DEBUG:root:dictlist: {u'itemId': 1L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'1fe8a631d5522d10e2cf2e4fabedc90b', u'id': 1L}
DEBUG:root:dictItem: {u'itemId': 1L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'1fe8a631d5522d10e2cf2e4fabedc90b', u'id': 1L}
DEBUG:root:items: [<ImageItem: ImageItem object>]
DEBUG:root:im: [<ImageItem: ImageItem object>]
DEBUG:root:comment.images: [<ImageItem: ImageItem object>]
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = %s
        
DEBUG:root:escape_sql args: [2L]
DEBUG:root:
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = 2
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x110812d10>
DEBUG:root:dictlist: {u'itemId': 2L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'cfbb12022f81667e3c2746e3c80b2e1e', u'id': 2L}
DEBUG:root:dictItem: {u'itemId': 2L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'cfbb12022f81667e3c2746e3c80b2e1e', u'id': 2L}
DEBUG:root:items: [<ImageItem: ImageItem object>]
DEBUG:root:im: [<ImageItem: ImageItem object>]
DEBUG:root:comment.images: [<ImageItem: ImageItem object>]
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = %s
        
DEBUG:root:escape_sql args: [4L]
DEBUG:root:
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = 4
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x110812e90>
DEBUG:root:dictlist: {u'itemId': 4L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'afdaf6b1c369d65535041c375356f03f', u'id': 3L}
DEBUG:root:dictItem: {u'itemId': 4L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'afdaf6b1c369d65535041c375356f03f', u'id': 3L}
DEBUG:root:items: [<ImageItem: ImageItem object>]
DEBUG:root:im: [<ImageItem: ImageItem object>]
DEBUG:root:comment.images: [<ImageItem: ImageItem object>]
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = %s
        
DEBUG:root:escape_sql args: [5L]
DEBUG:root:
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = 5
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x11081c0d0>
DEBUG:root:dictlist: {u'itemId': 5L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'dffa39e6d8f1b616cfab3be4e93e47c6', u'id': 4L}
DEBUG:root:dictItem: {u'itemId': 5L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'dffa39e6d8f1b616cfab3be4e93e47c6', u'id': 4L}
DEBUG:root:items: [<ImageItem: ImageItem object>]
DEBUG:root:im: [<ImageItem: ImageItem object>]
DEBUG:root:comment.images: [<ImageItem: ImageItem object>]
DEBUG:root:Number of comments returned: 5
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:escape_sql args: []
DEBUG:root:
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x11081c2d0>
DEBUG:root:Number of contributions 5
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x11081c4d0>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x11081c6d0>
DEBUG:root:to_unicode
DEBUG:root:embed_content
DEBUG:root:embed_content
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:embed_content
DEBUG:root:embed_content
DEBUG:root:to_unicode
DEBUG:root:unsanitizing: test
DEBUG:root:unsanitizing encoded ascii: test
DEBUG:root:unsanitizing encoded utf8: test
DEBUG:root: unsanitized: test
DEBUG:root:unsanitizing: tester
DEBUG:root:unsanitizing encoded ascii: tester
DEBUG:root:unsanitizing encoded utf8: tester
DEBUG:root: unsanitized: tester
DEBUG:root:unsanitizing: Do you?
DEBUG:root:unsanitizing encoded ascii: Do you?
DEBUG:root:unsanitizing encoded utf8: Do you?
DEBUG:root: unsanitized: Do you?
DEBUG:root:unsanitizing: me
DEBUG:root:unsanitizing encoded ascii: me
DEBUG:root:unsanitizing encoded utf8: me
DEBUG:root: unsanitized: me
DEBUG:root:unsanitizing: must
DEBUG:root:unsanitizing encoded ascii: must
DEBUG:root:unsanitizing encoded utf8: must
DEBUG:root: unsanitized: must
INFO:root:200 GET /q/embed (127.0.0.1)
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:set_table has q_short_name (12345)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x11081c8d0>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has q_short_name (12345)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x11081cad0>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:feed.prepare, table: q_brooklyncode
DEBUG:root:FeedHandler post
DEBUG:root:Body -> 
 action=getMore&location=5e13bbb73127b9fc424e3728c6500f28&referer=http%3A%2F%2Flocalhost%3A8081%2F%3Fp%3D1&q_short_name=12345&QOOID=QOO51f460f57c582&QOOTID=QOOT51f460f57c593&relatedId=5&moreIndex=11&sort=voting
DEBUG:root:Arguments -> 
 {"sort": ["voting"], "moreIndex": ["11"], "QOOID": ["QOO51f460f57c582"], "QOOTID": ["QOOT51f460f57c593"], "q_short_name": ["12345"], "location": ["5e13bbb73127b9fc424e3728c6500f28"], "action": ["getMore"], "referer": ["http://localhost:8081/?p=1"], "relatedId": ["5"]}
DEBUG:root:to_unicode
DEBUG:root:getMore
DEBUG:root:getMore
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:getMore
DEBUG:root:getMore
DEBUG:root:to_unicode
DEBUG:root:action: getMore
DEBUG:root:to_unicode
DEBUG:root:voting
DEBUG:root:voting
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:voting
DEBUG:root:voting
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:11
DEBUG:root:11
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:11
DEBUG:root:11
DEBUG:root:to_unicode
DEBUG:root:init_db_conn
DEBUG:root:NOT creating db_conn
DEBUG:root:11
DEBUG:root:5
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT f.`parent_sequence` , f.`child_sequence` , f.`id` , f.`locationId` , f.`relatedId`,
                f.`parentId` , f.`userId` , `u`.`username`, u.`thumbnailLarge` as userThumbnailLarge,
                ur.`username` as relatedUsername, ur.`thumbnailLarge` as relatedUserThumbnailLarge, f.`type` as `item_type`,
                f.`is_anonymous` , r.`is_anonymous` as `related_is_anonymous`, f.`name` , f.`location` ,f.`description`,f.`referer`,
                f.`voteCount` , f.`voteNumber` , f.`votesUp` ,f.`votesDown` , f.`flagCount`,  f.`childCount`, f.`sortOrder` , f.`status`,
                f.`thumbnailSmall` ,f.`thumbnailLarge` , f.`changeDate` , f.`createDate`, f.`nickname`, r.`nickname` as `related_nickname`
            FROM (
                # this query adds the sequence fields to filter by for paging
                SELECT  s1.*, @parentrownum := convert( IF( ( parentId = 0), @parentrownum +1, @parentrownum ), UNSIGNED INTEGER) AS parent_sequence,
                @childrownum := IF( ( @lastparent = parentId), @childrownum + 1, 0 ) AS child_sequence,
                @lastparent := if( parentId=0, id, parentId ) AS dummy_used_for_last_parent
                FROM
                    # QUERY 2: this query sorts the results properly
                    (SELECT s0.* FROM
                        # QUERY 1: This query gets the results we need with calculated fields to sort by
                        # We should probably have these fields in the database so they are indexed
                        (SELECT
                        CONVERT( if( parentId = 0, @parentVoteNumber:=voteNumber,
                            @parentVoteNumber ), SIGNED INTEGER ) as groupVoteNumber,          # Will order groups using parent voteNumber
                        CONVERT( if( parentId = 0, @parentVoteCount:=voteCount,
                            @parentVoteCount ), SIGNED INTEGER ) as groupVoteCount,            # Will order groups using parent voteCount
                        CONVERT( if( parentId = 0, @parentCreateDate:=createDate,
                            @parentCreateDate ), DATETIME ) as groupCreateDate,                # Will order groups using parent createDate
                        CONVERT( if(parentId=0, id, parentId), UNSIGNED INTEGER) as groupId,   # will order groups together
                        CONVERT( if(parentId = 0, 0, 1), UNSIGNED INTEGER) as isChild,         # will order parent first in group
                        r.*
                        FROM (
                            # this just makes sure our groups are grouped in parent child order
                            SELECT * from q_brooklyncode o  WHERE o.location = '5e13bbb73127b9fc424e3728c6500f28' ORDER BY
                             if( o.relatedId = 0, o.id, o.relatedId),
                             if( o.relatedId = 0, 0, o.id )
                            ) r,
                        ( SELECT @parentVoteNumber := 0 ) pvn,
                        ( SELECT @parentVoteCount  := 0 ) pvc,
                        ( SELECT @parentCreateDate := 0 ) pcd
                         WHERE location = '5e13bbb73127b9fc424e3728c6500f28' 
                    ) s0
                    
                    
                    ORDER BY
                    
                s0.groupVoteNumber DESC,
                s0.groupVoteCount DESC,
                s0.groupCreateDate ASC,
                 
                    groupId  ASC, # first order by group
                    isChild ASC, # Then make sure the parent is first
                    
                s0.voteNumber DESC,
                s0.voteCount DESC,
                s0.createDate ASC
                
            ) s1,
            ( SELECT @parentrownum := 0 ) pr,
            ( SELECT @childrownum := 0 ) cr, 
            ( SELECT @lastparent := -1 ) lp) f
            LEFT JOIN user u on u.id = f.userId
            LEFT JOIN q_brooklyncode r on r.id = f.relatedId
            LEFT JOIN user ur on ur.id = r.userId
            WHERE
            ((0 = 16 and parent_sequence >= 11) or parent_sequence BETWEEN 11 AND 16)
            AND
            ((0 = 6 and child_sequence >= 1) or (child_sequence=0 or child_sequence BETWEEN 1 AND 6))
        
DEBUG:root:escape_sql args: None
DEBUG:root:
            SELECT f.`parent_sequence` , f.`child_sequence` , f.`id` , f.`locationId` , f.`relatedId`,
                f.`parentId` , f.`userId` , `u`.`username`, u.`thumbnailLarge` as userThumbnailLarge,
                ur.`username` as relatedUsername, ur.`thumbnailLarge` as relatedUserThumbnailLarge, f.`type` as `item_type`,
                f.`is_anonymous` , r.`is_anonymous` as `related_is_anonymous`, f.`name` , f.`location` ,f.`description`,f.`referer`,
                f.`voteCount` , f.`voteNumber` , f.`votesUp` ,f.`votesDown` , f.`flagCount`,  f.`childCount`, f.`sortOrder` , f.`status`,
                f.`thumbnailSmall` ,f.`thumbnailLarge` , f.`changeDate` , f.`createDate`, f.`nickname`, r.`nickname` as `related_nickname`
            FROM (
                # this query adds the sequence fields to filter by for paging
                SELECT  s1.*, @parentrownum := convert( IF( ( parentId = 0), @parentrownum +1, @parentrownum ), UNSIGNED INTEGER) AS parent_sequence,
                @childrownum := IF( ( @lastparent = parentId), @childrownum + 1, 0 ) AS child_sequence,
                @lastparent := if( parentId=0, id, parentId ) AS dummy_used_for_last_parent
                FROM
                    # QUERY 2: this query sorts the results properly
                    (SELECT s0.* FROM
                        # QUERY 1: This query gets the results we need with calculated fields to sort by
                        # We should probably have these fields in the database so they are indexed
                        (SELECT
                        CONVERT( if( parentId = 0, @parentVoteNumber:=voteNumber,
                            @parentVoteNumber ), SIGNED INTEGER ) as groupVoteNumber,          # Will order groups using parent voteNumber
                        CONVERT( if( parentId = 0, @parentVoteCount:=voteCount,
                            @parentVoteCount ), SIGNED INTEGER ) as groupVoteCount,            # Will order groups using parent voteCount
                        CONVERT( if( parentId = 0, @parentCreateDate:=createDate,
                            @parentCreateDate ), DATETIME ) as groupCreateDate,                # Will order groups using parent createDate
                        CONVERT( if(parentId=0, id, parentId), UNSIGNED INTEGER) as groupId,   # will order groups together
                        CONVERT( if(parentId = 0, 0, 1), UNSIGNED INTEGER) as isChild,         # will order parent first in group
                        r.*
                        FROM (
                            # this just makes sure our groups are grouped in parent child order
                            SELECT * from q_brooklyncode o  WHERE o.location = '5e13bbb73127b9fc424e3728c6500f28' ORDER BY
                             if( o.relatedId = 0, o.id, o.relatedId),
                             if( o.relatedId = 0, 0, o.id )
                            ) r,
                        ( SELECT @parentVoteNumber := 0 ) pvn,
                        ( SELECT @parentVoteCount  := 0 ) pvc,
                        ( SELECT @parentCreateDate := 0 ) pcd
                         WHERE location = '5e13bbb73127b9fc424e3728c6500f28' 
                    ) s0
                    
                    
                    ORDER BY
                    
                s0.groupVoteNumber DESC,
                s0.groupVoteCount DESC,
                s0.groupCreateDate ASC,
                 
                    groupId  ASC, # first order by group
                    isChild ASC, # Then make sure the parent is first
                    
                s0.voteNumber DESC,
                s0.voteCount DESC,
                s0.createDate ASC
                
            ) s1,
            ( SELECT @parentrownum := 0 ) pr,
            ( SELECT @childrownum := 0 ) cr, 
            ( SELECT @lastparent := -1 ) lp) f
            LEFT JOIN user u on u.id = f.userId
            LEFT JOIN q_brooklyncode r on r.id = f.relatedId
            LEFT JOIN user ur on ur.id = r.userId
            WHERE
            ((0 = 16 and parent_sequence >= 11) or parent_sequence BETWEEN 11 AND 16)
            AND
            ((0 = 6 and child_sequence >= 1) or (child_sequence=0 or child_sequence BETWEEN 1 AND 6))
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x110812a90>
DEBUG:root:Number of comments returned: 0
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x110812b10>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x110812d10>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x110812e90>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x11081c0d0>
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:escape_sql sql: 
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:escape_sql args: []
DEBUG:root:
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x110823b90>
DEBUG:root:Number of contributions 5
INFO:root:200 POST /q/feed (127.0.0.1)
DEBUG:root:None
DEBUG:root:{u'content-length': u'649435', u'PATTERN': u'/q/', u'x-forwarded-for': u'127.0.0.1', u'URI': u'/q/uploader?action=uploader&qqfile=Screen+Shot+2013-06-25+at+11.36.54+AM.png', u'accept': u'*/*', u'user-agent': u'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/28.0.1500.71 Safari/537.36', u'host': u'localhost', u'VERSION': u'HTTP/1.1', u'cookie': u'wordpress_8dec71ede39ad9ff3b3fbc03311bdc45=qoorate|1375142446|8148fbb3583470985c5fca59e75d635a; SBID=\\"!MZ6JnTJnDncb7k3n0Ya9Sg==?gAJVBFNCSURxAWN1dWlkClVVSUQKcQIpgXEDfXEEVQNpbnRxBYoQqUXRlREm8LXjTshLPYe7cXNihnEGLg==\\"; wordpress_test_cookie=WP Cookie check; wordpress_logged_in_8dec71ede39ad9ff3b3fbc03311bdc45=qoorate|1375142446|86fd9ec6d6a221f44c7b1244f05dcd23; QOOID=QOO51f460f57c582; QOOTID=QOOT51f460f57c593; wp-settings-time-1=1374970345', u'expect': u'100-continue', u'QUERY': u'action=uploader&qqfile=Screen+Shot+2013-06-25+at+11.36.54+AM.png', u'PATH': u'/q/uploader', u'content-type': u'application/x-www-form-urlencoded', u'METHOD': u'POST'}
DEBUG:root:TemporaryImageUploadHandler post
DEBUG:root:to_unicode
DEBUG:root:Screen Shot 2013-06-25 at 11.36.54 AM.png
DEBUG:root:Screen Shot 2013-06-25 at 11.36.54 AM.png
DEBUG:root:to_unicode
DEBUG:root:{'S3_PORT': 443, 'INIT_BUCKET': True, 'RETRY_INTERVAL': 60, 'S3_HOST': 's3.amazonaws.com', 'ACCEPTABLE_UPLOAD_MIME_TYPES': ['image/jpeg', 'image/gif', 'image/png'], 'IMAGE_INFO': [(None, 'JPEG', '_f', 'jpg'), ((300, 200), 'JPEG', '_t', 'jpg'), ((120, 200), 'JPEG', '_m', 'jpg'), ((170, 100), 'JPEG', '_f', 'jpg'), ((50, 50), 'JPEG', '_s', 'jpg')], 'TEMP_UPLOAD_DIR': 'tmp', 'SERVICE_INFO': {'SERVICE_ID': 'uploader', 'SERVICE_REGISTRATION_PASSPHRASE': '137b789e-b7eb-475a-8d5a-b16ab544yurp', 'ASYNC': False, 'SERVICE_REGISTRATION_ADDR': 'ipc://run/uploader/brubeck_svc_registration', 'SERVICE_ADDR': 'ipc://run/uploader/brubeck_svc'}, 'AMAZON_BUCKET': 'qoorate.brooklyncode', 'AMAZON_SECRET': 'K3NKUTZIZWQ9B1UzQcZpl5frT4VClA9Ud0gffWPC', 'AMAZON_KEY': 'AKIAIMJ3ACDQBKM4PBDQ'}
DEBUG:root:filename: Screen Shot 2013-06-25 at 11.36.54 AM.png
DEBUG:root:hash: 8aa464876cd5bfe7e00f3fab7e2a2870
DEBUG:root:download_file_name: ./tmp/8aa464876cd5bfe7e00f3fab7e2a2870
DEBUG:root:mime_type: image/png
DEBUG:root:checking mime_type: image/png
DEBUG:root:mime_type OK
DEBUG:root:width: 3360
DEBUG:root:height: 2100
DEBUG:root:['']
DEBUG:root:['']
DEBUG:root:to_unicode
DEBUG:root:›ì`± †{GˇcL˛Ì ù»“±bÕmlNõè<Ü.?÷ˇe }á©÷_Ì èËE®ÿ:vÄ}˘ “›l,.5…÷Úœe‘MW° ›ˇ i?t`á?hqÂ Âd‚(D˚ } ˆ ˆá,ˆú ¢Ã ¸i?∏kwã’ûUVò≠„ ÿBfº¡-rf§ó ïÂx2R˘ø»ü>ªL }v‚I EÔ”ß/… ^ êì»?°ˇ %˛H  T åt¸ìÛeW}R]˜ø∑|Ò¨é¢_∑øW¢r:ÏØ3ç¯ß
DEBUG:root:›ì`± †{GˇcL˛Ì ù»“±bÕmlNõè<Ü.?÷ˇe }á©÷_Ì èËE®ÿ:vÄ}˘ “›l,.5…÷Úœe‘MW° ›ˇ i?t`á?hqÂ Âd‚(D˚ } ˆ ˆá,ˆú ¢Ã ¸i?∏kwã’ûUVò≠„ ÿBfº¡-rf§ó ïÂx2R˘ø»ü>ªL }v‚I EÔ”ß/… ^ êì»?°ˇ %˛H  T åt¸ìÛeW}R]˜ø∑|Ò¨é¢_∑øW¢r:ÏØ3ç¯ß
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:∑»∏é6œ9¨≠eﬂgÌ sùl˜û!káD… e5¨ Û‰DªNÆdΩÒÄÃvTS(Éà∏9÷Ol:Ã˙/*ıÙ ≤K∞™MÜ˝çÚOg’yøˇ¯§3^˛£·}?{˝‰OvæÙÙ•Ux1≤Ë¬˚•€Iq◊x˝ ˙ Õﬁ¶ E8 >´L˙
˛8íÚ Ïo®-ƒLa E €* J©[
DEBUG:root:∑»∏é6œ9¨≠eﬂgÌ sùl˜û!káD… e5¨ Û‰DªNÆdΩÒÄÃvTS(Éà∏9÷Ol:Ã˙/*ıÙ ≤K∞™MÜ˝çÚOg’yøˇ¯§3^˛£·}?{˝‰OvæÙÙ•Ux1≤Ë¬˚•€Iq◊x˝ ˙ Õﬁ¶ E8 >´L˙
˛8íÚ Ïo®-ƒLa E €* J©[
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:ª∫¸£—˛¨ ˇ…e”A0 	çççvvwëérÿIﬂ`–∞ Âø÷ ï Xi˛˝¥˘?0Ÿ  ?æÕâ—±ÆÆn ¬≠ÕÛÔÙÔÜ/º˛õ$”ÑQ"ˇn¢ˇÎõˇÕf”~C(‘LN™´´ cY6˛-%ãıjMeÚÔ¶ÒoQ˛CÂ˙ø“˛d”iwCC§©e|t¨£ªã⁄ ‰•*…ø •§Á ˇ‡M◊k¸ìºÉ<-ﬁ5|.≤\$¢ÖÍF¬ 7á‹´åñ!π™a{ ˇ¡x!z˙“˘˜U ÷b“Ÿ|]ù'‹ 91q¢€›e√Òìw)¬?)»_úì•K©zuKèíø  ©Ö£‡\UÒjd“™ 4Ò·HÀËÿ	WGØã˘@»º‚ õ∆øpƒ>¸° ˝Ïg?˚·}˜≠KºpÈ≥/{˛ïœó WlˇWÍˇ⁄ÒO  ?’ò◊Û/]]]TkÛzΩ¿ËwtñòŒ±„ßªwÌzÌk_óÀz-ä¬¿ hQx%zπy‹9êqJ˛h9 Ï8Ü ÚÇ  bÃÄÅ «ò  …B åp-0ˆZâ Ç6çö!¨ Z_ v † ’@àßË$5ﬂ `YKa— °.‰UÓä⁄í g4vÜj Iø=∏q”Üßû|™ØØ – ﬁ U‚tÏàç"°WÀìät‹F<ŒEÍ N:€˙NNdÉÖSXÛ { πÈÍß†˘l∞ T
·p B¬ÉcW∏éx˛ 
»ër9·x»¡\ç˝˙πÏ tÜ?Ù„Ù ÿ´?Ω˛  ea~á Ø∏\jvSœOh B©É¯¢dÖ ÉX∏ê»ùÑû B êá 1¬É±8Th˝TË‚≥’∂ ÂôÂ
DEBUG:root:ª∫¸£—˛¨ ˇ…e”A0 	çççvvwëérÿIﬂ`–∞ Âø÷ ï Xi˛˝¥˘?0Ÿ  ?æÕâ—±ÆÆn ¬≠ÕÛÔÙÔÜ/º˛õ$”ÑQ"ˇn¢ˇÎõˇÕf”~C(‘LN™´´ cY6˛-%ãıjMeÚÔ¶ÒoQ˛CÂ˙ø“˛d”iwCC§©e|t¨£ªã⁄ ‰•*…ø •§Á ˇ‡M◊k¸ìºÉ<-ﬁ5|.≤\$¢ÖÍF¬ 7á‹´åñ!π™a{ ˇ¡x!z˙“˘˜U ÷b“Ÿ|]ù'‹ 91q¢€›e√Òìw)¬?)»_úì•K©zuKèíø  ©Ö£‡\UÒjd“™ 4Ò·HÀËÿ	WGØã˘@»º‚ õ∆øpƒ>¸° ˝Ïg?˚·}˜≠KºpÈ≥/{˛ïœó WlˇWÍˇ⁄ÒO  ?’ò◊Û/]]]TkÛzΩ¿ËwtñòŒ±„ßªwÌzÌk_óÀz-ä¬¿ hQx%zπy‹9êqJ˛h9 Ï8Ü ÚÇ  bÃÄÅ «ò  …B åp-0ˆZâ Ç6çö!¨ Z_ v † ’@àßË$5ﬂ `YKa— °.‰UÓä⁄í g4vÜj Iø=∏q”Üßû|™ØØ – ﬁ U‚tÏàç"°WÀìät‹F<ŒEÍ N:€˙NNdÉÖSXÛ { πÈÍß†˘l∞ T
·p B¬ÉcW∏éx˛ 
»ër9·x»¡\ç˝˙πÏ tÜ?Ù„Ù ÿ´?Ω˛  ea~á Ø∏\jvSœOh B©É¯¢dÖ ÉX∏ê»ùÑû B êá 1¬É±8Th˝TË‚≥’∂ ÂôÂ
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:ΩfË¿∑÷ron$u`kÔ÷]X {  ÔEªΩΩ√âúj5ø¯›5ê£ÎPÄ   8ƒ^A çåO]3óSløëì„˝Ú ˘¢¶,~mv§?{ <1~DA Ω†ÚrÙ ∑ Â4 €ME„ ú¡—u ™¸#ììc^b_Ò |Y2'|Ç  OymılND·Êà-ßs ^¡”“ﬁò
DEBUG:root:ΩfË¿∑÷ron$u`kÔ÷]X {  ÔEªΩΩ√âúj5ø¯›5ê£ÎPÄ   8ƒ^A çåO]3óSløëì„˝Ú ˘¢¶,~mv§?{ <1~DA Ω†ÚrÙ ∑ Â4 €ME„ ú¡—u ™¸#ììc^b_Ò |Y2'|Ç  OymılND·Êà-ßs ^¡”“ﬁò
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:ñ 
DEBUG:root:ñ 
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:*†˝ﬂ‘XSzÏîÈ<%ù˛e÷
DEBUG:root:*†˝ﬂ‘XSzÏîÈ<%ù˛e÷
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:›˙4tp¯<©:ßd˜∑˝1ã9˝¿∆nıM 4 
DEBUG:root:›˙4tp¯<©:ßd˜∑˝1ã9˝¿∆nıM 4 
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:>ıQõ)#s≈à@~ ˇ~•hØÚm æ[Â≥  ˇ» …nÙîåÃ*boõ zºÁh zà2m¨  Ë¬b2Ÿ° ya˝*◊ ˆ˙3 J4ø˘∫f™Ù ç >|◊ı‘ ˇ∆¨Qöﬂ]…éâû˜‘nÏÉ      @   Ä¿È,0£µüŒ:h
DEBUG:root:>ıQõ)#s≈à@~ ˇ~•hØÚm æ[Â≥  ˇ» …nÙîåÃ*boõ zºÁh zà2m¨  Ë¬b2Ÿ° ya˝*◊ ˆ˙3 J4ø˘∫f™Ù ç >|◊ı‘ ˇ∆¨Qöﬂ]…éâû˜‘nÏÉ      @   Ä¿È,0£µüŒ:h
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:8>iRßÆ*!Zö%µüwüj7. jB/¡ﬂ 
9‘VMº´º8 õ§ 1idmÚ((ﬁÈ?>d–õ∏4ß‚  Ç\î'‘äΩ •U^ìëÊVa∫ '8¯ úª˙N%c∏‚ª«ö %Ç≤œfâ£≤ ™∂∑ΩŒ≈ ´‰K5ÆÀw¯Ï ˙ömQR
DEBUG:root:8>iRßÆ*!Zö%µüwüj7. jB/¡ﬂ 
9‘VMº´º8 õ§ 1idmÚ((ﬁÈ?>d–õ∏4ß‚  Ç\î'‘äΩ •U^ìëÊVa∫ '8¯ úª˙N%c∏‚ª«ö %Ç≤œfâ£≤ ™∂∑ΩŒ≈ ´‰K5ÆÀw¯Ï ˙ömQR
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:“2D£ï6wtà-K 
DEBUG:root:“2D£ï6wtà-K 
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:µ¯ñQ|´píeìú˜®/ l ∆ºNQ~~›õß/[} öªÆh¨œﬁ' ù  Óf’Ws	g[*q˙w¸|¬Úª›T¥≠!}”ûÙ„CÔ˘◊¥Q˛ ™Ì˚w±ÈNv_ÕœH*≠Õ˝˛Ωc9 !ZCieM⁄πµô•7¸˚¶˘ÒvQWÛÂ] ⁄>ÙùlÉN—Ú◊glŒ∂ ≠Ñ™Æ¸‡ö™ÀÀn∫Ÿ˘wÜ∫£ΩÕÓ‘*sˆÓ§”tòﬁ¡ óQ7ú<˛Õ⁄Kçvx˙ íÊ‹?O ä| û
ÁÍ˜{ñ.◊7W'o:¸Ò €ÛÌ¢u˙J Bﬁ^ñ~A ë0÷•Äù≤˘Ùqy“Ã  À∑Ky˝—Sƒ∏È vÔ°‘ù   Ä      @   Ä      @   Ä      @†W  ÿıä A   Ä¿’$†n™,4¶ó 1 ¸x}oª¶#cÌÊüŒQ≥ —}S «è		ıÁ±4Ú¶“Ú≥˚ÛK»\ç§rÎ
DEBUG:root:µ¯ñQ|´píeìú˜®/ l ∆ºNQ~~›õß/[} öªÆh¨œﬁ' ù  Óf’Ws	g[*q˙w¸|¬Úª›T¥≠!}”ûÙ„CÔ˘◊¥Q˛ ™Ì˚w±ÈNv_ÕœH*≠Õ˝˛Ωc9 !ZCieM⁄πµô•7¸˚¶˘ÒvQWÛÂ] ⁄>ÙùlÉN—Ú◊glŒ∂ ≠Ñ™Æ¸‡ö™ÀÀn∫Ÿ˘wÜ∫£ΩÕÓ‘*sˆÓ§”tòﬁ¡ óQ7ú<˛Õ⁄Kçvx˙ íÊ‹?O ä| û
ÁÍ˜{ñ.◊7W'o:¸Ò €ÛÌ¢u˙J Bﬁ^ñ~A ë0÷•Äù≤˘Ùqy“Ã  À∑Ky˝—Sƒ∏È vÔ°‘ù   Ä      @   Ä      @   Ä      @†W  ÿıä A   Ä¿’$†n™,4¶ó 1 ¸x}oª¶#cÌÊüŒQ≥ —}S «è		ıÁ±4Ú¶“Ú≥˚ÛK»\ç§rÎ
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:·Œ«˙>uÅ∏ıÔÉÑ¢ë◊Êº~kLø∞ £ ∆-~>Î≤~¬HÖê≤åÿ{_Ë˚»ﬂ£ 4∑ ≠\:Ê¬î _œ∫jò(Bd´¡ÌŸ $OKÛ©îã« “4≠á ∂ß‰ˆß I
DEBUG:root:·Œ«˙>uÅ∏ıÔÉÑ¢ë◊Êº~kLø∞ £ ∆-~>Î≤~¬HÖê≤åÿ{_Ë˚»ﬂ£ 4∑ ≠\:Ê¬î _œ∫jò(Bd´¡ÌŸ $OKÛ©îã« “4≠á ∂ß‰ˆß I
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:IÎ
U^¯˙k™R ◊≤ˆ¶˝˛√ √Å@ˆÃó˛Î~ÌÛ_˛Œ˜>
DEBUG:root:IÎ
U^¯˙k™R ◊≤ˆ¶˝˛√ √Å@ˆÃó˛Î~ÌÛ_˛Œ˜>
DEBUG:root:to_unicode
INFO:root:200 POST /q/uploader (127.0.0.1)
DEBUG:root:None
DEBUG:root:{u'cookie': u'SBID="!MZ6JnTJnDncb7k3n0Ya9Sg==?gAJVBFNCSURxAWN1dWlkClVVSUQKcQIpgXEDfXEEVQNpbnRxBYoQqUXRlREm8LXjTshLPYe7cXNihnEGLg=="; wordpress_test_cookie=WP+Cookie+check; wordpress_logged_in_8dec71ede39ad9ff3b3fbc03311bdc45=qoorate%7C1375142446%7C86fd9ec6d6a221f44c7b1244f05dcd23; QOOID=QOO51f460f57c582; QOOTID=QOOT51f460f57c593; wp-settings-time-1=1374970345', u'accept-language': u'en-US,en;q=0.8', u'accept-encoding': u'gzip,deflate,sdch', u'PATTERN': u'/q/', u'x-forwarded-for': u'127.0.0.1', u'host': u'localhost', u'accept': u'image/webp,*/*;q=0.8', u'user-agent': u'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/28.0.1500.71 Safari/537.36', u'connection': u'keep-alive', u'VERSION': u'HTTP/1.1', u'referer': u'http://localhost:8081/?p=1', u'PATH': u'/q/uploader/images/8aa464876cd5bfe7e00f3fab7e2a2870', u'METHOD': u'GET', u'URI': u'/q/uploader/images/8aa464876cd5bfe7e00f3fab7e2a2870'}
DEBUG:root:TemporaryImageViewHandler get
DEBUG:root:filename: 8aa464876cd5bfe7e00f3fab7e2a2870
DEBUG:root:hash: <built-in function hash>
DEBUG:root:requested_file_name: ./tmp/8aa464876cd5bfe7e00f3fab7e2a2870
DEBUG:root:mime_type: image/png
INFO:root:200 GET /q/uploader/images/8aa464876cd5bfe7e00f3fab7e2a2870 (127.0.0.1)
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:set_table has q_short_name (12345)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x11081c2d0>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has q_short_name (12345)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x11081c4d0>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:feed.prepare, table: q_brooklyncode
DEBUG:root:FeedHandler post
DEBUG:root:Body -> 
 replyComment=who&thumbnailLarge=8aa464876cd5bfe7e00f3fab7e2a2870&replyPhoto=&action=addItem&location=5e13bbb73127b9fc424e3728c6500f28&referer=http%3A%2F%2Flocalhost%3A8081%2F%3Fp%3D1&q_short_name=12345&QOOID=QOO51f460f57c582&QOOTID=QOOT51f460f57c593
DEBUG:root:Arguments -> 
 {"thumbnailLarge": ["8aa464876cd5bfe7e00f3fab7e2a2870"], "QOOID": ["QOO51f460f57c582"], "QOOTID": ["QOOT51f460f57c593"], "q_short_name": ["12345"], "location": ["5e13bbb73127b9fc424e3728c6500f28"], "replyComment": ["who"], "action": ["addItem"], "referer": ["http://localhost:8081/?p=1"]}
DEBUG:root:to_unicode
DEBUG:root:addItem
DEBUG:root:addItem
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:addItem
DEBUG:root:addItem
DEBUG:root:to_unicode
DEBUG:root:action: addItem
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x11081c6d0>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x11081c8d0>
DEBUG:root:to_unicode
DEBUG:root:who
DEBUG:root:who
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:who
DEBUG:root:who
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:8aa464876cd5bfe7e00f3fab7e2a2870
DEBUG:root:8aa464876cd5bfe7e00f3fab7e2a2870
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:8aa464876cd5bfe7e00f3fab7e2a2870
DEBUG:root:8aa464876cd5bfe7e00f3fab7e2a2870
DEBUG:root:to_unicode
DEBUG:root:spawning upload
DEBUG:root:upload_to_S3 : 8aa464876cd5bfe7e00f3fab7e2a2870
DEBUG:root:upload_to_S3 : 8aa464876cd5bfe7e00f3fab7e2a2870
DEBUG:root:create_images_for_S3
DEBUG:root:file_path: tmp
DEBUG:root:file_name: 8aa464876cd5bfe7e00f3fab7e2a2870
DEBUG:root:filename: tmp/8aa464876cd5bfe7e00f3fab7e2a2870
DEBUG:root:create_images_for_S3 image_infos: [(None, 'JPEG', '_f', 'jpg'), ((300, 200), 'JPEG', '_t', 'jpg'), ((120, 200), 'JPEG', '_m', 'jpg'), ((170, 100), 'JPEG', '_f', 'jpg'), ((50, 50), 'JPEG', '_s', 'jpg')] 
DEBUG:root:create_images_for_S3  image_info: (None, 'JPEG', '_f', 'jpg') 
DEBUG:root:filename created: 8aa464876cd5bfe7e00f3fab7e2a2870_f.jpg
DEBUG:root:create_images_for_S3  image_info: ((300, 200), 'JPEG', '_t', 'jpg') 
DEBUG:root:image_info[0]: (300, 200)
DEBUG:root:image_info[1]: JPEG
DEBUG:root:image_info[2]: _t
DEBUG:root:image_info[3]: jpg
DEBUG:root:filename created: 8aa464876cd5bfe7e00f3fab7e2a2870_t.jpg
DEBUG:root:create_images_for_S3  image_info: ((120, 200), 'JPEG', '_m', 'jpg') 
DEBUG:root:image_info[0]: (120, 200)
DEBUG:root:image_info[1]: JPEG
DEBUG:root:image_info[2]: _m
DEBUG:root:image_info[3]: jpg
DEBUG:root:filename created: 8aa464876cd5bfe7e00f3fab7e2a2870_m.jpg
DEBUG:root:create_images_for_S3  image_info: ((170, 100), 'JPEG', '_f', 'jpg') 
DEBUG:root:image_info[0]: (170, 100)
DEBUG:root:image_info[1]: JPEG
DEBUG:root:image_info[2]: _f
DEBUG:root:image_info[3]: jpg
DEBUG:root:filename created: 8aa464876cd5bfe7e00f3fab7e2a2870_f.jpg
DEBUG:root:create_images_for_S3  image_info: ((50, 50), 'JPEG', '_s', 'jpg') 
DEBUG:root:image_info[0]: (50, 50)
DEBUG:root:image_info[1]: JPEG
DEBUG:root:image_info[2]: _s
DEBUG:root:image_info[3]: jpg
DEBUG:root:filename created: 8aa464876cd5bfe7e00f3fab7e2a2870_s.jpg
DEBUG:root:create_images_for_S3 return filenames: [u'8aa464876cd5bfe7e00f3fab7e2a2870_f.jpg', u'8aa464876cd5bfe7e00f3fab7e2a2870_t.jpg', u'8aa464876cd5bfe7e00f3fab7e2a2870_m.jpg', u'8aa464876cd5bfe7e00f3fab7e2a2870_f.jpg', u'8aa464876cd5bfe7e00f3fab7e2a2870_s.jpg'] 
DEBUG:root:file_names: [u'8aa464876cd5bfe7e00f3fab7e2a2870_f.jpg', u'8aa464876cd5bfe7e00f3fab7e2a2870_t.jpg', u'8aa464876cd5bfe7e00f3fab7e2a2870_m.jpg', u'8aa464876cd5bfe7e00f3fab7e2a2870_f.jpg', u'8aa464876cd5bfe7e00f3fab7e2a2870_s.jpg']
DEBUG:root:len(file_names): 5
DEBUG:boto:path=/
DEBUG:boto:auth_path=/qoorate.brooklyncode/
DEBUG:boto:Method: PUT
DEBUG:boto:Path: /
DEBUG:boto:Data: 
DEBUG:boto:Headers: {}
DEBUG:boto:Host: qoorate.brooklyncode.s3.amazonaws.com
DEBUG:boto:establishing HTTPS connection: host=qoorate.brooklyncode.s3.amazonaws.com, kwargs={}
DEBUG:boto:Token: None
DEBUG:boto:StringToSign:
PUT


Mon, 29 Jul 2013 02:39:22 GMT
/qoorate.brooklyncode/
DEBUG:boto:path=/
DEBUG:boto:auth_path=/qoorate.brooklyncode/
DEBUG:boto:path=/?policy
DEBUG:boto:auth_path=/qoorate.brooklyncode/?policy
DEBUG:boto:Method: PUT
DEBUG:boto:Path: /?policy
DEBUG:boto:Data: {
                    "Version": "2008-10-17",
                    "Statement": [
                        {
                            "Sid": "AddPerm",
                            "Effect": "Allow",
                            "Principal": {
                                "AWS": "*"
                            },
                            "Action": "s3:GetObject",
                            "Resource": "arn:aws:s3:::qoorate.brooklyncode/*"
                        }
                    ]
                }
            
DEBUG:boto:Headers: {}
DEBUG:boto:Host: qoorate.brooklyncode.s3.amazonaws.com
DEBUG:boto:Token: None
DEBUG:boto:StringToSign:
PUT


Mon, 29 Jul 2013 02:39:22 GMT
/qoorate.brooklyncode/?policy
DEBUG:root:create_images_for_S3
DEBUG:root:file_path: tmp
DEBUG:root:file_name: 8aa464876cd5bfe7e00f3fab7e2a2870
DEBUG:root:filename: tmp/8aa464876cd5bfe7e00f3fab7e2a2870
DEBUG:root:create_images_for_S3 image_infos: [(None, 'JPEG', '_f', 'jpg'), ((300, 200), 'JPEG', '_t', 'jpg'), ((120, 200), 'JPEG', '_m', 'jpg'), ((170, 100), 'JPEG', '_f', 'jpg'), ((50, 50), 'JPEG', '_s', 'jpg')] 
DEBUG:root:create_images_for_S3  image_info: (None, 'JPEG', '_f', 'jpg') 
DEBUG:root:filename created: 8aa464876cd5bfe7e00f3fab7e2a2870_f.jpg
DEBUG:root:create_images_for_S3  image_info: ((300, 200), 'JPEG', '_t', 'jpg') 
DEBUG:root:image_info[0]: (300, 200)
DEBUG:root:image_info[1]: JPEG
DEBUG:root:image_info[2]: _t
DEBUG:root:image_info[3]: jpg
DEBUG:root:filename created: 8aa464876cd5bfe7e00f3fab7e2a2870_t.jpg
DEBUG:root:create_images_for_S3  image_info: ((120, 200), 'JPEG', '_m', 'jpg') 
DEBUG:root:image_info[0]: (120, 200)
DEBUG:root:image_info[1]: JPEG
DEBUG:root:image_info[2]: _m
DEBUG:root:image_info[3]: jpg
DEBUG:root:filename created: 8aa464876cd5bfe7e00f3fab7e2a2870_m.jpg
DEBUG:root:create_images_for_S3  image_info: ((170, 100), 'JPEG', '_f', 'jpg') 
DEBUG:root:image_info[0]: (170, 100)
DEBUG:root:image_info[1]: JPEG
DEBUG:root:image_info[2]: _f
DEBUG:root:image_info[3]: jpg
DEBUG:root:filename created: 8aa464876cd5bfe7e00f3fab7e2a2870_f.jpg
DEBUG:root:create_images_for_S3  image_info: ((50, 50), 'JPEG', '_s', 'jpg') 
DEBUG:root:image_info[0]: (50, 50)
DEBUG:root:image_info[1]: JPEG
DEBUG:root:image_info[2]: _s
DEBUG:root:image_info[3]: jpg
DEBUG:root:filename created: 8aa464876cd5bfe7e00f3fab7e2a2870_s.jpg
DEBUG:root:create_images_for_S3 return filenames: [u'8aa464876cd5bfe7e00f3fab7e2a2870_f.jpg', u'8aa464876cd5bfe7e00f3fab7e2a2870_t.jpg', u'8aa464876cd5bfe7e00f3fab7e2a2870_m.jpg', u'8aa464876cd5bfe7e00f3fab7e2a2870_f.jpg', u'8aa464876cd5bfe7e00f3fab7e2a2870_s.jpg'] 
DEBUG:root:file_names: [u'8aa464876cd5bfe7e00f3fab7e2a2870_f.jpg', u'8aa464876cd5bfe7e00f3fab7e2a2870_t.jpg', u'8aa464876cd5bfe7e00f3fab7e2a2870_m.jpg', u'8aa464876cd5bfe7e00f3fab7e2a2870_f.jpg', u'8aa464876cd5bfe7e00f3fab7e2a2870_s.jpg']
DEBUG:root:images: [u'8aa464876cd5bfe7e00f3fab7e2a2870_f.jpg', u'8aa464876cd5bfe7e00f3fab7e2a2870_t.jpg', u'8aa464876cd5bfe7e00f3fab7e2a2870_m.jpg', u'8aa464876cd5bfe7e00f3fab7e2a2870_f.jpg', u'8aa464876cd5bfe7e00f3fab7e2a2870_s.jpg']
DEBUG:root:image_file_name: 8aa464876cd5bfe7e00f3fab7e2a2870_f.jpg
DEBUG:root:Uploading 8aa464876cd5bfe7e00f3fab7e2a2870_f.jpg to Amazon S3 bucket qoorate.brooklyncode
DEBUG:boto:path=/8aa464876cd5bfe7e00f3fab7e2a2870_f.jpg
DEBUG:boto:auth_path=/qoorate.brooklyncode/8aa464876cd5bfe7e00f3fab7e2a2870_f.jpg
DEBUG:boto:Method: PUT
DEBUG:boto:Path: /8aa464876cd5bfe7e00f3fab7e2a2870_f.jpg
DEBUG:boto:Data: 
DEBUG:boto:Headers: {'Content-Length': '2132', 'Content-MD5': 'rAarI1/p+t6Y+RLSrFxZJQ==', 'Content-Type': 'image/jpeg', 'Expect': '100-Continue', 'User-Agent': 'Boto/2.2.2 (darwin)'}
DEBUG:boto:Host: qoorate.brooklyncode.s3.amazonaws.com
DEBUG:boto:Token: None
DEBUG:boto:StringToSign:
PUT
rAarI1/p+t6Y+RLSrFxZJQ==
image/jpeg
Mon, 29 Jul 2013 02:39:24 GMT
/qoorate.brooklyncode/8aa464876cd5bfe7e00f3fab7e2a2870_f.jpg
DEBUG:boto:encountered BadStatusLine exception, reconnecting
DEBUG:boto:establishing HTTPS connection: host=qoorate.brooklyncode.s3.amazonaws.com, kwargs={}
DEBUG:boto:Token: None
DEBUG:boto:StringToSign:
PUT
rAarI1/p+t6Y+RLSrFxZJQ==
image/jpeg
Mon, 29 Jul 2013 02:39:24 GMT
/qoorate.brooklyncode/8aa464876cd5bfe7e00f3fab7e2a2870_f.jpg
DEBUG:boto:path=/8aa464876cd5bfe7e00f3fab7e2a2870_f.jpg
DEBUG:boto:auth_path=/qoorate.brooklyncode/8aa464876cd5bfe7e00f3fab7e2a2870_f.jpg
DEBUG:boto:path=/8aa464876cd5bfe7e00f3fab7e2a2870_f.jpg?acl
DEBUG:boto:auth_path=/qoorate.brooklyncode/8aa464876cd5bfe7e00f3fab7e2a2870_f.jpg?acl
DEBUG:boto:Method: PUT
DEBUG:boto:Path: /8aa464876cd5bfe7e00f3fab7e2a2870_f.jpg?acl
DEBUG:boto:Data: 
DEBUG:boto:Headers: {'x-amz-acl': 'public-read'}
DEBUG:boto:Host: qoorate.brooklyncode.s3.amazonaws.com
DEBUG:boto:Token: None
DEBUG:boto:StringToSign:
PUT


Mon, 29 Jul 2013 02:39:25 GMT
x-amz-acl:public-read
/qoorate.brooklyncode/8aa464876cd5bfe7e00f3fab7e2a2870_f.jpg?acl
DEBUG:root:image_file_name: 8aa464876cd5bfe7e00f3fab7e2a2870_t.jpg
DEBUG:root:Uploading 8aa464876cd5bfe7e00f3fab7e2a2870_t.jpg to Amazon S3 bucket qoorate.brooklyncode
DEBUG:boto:path=/8aa464876cd5bfe7e00f3fab7e2a2870_t.jpg
DEBUG:boto:auth_path=/qoorate.brooklyncode/8aa464876cd5bfe7e00f3fab7e2a2870_t.jpg
DEBUG:boto:Method: PUT
DEBUG:boto:Path: /8aa464876cd5bfe7e00f3fab7e2a2870_t.jpg
DEBUG:boto:Data: 
DEBUG:boto:Headers: {'Content-Length': '9404', 'Content-MD5': 'p1tQM1HxW9cBFzuMcLSLNA==', 'Content-Type': 'image/jpeg', 'Expect': '100-Continue', 'User-Agent': 'Boto/2.2.2 (darwin)'}
DEBUG:boto:Host: qoorate.brooklyncode.s3.amazonaws.com
DEBUG:boto:Token: None
DEBUG:boto:StringToSign:
PUT
p1tQM1HxW9cBFzuMcLSLNA==
image/jpeg
Mon, 29 Jul 2013 02:39:25 GMT
/qoorate.brooklyncode/8aa464876cd5bfe7e00f3fab7e2a2870_t.jpg
DEBUG:boto:path=/8aa464876cd5bfe7e00f3fab7e2a2870_t.jpg
DEBUG:boto:auth_path=/qoorate.brooklyncode/8aa464876cd5bfe7e00f3fab7e2a2870_t.jpg
DEBUG:boto:path=/8aa464876cd5bfe7e00f3fab7e2a2870_t.jpg?acl
DEBUG:boto:auth_path=/qoorate.brooklyncode/8aa464876cd5bfe7e00f3fab7e2a2870_t.jpg?acl
DEBUG:boto:Method: PUT
DEBUG:boto:Path: /8aa464876cd5bfe7e00f3fab7e2a2870_t.jpg?acl
DEBUG:boto:Data: 
DEBUG:boto:Headers: {'x-amz-acl': 'public-read'}
DEBUG:boto:Host: qoorate.brooklyncode.s3.amazonaws.com
DEBUG:boto:Token: None
DEBUG:boto:StringToSign:
PUT


Mon, 29 Jul 2013 02:39:25 GMT
x-amz-acl:public-read
/qoorate.brooklyncode/8aa464876cd5bfe7e00f3fab7e2a2870_t.jpg?acl
DEBUG:root:image_file_name: 8aa464876cd5bfe7e00f3fab7e2a2870_m.jpg
DEBUG:root:Uploading 8aa464876cd5bfe7e00f3fab7e2a2870_m.jpg to Amazon S3 bucket qoorate.brooklyncode
DEBUG:boto:path=/8aa464876cd5bfe7e00f3fab7e2a2870_m.jpg
DEBUG:boto:auth_path=/qoorate.brooklyncode/8aa464876cd5bfe7e00f3fab7e2a2870_m.jpg
DEBUG:boto:Method: PUT
DEBUG:boto:Path: /8aa464876cd5bfe7e00f3fab7e2a2870_m.jpg
DEBUG:boto:Data: 
DEBUG:boto:Headers: {'Content-Length': '2132', 'Content-MD5': 'rAarI1/p+t6Y+RLSrFxZJQ==', 'Content-Type': 'image/jpeg', 'Expect': '100-Continue', 'User-Agent': 'Boto/2.2.2 (darwin)'}
DEBUG:boto:Host: qoorate.brooklyncode.s3.amazonaws.com
DEBUG:boto:Token: None
DEBUG:boto:StringToSign:
PUT
rAarI1/p+t6Y+RLSrFxZJQ==
image/jpeg
Mon, 29 Jul 2013 02:39:25 GMT
/qoorate.brooklyncode/8aa464876cd5bfe7e00f3fab7e2a2870_m.jpg
DEBUG:boto:path=/8aa464876cd5bfe7e00f3fab7e2a2870_m.jpg
DEBUG:boto:auth_path=/qoorate.brooklyncode/8aa464876cd5bfe7e00f3fab7e2a2870_m.jpg
DEBUG:boto:path=/8aa464876cd5bfe7e00f3fab7e2a2870_m.jpg?acl
DEBUG:boto:auth_path=/qoorate.brooklyncode/8aa464876cd5bfe7e00f3fab7e2a2870_m.jpg?acl
DEBUG:boto:Method: PUT
DEBUG:boto:Path: /8aa464876cd5bfe7e00f3fab7e2a2870_m.jpg?acl
DEBUG:boto:Data: 
DEBUG:boto:Headers: {'x-amz-acl': 'public-read'}
DEBUG:boto:Host: qoorate.brooklyncode.s3.amazonaws.com
DEBUG:boto:Token: None
DEBUG:boto:StringToSign:
PUT


Mon, 29 Jul 2013 02:39:25 GMT
x-amz-acl:public-read
/qoorate.brooklyncode/8aa464876cd5bfe7e00f3fab7e2a2870_m.jpg?acl
DEBUG:root:image_file_name: 8aa464876cd5bfe7e00f3fab7e2a2870_f.jpg
DEBUG:root:Uploading 8aa464876cd5bfe7e00f3fab7e2a2870_f.jpg to Amazon S3 bucket qoorate.brooklyncode
DEBUG:boto:path=/8aa464876cd5bfe7e00f3fab7e2a2870_f.jpg
DEBUG:boto:auth_path=/qoorate.brooklyncode/8aa464876cd5bfe7e00f3fab7e2a2870_f.jpg
DEBUG:boto:Method: PUT
DEBUG:boto:Path: /8aa464876cd5bfe7e00f3fab7e2a2870_f.jpg
DEBUG:boto:Data: 
DEBUG:boto:Headers: {'Content-Length': '2132', 'Content-MD5': 'rAarI1/p+t6Y+RLSrFxZJQ==', 'Content-Type': 'image/jpeg', 'Expect': '100-Continue', 'User-Agent': 'Boto/2.2.2 (darwin)'}
DEBUG:boto:Host: qoorate.brooklyncode.s3.amazonaws.com
DEBUG:boto:Token: None
DEBUG:boto:StringToSign:
PUT
rAarI1/p+t6Y+RLSrFxZJQ==
image/jpeg
Mon, 29 Jul 2013 02:39:25 GMT
/qoorate.brooklyncode/8aa464876cd5bfe7e00f3fab7e2a2870_f.jpg
DEBUG:boto:path=/8aa464876cd5bfe7e00f3fab7e2a2870_f.jpg
DEBUG:boto:auth_path=/qoorate.brooklyncode/8aa464876cd5bfe7e00f3fab7e2a2870_f.jpg
DEBUG:boto:path=/8aa464876cd5bfe7e00f3fab7e2a2870_f.jpg?acl
DEBUG:boto:auth_path=/qoorate.brooklyncode/8aa464876cd5bfe7e00f3fab7e2a2870_f.jpg?acl
DEBUG:boto:Method: PUT
DEBUG:boto:Path: /8aa464876cd5bfe7e00f3fab7e2a2870_f.jpg?acl
DEBUG:boto:Data: 
DEBUG:boto:Headers: {'x-amz-acl': 'public-read'}
DEBUG:boto:Host: qoorate.brooklyncode.s3.amazonaws.com
DEBUG:boto:Token: None
DEBUG:boto:StringToSign:
PUT


Mon, 29 Jul 2013 02:39:25 GMT
x-amz-acl:public-read
/qoorate.brooklyncode/8aa464876cd5bfe7e00f3fab7e2a2870_f.jpg?acl
DEBUG:root:image_file_name: 8aa464876cd5bfe7e00f3fab7e2a2870_s.jpg
DEBUG:root:Uploading 8aa464876cd5bfe7e00f3fab7e2a2870_s.jpg to Amazon S3 bucket qoorate.brooklyncode
DEBUG:boto:path=/8aa464876cd5bfe7e00f3fab7e2a2870_s.jpg
DEBUG:boto:auth_path=/qoorate.brooklyncode/8aa464876cd5bfe7e00f3fab7e2a2870_s.jpg
DEBUG:boto:Method: PUT
DEBUG:boto:Path: /8aa464876cd5bfe7e00f3fab7e2a2870_s.jpg
DEBUG:boto:Data: 
DEBUG:boto:Headers: {'Content-Length': '910', 'Content-MD5': 'oU9hGRXKe49tsKF0rMeh9Q==', 'Content-Type': 'image/jpeg', 'Expect': '100-Continue', 'User-Agent': 'Boto/2.2.2 (darwin)'}
DEBUG:boto:Host: qoorate.brooklyncode.s3.amazonaws.com
DEBUG:boto:Token: None
DEBUG:boto:StringToSign:
PUT
oU9hGRXKe49tsKF0rMeh9Q==
image/jpeg
Mon, 29 Jul 2013 02:39:25 GMT
/qoorate.brooklyncode/8aa464876cd5bfe7e00f3fab7e2a2870_s.jpg
DEBUG:boto:path=/8aa464876cd5bfe7e00f3fab7e2a2870_s.jpg
DEBUG:boto:auth_path=/qoorate.brooklyncode/8aa464876cd5bfe7e00f3fab7e2a2870_s.jpg
DEBUG:boto:path=/8aa464876cd5bfe7e00f3fab7e2a2870_s.jpg?acl
DEBUG:boto:auth_path=/qoorate.brooklyncode/8aa464876cd5bfe7e00f3fab7e2a2870_s.jpg?acl
DEBUG:boto:Method: PUT
DEBUG:boto:Path: /8aa464876cd5bfe7e00f3fab7e2a2870_s.jpg?acl
DEBUG:boto:Data: 
DEBUG:boto:Headers: {'x-amz-acl': 'public-read'}
DEBUG:boto:Host: qoorate.brooklyncode.s3.amazonaws.com
DEBUG:boto:Token: None
DEBUG:boto:StringToSign:
PUT


Mon, 29 Jul 2013 02:39:25 GMT
x-amz-acl:public-read
/qoorate.brooklyncode/8aa464876cd5bfe7e00f3fab7e2a2870_s.jpg?acl
DEBUG:root:spawned upload
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:http://localhost:8081/?p=1
DEBUG:root:http://localhost:8081/?p=1
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:http://localhost:8081/?p=1
DEBUG:root:http://localhost:8081/?p=1
DEBUG:root:to_unicode
DEBUG:root:MySqlApiQueryset create_one
DEBUG:root:MySqlApiQueryset create_one sql: 
                INSERT INTO `q_brooklyncode` 
                set id=%s,locationId=%s,relatedId=%s,parentId=%s,userId=%s,type=%s,name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s,createDate=%s 
                ON DUPLICATE KEY UPDATE
                name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s
                
DEBUG:root:execute
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:execute args: [None, 0L, 0L, 0L, 1L, 1L, u'who', u'5e13bbb73127b9fc424e3728c6500f28', None, 0L, 0L, 0L, 0L, 0L, 0L, 0L, '', None, u'8aa464876cd5bfe7e00f3fab7e2a2870', u'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 22, 39, 25, 910279), datetime.datetime(2013, 7, 28, 22, 39, 25, 910279), u'who', u'5e13bbb73127b9fc424e3728c6500f28', None, 0L, 0L, 0L, 0L, 0L, 0L, 0L, '', None, u'8aa464876cd5bfe7e00f3fab7e2a2870', u'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 22, 39, 25, 910279)]
DEBUG:root:escape_sql sql: 
                INSERT INTO `q_brooklyncode` 
                set id=%s,locationId=%s,relatedId=%s,parentId=%s,userId=%s,type=%s,name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s,createDate=%s 
                ON DUPLICATE KEY UPDATE
                name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s
                
DEBUG:root:escape_sql args: [None, 0L, 0L, 0L, 1L, 1L, u'who', u'5e13bbb73127b9fc424e3728c6500f28', None, 0L, 0L, 0L, 0L, 0L, 0L, 0L, '', None, u'8aa464876cd5bfe7e00f3fab7e2a2870', u'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 22, 39, 25, 910279), datetime.datetime(2013, 7, 28, 22, 39, 25, 910279), u'who', u'5e13bbb73127b9fc424e3728c6500f28', None, 0L, 0L, 0L, 0L, 0L, 0L, 0L, '', None, u'8aa464876cd5bfe7e00f3fab7e2a2870', u'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 22, 39, 25, 910279)]
DEBUG:root:
                INSERT INTO `q_brooklyncode` 
                set id=NULL,locationId=0,relatedId=0,parentId=0,userId=1,type=1,name='who',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=0,voteNumber=0,votesUp=0,votesDown=0,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge='8aa464876cd5bfe7e00f3fab7e2a2870',referer='http://localhost:8081/?p=1',changeDate='2013-07-28 22:39:25',createDate='2013-07-28 22:39:25' 
                ON DUPLICATE KEY UPDATE
                name='who',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=0,voteNumber=0,votesUp=0,votesDown=0,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge='8aa464876cd5bfe7e00f3fab7e2a2870',referer='http://localhost:8081/?p=1',changeDate='2013-07-28 22:39:25'
                
DEBUG:root:execute: 
                INSERT INTO `q_brooklyncode` 
                set id=NULL,locationId=0,relatedId=0,parentId=0,userId=1,type=1,name='who',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=0,voteNumber=0,votesUp=0,votesDown=0,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge='8aa464876cd5bfe7e00f3fab7e2a2870',referer='http://localhost:8081/?p=1',changeDate='2013-07-28 22:39:25',createDate='2013-07-28 22:39:25' 
                ON DUPLICATE KEY UPDATE
                name='who',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=0,voteNumber=0,votesUp=0,votesDown=0,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge='8aa464876cd5bfe7e00f3fab7e2a2870',referer='http://localhost:8081/?p=1',changeDate='2013-07-28 22:39:25'
                
DEBUG:root:MySqlApiQueryset create_one (status, affected_rows): (Created, 1)
DEBUG:root:inserted_id: 6)
DEBUG:root:update_child_count(Comment object)
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:escape_sql sql: 
            SELECT count(*) as `childCount`
            FROM `q_brooklyncode` `f`
            WHERE `f`.`parentId`= %s
            
DEBUG:root:escape_sql args: [6L]
DEBUG:root:
            SELECT count(*) as `childCount`
            FROM `q_brooklyncode` `f`
            WHERE `f`.`parentId`= 6
            
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1108b9cd0>
DEBUG:root:child_count: 0
DEBUG:root:MySqlApiQueryset create_one
DEBUG:root:MySqlApiQueryset create_one sql: 
                INSERT INTO `q_brooklyncode` 
                set id=%s,locationId=%s,relatedId=%s,parentId=%s,userId=%s,type=%s,name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s,createDate=%s 
                ON DUPLICATE KEY UPDATE
                name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s
                
DEBUG:root:execute
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:execute args: [6L, 0L, 0L, 0L, 1L, 1L, u'who', u'5e13bbb73127b9fc424e3728c6500f28', None, 0L, 0L, 0L, 0L, 0L, 0L, 0L, '', None, u'8aa464876cd5bfe7e00f3fab7e2a2870', u'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 22, 39, 25, 910279), datetime.datetime(2013, 7, 28, 22, 39, 25, 910279), u'who', u'5e13bbb73127b9fc424e3728c6500f28', None, 0L, 0L, 0L, 0L, 0L, 0L, 0L, '', None, u'8aa464876cd5bfe7e00f3fab7e2a2870', u'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 22, 39, 25, 910279)]
DEBUG:root:escape_sql sql: 
                INSERT INTO `q_brooklyncode` 
                set id=%s,locationId=%s,relatedId=%s,parentId=%s,userId=%s,type=%s,name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s,createDate=%s 
                ON DUPLICATE KEY UPDATE
                name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s
                
DEBUG:root:escape_sql args: [6L, 0L, 0L, 0L, 1L, 1L, u'who', u'5e13bbb73127b9fc424e3728c6500f28', None, 0L, 0L, 0L, 0L, 0L, 0L, 0L, '', None, u'8aa464876cd5bfe7e00f3fab7e2a2870', u'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 22, 39, 25, 910279), datetime.datetime(2013, 7, 28, 22, 39, 25, 910279), u'who', u'5e13bbb73127b9fc424e3728c6500f28', None, 0L, 0L, 0L, 0L, 0L, 0L, 0L, '', None, u'8aa464876cd5bfe7e00f3fab7e2a2870', u'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 22, 39, 25, 910279)]
DEBUG:root:
                INSERT INTO `q_brooklyncode` 
                set id=6,locationId=0,relatedId=0,parentId=0,userId=1,type=1,name='who',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=0,voteNumber=0,votesUp=0,votesDown=0,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge='8aa464876cd5bfe7e00f3fab7e2a2870',referer='http://localhost:8081/?p=1',changeDate='2013-07-28 22:39:25',createDate='2013-07-28 22:39:25' 
                ON DUPLICATE KEY UPDATE
                name='who',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=0,voteNumber=0,votesUp=0,votesDown=0,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge='8aa464876cd5bfe7e00f3fab7e2a2870',referer='http://localhost:8081/?p=1',changeDate='2013-07-28 22:39:25'
                
DEBUG:root:execute: 
                INSERT INTO `q_brooklyncode` 
                set id=6,locationId=0,relatedId=0,parentId=0,userId=1,type=1,name='who',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=0,voteNumber=0,votesUp=0,votesDown=0,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge='8aa464876cd5bfe7e00f3fab7e2a2870',referer='http://localhost:8081/?p=1',changeDate='2013-07-28 22:39:25',createDate='2013-07-28 22:39:25' 
                ON DUPLICATE KEY UPDATE
                name='who',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=0,voteNumber=0,votesUp=0,votesDown=0,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge='8aa464876cd5bfe7e00f3fab7e2a2870',referer='http://localhost:8081/?p=1',changeDate='2013-07-28 22:39:25'
                
DEBUG:root:item_exists
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:escape_sql sql: SELECT count(*) FROM `q_brooklyncode`  WHERE id = %s
DEBUG:root:escape_sql args: [6L]
DEBUG:root:SELECT count(*) FROM `q_brooklyncode`  WHERE id = 6
DEBUG:root:MySqlApiQueryset create_one (status, affected_rows): (NO CHANGES, 0)
DEBUG:root:MySqlApiQueryset create_one
DEBUG:root:MySqlApiQueryset create_one sql: 
                INSERT INTO `q_brooklyncode_images` 
                set id=%s,itemId=%s,s3Bucket=%s,thumbnailLargeHash=%s 
                ON DUPLICATE KEY UPDATE
                s3Bucket=%s,thumbnailLargeHash=%s
                
DEBUG:root:execute
DEBUG:root:execute args: [None, 6L, 'qoorate.brooklyncode', u'8aa464876cd5bfe7e00f3fab7e2a2870', 'qoorate.brooklyncode', u'8aa464876cd5bfe7e00f3fab7e2a2870']
DEBUG:root:escape_sql sql: 
                INSERT INTO `q_brooklyncode_images` 
                set id=%s,itemId=%s,s3Bucket=%s,thumbnailLargeHash=%s 
                ON DUPLICATE KEY UPDATE
                s3Bucket=%s,thumbnailLargeHash=%s
                
DEBUG:root:escape_sql args: [None, 6L, 'qoorate.brooklyncode', u'8aa464876cd5bfe7e00f3fab7e2a2870', 'qoorate.brooklyncode', u'8aa464876cd5bfe7e00f3fab7e2a2870']
DEBUG:root:
                INSERT INTO `q_brooklyncode_images` 
                set id=NULL,itemId=6,s3Bucket='qoorate.brooklyncode',thumbnailLargeHash='8aa464876cd5bfe7e00f3fab7e2a2870' 
                ON DUPLICATE KEY UPDATE
                s3Bucket='qoorate.brooklyncode',thumbnailLargeHash='8aa464876cd5bfe7e00f3fab7e2a2870'
                
DEBUG:root:execute: 
                INSERT INTO `q_brooklyncode_images` 
                set id=NULL,itemId=6,s3Bucket='qoorate.brooklyncode',thumbnailLargeHash='8aa464876cd5bfe7e00f3fab7e2a2870' 
                ON DUPLICATE KEY UPDATE
                s3Bucket='qoorate.brooklyncode',thumbnailLargeHash='8aa464876cd5bfe7e00f3fab7e2a2870'
                
DEBUG:root:MySqlApiQueryset create_one (status, affected_rows): (Created, 1)
DEBUG:root:inserted_id: 5)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x110812a90>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x110812b10>
DEBUG:root:CONTEXT: {'has_more_contributions': False, 'app': {'CHILD_PAGE_SIZE': 5, 'QOORATE_API_URI': 'http://localhost/q', 'TEMP_DIR': 'tmp', 'BACKGROUND_S3_UPLOAD': True, 'BROKEN_IMG_URI': 'http://localhost/q/img/blank.gif', 'POLLING_INTERVAL': 15, 'QOORATE_IMG_PATH': 'http://localhost/q/uploader/images/', 'S3_IMG_PATH': 'https://s3.amazonaws.com/qoorate.brooklyncode/', 'AMAZON_BUCKET': 'qoorate.brooklyncode', 'QOORATE_URI': 'http://localhost', 'PARENT_PAGE_SIZE': 5}, 'thumbnailLargeHash': u'8aa464876cd5bfe7e00f3fab7e2a2870', 'parentCount': 5, 'q_short_name': u'12345', 'is_admin': False, 'parent_tag': u'p_brooklyncode', 'moreIndex': 1, 'comments': [<Comment: Comment object>], 'location': u'5e13bbb73127b9fc424e3728c6500f28', 'current_user': <User: User object>, 'related_user': None, 'childCount': 5, 'comment_images': [('Created', <ImageItem: ImageItem object>)]}
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:
     
        
            
             
        
    

</div>

<div class="q_clear"></div>
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:escape_sql sql: 
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:escape_sql args: []
DEBUG:root:
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x110982910>
DEBUG:root:Number of contributions 6
INFO:root:200 POST /q/feed (127.0.0.1)
Mon, 29 Jul 2013 02:40:53 GMT [ERROR] (errno: No such file or directory) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 02:40:53 GMT [ERROR] (errno: None) Failed to create target for route /q/static/
Mon, 29 Jul 2013 02:40:53 GMT [ERROR] (errno: None) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 02:40:53 GMT [ERROR] (errno: None) Failed to create target for route /q/robots.txt
Mon, 29 Jul 2013 02:40:53 GMT [ERROR] (errno: None) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 02:40:53 GMT [ERROR] (errno: None) Failed to create target for route /q/favicon.ico
Mon, 29 Jul 2013 02:40:53 GMT [INFO] (src/mime.c:49) MAX limits.mime_ext_len=128
Mon, 29 Jul 2013 02:40:53 GMT [INFO] (src/host.c:74) MAX limits.url_path=256, limits.host_name=256
Mon, 29 Jul 2013 02:40:53 GMT [INFO] (src/config/config.c:109) Loaded proxy 1:127.0.0.1:8081
Mon, 29 Jul 2013 02:40:53 GMT [INFO] (src/config/config.c:227) Loaded route 1:/:proxy for host 1:localhost
Mon, 29 Jul 2013 02:40:53 GMT [INFO] (src/handler.c:343) MAX limits.handler_stack=102400
Mon, 29 Jul 2013 02:40:53 GMT [INFO] (src/config/config.c:85) Loaded handler 1:ipc://run/qoorateserver/mongrel2_send:137b789e-b7eb-475a-8d5c-b16ab54493yu:ipc://run/qoorateserver/mongrel2_rcv:
Mon, 29 Jul 2013 02:40:53 GMT [INFO] (src/config/config.c:227) Loaded route 2:/q/:handler for host 1:localhost
Mon, 29 Jul 2013 02:40:53 GMT [INFO] (src/dir.c:195) MAX limits.dir_send_buffer=16384, limits.dir_max_path=256
Mon, 29 Jul 2013 02:40:53 GMT [INFO] (src/config/config.c:136) Loaded directory 1:static/qoorateserver/js/:index.html
Mon, 29 Jul 2013 02:40:53 GMT [INFO] (src/config/config.c:227) Loaded route 3:/q/js/:dir for host 1:localhost
Mon, 29 Jul 2013 02:40:53 GMT [INFO] (src/config/config.c:136) Loaded directory 2:static/qoorateserver/css/:index.html
Mon, 29 Jul 2013 02:40:53 GMT [INFO] (src/config/config.c:227) Loaded route 4:/q/css/:dir for host 1:localhost
Mon, 29 Jul 2013 02:40:53 GMT [INFO] (src/config/config.c:136) Loaded directory 3:static/qoorateserver/img/:index.html
Mon, 29 Jul 2013 02:40:53 GMT [INFO] (src/config/config.c:227) Loaded route 5:/q/img/:dir for host 1:localhost
Mon, 29 Jul 2013 02:40:53 GMT [INFO] (src/config/config.c:312) Loaded 1 hosts for server 1:fe76e442-da24-4708-b0ef-c4ahr2b7d131
Mon, 29 Jul 2013 02:40:53 GMT [INFO] (src/server.c:445) LOADING Handler ipc://run/qoorateserver/mongrel2_send
Mon, 29 Jul 2013 02:40:53 GMT [ERROR] (src/unixy.c:99: errno: No such file or directory) Failed to open PID file ../run/mongrel2.pid for reading.
Mon, 29 Jul 2013 02:40:53 GMT [INFO] (src/unixy.c:137) No previous mongrel2 running, continuing on.
Mon, 29 Jul 2013 02:40:53 GMT [INFO] (src/mongrel2.c:223) All loaded up, time to turn into a server.
Mon, 29 Jul 2013 02:40:53 GMT [INFO] (src/mongrel2.c:224) -- Starting Mongrel2/1.8.1. Copyright (C) Zed A. Shaw. Licensed BSD.

Mon, 29 Jul 2013 02:40:53 GMT [INFO] (src/mongrel2.c:225) -- Look in logs/error.log for startup messages and errors.
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
INFO:root:Using project directory: .
DEBUG:root:loading settings from ./conf/uploader/settings.py
INFO:root:Using coroutine library: gevent
DEBUG:root:******** START _service_registration *********
DEBUG:root:service_registration_passphrase: 137b789e-b7eb-475a-8d5a-b16ab544yurp
DEBUG:root:service_id: uploader
DEBUG:root:service_registration_addr: ipc://run/uploader/brubeck_svc_registration
DEBUG:root:service_passphrase: 137b789e-b7eb-475a-8d5a-b16ab544yurp
DEBUG:root:service_addr: ipc://run/uploader/brubeck_svc
DEBUG:root:service_response_addr: ipc://run/uploader/brubeck_svc_response
DEBUG:root:service_heartbeat_addr: None
DEBUG:root:service_heartbeat_timeout: 5
DEBUG:root:sender_id: b063b0c64180468ba56e55e0a4f51a2c
DEBUG:root:is_reregistration: 0
DEBUG:root:service_heartbeat_interval: 3
DEBUG:root:******** END _service_registration *********
DEBUG:root:register_service: (service_registration_addr, service_registration_passphrase,service_heartbeat_timeout,sender_id): (ipc://run/uploader/brubeck_svc_registration,137b789e-b7eb-475a-8d5a-b16ab544yurp, 5, b063b0c64180468ba56e55e0a4f51a2c)
DEBUG:root:service_registration sending request
DEBUG:root:service_registration waiting for response
INFO:root:Using project directory: .
DEBUG:root:loading settings from ./conf/qoorateserver/development.py
INFO:root:Using coroutine library: gevent
DEBUG:root:creating application db_conn pool
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:get EmbedHandler
DEBUG:root:to_unicode
DEBUG:root:embed_head
DEBUG:root:embed_head
DEBUG:root:to_unicode
DEBUG:root:action: embed_head 
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:set_table has key/secret
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = %s and `secret`= %s
        
DEBUG:root:escape_sql args: [u'12345', u'54321']
DEBUG:root:
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = '12345' and `secret`= '54321'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x106553750>
DEBUG:root:returning True from authencticate.
DEBUG:root:set_table authenticated
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1065537d0>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has key/secret
DEBUG:root:returning `True` from authenticate cached.
DEBUG:root:set_table authenticated
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1065539d0>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x106553b50>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x106553d50>
DEBUG:root:qoorate preferences: {
    "THEME": "grid",
    "EMBED_CONF_JS": "
        var qoorateConfig = {
            QOORATE_URI: 'http://localhost',
            QOORATE_API_URI: 'http://localhost/q',
            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',
            XHR_PROXY_URI: '/q/feed',
            XHR_UPLOAD_URI: '/q/uploader',
            POST_MAX_LEN: 1000,
            PARENT_PAGE_SIZE: 10,
            CHILD_PAGE_SIZE: 10,
            AUTO_SCROLL: 1,
            THEME: 'grid',
            GRID_COLUMNS: 3,
            GRID_COLUMN_TRIM: 15,
            GRID_ROW_TRIM: 15
        };
        var qoorateLang = {
            FLAG_SUCCESS: 'Thanks for flagging this!',
            SHARE_SUCCESS: 'Thank you for sharing!',
            DELETE_SUCCESS: 'Thank you. This item has been deleted.',
            SIGNIN: 'Sign in using',
            SIGNEDIN: 'Signed in via',    
            OK: 'OK',
            CANCEL: 'Cancel',
            LOGOUT: 'Log Out',
            TOGGLE_ON: '+',
            TOGGLE_OFF: '-',
            CONTRIBUTION: 'Contribution',
            CONTRIBUTIONS: 'Contributions',
            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',
            REMOVE: 'Remove',
            LINK: 'Insert a link',
            TOPIC_COMMENT: 'Pose a Yes/No Question',
            COMMENT: 'Your Comment',
            IMAGE_COMMENT: 'Image Caption',
            POST_TO: 'Post to',
            POST_ANONYMOUS: 'Post anonymously',
            NICKNAME: 'Post as ',
            DEFAULT_NICKNAME: 'Anonymous',
            REPLY_LINK_COMMENT: 'Say something about your link',
            SHARE_COMMENT: 'comment about this share...',
            PUBLISH_BUTTON: 'Publish',
            POST_BUTTON: 'Post',
            POST_TO_BUTTON: 'Post To',
            REPLY_BUTTON: 'Reply',
            SHARE_BUTTON: 'Share',
            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',
            SELECT_IMAGE: 'Select an Image',
            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',
            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],
            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],
            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]
        };
    "
}

DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:preferences EMBED_CONF_JS:         var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    
DEBUG:root:embed_head called
INFO:root:200 GET /q/embed (127.0.0.1)
DEBUG:root:get EmbedHandler
DEBUG:root:to_unicode
DEBUG:root:embed_content
DEBUG:root:embed_content
DEBUG:root:to_unicode
DEBUG:root:action: embed_content 
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:set_table has key/secret
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = %s and `secret`= %s
        
DEBUG:root:escape_sql args: [u'12345', u'54321']
DEBUG:root:
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = '12345' and `secret`= '54321'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10655b050>
DEBUG:root:returning True from authencticate.
DEBUG:root:set_table authenticated
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10655b190>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has key/secret
DEBUG:root:returning `True` from authenticate cached.
DEBUG:root:set_table authenticated
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10655b390>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10655b590>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10655b790>
DEBUG:root:qoorate preferences: {
    "THEME": "grid",
    "EMBED_CONF_JS": "
        var qoorateConfig = {
            QOORATE_URI: 'http://localhost',
            QOORATE_API_URI: 'http://localhost/q',
            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',
            XHR_PROXY_URI: '/q/feed',
            XHR_UPLOAD_URI: '/q/uploader',
            POST_MAX_LEN: 1000,
            PARENT_PAGE_SIZE: 10,
            CHILD_PAGE_SIZE: 10,
            AUTO_SCROLL: 1,
            THEME: 'grid',
            GRID_COLUMNS: 3,
            GRID_COLUMN_TRIM: 15,
            GRID_ROW_TRIM: 15
        };
        var qoorateLang = {
            FLAG_SUCCESS: 'Thanks for flagging this!',
            SHARE_SUCCESS: 'Thank you for sharing!',
            DELETE_SUCCESS: 'Thank you. This item has been deleted.',
            SIGNIN: 'Sign in using',
            SIGNEDIN: 'Signed in via',    
            OK: 'OK',
            CANCEL: 'Cancel',
            LOGOUT: 'Log Out',
            TOGGLE_ON: '+',
            TOGGLE_OFF: '-',
            CONTRIBUTION: 'Contribution',
            CONTRIBUTIONS: 'Contributions',
            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',
            REMOVE: 'Remove',
            LINK: 'Insert a link',
            TOPIC_COMMENT: 'Pose a Yes/No Question',
            COMMENT: 'Your Comment',
            IMAGE_COMMENT: 'Image Caption',
            POST_TO: 'Post to',
            POST_ANONYMOUS: 'Post anonymously',
            NICKNAME: 'Post as ',
            DEFAULT_NICKNAME: 'Anonymous',
            REPLY_LINK_COMMENT: 'Say something about your link',
            SHARE_COMMENT: 'comment about this share...',
            PUBLISH_BUTTON: 'Publish',
            POST_BUTTON: 'Post',
            POST_TO_BUTTON: 'Post To',
            REPLY_BUTTON: 'Reply',
            SHARE_BUTTON: 'Share',
            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',
            SELECT_IMAGE: 'Select an Image',
            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',
            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],
            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],
            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]
        };
    "
}

DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:preferences EMBED_CONF_JS:         var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    
DEBUG:root:embed_content called (key,secret): (12345,54321)
DEBUG:root:returning `True` from authenticate cached.
DEBUG:root:get_content_context
DEBUG:root:table: q_brooklyncode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:init_db_conn
DEBUG:root:NOT creating db_conn
DEBUG:root:1
DEBUG:root:5
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT f.`parent_sequence` , f.`child_sequence` , f.`id` , f.`locationId` , f.`relatedId`,
                f.`parentId` , f.`userId` , `u`.`username`, u.`thumbnailLarge` as userThumbnailLarge,
                ur.`username` as relatedUsername, ur.`thumbnailLarge` as relatedUserThumbnailLarge, f.`type` as `type`,
                f.`is_anonymous` , r.`is_anonymous` as `related_is_anonymous`, f.`name` , f.`location` ,f.`description`,f.`referer`,
                f.`voteCount` , f.`voteNumber` , f.`votesUp` ,f.`votesDown` , f.`flagCount`,  f.`childCount`, f.`sortOrder` , f.`status`,
                f.`thumbnailSmall` ,f.`thumbnailLarge` , f.`changeDate` , f.`createDate`, f.`nickname`, r.`nickname` as `related_nickname`
            FROM (
                # this query adds the sequence fields to filter by for paging
                SELECT  s1.*, @parentrownum := convert( IF( ( parentId = 0), @parentrownum +1, @parentrownum ), UNSIGNED INTEGER) AS parent_sequence,
                @childrownum := IF( ( @lastparent = parentId), @childrownum + 1, 0 ) AS child_sequence,
                @lastparent := if( parentId=0, id, parentId ) AS dummy_used_for_last_parent
                FROM
                    # QUERY 2: this query sorts the results properly
                    (SELECT s0.* FROM
                        # QUERY 1: This query gets the results we need with calculated fields to sort by
                        # We should probably have these fields in the database so they are indexed
                        (SELECT
                        CONVERT( if( parentId = 0, @parentVoteNumber:=voteNumber,
                            @parentVoteNumber ), SIGNED INTEGER ) as groupVoteNumber,          # Will order groups using parent voteNumber
                        CONVERT( if( parentId = 0, @parentVoteCount:=voteCount,
                            @parentVoteCount ), SIGNED INTEGER ) as groupVoteCount,            # Will order groups using parent voteCount
                        CONVERT( if( parentId = 0, @parentCreateDate:=createDate,
                            @parentCreateDate ), DATETIME ) as groupCreateDate,                # Will order groups using parent createDate
                        CONVERT( if(parentId=0, id, parentId), UNSIGNED INTEGER) as groupId,   # will order groups together
                        CONVERT( if(parentId = 0, 0, 1), UNSIGNED INTEGER) as isChild,         # will order parent first in group
                        r.*
                        FROM (
                            # this just makes sure our groups are grouped in parent child order
                            SELECT * from q_brooklyncode o  WHERE o.location = '5e13bbb73127b9fc424e3728c6500f28' ORDER BY
                             if( o.relatedId = 0, o.id, o.relatedId),
                             if( o.relatedId = 0, 0, o.id )
                            ) r,
                        ( SELECT @parentVoteNumber := 0 ) pvn,
                        ( SELECT @parentVoteCount  := 0 ) pvc,
                        ( SELECT @parentCreateDate := 0 ) pcd
                         WHERE location = '5e13bbb73127b9fc424e3728c6500f28' 
                    ) s0
                    
                    
                    ORDER BY
                    
                s0.groupVoteNumber DESC,
                s0.groupVoteCount DESC,
                s0.groupCreateDate ASC,
                 
                    groupId  ASC, # first order by group
                    isChild ASC, # Then make sure the parent is first
                    
                s0.voteNumber DESC,
                s0.voteCount DESC,
                s0.createDate ASC
                
            ) s1,
            ( SELECT @parentrownum := 0 ) pr,
            ( SELECT @childrownum := 0 ) cr, 
            ( SELECT @lastparent := -1 ) lp) f
            LEFT JOIN user u on u.id = f.userId
            LEFT JOIN q_brooklyncode r on r.id = f.relatedId
            LEFT JOIN user ur on ur.id = r.userId
            WHERE
            ((0 = 6 and parent_sequence >= 1) or parent_sequence BETWEEN 1 AND 6)
            AND
            ((0 = 6 and child_sequence >= 1) or (child_sequence=0 or child_sequence BETWEEN 1 AND 6))
        
DEBUG:root:escape_sql args: None
DEBUG:root:
            SELECT f.`parent_sequence` , f.`child_sequence` , f.`id` , f.`locationId` , f.`relatedId`,
                f.`parentId` , f.`userId` , `u`.`username`, u.`thumbnailLarge` as userThumbnailLarge,
                ur.`username` as relatedUsername, ur.`thumbnailLarge` as relatedUserThumbnailLarge, f.`type` as `type`,
                f.`is_anonymous` , r.`is_anonymous` as `related_is_anonymous`, f.`name` , f.`location` ,f.`description`,f.`referer`,
                f.`voteCount` , f.`voteNumber` , f.`votesUp` ,f.`votesDown` , f.`flagCount`,  f.`childCount`, f.`sortOrder` , f.`status`,
                f.`thumbnailSmall` ,f.`thumbnailLarge` , f.`changeDate` , f.`createDate`, f.`nickname`, r.`nickname` as `related_nickname`
            FROM (
                # this query adds the sequence fields to filter by for paging
                SELECT  s1.*, @parentrownum := convert( IF( ( parentId = 0), @parentrownum +1, @parentrownum ), UNSIGNED INTEGER) AS parent_sequence,
                @childrownum := IF( ( @lastparent = parentId), @childrownum + 1, 0 ) AS child_sequence,
                @lastparent := if( parentId=0, id, parentId ) AS dummy_used_for_last_parent
                FROM
                    # QUERY 2: this query sorts the results properly
                    (SELECT s0.* FROM
                        # QUERY 1: This query gets the results we need with calculated fields to sort by
                        # We should probably have these fields in the database so they are indexed
                        (SELECT
                        CONVERT( if( parentId = 0, @parentVoteNumber:=voteNumber,
                            @parentVoteNumber ), SIGNED INTEGER ) as groupVoteNumber,          # Will order groups using parent voteNumber
                        CONVERT( if( parentId = 0, @parentVoteCount:=voteCount,
                            @parentVoteCount ), SIGNED INTEGER ) as groupVoteCount,            # Will order groups using parent voteCount
                        CONVERT( if( parentId = 0, @parentCreateDate:=createDate,
                            @parentCreateDate ), DATETIME ) as groupCreateDate,                # Will order groups using parent createDate
                        CONVERT( if(parentId=0, id, parentId), UNSIGNED INTEGER) as groupId,   # will order groups together
                        CONVERT( if(parentId = 0, 0, 1), UNSIGNED INTEGER) as isChild,         # will order parent first in group
                        r.*
                        FROM (
                            # this just makes sure our groups are grouped in parent child order
                            SELECT * from q_brooklyncode o  WHERE o.location = '5e13bbb73127b9fc424e3728c6500f28' ORDER BY
                             if( o.relatedId = 0, o.id, o.relatedId),
                             if( o.relatedId = 0, 0, o.id )
                            ) r,
                        ( SELECT @parentVoteNumber := 0 ) pvn,
                        ( SELECT @parentVoteCount  := 0 ) pvc,
                        ( SELECT @parentCreateDate := 0 ) pcd
                         WHERE location = '5e13bbb73127b9fc424e3728c6500f28' 
                    ) s0
                    
                    
                    ORDER BY
                    
                s0.groupVoteNumber DESC,
                s0.groupVoteCount DESC,
                s0.groupCreateDate ASC,
                 
                    groupId  ASC, # first order by group
                    isChild ASC, # Then make sure the parent is first
                    
                s0.voteNumber DESC,
                s0.voteCount DESC,
                s0.createDate ASC
                
            ) s1,
            ( SELECT @parentrownum := 0 ) pr,
            ( SELECT @childrownum := 0 ) cr, 
            ( SELECT @lastparent := -1 ) lp) f
            LEFT JOIN user u on u.id = f.userId
            LEFT JOIN q_brooklyncode r on r.id = f.relatedId
            LEFT JOIN user ur on ur.id = r.userId
            WHERE
            ((0 = 6 and parent_sequence >= 1) or parent_sequence BETWEEN 1 AND 6)
            AND
            ((0 = 6 and child_sequence >= 1) or (child_sequence=0 or child_sequence BETWEEN 1 AND 6))
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x106553750>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = %s
        
DEBUG:root:escape_sql args: [1L]
DEBUG:root:
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = 1
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1065537d0>
DEBUG:root:dictlist: {u'itemId': 1L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'1fe8a631d5522d10e2cf2e4fabedc90b', u'id': 1L}
DEBUG:root:dictItem: {u'itemId': 1L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'1fe8a631d5522d10e2cf2e4fabedc90b', u'id': 1L}
DEBUG:root:items: [<ImageItem: ImageItem object>]
DEBUG:root:im: [<ImageItem: ImageItem object>]
DEBUG:root:comment.images: [<ImageItem: ImageItem object>]
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = %s
        
DEBUG:root:escape_sql args: [2L]
DEBUG:root:
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = 2
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1065539d0>
DEBUG:root:dictlist: {u'itemId': 2L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'cfbb12022f81667e3c2746e3c80b2e1e', u'id': 2L}
DEBUG:root:dictItem: {u'itemId': 2L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'cfbb12022f81667e3c2746e3c80b2e1e', u'id': 2L}
DEBUG:root:items: [<ImageItem: ImageItem object>]
DEBUG:root:im: [<ImageItem: ImageItem object>]
DEBUG:root:comment.images: [<ImageItem: ImageItem object>]
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = %s
        
DEBUG:root:escape_sql args: [4L]
DEBUG:root:
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = 4
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x106553b50>
DEBUG:root:dictlist: {u'itemId': 4L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'afdaf6b1c369d65535041c375356f03f', u'id': 3L}
DEBUG:root:dictItem: {u'itemId': 4L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'afdaf6b1c369d65535041c375356f03f', u'id': 3L}
DEBUG:root:items: [<ImageItem: ImageItem object>]
DEBUG:root:im: [<ImageItem: ImageItem object>]
DEBUG:root:comment.images: [<ImageItem: ImageItem object>]
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = %s
        
DEBUG:root:escape_sql args: [5L]
DEBUG:root:
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = 5
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x106553d50>
DEBUG:root:dictlist: {u'itemId': 5L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'dffa39e6d8f1b616cfab3be4e93e47c6', u'id': 4L}
DEBUG:root:dictItem: {u'itemId': 5L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'dffa39e6d8f1b616cfab3be4e93e47c6', u'id': 4L}
DEBUG:root:items: [<ImageItem: ImageItem object>]
DEBUG:root:im: [<ImageItem: ImageItem object>]
DEBUG:root:comment.images: [<ImageItem: ImageItem object>]
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = %s
        
DEBUG:root:escape_sql args: [6L]
DEBUG:root:
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = 6
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10655b050>
DEBUG:root:dictlist: {u'itemId': 6L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'8aa464876cd5bfe7e00f3fab7e2a2870', u'id': 5L}
DEBUG:root:dictItem: {u'itemId': 6L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'8aa464876cd5bfe7e00f3fab7e2a2870', u'id': 5L}
DEBUG:root:items: [<ImageItem: ImageItem object>]
DEBUG:root:im: [<ImageItem: ImageItem object>]
DEBUG:root:comment.images: [<ImageItem: ImageItem object>]
DEBUG:root:Number of comments returned: 6
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:escape_sql args: []
DEBUG:root:
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10655b190>
DEBUG:root:Number of contributions 6
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10655b390>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10655b590>
DEBUG:root:to_unicode
DEBUG:root:embed_content
DEBUG:root:embed_content
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:embed_content
DEBUG:root:embed_content
DEBUG:root:to_unicode
DEBUG:root:unsanitizing: test
DEBUG:root:unsanitizing encoded ascii: test
DEBUG:root:unsanitizing encoded utf8: test
DEBUG:root: unsanitized: test
DEBUG:root:unsanitizing: tester
DEBUG:root:unsanitizing encoded ascii: tester
DEBUG:root:unsanitizing encoded utf8: tester
DEBUG:root: unsanitized: tester
DEBUG:root:unsanitizing: Do you?
DEBUG:root:unsanitizing encoded ascii: Do you?
DEBUG:root:unsanitizing encoded utf8: Do you?
DEBUG:root: unsanitized: Do you?
DEBUG:root:unsanitizing: me
DEBUG:root:unsanitizing encoded ascii: me
DEBUG:root:unsanitizing encoded utf8: me
DEBUG:root: unsanitized: me
DEBUG:root:unsanitizing: must
DEBUG:root:unsanitizing encoded ascii: must
DEBUG:root:unsanitizing encoded utf8: must
DEBUG:root: unsanitized: must
INFO:root:200 GET /q/embed (127.0.0.1)
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:set_table has q_short_name (12345)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10655b790>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has q_short_name (12345)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x106553750>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:feed.prepare, table: q_brooklyncode
DEBUG:root:FeedHandler post
DEBUG:root:Body -> 
 action=getMore&location=5e13bbb73127b9fc424e3728c6500f28&referer=http%3A%2F%2Flocalhost%3A8081%2F%3Fp%3D1&q_short_name=12345&QOOID=QOO51f460f57c582&QOOTID=QOOT51f460f57c593&relatedId=6&moreIndex=11&sort=voting
DEBUG:root:Arguments -> 
 {"sort": ["voting"], "moreIndex": ["11"], "QOOID": ["QOO51f460f57c582"], "QOOTID": ["QOOT51f460f57c593"], "q_short_name": ["12345"], "location": ["5e13bbb73127b9fc424e3728c6500f28"], "action": ["getMore"], "referer": ["http://localhost:8081/?p=1"], "relatedId": ["6"]}
DEBUG:root:to_unicode
DEBUG:root:getMore
DEBUG:root:getMore
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:getMore
DEBUG:root:getMore
DEBUG:root:to_unicode
DEBUG:root:action: getMore
DEBUG:root:to_unicode
DEBUG:root:voting
DEBUG:root:voting
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:voting
DEBUG:root:voting
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:11
DEBUG:root:11
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:11
DEBUG:root:11
DEBUG:root:to_unicode
DEBUG:root:init_db_conn
DEBUG:root:NOT creating db_conn
DEBUG:root:11
DEBUG:root:5
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT f.`parent_sequence` , f.`child_sequence` , f.`id` , f.`locationId` , f.`relatedId`,
                f.`parentId` , f.`userId` , `u`.`username`, u.`thumbnailLarge` as userThumbnailLarge,
                ur.`username` as relatedUsername, ur.`thumbnailLarge` as relatedUserThumbnailLarge, f.`type` as `type`,
                f.`is_anonymous` , r.`is_anonymous` as `related_is_anonymous`, f.`name` , f.`location` ,f.`description`,f.`referer`,
                f.`voteCount` , f.`voteNumber` , f.`votesUp` ,f.`votesDown` , f.`flagCount`,  f.`childCount`, f.`sortOrder` , f.`status`,
                f.`thumbnailSmall` ,f.`thumbnailLarge` , f.`changeDate` , f.`createDate`, f.`nickname`, r.`nickname` as `related_nickname`
            FROM (
                # this query adds the sequence fields to filter by for paging
                SELECT  s1.*, @parentrownum := convert( IF( ( parentId = 0), @parentrownum +1, @parentrownum ), UNSIGNED INTEGER) AS parent_sequence,
                @childrownum := IF( ( @lastparent = parentId), @childrownum + 1, 0 ) AS child_sequence,
                @lastparent := if( parentId=0, id, parentId ) AS dummy_used_for_last_parent
                FROM
                    # QUERY 2: this query sorts the results properly
                    (SELECT s0.* FROM
                        # QUERY 1: This query gets the results we need with calculated fields to sort by
                        # We should probably have these fields in the database so they are indexed
                        (SELECT
                        CONVERT( if( parentId = 0, @parentVoteNumber:=voteNumber,
                            @parentVoteNumber ), SIGNED INTEGER ) as groupVoteNumber,          # Will order groups using parent voteNumber
                        CONVERT( if( parentId = 0, @parentVoteCount:=voteCount,
                            @parentVoteCount ), SIGNED INTEGER ) as groupVoteCount,            # Will order groups using parent voteCount
                        CONVERT( if( parentId = 0, @parentCreateDate:=createDate,
                            @parentCreateDate ), DATETIME ) as groupCreateDate,                # Will order groups using parent createDate
                        CONVERT( if(parentId=0, id, parentId), UNSIGNED INTEGER) as groupId,   # will order groups together
                        CONVERT( if(parentId = 0, 0, 1), UNSIGNED INTEGER) as isChild,         # will order parent first in group
                        r.*
                        FROM (
                            # this just makes sure our groups are grouped in parent child order
                            SELECT * from q_brooklyncode o  WHERE o.location = '5e13bbb73127b9fc424e3728c6500f28' ORDER BY
                             if( o.relatedId = 0, o.id, o.relatedId),
                             if( o.relatedId = 0, 0, o.id )
                            ) r,
                        ( SELECT @parentVoteNumber := 0 ) pvn,
                        ( SELECT @parentVoteCount  := 0 ) pvc,
                        ( SELECT @parentCreateDate := 0 ) pcd
                         WHERE location = '5e13bbb73127b9fc424e3728c6500f28' 
                    ) s0
                    
                    
                    ORDER BY
                    
                s0.groupVoteNumber DESC,
                s0.groupVoteCount DESC,
                s0.groupCreateDate ASC,
                 
                    groupId  ASC, # first order by group
                    isChild ASC, # Then make sure the parent is first
                    
                s0.voteNumber DESC,
                s0.voteCount DESC,
                s0.createDate ASC
                
            ) s1,
            ( SELECT @parentrownum := 0 ) pr,
            ( SELECT @childrownum := 0 ) cr, 
            ( SELECT @lastparent := -1 ) lp) f
            LEFT JOIN user u on u.id = f.userId
            LEFT JOIN q_brooklyncode r on r.id = f.relatedId
            LEFT JOIN user ur on ur.id = r.userId
            WHERE
            ((0 = 16 and parent_sequence >= 11) or parent_sequence BETWEEN 11 AND 16)
            AND
            ((0 = 6 and child_sequence >= 1) or (child_sequence=0 or child_sequence BETWEEN 1 AND 6))
        
DEBUG:root:escape_sql args: None
DEBUG:root:
            SELECT f.`parent_sequence` , f.`child_sequence` , f.`id` , f.`locationId` , f.`relatedId`,
                f.`parentId` , f.`userId` , `u`.`username`, u.`thumbnailLarge` as userThumbnailLarge,
                ur.`username` as relatedUsername, ur.`thumbnailLarge` as relatedUserThumbnailLarge, f.`type` as `type`,
                f.`is_anonymous` , r.`is_anonymous` as `related_is_anonymous`, f.`name` , f.`location` ,f.`description`,f.`referer`,
                f.`voteCount` , f.`voteNumber` , f.`votesUp` ,f.`votesDown` , f.`flagCount`,  f.`childCount`, f.`sortOrder` , f.`status`,
                f.`thumbnailSmall` ,f.`thumbnailLarge` , f.`changeDate` , f.`createDate`, f.`nickname`, r.`nickname` as `related_nickname`
            FROM (
                # this query adds the sequence fields to filter by for paging
                SELECT  s1.*, @parentrownum := convert( IF( ( parentId = 0), @parentrownum +1, @parentrownum ), UNSIGNED INTEGER) AS parent_sequence,
                @childrownum := IF( ( @lastparent = parentId), @childrownum + 1, 0 ) AS child_sequence,
                @lastparent := if( parentId=0, id, parentId ) AS dummy_used_for_last_parent
                FROM
                    # QUERY 2: this query sorts the results properly
                    (SELECT s0.* FROM
                        # QUERY 1: This query gets the results we need with calculated fields to sort by
                        # We should probably have these fields in the database so they are indexed
                        (SELECT
                        CONVERT( if( parentId = 0, @parentVoteNumber:=voteNumber,
                            @parentVoteNumber ), SIGNED INTEGER ) as groupVoteNumber,          # Will order groups using parent voteNumber
                        CONVERT( if( parentId = 0, @parentVoteCount:=voteCount,
                            @parentVoteCount ), SIGNED INTEGER ) as groupVoteCount,            # Will order groups using parent voteCount
                        CONVERT( if( parentId = 0, @parentCreateDate:=createDate,
                            @parentCreateDate ), DATETIME ) as groupCreateDate,                # Will order groups using parent createDate
                        CONVERT( if(parentId=0, id, parentId), UNSIGNED INTEGER) as groupId,   # will order groups together
                        CONVERT( if(parentId = 0, 0, 1), UNSIGNED INTEGER) as isChild,         # will order parent first in group
                        r.*
                        FROM (
                            # this just makes sure our groups are grouped in parent child order
                            SELECT * from q_brooklyncode o  WHERE o.location = '5e13bbb73127b9fc424e3728c6500f28' ORDER BY
                             if( o.relatedId = 0, o.id, o.relatedId),
                             if( o.relatedId = 0, 0, o.id )
                            ) r,
                        ( SELECT @parentVoteNumber := 0 ) pvn,
                        ( SELECT @parentVoteCount  := 0 ) pvc,
                        ( SELECT @parentCreateDate := 0 ) pcd
                         WHERE location = '5e13bbb73127b9fc424e3728c6500f28' 
                    ) s0
                    
                    
                    ORDER BY
                    
                s0.groupVoteNumber DESC,
                s0.groupVoteCount DESC,
                s0.groupCreateDate ASC,
                 
                    groupId  ASC, # first order by group
                    isChild ASC, # Then make sure the parent is first
                    
                s0.voteNumber DESC,
                s0.voteCount DESC,
                s0.createDate ASC
                
            ) s1,
            ( SELECT @parentrownum := 0 ) pr,
            ( SELECT @childrownum := 0 ) cr, 
            ( SELECT @lastparent := -1 ) lp) f
            LEFT JOIN user u on u.id = f.userId
            LEFT JOIN q_brooklyncode r on r.id = f.relatedId
            LEFT JOIN user ur on ur.id = r.userId
            WHERE
            ((0 = 16 and parent_sequence >= 11) or parent_sequence BETWEEN 11 AND 16)
            AND
            ((0 = 6 and child_sequence >= 1) or (child_sequence=0 or child_sequence BETWEEN 1 AND 6))
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1065537d0>
DEBUG:root:Number of comments returned: 0
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1065539d0>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x106553b50>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x106553d50>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10655b050>
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:escape_sql sql: 
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:escape_sql args: []
DEBUG:root:
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1065636d0>
DEBUG:root:Number of contributions 6
INFO:root:200 POST /q/feed (127.0.0.1)
DEBUG:root:get EmbedHandler
DEBUG:root:to_unicode
DEBUG:root:embed_head
DEBUG:root:embed_head
DEBUG:root:to_unicode
DEBUG:root:action: embed_head 
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:set_table has key/secret
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = %s and `secret`= %s
        
DEBUG:root:escape_sql args: [u'12345', u'54321']
DEBUG:root:
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = '12345' and `secret`= '54321'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10655b190>
DEBUG:root:returning True from authencticate.
DEBUG:root:set_table authenticated
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10655b390>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has key/secret
DEBUG:root:returning `True` from authenticate cached.
DEBUG:root:set_table authenticated
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10655b590>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10655b790>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x106553750>
DEBUG:root:qoorate preferences: {
    "THEME": "grid",
    "EMBED_CONF_JS": "
        var qoorateConfig = {
            QOORATE_URI: 'http://localhost',
            QOORATE_API_URI: 'http://localhost/q',
            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',
            XHR_PROXY_URI: '/q/feed',
            XHR_UPLOAD_URI: '/q/uploader',
            POST_MAX_LEN: 1000,
            PARENT_PAGE_SIZE: 10,
            CHILD_PAGE_SIZE: 10,
            AUTO_SCROLL: 1,
            THEME: 'grid',
            GRID_COLUMNS: 3,
            GRID_COLUMN_TRIM: 15,
            GRID_ROW_TRIM: 15
        };
        var qoorateLang = {
            FLAG_SUCCESS: 'Thanks for flagging this!',
            SHARE_SUCCESS: 'Thank you for sharing!',
            DELETE_SUCCESS: 'Thank you. This item has been deleted.',
            SIGNIN: 'Sign in using',
            SIGNEDIN: 'Signed in via',    
            OK: 'OK',
            CANCEL: 'Cancel',
            LOGOUT: 'Log Out',
            TOGGLE_ON: '+',
            TOGGLE_OFF: '-',
            CONTRIBUTION: 'Contribution',
            CONTRIBUTIONS: 'Contributions',
            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',
            REMOVE: 'Remove',
            LINK: 'Insert a link',
            TOPIC_COMMENT: 'Pose a Yes/No Question',
            COMMENT: 'Your Comment',
            IMAGE_COMMENT: 'Image Caption',
            POST_TO: 'Post to',
            POST_ANONYMOUS: 'Post anonymously',
            NICKNAME: 'Post as ',
            DEFAULT_NICKNAME: 'Anonymous',
            REPLY_LINK_COMMENT: 'Say something about your link',
            SHARE_COMMENT: 'comment about this share...',
            PUBLISH_BUTTON: 'Publish',
            POST_BUTTON: 'Post',
            POST_TO_BUTTON: 'Post To',
            REPLY_BUTTON: 'Reply',
            SHARE_BUTTON: 'Share',
            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',
            SELECT_IMAGE: 'Select an Image',
            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',
            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],
            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],
            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]
        };
    "
}

DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:preferences EMBED_CONF_JS:         var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    
DEBUG:root:embed_head called
INFO:root:200 GET /q/embed (127.0.0.1)
DEBUG:root:get EmbedHandler
DEBUG:root:to_unicode
DEBUG:root:embed_content
DEBUG:root:embed_content
DEBUG:root:to_unicode
DEBUG:root:action: embed_content 
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:set_table has key/secret
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = %s and `secret`= %s
        
DEBUG:root:escape_sql args: [u'12345', u'54321']
DEBUG:root:
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = '12345' and `secret`= '54321'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1065537d0>
DEBUG:root:returning True from authencticate.
DEBUG:root:set_table authenticated
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1065539d0>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has key/secret
DEBUG:root:returning `True` from authenticate cached.
DEBUG:root:set_table authenticated
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x106553b50>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x106553d50>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10655b050>
DEBUG:root:qoorate preferences: {
    "THEME": "grid",
    "EMBED_CONF_JS": "
        var qoorateConfig = {
            QOORATE_URI: 'http://localhost',
            QOORATE_API_URI: 'http://localhost/q',
            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',
            XHR_PROXY_URI: '/q/feed',
            XHR_UPLOAD_URI: '/q/uploader',
            POST_MAX_LEN: 1000,
            PARENT_PAGE_SIZE: 10,
            CHILD_PAGE_SIZE: 10,
            AUTO_SCROLL: 1,
            THEME: 'grid',
            GRID_COLUMNS: 3,
            GRID_COLUMN_TRIM: 15,
            GRID_ROW_TRIM: 15
        };
        var qoorateLang = {
            FLAG_SUCCESS: 'Thanks for flagging this!',
            SHARE_SUCCESS: 'Thank you for sharing!',
            DELETE_SUCCESS: 'Thank you. This item has been deleted.',
            SIGNIN: 'Sign in using',
            SIGNEDIN: 'Signed in via',    
            OK: 'OK',
            CANCEL: 'Cancel',
            LOGOUT: 'Log Out',
            TOGGLE_ON: '+',
            TOGGLE_OFF: '-',
            CONTRIBUTION: 'Contribution',
            CONTRIBUTIONS: 'Contributions',
            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',
            REMOVE: 'Remove',
            LINK: 'Insert a link',
            TOPIC_COMMENT: 'Pose a Yes/No Question',
            COMMENT: 'Your Comment',
            IMAGE_COMMENT: 'Image Caption',
            POST_TO: 'Post to',
            POST_ANONYMOUS: 'Post anonymously',
            NICKNAME: 'Post as ',
            DEFAULT_NICKNAME: 'Anonymous',
            REPLY_LINK_COMMENT: 'Say something about your link',
            SHARE_COMMENT: 'comment about this share...',
            PUBLISH_BUTTON: 'Publish',
            POST_BUTTON: 'Post',
            POST_TO_BUTTON: 'Post To',
            REPLY_BUTTON: 'Reply',
            SHARE_BUTTON: 'Share',
            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',
            SELECT_IMAGE: 'Select an Image',
            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',
            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],
            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],
            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]
        };
    "
}

DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:preferences EMBED_CONF_JS:         var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    
DEBUG:root:embed_content called (key,secret): (12345,54321)
DEBUG:root:returning `True` from authenticate cached.
DEBUG:root:get_content_context
DEBUG:root:table: q_brooklyncode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:init_db_conn
DEBUG:root:NOT creating db_conn
DEBUG:root:1
DEBUG:root:5
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT f.`parent_sequence` , f.`child_sequence` , f.`id` , f.`locationId` , f.`relatedId`,
                f.`parentId` , f.`userId` , `u`.`username`, u.`thumbnailLarge` as userThumbnailLarge,
                ur.`username` as relatedUsername, ur.`thumbnailLarge` as relatedUserThumbnailLarge, f.`type` as `type`,
                f.`is_anonymous` , r.`is_anonymous` as `related_is_anonymous`, f.`name` , f.`location` ,f.`description`,f.`referer`,
                f.`voteCount` , f.`voteNumber` , f.`votesUp` ,f.`votesDown` , f.`flagCount`,  f.`childCount`, f.`sortOrder` , f.`status`,
                f.`thumbnailSmall` ,f.`thumbnailLarge` , f.`changeDate` , f.`createDate`, f.`nickname`, r.`nickname` as `related_nickname`
            FROM (
                # this query adds the sequence fields to filter by for paging
                SELECT  s1.*, @parentrownum := convert( IF( ( parentId = 0), @parentrownum +1, @parentrownum ), UNSIGNED INTEGER) AS parent_sequence,
                @childrownum := IF( ( @lastparent = parentId), @childrownum + 1, 0 ) AS child_sequence,
                @lastparent := if( parentId=0, id, parentId ) AS dummy_used_for_last_parent
                FROM
                    # QUERY 2: this query sorts the results properly
                    (SELECT s0.* FROM
                        # QUERY 1: This query gets the results we need with calculated fields to sort by
                        # We should probably have these fields in the database so they are indexed
                        (SELECT
                        CONVERT( if( parentId = 0, @parentVoteNumber:=voteNumber,
                            @parentVoteNumber ), SIGNED INTEGER ) as groupVoteNumber,          # Will order groups using parent voteNumber
                        CONVERT( if( parentId = 0, @parentVoteCount:=voteCount,
                            @parentVoteCount ), SIGNED INTEGER ) as groupVoteCount,            # Will order groups using parent voteCount
                        CONVERT( if( parentId = 0, @parentCreateDate:=createDate,
                            @parentCreateDate ), DATETIME ) as groupCreateDate,                # Will order groups using parent createDate
                        CONVERT( if(parentId=0, id, parentId), UNSIGNED INTEGER) as groupId,   # will order groups together
                        CONVERT( if(parentId = 0, 0, 1), UNSIGNED INTEGER) as isChild,         # will order parent first in group
                        r.*
                        FROM (
                            # this just makes sure our groups are grouped in parent child order
                            SELECT * from q_brooklyncode o  WHERE o.location = '5e13bbb73127b9fc424e3728c6500f28' ORDER BY
                             if( o.relatedId = 0, o.id, o.relatedId),
                             if( o.relatedId = 0, 0, o.id )
                            ) r,
                        ( SELECT @parentVoteNumber := 0 ) pvn,
                        ( SELECT @parentVoteCount  := 0 ) pvc,
                        ( SELECT @parentCreateDate := 0 ) pcd
                         WHERE location = '5e13bbb73127b9fc424e3728c6500f28' 
                    ) s0
                    
                    
                    ORDER BY
                    
                s0.groupVoteNumber DESC,
                s0.groupVoteCount DESC,
                s0.groupCreateDate ASC,
                 
                    groupId  ASC, # first order by group
                    isChild ASC, # Then make sure the parent is first
                    
                s0.voteNumber DESC,
                s0.voteCount DESC,
                s0.createDate ASC
                
            ) s1,
            ( SELECT @parentrownum := 0 ) pr,
            ( SELECT @childrownum := 0 ) cr, 
            ( SELECT @lastparent := -1 ) lp) f
            LEFT JOIN user u on u.id = f.userId
            LEFT JOIN q_brooklyncode r on r.id = f.relatedId
            LEFT JOIN user ur on ur.id = r.userId
            WHERE
            ((0 = 6 and parent_sequence >= 1) or parent_sequence BETWEEN 1 AND 6)
            AND
            ((0 = 6 and child_sequence >= 1) or (child_sequence=0 or child_sequence BETWEEN 1 AND 6))
        
DEBUG:root:escape_sql args: None
DEBUG:root:
            SELECT f.`parent_sequence` , f.`child_sequence` , f.`id` , f.`locationId` , f.`relatedId`,
                f.`parentId` , f.`userId` , `u`.`username`, u.`thumbnailLarge` as userThumbnailLarge,
                ur.`username` as relatedUsername, ur.`thumbnailLarge` as relatedUserThumbnailLarge, f.`type` as `type`,
                f.`is_anonymous` , r.`is_anonymous` as `related_is_anonymous`, f.`name` , f.`location` ,f.`description`,f.`referer`,
                f.`voteCount` , f.`voteNumber` , f.`votesUp` ,f.`votesDown` , f.`flagCount`,  f.`childCount`, f.`sortOrder` , f.`status`,
                f.`thumbnailSmall` ,f.`thumbnailLarge` , f.`changeDate` , f.`createDate`, f.`nickname`, r.`nickname` as `related_nickname`
            FROM (
                # this query adds the sequence fields to filter by for paging
                SELECT  s1.*, @parentrownum := convert( IF( ( parentId = 0), @parentrownum +1, @parentrownum ), UNSIGNED INTEGER) AS parent_sequence,
                @childrownum := IF( ( @lastparent = parentId), @childrownum + 1, 0 ) AS child_sequence,
                @lastparent := if( parentId=0, id, parentId ) AS dummy_used_for_last_parent
                FROM
                    # QUERY 2: this query sorts the results properly
                    (SELECT s0.* FROM
                        # QUERY 1: This query gets the results we need with calculated fields to sort by
                        # We should probably have these fields in the database so they are indexed
                        (SELECT
                        CONVERT( if( parentId = 0, @parentVoteNumber:=voteNumber,
                            @parentVoteNumber ), SIGNED INTEGER ) as groupVoteNumber,          # Will order groups using parent voteNumber
                        CONVERT( if( parentId = 0, @parentVoteCount:=voteCount,
                            @parentVoteCount ), SIGNED INTEGER ) as groupVoteCount,            # Will order groups using parent voteCount
                        CONVERT( if( parentId = 0, @parentCreateDate:=createDate,
                            @parentCreateDate ), DATETIME ) as groupCreateDate,                # Will order groups using parent createDate
                        CONVERT( if(parentId=0, id, parentId), UNSIGNED INTEGER) as groupId,   # will order groups together
                        CONVERT( if(parentId = 0, 0, 1), UNSIGNED INTEGER) as isChild,         # will order parent first in group
                        r.*
                        FROM (
                            # this just makes sure our groups are grouped in parent child order
                            SELECT * from q_brooklyncode o  WHERE o.location = '5e13bbb73127b9fc424e3728c6500f28' ORDER BY
                             if( o.relatedId = 0, o.id, o.relatedId),
                             if( o.relatedId = 0, 0, o.id )
                            ) r,
                        ( SELECT @parentVoteNumber := 0 ) pvn,
                        ( SELECT @parentVoteCount  := 0 ) pvc,
                        ( SELECT @parentCreateDate := 0 ) pcd
                         WHERE location = '5e13bbb73127b9fc424e3728c6500f28' 
                    ) s0
                    
                    
                    ORDER BY
                    
                s0.groupVoteNumber DESC,
                s0.groupVoteCount DESC,
                s0.groupCreateDate ASC,
                 
                    groupId  ASC, # first order by group
                    isChild ASC, # Then make sure the parent is first
                    
                s0.voteNumber DESC,
                s0.voteCount DESC,
                s0.createDate ASC
                
            ) s1,
            ( SELECT @parentrownum := 0 ) pr,
            ( SELECT @childrownum := 0 ) cr, 
            ( SELECT @lastparent := -1 ) lp) f
            LEFT JOIN user u on u.id = f.userId
            LEFT JOIN q_brooklyncode r on r.id = f.relatedId
            LEFT JOIN user ur on ur.id = r.userId
            WHERE
            ((0 = 6 and parent_sequence >= 1) or parent_sequence BETWEEN 1 AND 6)
            AND
            ((0 = 6 and child_sequence >= 1) or (child_sequence=0 or child_sequence BETWEEN 1 AND 6))
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10655b190>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = %s
        
DEBUG:root:escape_sql args: [1L]
DEBUG:root:
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = 1
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10655b390>
DEBUG:root:dictlist: {u'itemId': 1L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'1fe8a631d5522d10e2cf2e4fabedc90b', u'id': 1L}
DEBUG:root:dictItem: {u'itemId': 1L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'1fe8a631d5522d10e2cf2e4fabedc90b', u'id': 1L}
DEBUG:root:items: [<ImageItem: ImageItem object>]
DEBUG:root:im: [<ImageItem: ImageItem object>]
DEBUG:root:comment.images: [<ImageItem: ImageItem object>]
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = %s
        
DEBUG:root:escape_sql args: [2L]
DEBUG:root:
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = 2
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10655b590>
DEBUG:root:dictlist: {u'itemId': 2L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'cfbb12022f81667e3c2746e3c80b2e1e', u'id': 2L}
DEBUG:root:dictItem: {u'itemId': 2L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'cfbb12022f81667e3c2746e3c80b2e1e', u'id': 2L}
DEBUG:root:items: [<ImageItem: ImageItem object>]
DEBUG:root:im: [<ImageItem: ImageItem object>]
DEBUG:root:comment.images: [<ImageItem: ImageItem object>]
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = %s
        
DEBUG:root:escape_sql args: [4L]
DEBUG:root:
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = 4
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10655b790>
DEBUG:root:dictlist: {u'itemId': 4L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'afdaf6b1c369d65535041c375356f03f', u'id': 3L}
DEBUG:root:dictItem: {u'itemId': 4L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'afdaf6b1c369d65535041c375356f03f', u'id': 3L}
DEBUG:root:items: [<ImageItem: ImageItem object>]
DEBUG:root:im: [<ImageItem: ImageItem object>]
DEBUG:root:comment.images: [<ImageItem: ImageItem object>]
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = %s
        
DEBUG:root:escape_sql args: [5L]
DEBUG:root:
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = 5
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x106553750>
DEBUG:root:dictlist: {u'itemId': 5L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'dffa39e6d8f1b616cfab3be4e93e47c6', u'id': 4L}
DEBUG:root:dictItem: {u'itemId': 5L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'dffa39e6d8f1b616cfab3be4e93e47c6', u'id': 4L}
DEBUG:root:items: [<ImageItem: ImageItem object>]
DEBUG:root:im: [<ImageItem: ImageItem object>]
DEBUG:root:comment.images: [<ImageItem: ImageItem object>]
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = %s
        
DEBUG:root:escape_sql args: [6L]
DEBUG:root:
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = 6
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1065537d0>
DEBUG:root:dictlist: {u'itemId': 6L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'8aa464876cd5bfe7e00f3fab7e2a2870', u'id': 5L}
DEBUG:root:dictItem: {u'itemId': 6L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'8aa464876cd5bfe7e00f3fab7e2a2870', u'id': 5L}
DEBUG:root:items: [<ImageItem: ImageItem object>]
DEBUG:root:im: [<ImageItem: ImageItem object>]
DEBUG:root:comment.images: [<ImageItem: ImageItem object>]
DEBUG:root:Number of comments returned: 6
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:escape_sql args: []
DEBUG:root:
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1065539d0>
DEBUG:root:Number of contributions 6
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x106553b50>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x106553d50>
DEBUG:root:to_unicode
DEBUG:root:embed_content
DEBUG:root:embed_content
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:embed_content
DEBUG:root:embed_content
DEBUG:root:to_unicode
DEBUG:root:unsanitizing: test
DEBUG:root:unsanitizing encoded ascii: test
DEBUG:root:unsanitizing encoded utf8: test
DEBUG:root: unsanitized: test
DEBUG:root:unsanitizing: tester
DEBUG:root:unsanitizing encoded ascii: tester
DEBUG:root:unsanitizing encoded utf8: tester
DEBUG:root: unsanitized: tester
DEBUG:root:unsanitizing: Do you?
DEBUG:root:unsanitizing encoded ascii: Do you?
DEBUG:root:unsanitizing encoded utf8: Do you?
DEBUG:root: unsanitized: Do you?
DEBUG:root:unsanitizing: me
DEBUG:root:unsanitizing encoded ascii: me
DEBUG:root:unsanitizing encoded utf8: me
DEBUG:root: unsanitized: me
DEBUG:root:unsanitizing: must
DEBUG:root:unsanitizing encoded ascii: must
DEBUG:root:unsanitizing encoded utf8: must
DEBUG:root: unsanitized: must
INFO:root:200 GET /q/embed (127.0.0.1)
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:set_table has q_short_name (12345)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10655b050>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has q_short_name (12345)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10655b190>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:feed.prepare, table: q_brooklyncode
DEBUG:root:FeedHandler post
DEBUG:root:Body -> 
 action=getMore&location=5e13bbb73127b9fc424e3728c6500f28&referer=http%3A%2F%2Flocalhost%3A8081%2F%3Fp%3D1&q_short_name=12345&QOOID=QOO51f460f57c582&QOOTID=QOOT51f460f57c593&relatedId=6&moreIndex=11&sort=voting
DEBUG:root:Arguments -> 
 {"sort": ["voting"], "moreIndex": ["11"], "QOOID": ["QOO51f460f57c582"], "QOOTID": ["QOOT51f460f57c593"], "q_short_name": ["12345"], "location": ["5e13bbb73127b9fc424e3728c6500f28"], "action": ["getMore"], "referer": ["http://localhost:8081/?p=1"], "relatedId": ["6"]}
DEBUG:root:to_unicode
DEBUG:root:getMore
DEBUG:root:getMore
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:getMore
DEBUG:root:getMore
DEBUG:root:to_unicode
DEBUG:root:action: getMore
DEBUG:root:to_unicode
DEBUG:root:voting
DEBUG:root:voting
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:voting
DEBUG:root:voting
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:11
DEBUG:root:11
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:11
DEBUG:root:11
DEBUG:root:to_unicode
DEBUG:root:init_db_conn
DEBUG:root:NOT creating db_conn
DEBUG:root:11
DEBUG:root:5
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT f.`parent_sequence` , f.`child_sequence` , f.`id` , f.`locationId` , f.`relatedId`,
                f.`parentId` , f.`userId` , `u`.`username`, u.`thumbnailLarge` as userThumbnailLarge,
                ur.`username` as relatedUsername, ur.`thumbnailLarge` as relatedUserThumbnailLarge, f.`type` as `type`,
                f.`is_anonymous` , r.`is_anonymous` as `related_is_anonymous`, f.`name` , f.`location` ,f.`description`,f.`referer`,
                f.`voteCount` , f.`voteNumber` , f.`votesUp` ,f.`votesDown` , f.`flagCount`,  f.`childCount`, f.`sortOrder` , f.`status`,
                f.`thumbnailSmall` ,f.`thumbnailLarge` , f.`changeDate` , f.`createDate`, f.`nickname`, r.`nickname` as `related_nickname`
            FROM (
                # this query adds the sequence fields to filter by for paging
                SELECT  s1.*, @parentrownum := convert( IF( ( parentId = 0), @parentrownum +1, @parentrownum ), UNSIGNED INTEGER) AS parent_sequence,
                @childrownum := IF( ( @lastparent = parentId), @childrownum + 1, 0 ) AS child_sequence,
                @lastparent := if( parentId=0, id, parentId ) AS dummy_used_for_last_parent
                FROM
                    # QUERY 2: this query sorts the results properly
                    (SELECT s0.* FROM
                        # QUERY 1: This query gets the results we need with calculated fields to sort by
                        # We should probably have these fields in the database so they are indexed
                        (SELECT
                        CONVERT( if( parentId = 0, @parentVoteNumber:=voteNumber,
                            @parentVoteNumber ), SIGNED INTEGER ) as groupVoteNumber,          # Will order groups using parent voteNumber
                        CONVERT( if( parentId = 0, @parentVoteCount:=voteCount,
                            @parentVoteCount ), SIGNED INTEGER ) as groupVoteCount,            # Will order groups using parent voteCount
                        CONVERT( if( parentId = 0, @parentCreateDate:=createDate,
                            @parentCreateDate ), DATETIME ) as groupCreateDate,                # Will order groups using parent createDate
                        CONVERT( if(parentId=0, id, parentId), UNSIGNED INTEGER) as groupId,   # will order groups together
                        CONVERT( if(parentId = 0, 0, 1), UNSIGNED INTEGER) as isChild,         # will order parent first in group
                        r.*
                        FROM (
                            # this just makes sure our groups are grouped in parent child order
                            SELECT * from q_brooklyncode o  WHERE o.location = '5e13bbb73127b9fc424e3728c6500f28' ORDER BY
                             if( o.relatedId = 0, o.id, o.relatedId),
                             if( o.relatedId = 0, 0, o.id )
                            ) r,
                        ( SELECT @parentVoteNumber := 0 ) pvn,
                        ( SELECT @parentVoteCount  := 0 ) pvc,
                        ( SELECT @parentCreateDate := 0 ) pcd
                         WHERE location = '5e13bbb73127b9fc424e3728c6500f28' 
                    ) s0
                    
                    
                    ORDER BY
                    
                s0.groupVoteNumber DESC,
                s0.groupVoteCount DESC,
                s0.groupCreateDate ASC,
                 
                    groupId  ASC, # first order by group
                    isChild ASC, # Then make sure the parent is first
                    
                s0.voteNumber DESC,
                s0.voteCount DESC,
                s0.createDate ASC
                
            ) s1,
            ( SELECT @parentrownum := 0 ) pr,
            ( SELECT @childrownum := 0 ) cr, 
            ( SELECT @lastparent := -1 ) lp) f
            LEFT JOIN user u on u.id = f.userId
            LEFT JOIN q_brooklyncode r on r.id = f.relatedId
            LEFT JOIN user ur on ur.id = r.userId
            WHERE
            ((0 = 16 and parent_sequence >= 11) or parent_sequence BETWEEN 11 AND 16)
            AND
            ((0 = 6 and child_sequence >= 1) or (child_sequence=0 or child_sequence BETWEEN 1 AND 6))
        
DEBUG:root:escape_sql args: None
DEBUG:root:
            SELECT f.`parent_sequence` , f.`child_sequence` , f.`id` , f.`locationId` , f.`relatedId`,
                f.`parentId` , f.`userId` , `u`.`username`, u.`thumbnailLarge` as userThumbnailLarge,
                ur.`username` as relatedUsername, ur.`thumbnailLarge` as relatedUserThumbnailLarge, f.`type` as `type`,
                f.`is_anonymous` , r.`is_anonymous` as `related_is_anonymous`, f.`name` , f.`location` ,f.`description`,f.`referer`,
                f.`voteCount` , f.`voteNumber` , f.`votesUp` ,f.`votesDown` , f.`flagCount`,  f.`childCount`, f.`sortOrder` , f.`status`,
                f.`thumbnailSmall` ,f.`thumbnailLarge` , f.`changeDate` , f.`createDate`, f.`nickname`, r.`nickname` as `related_nickname`
            FROM (
                # this query adds the sequence fields to filter by for paging
                SELECT  s1.*, @parentrownum := convert( IF( ( parentId = 0), @parentrownum +1, @parentrownum ), UNSIGNED INTEGER) AS parent_sequence,
                @childrownum := IF( ( @lastparent = parentId), @childrownum + 1, 0 ) AS child_sequence,
                @lastparent := if( parentId=0, id, parentId ) AS dummy_used_for_last_parent
                FROM
                    # QUERY 2: this query sorts the results properly
                    (SELECT s0.* FROM
                        # QUERY 1: This query gets the results we need with calculated fields to sort by
                        # We should probably have these fields in the database so they are indexed
                        (SELECT
                        CONVERT( if( parentId = 0, @parentVoteNumber:=voteNumber,
                            @parentVoteNumber ), SIGNED INTEGER ) as groupVoteNumber,          # Will order groups using parent voteNumber
                        CONVERT( if( parentId = 0, @parentVoteCount:=voteCount,
                            @parentVoteCount ), SIGNED INTEGER ) as groupVoteCount,            # Will order groups using parent voteCount
                        CONVERT( if( parentId = 0, @parentCreateDate:=createDate,
                            @parentCreateDate ), DATETIME ) as groupCreateDate,                # Will order groups using parent createDate
                        CONVERT( if(parentId=0, id, parentId), UNSIGNED INTEGER) as groupId,   # will order groups together
                        CONVERT( if(parentId = 0, 0, 1), UNSIGNED INTEGER) as isChild,         # will order parent first in group
                        r.*
                        FROM (
                            # this just makes sure our groups are grouped in parent child order
                            SELECT * from q_brooklyncode o  WHERE o.location = '5e13bbb73127b9fc424e3728c6500f28' ORDER BY
                             if( o.relatedId = 0, o.id, o.relatedId),
                             if( o.relatedId = 0, 0, o.id )
                            ) r,
                        ( SELECT @parentVoteNumber := 0 ) pvn,
                        ( SELECT @parentVoteCount  := 0 ) pvc,
                        ( SELECT @parentCreateDate := 0 ) pcd
                         WHERE location = '5e13bbb73127b9fc424e3728c6500f28' 
                    ) s0
                    
                    
                    ORDER BY
                    
                s0.groupVoteNumber DESC,
                s0.groupVoteCount DESC,
                s0.groupCreateDate ASC,
                 
                    groupId  ASC, # first order by group
                    isChild ASC, # Then make sure the parent is first
                    
                s0.voteNumber DESC,
                s0.voteCount DESC,
                s0.createDate ASC
                
            ) s1,
            ( SELECT @parentrownum := 0 ) pr,
            ( SELECT @childrownum := 0 ) cr, 
            ( SELECT @lastparent := -1 ) lp) f
            LEFT JOIN user u on u.id = f.userId
            LEFT JOIN q_brooklyncode r on r.id = f.relatedId
            LEFT JOIN user ur on ur.id = r.userId
            WHERE
            ((0 = 16 and parent_sequence >= 11) or parent_sequence BETWEEN 11 AND 16)
            AND
            ((0 = 6 and child_sequence >= 1) or (child_sequence=0 or child_sequence BETWEEN 1 AND 6))
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10655b390>
DEBUG:root:Number of comments returned: 0
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10655b590>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10655b790>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x106553750>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1065537d0>
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:escape_sql sql: 
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:escape_sql args: []
DEBUG:root:
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x106568c50>
DEBUG:root:Number of contributions 6
INFO:root:200 POST /q/feed (127.0.0.1)
DEBUG:root:None
DEBUG:root:{u'content-length': u'1347710', u'PATTERN': u'/q/', u'x-forwarded-for': u'127.0.0.1', u'URI': u'/q/uploader?action=uploader&qqfile=mushrooms.png', u'accept': u'*/*', u'user-agent': u'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/28.0.1500.71 Safari/537.36', u'host': u'localhost', u'VERSION': u'HTTP/1.1', u'cookie': u'wordpress_8dec71ede39ad9ff3b3fbc03311bdc45=qoorate|1375142446|8148fbb3583470985c5fca59e75d635a; SBID=\\"!MZ6JnTJnDncb7k3n0Ya9Sg==?gAJVBFNCSURxAWN1dWlkClVVSUQKcQIpgXEDfXEEVQNpbnRxBYoQqUXRlREm8LXjTshLPYe7cXNihnEGLg==\\"; wordpress_test_cookie=WP Cookie check; wordpress_logged_in_8dec71ede39ad9ff3b3fbc03311bdc45=qoorate|1375142446|86fd9ec6d6a221f44c7b1244f05dcd23; QOOID=QOO51f460f57c582; QOOTID=QOOT51f460f57c593; wp-settings-time-1=1374970345', u'expect': u'100-continue', u'QUERY': u'action=uploader&qqfile=mushrooms.png', u'PATH': u'/q/uploader', u'content-type': u'application/x-www-form-urlencoded', u'METHOD': u'POST'}
DEBUG:root:TemporaryImageUploadHandler post
DEBUG:root:to_unicode
DEBUG:root:mushrooms.png
DEBUG:root:mushrooms.png
DEBUG:root:to_unicode
DEBUG:root:{'S3_PORT': 443, 'INIT_BUCKET': True, 'RETRY_INTERVAL': 60, 'S3_HOST': 's3.amazonaws.com', 'ACCEPTABLE_UPLOAD_MIME_TYPES': ['image/jpeg', 'image/gif', 'image/png'], 'IMAGE_INFO': [(None, 'JPEG', '_f', 'jpg'), ((300, 200), 'JPEG', '_t', 'jpg'), ((120, 200), 'JPEG', '_m', 'jpg'), ((170, 100), 'JPEG', '_f', 'jpg'), ((50, 50), 'JPEG', '_s', 'jpg')], 'TEMP_UPLOAD_DIR': 'tmp', 'SERVICE_INFO': {'SERVICE_ID': 'uploader', 'SERVICE_REGISTRATION_PASSPHRASE': '137b789e-b7eb-475a-8d5a-b16ab544yurp', 'ASYNC': False, 'SERVICE_REGISTRATION_ADDR': 'ipc://run/uploader/brubeck_svc_registration', 'SERVICE_ADDR': 'ipc://run/uploader/brubeck_svc'}, 'AMAZON_BUCKET': 'qoorate.brooklyncode', 'AMAZON_SECRET': 'K3NKUTZIZWQ9B1UzQcZpl5frT4VClA9Ud0gffWPC', 'AMAZON_KEY': 'AKIAIMJ3ACDQBKM4PBDQ'}
DEBUG:root:filename: mushrooms.png
DEBUG:root:hash: a10c8720a9924b015c4331754bac8d32
DEBUG:root:download_file_name: ./tmp/a10c8720a9924b015c4331754bac8d32
DEBUG:root:mime_type: image/png
DEBUG:root:checking mime_type: image/png
DEBUG:root:mime_type OK
DEBUG:root:width: 1252
DEBUG:root:height: 626
DEBUG:root:['']
DEBUG:root:['']
DEBUG:root:to_unicode
DEBUG:root:©úﬁM?Aâ 0qsUÅÕO -o Âø◊L ∑Æç »0 é{ØØ ,Ø# 
DEBUG:root:©úﬁM?Aâ 0qsUÅÕO -o Âø◊L ∑Æç »0 é{ØØ ,Ø# 
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:LqéÏbÿ@Ÿ" 1±E ›†ﬁŒﬁûf‚#ΩßX[©*ÌÊ2ÕÒÛ„> MûhZÀµUæõ ®ö%ï˙ÀW∞gî5ÅÅ„Ú–Ûs ßÀj¢ùjë‡({œÁìá§)VŒ˚zß—4*oÍ3M¿]OF ø—∞X'Æ˚ú56Û™«xÓ=8ŸAèX™÷m© R ]Õ≈)3π—FåfÕR ÂJ ~S` gC™b∏i  Œç cRI áäõwÑA?ØU\BøD ≈a™∫ˇ?uIüÇ∂42—j÷ª ê æ·(5â[/ÑrOz]≤S}
DEBUG:root:LqéÏbÿ@Ÿ" 1±E ›†ﬁŒﬁûf‚#ΩßX[©*ÌÊ2ÕÒÛ„> MûhZÀµUæõ ®ö%ï˙ÀW∞gî5ÅÅ„Ú–Ûs ßÀj¢ùjë‡({œÁìá§)VŒ˚zß—4*oÍ3M¿]OF ø—∞X'Æ˚ú56Û™«xÓ=8ŸAèX™÷m© R ]Õ≈)3π—FåfÕR ÂJ ~S` gC™b∏i  Œç cRI áäõwÑA?ØU\BøD ≈a™∫ˇ?uIüÇ∂42—j÷ª ê æ·(5â[/ÑrOz]≤S}
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:Ü T NÖ  E∑‰
DEBUG:root:Ü T NÖ  E∑‰
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:- »¡ö¯ ®í
DEBUG:root:- »¡ö¯ ®í
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:_†Ç˛Q	ô=„^3    ò œ∫  OY'Ö  …fy€Z -¡jˇÄ∫⁄ÆW#W5†A’¡Ä]ç‚¨FRÈƒMs?»^ ÓÑ≤´„ Fû™
 l¡ÏKH ÂΩaC… èX2"ÊÚ	¥F)åüÂ¡¨ œàÏ ¢Osˇ  Y¨›xVLKA0cëê—¯ ,¥£qhÊÓéF‚‘è ˘T‚Ç F ^Ùk˚∞ ı mTd9$ë  Ì)vYx∂T 4a Å‚9∫ê© Ò=cB <4"A6\@êﬁh¸©µ≠t<äx5Ù M≈º‘q®BcFÉ?œ’Tæ®‚Ëíõ— YÁéﬁ Rµ@Á≤[*9›7®) UãméL«)◊=UÉo˛úCí	R z–[”i÷ø¬∞ Føæ∞˜/Ï∏` X˚R1a‹Í¨ƒ≈ØA )ã´aÌ¡ ‘dÄm∂˛πîR˙˜	n% ¯®á@ U F 
õâg,#e*‹Í'46Ô*÷ï* úBøEò0◊Óãqfcô„ 7 Ä\ Î ∏øo¸ı}·ﬂˇy·ﬂˇ ˇ|#´pt∂C£0÷Ö:@ô|-≤±¬–X¯}ì ]⁄  EeRñº7` ôh 
DEBUG:root:_†Ç˛Q	ô=„^3    ò œ∫  OY'Ö  …fy€Z -¡jˇÄ∫⁄ÆW#W5†A’¡Ä]ç‚¨FRÈƒMs?»^ ÓÑ≤´„ Fû™
 l¡ÏKH ÂΩaC… èX2"ÊÚ	¥F)åüÂ¡¨ œàÏ ¢Osˇ  Y¨›xVLKA0cëê—¯ ,¥£qhÊÓéF‚‘è ˘T‚Ç F ^Ùk˚∞ ı mTd9$ë  Ì)vYx∂T 4a Å‚9∫ê© Ò=cB <4"A6\@êﬁh¸©µ≠t<äx5Ù M≈º‘q®BcFÉ?œ’Tæ®‚Ëíõ— YÁéﬁ Rµ@Á≤[*9›7®) UãméL«)◊=UÉo˛úCí	R z–[”i÷ø¬∞ Føæ∞˜/Ï∏` X˚R1a‹Í¨ƒ≈ØA )ã´aÌ¡ ‘dÄm∂˛πîR˙˜	n% ¯®á@ U F 
õâg,#e*‹Í'46Ô*÷ï* úBøEò0◊Óãqfcô„ 7 Ä\ Î ∏øo¸ı}·ﬂˇy·ﬂˇ ˇ|#´pt∂C£0÷Ö:@ô|-≤±¬–X¯}ì ]⁄  EeRñº7` ôh 
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:o  ˚F@U-‡Än’Ä ‰@±) %ùÖT¶·»s »WRçSò£É9∂∫ëÀ±óH òm˘»)«E·Î/¿VbØÖ◊ÎqÅõ§e
DEBUG:root:o  ˚F@U-‡Än’Ä ‰@±) %ùÖT¶·»s »WRçSò£É9∂∫ëÀ±óH òm˘»)«E·Î/¿VbØÖ◊ÎqÅõ§e
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root: 	-e\A©†}‰”,@»ÜhÄ~ ¶bæ« QÖßÅ‡BèÑÅ‘ﬁ @éπgLë⁄ ‡ä‡îÑ>ë%∞•	d·ì<°¶Ë1‘ øÎ  èø¬Cooìœ∆ ™o‹˝¶Ã•«[Âsñ«   ‹gö
y%◊/a6¶a¿e|?!IúC û%¨
YÙµ3 ¿vN}'14 ⁄ Ó b ãiS¡«≥Lœ òiI
‘∞ ‹7Ü €MV ﬂ õÈÊÒcÃ≈Ö~§˙ ã/Ñ›*|9  ∑_∏÷≈°À‚" ∆¸◊˛Öµ^‡Ü?
DEBUG:root: 	-e\A©†}‰”,@»ÜhÄ~ ¶bæ« QÖßÅ‡BèÑÅ‘ﬁ @éπgLë⁄ ‡ä‡îÑ>ë%∞•	d·ì<°¶Ë1‘ øÎ  èø¬Cooìœ∆ ™o‹˝¶Ã•«[Âsñ«   ‹gö
y%◊/a6¶a¿e|?!IúC û%¨
YÙµ3 ¿vN}'14 ⁄ Ó b ãiS¡«≥Lœ òiI
‘∞ ‹7Ü €MV ﬂ õÈÊÒcÃ≈Ö~§˙ ã/Ñ›*|9  ∑_∏÷≈°À‚" ∆¸◊˛Öµ^‡Ü?
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:√Ó|‘Ré£æ ‚¢1vî⁄	ìgu‡µπ‘±õ¿  ≈¿iÊ  
DEBUG:root:√Ó|‘Ré£æ ‚¢1vî⁄	ìgu‡µπ‘±õ¿  ≈¿iÊ  
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:¨√0ËcVã ∏ P…ÜÖ¥'ê*J   ¸ºo"Ñ G—˚õ⁄≈5/∫˛0j ò7Ù #õª÷g›à¬ \“hﬂœV™h-∆%˙ÌΩ˛  ˚πË≤¸…MuU3BiFöŒÇ ”˙ŒÌO:‡yˇ·~ˇa˜√s√™‡œ≠hÁ} œ{pØ ∞“Ò9:´Éò 1 ñêG™—6ût·› ≥ï 
DEBUG:root:¨√0ËcVã ∏ P…ÜÖ¥'ê*J   ¸ºo"Ñ G—˚õ⁄≈5/∫˛0j ò7Ù #õª÷g›à¬ \“hﬂœV™h-∆%˙ÌΩ˛  ˚πË≤¸…MuU3BiFöŒÇ ”˙ŒÌO:‡yˇ·~ˇa˜√s√™‡œ≠hÁ} œ{pØ ∞“Ò9:´Éò 1 ñêG™—6ût·› ≥ï 
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:∆¿úÅÒ à àŸàãR{óm’á √©~ÛÁ˘®à¢Eêô @f
—• ÉSã6Wú©IV { l<
  «‚¬Éåä 2aú∫¡±√!∂Eﬂx–R
DEBUG:root:∆¿úÅÒ à àŸàãR{óm’á √©~ÛÁ˘®à¢Eêô @f
—• ÉSã6Wú©IV { l<
  «‚¬Éåä 2aú∫¡±√!∂Eﬂx–R
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:ƒî`πhÁ@^ËE—
2ÙÁ8- ±Ÿ≠0ı∂∑û°Ûx˚Aõã €»Ïb\AN!ıÂ @ª
DEBUG:root:ƒî`πhÁ@^ËE—
2ÙÁ8- ±Ÿ≠0ı∂∑û°Ûx˚Aõã €»Ïb\AN!ıÂ @ª
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:§R= $æ À æˇ=  u g±L «>≠<7mFﬂ-BÌ Ä˜w”kªv4˜'˘˛üõıGyAl[˜–p’≠Ì∫ › î◊∫•H
DEBUG:root:§R= $æ À æˇ=  u g±L «>≠<7mFﬂ-BÌ Ä˜w”kªv4˜'˘˛üõıGyAl[˜–p’≠Ì∫ › î◊∫•H
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:  8¥åBô{™ 3 ç@˜}¢  p !‚©Œ‡ô∂ïu3bk„$I/)G{m¢øÄE\V{tÀî
)Ôvﬂÿ «Ë¡ΩïoTÆg‚ˆm˚{ 4ıu’í‡IuyÈ<î¥Nd[icWPJ “ju ◊E…ˇ “¥ Tsû[ÁìuU∏7jHªBhúŸäÎÕ	 ∞rì wˇ u¿A®<64˝˜Ïaê´ A°¡8Íh3 ˆ∂…"¸ô $ñUpM?}˚ ∆Ùs[}:E£òú S`p-	áÍ\[e¶º≤o®f◊óf“|qÊ<@d^ÎÏo1< f˛Õ:îÁwÔ%'d ªár˘æodî-÷* ©o˛˘l»õø¢˘k¢ªw`>Í«ﬁ à #?¨ıá Ì ¯ÏÒ‘ÄŒÌÛo-ÔV ¢˚°EàœAe12É¸5…
fJ €ë ` Å≈T [Âç· zm∂  D∂ÒJ ^ΩJUPu—kÚ˜˜`ˆ≈˛|”∑ó%æn∆Î u©g €ΩƒpÌúrÆ≠í∫_ÑI @â`◊Mpiõº]o AŒÙ|ﬂ ãUﬂÆ´S˜“¿Í,LrãH\˚?Ï˙bLır´˛p"¥N˛$8/π —‘ûq√wr’Ê j≥Ô[JıÇU≈f±c≥ z¥’á «ÖÄUóéÿ:—Mµ˚ 0J¡'≥œbEπÜ∆ π?ÜÄ∑| s
Ñ ©ô`L9,öûg5Ü ·j ≈Ÿ B˘ü# m¡ ÓôÙ  õA1À Oì{¢»,GÛw‚kÀwö6ﬁ Ó)\!qŒ.   s àÿ8"åvn]Ö/«£ÑÊ!Ë Z:Œ¢0⁄∏ì≠ı  ÖÅ’≠ƒ –·Zf ‘xâÏ™äUŸ°¯Ö≥ %{P˚¶¯0G¶Al=¨2ªô—ñ ûÚÿ   v·0ˇ  ”ø \ıSÑ∫” û≈A‹j lTø¯)∆≤F-erÕ7›äjÌ ∆ì˜U⁄P ˛Ö˝=t©¯Ô©º	Ï é.´„ã=Å)iiõ blx7|Z πJê~E[/d1¥d[æ
DEBUG:root:  8¥åBô{™ 3 ç@˜}¢  p !‚©Œ‡ô∂ïu3bk„$I/)G{m¢øÄE\V{tÀî
)Ôvﬂÿ «Ë¡ΩïoTÆg‚ˆm˚{ 4ıu’í‡IuyÈ<î¥Nd[icWPJ “ju ◊E…ˇ “¥ Tsû[ÁìuU∏7jHªBhúŸäÎÕ	 ∞rì wˇ u¿A®<64˝˜Ïaê´ A°¡8Íh3 ˆ∂…"¸ô $ñUpM?}˚ ∆Ùs[}:E£òú S`p-	áÍ\[e¶º≤o®f◊óf“|qÊ<@d^ÎÏo1< f˛Õ:îÁwÔ%'d ªár˘æodî-÷* ©o˛˘l»õø¢˘k¢ªw`>Í«ﬁ à #?¨ıá Ì ¯ÏÒ‘ÄŒÌÛo-ÔV ¢˚°EàœAe12É¸5…
fJ €ë ` Å≈T [Âç· zm∂  D∂ÒJ ^ΩJUPu—kÚ˜˜`ˆ≈˛|”∑ó%æn∆Î u©g €ΩƒpÌúrÆ≠í∫_ÑI @â`◊Mpiõº]o AŒÙ|ﬂ ãUﬂÆ´S˜“¿Í,LrãH\˚?Ï˙bLır´˛p"¥N˛$8/π —‘ûq√wr’Ê j≥Ô[JıÇU≈f±c≥ z¥’á «ÖÄUóéÿ:—Mµ˚ 0J¡'≥œbEπÜ∆ π?ÜÄ∑| s
Ñ ©ô`L9,öûg5Ü ·j ≈Ÿ B˘ü# m¡ ÓôÙ  õA1À Oì{¢»,GÛw‚kÀwö6ﬁ Ó)\!qŒ.   s àÿ8"åvn]Ö/«£ÑÊ!Ë Z:Œ¢0⁄∏ì≠ı  ÖÅ’≠ƒ –·Zf ‘xâÏ™äUŸ°¯Ö≥ %{P˚¶¯0G¶Al=¨2ªô—ñ ûÚÿ   v·0ˇ  ”ø \ıSÑ∫” û≈A‹j lTø¯)∆≤F-erÕ7›äjÌ ∆ì˜U⁄P ˛Ö˝=t©¯Ô©º	Ï é.´„ã=Å)iiõ blx7|Z πJê~E[/d1¥d[æ
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:ﬂ— ‡EŸ·E Í›÷ ‡ ﬁ◊Ê¸´≥ÿ¸˝Ô'ˇ˛sÔ?O~˛‹úÁ‡ õ ç/
DEBUG:root:ﬂ— ‡EŸ·E Í›÷ ‡ ﬁ◊Ê¸´≥ÿ¸˝Ô'ˇ˛sÔ?O~˛‹úÁ‡ õ ç/
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:BXóΩR6  á§ Y a s‡1) —O’R~ß"Â£’  ÁØﬂˇùÁ˘†>NJÎÏ∂“∏Æ`€:æÑ6˜m„∂ ˝=ôÁùÔ?.Ê˘ ˆ¸ ó∑Éj'ø~ÉØ_ß˛Ô ˝Lö æΩ òué∂ òfâx˙ò˙y•Ts ·)ÀQ'∂≠˘ ¬~J,1 Ü) cÆE‹r5âïóX^R“∆N¯ùÇC¨≈k-¿.Å	π˛=8«≈∏ú¬Eç…ÓF ÖÍ
DEBUG:root:BXóΩR6  á§ Y a s‡1) —O’R~ß"Â£’  ÁØﬂˇùÁ˘†>NJÎÏ∂“∏Æ`€:æÑ6˜m„∂ ˝=ôÁùÔ?.Ê˘ ˆ¸ ó∑Éj'ø~ÉØ_ß˛Ô ˝Lö æΩ òué∂ òfâx˙ò˙y•Ts ·)ÀQ'∂≠˘ ¬~J,1 Ü) cÆE‹r5âïóX^R“∆N¯ùÇC¨≈k-¿.Å	π˛=8«≈∏ú¬Eç…ÓF ÖÍ
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:o‹Á˚*	6ûÿ˜çqéµêwÕD≈h€UJ∑1§§(…æ,N˜êk·ı˛
9ÿ ¥mßÆsJˆë ÊdÙ°
DEBUG:root:o‹Á˚*	6ûÿ˜çqéµêwÕD≈h€UJ∑1§§(…æ,N˜êk·ı˛
9ÿ ¥mßÆsJˆë ÊdÙ°
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:ƒ"\√ § N≠5£€by≤í~Œ  ]P ˆTËiß 7Ê ŒÍÙ9∞ 9¡ò √˚‚Î√f ⁄Q’‡®◊ÅèX\jè9$ÊµÅ¶xﬂŒë#ΩE`z:é˜(J
Sò0Ë St ˙˚âËÖü€@∆Òªﬂ”⁄ :°7Ár…® ?ˇÒ`Ha˚—»yÁÂã1ƒŸ˜H. ı‰w¯ Âü ˙Ø?ò/Bo=4äU‡0g8CÕ¢TmxÉ‰ÿ%Ö  Ezî6™Ö{z
DEBUG:root:ƒ"\√ § N≠5£€by≤í~Œ  ]P ˆTËiß 7Ê ŒÍÙ9∞ 9¡ò √˚‚Î√f ⁄Q’‡®◊ÅèX\jè9$ÊµÅ¶xﬂŒë#ΩE`z:é˜(J
Sò0Ë St ˙˚âËÖü€@∆Òªﬂ”⁄ :°7Ár…® ?ˇÒ`Ha˚—»yÁÂã1ƒŸ˜H. ı‰w¯ Âü ˙Ø?ò/Bo=4äU‡0g8CÕ¢TmxÉ‰ÿ%Ö  Ezî6™Ö{z
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:∫„Ω” Ìà4†Œ»]£Ÿ ëÜàG∞˚  iæî†˚{Ñ·éÙ˙àÓd •÷‚–Ú.Ù ÿã£6,Ã≤ Qj5L
DEBUG:root:∫„Ω” Ìà4†Œ»]£Ÿ ëÜàG∞˚  iæî†˚{Ñ·éÙ˙àÓd •÷‚–Ú.Ù ÿã£6,Ã≤ Qj5L
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:Lææà ’ ˝At'C2¨U§{ú◊z∆ö|:√ˆ{ÁˆQ9[¢örúw —˘∏?¸ë∆ê©≥F% 3f%$qw∆>
˜·b\Ø „—0Iﬁ–∑?ÿ‚Ö§˛›O· íÆlK
DEBUG:root:Lææà ’ ˝At'C2¨U§{ú◊z∆ö|:√ˆ{ÁˆQ9[¢örúw —˘∏?¸ë∆ê©≥F% 3f%$qw∆>
˜·b\Ø „—0Iﬁ–∑?ÿ‚Ö§˛›O· íÆlK
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:!ì Ï˜ òpzx$ÜNoﬂ\ŸvÈêå”%P¢Ãƒ¬Å)Ñ‘ê‰È‘ÅÏåÈê∞·a)yYë @¸u˜~P€xW3A˜Ñˆ® « ª[1›*ÆÆZR@   K  ]êPÎN:Vb:1jß∂ùÄ √b Bhûé=”∞üc`m   ÅÎ˝¬Øøæ≤‰D’¡ ?^¯˚x‡·£:è± ˛¸?*Å¬√S‚¸ ÎIXŒ™
DEBUG:root:!ì Ï˜ òpzx$ÜNoﬂ\ŸvÈêå”%P¢Ãƒ¬Å)Ñ‘ê‰È‘ÅÏåÈê∞·a)yYë @¸u˜~P€xW3A˜Ñˆ® « ª[1›*ÆÆZR@   K  ]êPÎN:Vb:1jß∂ùÄ √b Bhûé=”∞üc`m   ÅÎ˝¬Øøæ≤‰D’¡ ?^¯˚x‡·£:è± ˛¸?*Å¬√S‚¸ ÎIXŒ™
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:36eø’ xxÔÉ— ÎÅ1ámo˙rNYûQ` fœ Ü¯⁄
DEBUG:root:36eø’ xxÔÉ— ÎÅ1ámo˙rNYûQ` fœ Ü¯⁄
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:TZ,¸ÌﬂˇèH \Øﬂ| !Ü]_¯ÚÁØåö°¶9îÍ }Uèd∆U ƒ‡Î|ª„lnì	%ü{∂˘∞7ƒËw
DEBUG:root:TZ,¸ÌﬂˇèH \Øﬂ| !Ü]_¯ÚÁØåö°¶9îÍ }Uèd∆U ƒ‡Î|ª„lnì	%ü{∂˘∞7ƒËw
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:©oˇ… "12ÀCæ„TZ®@P∑" >ò∞˜ˇ} v
DEBUG:root:©oˇ… "12ÀCæ„TZ®@P∑" >ò∞˜ˇ} v
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:® Õ wÎ2®£ê⁄	i ≥ ÛÈ‡·†s_Ö˚? É ì´a‘ Ø˙.$]H·‰5CæaG°Ö¡XÕŸ<√ÎÖ ‡¸›ôß 	] ˇÂˇ¨¥ R»¸˙ﬂ.ú  œö	d ´„÷¸.ù :Ω æ˛°“è¿r
l N∞Ì‹J!‹ Î9ccÃÖ„TÒ§‡ 0*ÿNO 
!6¬‚ndCíRoÉ±ß”â #9 _ œ¥Ò x–	ΩRoÄÂw á   Å⁄fJ¢ﬂıÑò ≠”[ı˙B‡zº≤=mË 1 èﬂú®∑ ~≠Ñ \æ Â0¥
DEBUG:root:® Õ wÎ2®£ê⁄	i ≥ ÛÈ‡·†s_Ö˚? É ì´a‘ Ø˙.$]H·‰5CæaG°Ö¡XÕŸ<√ÎÖ ‡¸›ôß 	] ˇÂˇ¨¥ R»¸˙ﬂ.ú  œö	d ´„÷¸.ù :Ω æ˛°“è¿r
l N∞Ì‹J!‹ Î9ccÃÖ„TÒ§‡ 0*ÿNO 
!6¬‚ndCíRoÉ±ß”â #9 _ œ¥Ò x–	ΩRoÄÂw á   Å⁄fJ¢ﬂıÑò ≠”[ı˙B‡zº≤=mË 1 èﬂú®∑ ~≠Ñ \æ Â0¥
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:Ç ¢∑rIõ ´«ÑE 6„•„„Ωg‘cáv0˙Ã[¡ïéåF/w ˝ ÈmÚëf$s.0ﬂ4ñC†«πΩÔÄªÊ4$t^ ¨«ΩÒ˙u˜ »åÀeÂ˙|!/ôQ „ºsŸ"Îñ)•p ≥	l8˚‘ˇ#3ç2] sòWôgÒ ‰çá  zùC∫ ËÉ∂7$/ƒ%Lˆ•/û‚í—ÈFSMî÷y}øS⁄ j‡˘zÂ˘z·zπêB‰∏ü˛9D±Z† –ÓÙv sû ‚Ó†^ £’ ˛\=ºÕ“⁄¿éA≠éá®G„8‹]TG£î
DEBUG:root:Ç ¢∑rIõ ´«ÑE 6„•„„Ωg‘cáv0˙Ã[¡ïéåF/w ˝ ÈmÚëf$s.0ﬂ4ñC†«πΩÔÄªÊ4$t^ ¨«ΩÒ˙u˜ »åÀeÂ˙|!/ôQ „ºsŸ"Îñ)•p ≥	l8˚‘ˇ#3ç2] sòWôgÒ ‰çá  zùC∫ ËÉ∂7$/ƒ%Lˆ•/û‚í—ÈFSMî÷y}øS⁄ j‡˘zÂ˘z·zπêB‰∏ü˛9D±Z† –ÓÙv sû ‚Ó†^ £’ ˛\=ºÕ“⁄¿éA≠éá®G„8‹]TG£î
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:0mpå Ü›ñ$∏≈sekx8O\ﬂ¿∑ Ë¡ç Ya¡QEúÛ)c%Ü<^àÈ¸T≤ÿ˜ …˜t#|AÊm Ô»ñıÑ )=£sπú£`≤DøO§.À amAB ùŸcÀØJÔm]≤  Í ï ∆ôXhC=”óç è4‡v
DEBUG:root:0mpå Ü›ñ$∏≈sekx8O\ﬂ¿∑ Ë¡ç Ya¡QEúÛ)c%Ü<^àÈ¸T≤ÿ˜ …˜t#|AÊm Ô»ñıÑ )=£sπú£`≤DøO§.À amAB ùŸcÀØJÔm]≤  Í ï ∆ôXhC=”óç è4‡v
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root: AÃÖ FßK√r ï¬ 7⁄¶z4à ¸≈ú±J7⁄„@áQ«†5Á!◊Za F °3ê<àÀ`Ω(ÀöàyÂ~VT G$Tå◊˚¡qvj3zœ‘ﬁ˘˙ıÔ<ﬁø± ·ˆ¥†°”¥b:ÿ∂Ö„xx„Æ~Êñm#•ÇµJΩWR\»õr˚Tët ÆtÓ§pdO@CAbqgÄ$B\0É„ÒÓjﬁËÔ˚•,Æx
DEBUG:root: AÃÖ FßK√r ï¬ 7⁄¶z4à ¸≈ú±J7⁄„@áQ«†5Á!◊Za F °3ê<àÀ`Ω(ÀöàyÂ~VT G$Tå◊˚¡qvj3zœ‘ﬁ˘˙ıÔ<ﬁø± ·ˆ¥†°”¥b:ÿ∂Ö„xx„Æ~Êñm#•ÇµJΩWR\»õr˚Tët ÆtÓ§pdO@CAbqgÄ$B\0É„ÒÓjﬁËÔ˚•,Æx
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:˙œ Êı^
WÃ 1˚rÀ•ü ñ ‚.ÀŸ ßÕË≠{= Ê g u
DEBUG:root:˙œ Êı^
WÃ 1˚rÀ•ü ñ ‚.ÀŸ ßÕË≠{= Ê g u
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:9Ï‡ˆ~2G$ o◊å‰HRïúb{>î€1˘Â” ‹n Á- ÁQô*êñå^aíWÍZ¶Â ñÂ ñï\®π ˚X ëö Í Ii1  62ÿ∆ﬁî«˝â±=ëˆ=
’ ¨ ëHËJ%í¸í S√ ¨tÊ<π›_(√IÊ4œT “X©œ ˝π <A⁄FˆH u˜à '“Ï  É* <m¥˙ ‹∞R‡°ÛÈßÃ∑Ô Cnu‚öÿ Ö}k—Ïå#8?§≈IãÄòiJ É€}Ú˝€…€˜ìîw∆´NM∆”%ì‹…:óÌMW≤ Ã>–——„%
ÏR£ L?åD	ÖëNä¯‚7≈]a™K… €cµuy §’Dí˙R Fë ÷ÌJ¬ ˝éñFÆï‰3äaãdæTb{nfò Ü
c ˚^∏< Ü 9˘¢ ï À2l`Û 	ƒ"PcŸ“own˝ÜIÖZëK°ÊÃU2 ±y¯:”˙˝D5¿∂•¨ÁÃ'y-í¶ U√z¡$“óá≠˘x˙14p˜(íÊ:”>∂üö ◊ll◊qBM"ÀZgŒ˝PÙ˜É∑ ﬁÓô_˛ˆë˝Èâ∑„Œú õW ¢‰Sä◊jæ‘≤ÊàGòRŸ¢–ågr ﬂ*E®” ‘$1’ è_w5˙˝ ≥Gz∑ Œê…ê÷`…ë ºs†cÑJQ f¬ooŒ€± c
˘ØØ¸Ù,lÕŸ˜7û  í#ÿ»àeVó¬©∆mL:ôT j	  T8G4o›∏üaqL ˜>ôC#•.‚Ïb Æ   ƒ\™§è¶˙# 6}LMS∆ nG‹Oó=í»>ÄüYB ôI‘¢KΩ∫ KcƒÁ†0‘h[éÔ∑
sFSÄ9” m °\∑Phµ‹ñí›ô“)_*è€ï˚o7Üuºy<ªU" rFäûZ® tD2{)ÖÛΩGë/BJF.@6J©å Jí⁄"∏£5°Ø¶“V] \”Hnã/ñr Ã'ızçg[ú—ﬂhW°  ﬂCözû<ˇTπ˛\∏˛|•< ÚÂNŸn‘}Ü]ZÇŸt‹	ÿÙ0Ï.Xá‘BŸÎ.å E:  í\‚\∞ Ï◊P
«Á˝¡ éîπ Z™ Åî  ‚ Ñsùœ ∑…Ëã≥,±Ï)µE3mJf- ïXXï8Á2çÎÂô˘KpVoÔ sÜÚ,≈b  Ì#¿"ﬁÁ°ìZùÀÓ<<
óß' ˙âÌy£]K§‘ß Ãä.MqWí 9 \
DEBUG:root:9Ï‡ˆ~2G$ o◊å‰HRïúb{>î€1˘Â” ‹n Á- ÁQô*êñå^aíWÍZ¶Â ñÂ ñï\®π ˚X ëö Í Ii1  62ÿ∆ﬁî«˝â±=ëˆ=
’ ¨ ëHËJ%í¸í S√ ¨tÊ<π›_(√IÊ4œT “X©œ ˝π <A⁄FˆH u˜à '“Ï  É* <m¥˙ ‹∞R‡°ÛÈßÃ∑Ô Cnu‚öÿ Ö}k—Ïå#8?§≈IãÄòiJ É€}Ú˝€…€˜ìîw∆´NM∆”%ì‹…:óÌMW≤ Ã>–——„%
ÏR£ L?åD	ÖëNä¯‚7≈]a™K… €cµuy §’Dí˙R Fë ÷ÌJ¬ ˝éñFÆï‰3äaãdæTb{nfò Ü
c ˚^∏< Ü 9˘¢ ï À2l`Û 	ƒ"PcŸ“own˝ÜIÖZëK°ÊÃU2 ±y¯:”˙˝D5¿∂•¨ÁÃ'y-í¶ U√z¡$“óá≠˘x˙14p˜(íÊ:”>∂üö ◊ll◊qBM"ÀZgŒ˝PÙ˜É∑ ﬁÓô_˛ˆë˝Èâ∑„Œú õW ¢‰Sä◊jæ‘≤ÊàGòRŸ¢–ågr ﬂ*E®” ‘$1’ è_w5˙˝ ≥Gz∑ Œê…ê÷`…ë ºs†cÑJQ f¬ooŒ€± c
˘ØØ¸Ù,lÕŸ˜7û  í#ÿ»àeVó¬©∆mL:ôT j	  T8G4o›∏üaqL ˜>ôC#•.‚Ïb Æ   ƒ\™§è¶˙# 6}LMS∆ nG‹Oó=í»>ÄüYB ôI‘¢KΩ∫ KcƒÁ†0‘h[éÔ∑
sFSÄ9” m °\∑Phµ‹ñí›ô“)_*è€ï˚o7Üuºy<ªU" rFäûZ® tD2{)ÖÛΩGë/BJF.@6J©å Jí⁄"∏£5°Ø¶“V] \”Hnã/ñr Ã'ızçg[ú—ﬂhW°  ﬂCözû<ˇTπ˛\∏˛|•< ÚÂNŸn‘}Ü]ZÇŸt‹	ÿÙ0Ï.Xá‘BŸÎ.å E:  í\‚\∞ Ï◊P
«Á˝¡ éîπ Z™ Åî  ‚ Ñsùœ ∑…Ëã≥,±Ï)µE3mJf- ïXXï8Á2çÎÂô˘KpVoÔ sÜÚ,≈b  Ì#¿"ﬁÁ°ìZùÀÓ<<
óß' ˙âÌy£]K§‘ß Ãä.MqWí 9 \
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:öõu>óﬁ› ì «‰# EMgÎw¿Ú% ñÂ ÓQèÁÜ3¶»’i ¯ f⁄  :Ô›†"E…É7 ©°%  k∆ÒÚÇ^2 ?˛ ¶ IR8 ÚéËy˙¡ıO∆ı•`=ö mî(eJ FÉûŸ.ô™ç~ tÅ∫>…Ú    IDAT÷{`XT" ‚ ë3KËñ"R
DEBUG:root:öõu>óﬁ› ì «‰# EMgÎw¿Ú% ñÂ ÓQèÁÜ3¶»’i ¯ f⁄  :Ô›†"E…É7 ©°%  k∆ÒÚÇ^2 ?˛ ¶ IR8 ÚéËy˙¡ıO∆ı•`=ö mî(eJ FÉûŸ.ô™ç~ tÅ∫>…Ú    IDAT÷{`XT" ‚ ë3KËñ"R
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:/ò∆â â~∑¢x¢cò√˙µ#Y∏›ÓÑ¥q~˛»ÌÎ!
DEBUG:root:/ò∆â â~∑¢x¢cò√˙µ#Y∏›ÓÑ¥q~˛»ÌÎ!
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:vmIñﬁ∑m7ßπ◊ íØÀ» Ç™Äî™Pê  ˙ˇSM4PI î™ ë ›{íÓ~õsŒÓL €Œîb    §˚Ωß±Ωl≠oï∫—n∂¿hæ}ª3≈ï«”4¢ÜˆÁãTzµ6?Z·¥ ÚQ)π≥ú >˛»/ø¸¿«  <>N,É-£⁄8 Œæm®SÆó ø˛ÈÖ◊óÃ€eÁv€Ü núR ≠’A‹ÿ| pæ j≥
DEBUG:root:vmIñﬁ∑m7ßπ◊ íØÀ» Ç™Äî™Pê  ˙ˇSM4PI î™ ë ›{íÓ~õsŒÓL €Œîb    §˚Ωß±Ωl≠oï∫—n∂¿hæ}ª3≈ï«”4¢ÜˆÁãTzµ6?Z·¥ ÚQ)π≥ú >˛»/ø¸¿«  <>N,É-£⁄8 Œæm®SÆó ø˛ÈÖ◊óÃ€eÁv€Ü núR ≠’A‹ÿ| pæ j≥
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:õ¯Ï|£ñ ≠ÌÊ"v —fÕ¨R( ù4⁄rµ≠ƒ)Qv[¶@•‰ ≈ëo ˘bn‰“ Z Sèë  Ôr/  “(Jã∆RtﬁÊú™Ù‹…˜Éûõ 1$G  ¥ ∫å“ö6¯ Ô±±'Í#vÎÏ0i≈ ◊uÛb      IDAT†Z ª8 ≠ ∫‚™C=Lã£ ≈çeaÅË Ævé√^Qéé˜ 4Ÿ≤◊çÇù÷ö- ˚X7 kh  ≠⁄BOªù[ÃÏ^ è [
DEBUG:root:õ¯Ï|£ñ ≠ÌÊ"v —fÕ¨R( ù4⁄rµ≠ƒ)Qv[¶@•‰ ≈ëo ˘bn‰“ Z Sèë  Ôr/  “(Jã∆RtﬁÊú™Ù‹…˜Éûõ 1$G  ¥ ∫å“ö6¯ Ô±±'Í#vÎÏ0i≈ ◊uÛb      IDAT†Z ª8 ≠ ∫‚™C=Lã£ ≈çeaÅË Ævé√^Qéé˜ 4Ÿ≤◊çÇù÷ö- ˚X7 kh  ≠⁄BOªù[ÃÏ^ è [
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root: À«@≠’˚†ÿ©£ GüuK ≤`ö©GÄ>¯ˆ˘‡ÁzcqFÂ¿¶l—I ò‹€—πwù$ `€ œ/Ö  µ Q(’Ì.∞@/E8
DEBUG:root: À«@≠’˚†ÿ©£ GüuK ≤`ö©GÄ>¯ˆ˘‡ÁzcqFÂ¿¶l—I ò‹€—πwù$ `€ œ/Ö  µ Q(’Ì.∞@/E8
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root: ⁄{8j(ò∆Ã"âgß#±$h\ÊºYÜgÄÔ ≠ºﬂˇz2A ¥ !¨Úã°6Û±F yÂú…ÔN¨èOxÎ,…9ÂÅè(q)yâ ÉÏ∏ÓÒáöFwyÈà$#ƒ#[0 — √ s( Q<p/ﬁàÔ¡πGË”J(À¶i‹•c ‡[wf ”lâeZ'tfbâ Q@ä|KcÜñF w,Z ó∞X§là,0¶’\˝ÕÇßZÊÇ * ù™ÃPÜ *9˛| ‘Ä
DEBUG:root: ⁄{8j(ò∆Ã"âgß#±$h\ÊºYÜgÄÔ ≠ºﬂˇz2A ¥ !¨Úã°6Û±F yÂú…ÔN¨èOxÎ,…9ÂÅè(q)yâ ÉÏ∏ÓÒáöFwyÈà$#ƒ#[0 — √ s( Q<p/ﬁàÔ¡πGË”J(À¶i‹•c ‡[wf ”lâeZ'tfbâ Q@ä|KcÜñF w,Z ó∞X§là,0¶’\˝ÕÇßZÊÇ * ù™ÃPÜ *9˛| ‘Ä
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:ÜˇﬂóA%ÜQ…\3Æò©µπ'^ ƒ √õ{Ú2 „ƒÒêYrGcAÙä
DEBUG:root:ÜˇﬂóA%ÜQ…\3Æò©µπ'^ ƒ √õ{Ú2 „ƒÒêYrGcAÙä
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root: ß7ôÈPH«ô)ø•˜Œ÷^òB# ÏÁçØˇæÚÚ´pyrÚ¥YÒ? R ‹Ω=Ó˜Ô9<‹ëÊLHû—'ÍŸµÙ6Ê[Û38∏E  –‡ßÑJ ∞Ωø:#∫ Ö›ü”ë ù\g: ª h#√6C®.MO {•’à„˝ê ’‡*jèx0“)`ñ®{C˜ÇÜù?˝ÛÃ¸u‚”øUøS #—≠3%Âp< ÛÅŒB5_ÏhÓb	…s'ªzûX èˆ“’ Ô yÓ™rèû®eÛ{Ω Íπr˝€NynÑ8≥∑ÍDz)Nf◊JØ‚1!8‡˜æ te˜v^Înk›Àh˛ ÷˜€±r{ndú≠A#)∫äX≈cTEº∏•K«¬4⁄Àwñ≈óƒxäËñ  ›“Îyà qD D®{£ö@å¥`‘ΩRœ  à=RSÖ©±Æ ÒÊ–¨ƒ êŸÀ¡ ™úøTRXi/ü0"óóBﬂ jØÙÿâK@.N πªÌVd· ±V™ìΩªQ≥´ˆSNT∂18yüß@öåyq{˙z)LCÒ Bx-Öòß»√›Å  ÎÖÛÀïRÏª:’\å0œân∞^7Ç¬î •∫bQD…9QÍ °ëb¬z≈ˆ ÁÁ∆·tÃÏ `ö0vœ€ èÖiƒ‡ 7≠{ˆjêõB6pΩù˚Í‰µÙ∆z9”™É∏9%d Z}qU} ‰QÚ nïÔ6“. ÁÛÖ :ÊﬂÓ`VªÕÒ˙J[ˇ∂Qµõªgn„f sw ^I¶◊ã ú<ïŒ«ø«á?π]u„e Ô–ÀNY/‘ÀJc}ºp˝÷úX” töHKC‰Bœ3y>aõπbtRRpãøD∑—óÍ$(#"äﬁiTüáµ£åà IÑ>!˝L ∆Oˇ˙¬Ûüÿ_ €U∞T˘ˆﬂøÒÁ⁄XN˜î‘π^w. oﬂ9  ƒ˜ V]…©°#]ie°Øô–” √Gy⁄ﬁ<æ(∏=ﬁ, Õ| ›66 ìLú@s‚˛CÊ˘|ÊÂ€∆œÎÀ√ ô·nõ»˘1AóÇ© é	=F ÛN»ë”2≥÷ ~≠îR…9ÒÓ} ˆHÂÚ7 ˇﬁvL •>!mA[Dj¢Ïù<g¨ ú™ v|q«KÔC—’*÷w⁄.~?´∞^=∆!ƒ¿  X†7®U∞’»Y	!∏{CΩHgª\©[a^éL— ¡^ Î’£@.◊ç  €>±‰QJ•
DEBUG:root: ß7ôÈPH«ô)ø•˜Œ÷^òB# ÏÁçØˇæÚÚ´pyrÚ¥YÒ? R ‹Ω=Ó˜Ô9<‹ëÊLHû—'ÍŸµÙ6Ê[Û38∏E  –‡ßÑJ ∞Ωø:#∫ Ö›ü”ë ù\g: ª h#√6C®.MO {•’à„˝ê ’‡*jèx0“)`ñ®{C˜ÇÜù?˝ÛÃ¸u‚”øUøS #—≠3%Âp< ÛÅŒB5_ÏhÓb	…s'ªzûX èˆ“’ Ô yÓ™rèû®eÛ{Ω Íπr˝€NynÑ8≥∑ÍDz)Nf◊JØ‚1!8‡˜æ te˜v^Înk›Àh˛ ÷˜€±r{ndú≠A#)∫äX≈cTEº∏•K«¬4⁄Àwñ≈óƒxäËñ  ›“Îyà qD D®{£ö@å¥`‘ΩRœ  à=RSÖ©±Æ ÒÊ–¨ƒ êŸÀ¡ ™úøTRXi/ü0"óóBﬂ jØÙÿâK@.N πªÌVd· ±V™ìΩªQ≥´ˆSNT∂18yüß@öåyq{˙z)LCÒ Bx-Öòß»√›Å  ÎÖÛÀïRÏª:’\å0œân∞^7Ç¬î •∫bQD…9QÍ °ëb¬z≈ˆ ÁÁ∆·tÃÏ `ö0vœ€ èÖiƒ‡ 7≠{ˆjêõB6pΩù˚Í‰µÙ∆z9”™É∏9%d Z}qU} ‰QÚ nïÔ6“. ÁÛÖ :ÊﬂÓ`VªÕÒ˙J[ˇ∂Qµõªgn„f sw ^I¶◊ã ú<ïŒ«ø«á?π]u„e Ô–ÀNY/‘ÀJc}ºp˝÷úX” töHKC‰Bœ3y>aõπbtRRpãøD∑—óÍ$(#"äﬁiTüáµ£åà IÑ>!˝L ∆Oˇ˙¬Ûüÿ_ €U∞T˘ˆﬂøÒÁ⁄XN˜î‘π^w. oﬂ9  ƒ˜ V]…©°#]ie°Øô–” √Gy⁄ﬁ<æ(∏=ﬁ, Õ| ›66 ìLú@s‚˛CÊ˘|ÊÂ€∆œÎÀ√ ô·nõ»˘1AóÇ© é	=F ÛN»ë”2≥÷ ~≠îR…9ÒÓ} ˆHÂÚ7 ˇﬁvL •>!mA[Dj¢Ïù<g¨ ú™ v|q«KÔC—’*÷w⁄.~?´∞^=∆!ƒ¿  X†7®U∞’»Y	!∏{CΩHgª\©[a^éL— ¡^ Î’£@.◊ç  €>±‰QJ•
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:	û{∞ª ›ﬁ©( •¶ jÉ>§e:Ü'
DEBUG:root:	û{∞ª ›ﬁ©( •¶ jÉ>§e:Ü'
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:	3ÆZ8¶Œ,Ÿ·®G ˝#	±∂k  )\ñ Ω ò'
“–Lä/Ÿ¢ π˙© )P˙FãùØ_w⁄¯Æ˙Qw(R⁄úsbµ ¶˘ìVd 6 ÎX¸˚ﬂÔ‹πÛÚ˝
DEBUG:root:	3ÆZ8¶Œ,Ÿ·®G ˝#	±∂k  )\ñ Ω ò'
“–Lä/Ÿ¢ π˙© )P˙FãùØ_w⁄¯Æ˙Qw(R⁄úsbµ ¶˘ìVd 6 ÎX¸˚ﬂÔ‹πÛÚ˝
DEBUG:root:to_unicode
INFO:root:200 POST /q/uploader (127.0.0.1)
DEBUG:root:None
DEBUG:root:{u'cookie': u'SBID="!MZ6JnTJnDncb7k3n0Ya9Sg==?gAJVBFNCSURxAWN1dWlkClVVSUQKcQIpgXEDfXEEVQNpbnRxBYoQqUXRlREm8LXjTshLPYe7cXNihnEGLg=="; wordpress_test_cookie=WP+Cookie+check; wordpress_logged_in_8dec71ede39ad9ff3b3fbc03311bdc45=qoorate%7C1375142446%7C86fd9ec6d6a221f44c7b1244f05dcd23; QOOID=QOO51f460f57c582; QOOTID=QOOT51f460f57c593; wp-settings-time-1=1374970345', u'accept-language': u'en-US,en;q=0.8', u'accept-encoding': u'gzip,deflate,sdch', u'PATTERN': u'/q/', u'x-forwarded-for': u'127.0.0.1', u'host': u'localhost', u'accept': u'image/webp,*/*;q=0.8', u'user-agent': u'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/28.0.1500.71 Safari/537.36', u'connection': u'keep-alive', u'VERSION': u'HTTP/1.1', u'referer': u'http://localhost:8081/?p=1', u'PATH': u'/q/uploader/images/a10c8720a9924b015c4331754bac8d32', u'METHOD': u'GET', u'URI': u'/q/uploader/images/a10c8720a9924b015c4331754bac8d32'}
DEBUG:root:TemporaryImageViewHandler get
DEBUG:root:filename: a10c8720a9924b015c4331754bac8d32
DEBUG:root:hash: <built-in function hash>
DEBUG:root:requested_file_name: ./tmp/a10c8720a9924b015c4331754bac8d32
DEBUG:root:mime_type: image/png
INFO:root:200 GET /q/uploader/images/a10c8720a9924b015c4331754bac8d32 (127.0.0.1)
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:set_table has q_short_name (12345)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1065539d0>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has q_short_name (12345)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x106553b50>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:feed.prepare, table: q_brooklyncode
DEBUG:root:FeedHandler post
DEBUG:root:Body -> 
 replyComment=t&thumbnailLarge=a10c8720a9924b015c4331754bac8d32&replyPhoto=&action=addItem&location=5e13bbb73127b9fc424e3728c6500f28&referer=http%3A%2F%2Flocalhost%3A8081%2F%3Fp%3D1&q_short_name=12345&QOOID=QOO51f460f57c582&QOOTID=QOOT51f460f57c593
DEBUG:root:Arguments -> 
 {"thumbnailLarge": ["a10c8720a9924b015c4331754bac8d32"], "QOOID": ["QOO51f460f57c582"], "QOOTID": ["QOOT51f460f57c593"], "q_short_name": ["12345"], "location": ["5e13bbb73127b9fc424e3728c6500f28"], "replyComment": ["t"], "action": ["addItem"], "referer": ["http://localhost:8081/?p=1"]}
DEBUG:root:to_unicode
DEBUG:root:addItem
DEBUG:root:addItem
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:addItem
DEBUG:root:addItem
DEBUG:root:to_unicode
DEBUG:root:action: addItem
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x106553d50>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10655b050>
DEBUG:root:to_unicode
DEBUG:root:t
DEBUG:root:t
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:t
DEBUG:root:t
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:a10c8720a9924b015c4331754bac8d32
DEBUG:root:a10c8720a9924b015c4331754bac8d32
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:a10c8720a9924b015c4331754bac8d32
DEBUG:root:a10c8720a9924b015c4331754bac8d32
DEBUG:root:to_unicode
DEBUG:root:spawning upload
DEBUG:root:upload_to_S3 : a10c8720a9924b015c4331754bac8d32
DEBUG:root:upload_to_S3 : a10c8720a9924b015c4331754bac8d32
DEBUG:root:create_images_for_S3
DEBUG:root:file_path: tmp
DEBUG:root:file_name: a10c8720a9924b015c4331754bac8d32
DEBUG:root:filename: tmp/a10c8720a9924b015c4331754bac8d32
DEBUG:root:create_images_for_S3 image_infos: [(None, 'JPEG', '_f', 'jpg'), ((300, 200), 'JPEG', '_t', 'jpg'), ((120, 200), 'JPEG', '_m', 'jpg'), ((170, 100), 'JPEG', '_f', 'jpg'), ((50, 50), 'JPEG', '_s', 'jpg')] 
DEBUG:root:create_images_for_S3  image_info: (None, 'JPEG', '_f', 'jpg') 
DEBUG:root:filename created: a10c8720a9924b015c4331754bac8d32_f.jpg
DEBUG:root:create_images_for_S3  image_info: ((300, 200), 'JPEG', '_t', 'jpg') 
DEBUG:root:image_info[0]: (300, 200)
DEBUG:root:image_info[1]: JPEG
DEBUG:root:image_info[2]: _t
DEBUG:root:image_info[3]: jpg
DEBUG:root:filename created: a10c8720a9924b015c4331754bac8d32_t.jpg
DEBUG:root:create_images_for_S3  image_info: ((120, 200), 'JPEG', '_m', 'jpg') 
DEBUG:root:image_info[0]: (120, 200)
DEBUG:root:image_info[1]: JPEG
DEBUG:root:image_info[2]: _m
DEBUG:root:image_info[3]: jpg
DEBUG:root:filename created: a10c8720a9924b015c4331754bac8d32_m.jpg
DEBUG:root:create_images_for_S3  image_info: ((170, 100), 'JPEG', '_f', 'jpg') 
DEBUG:root:image_info[0]: (170, 100)
DEBUG:root:image_info[1]: JPEG
DEBUG:root:image_info[2]: _f
DEBUG:root:image_info[3]: jpg
DEBUG:root:filename created: a10c8720a9924b015c4331754bac8d32_f.jpg
DEBUG:root:create_images_for_S3  image_info: ((50, 50), 'JPEG', '_s', 'jpg') 
DEBUG:root:image_info[0]: (50, 50)
DEBUG:root:image_info[1]: JPEG
DEBUG:root:image_info[2]: _s
DEBUG:root:image_info[3]: jpg
DEBUG:root:filename created: a10c8720a9924b015c4331754bac8d32_s.jpg
DEBUG:root:create_images_for_S3 return filenames: [u'a10c8720a9924b015c4331754bac8d32_f.jpg', u'a10c8720a9924b015c4331754bac8d32_t.jpg', u'a10c8720a9924b015c4331754bac8d32_m.jpg', u'a10c8720a9924b015c4331754bac8d32_f.jpg', u'a10c8720a9924b015c4331754bac8d32_s.jpg'] 
DEBUG:root:file_names: [u'a10c8720a9924b015c4331754bac8d32_f.jpg', u'a10c8720a9924b015c4331754bac8d32_t.jpg', u'a10c8720a9924b015c4331754bac8d32_m.jpg', u'a10c8720a9924b015c4331754bac8d32_f.jpg', u'a10c8720a9924b015c4331754bac8d32_s.jpg']
DEBUG:root:len(file_names): 5
DEBUG:boto:path=/
DEBUG:boto:auth_path=/qoorate.brooklyncode/
DEBUG:boto:Method: PUT
DEBUG:boto:Path: /
DEBUG:boto:Data: 
DEBUG:boto:Headers: {}
DEBUG:boto:Host: qoorate.brooklyncode.s3.amazonaws.com
DEBUG:boto:establishing HTTPS connection: host=qoorate.brooklyncode.s3.amazonaws.com, kwargs={}
DEBUG:boto:Token: None
DEBUG:boto:StringToSign:
PUT


Mon, 29 Jul 2013 02:41:23 GMT
/qoorate.brooklyncode/
DEBUG:boto:path=/
DEBUG:boto:auth_path=/qoorate.brooklyncode/
DEBUG:boto:path=/?policy
DEBUG:boto:auth_path=/qoorate.brooklyncode/?policy
DEBUG:boto:Method: PUT
DEBUG:boto:Path: /?policy
DEBUG:boto:Data: {
                    "Version": "2008-10-17",
                    "Statement": [
                        {
                            "Sid": "AddPerm",
                            "Effect": "Allow",
                            "Principal": {
                                "AWS": "*"
                            },
                            "Action": "s3:GetObject",
                            "Resource": "arn:aws:s3:::qoorate.brooklyncode/*"
                        }
                    ]
                }
            
DEBUG:boto:Headers: {}
DEBUG:boto:Host: qoorate.brooklyncode.s3.amazonaws.com
DEBUG:boto:Token: None
DEBUG:boto:StringToSign:
PUT


Mon, 29 Jul 2013 02:41:24 GMT
/qoorate.brooklyncode/?policy
DEBUG:root:create_images_for_S3
DEBUG:root:file_path: tmp
DEBUG:root:file_name: a10c8720a9924b015c4331754bac8d32
DEBUG:root:filename: tmp/a10c8720a9924b015c4331754bac8d32
DEBUG:root:create_images_for_S3 image_infos: [(None, 'JPEG', '_f', 'jpg'), ((300, 200), 'JPEG', '_t', 'jpg'), ((120, 200), 'JPEG', '_m', 'jpg'), ((170, 100), 'JPEG', '_f', 'jpg'), ((50, 50), 'JPEG', '_s', 'jpg')] 
DEBUG:root:create_images_for_S3  image_info: (None, 'JPEG', '_f', 'jpg') 
DEBUG:root:filename created: a10c8720a9924b015c4331754bac8d32_f.jpg
DEBUG:root:create_images_for_S3  image_info: ((300, 200), 'JPEG', '_t', 'jpg') 
DEBUG:root:image_info[0]: (300, 200)
DEBUG:root:image_info[1]: JPEG
DEBUG:root:image_info[2]: _t
DEBUG:root:image_info[3]: jpg
DEBUG:root:filename created: a10c8720a9924b015c4331754bac8d32_t.jpg
DEBUG:root:create_images_for_S3  image_info: ((120, 200), 'JPEG', '_m', 'jpg') 
DEBUG:root:image_info[0]: (120, 200)
DEBUG:root:image_info[1]: JPEG
DEBUG:root:image_info[2]: _m
DEBUG:root:image_info[3]: jpg
DEBUG:root:filename created: a10c8720a9924b015c4331754bac8d32_m.jpg
DEBUG:root:create_images_for_S3  image_info: ((170, 100), 'JPEG', '_f', 'jpg') 
DEBUG:root:image_info[0]: (170, 100)
DEBUG:root:image_info[1]: JPEG
DEBUG:root:image_info[2]: _f
DEBUG:root:image_info[3]: jpg
DEBUG:root:filename created: a10c8720a9924b015c4331754bac8d32_f.jpg
DEBUG:root:create_images_for_S3  image_info: ((50, 50), 'JPEG', '_s', 'jpg') 
DEBUG:root:image_info[0]: (50, 50)
DEBUG:root:image_info[1]: JPEG
DEBUG:root:image_info[2]: _s
DEBUG:root:image_info[3]: jpg
DEBUG:root:filename created: a10c8720a9924b015c4331754bac8d32_s.jpg
DEBUG:root:create_images_for_S3 return filenames: [u'a10c8720a9924b015c4331754bac8d32_f.jpg', u'a10c8720a9924b015c4331754bac8d32_t.jpg', u'a10c8720a9924b015c4331754bac8d32_m.jpg', u'a10c8720a9924b015c4331754bac8d32_f.jpg', u'a10c8720a9924b015c4331754bac8d32_s.jpg'] 
DEBUG:root:file_names: [u'a10c8720a9924b015c4331754bac8d32_f.jpg', u'a10c8720a9924b015c4331754bac8d32_t.jpg', u'a10c8720a9924b015c4331754bac8d32_m.jpg', u'a10c8720a9924b015c4331754bac8d32_f.jpg', u'a10c8720a9924b015c4331754bac8d32_s.jpg']
DEBUG:root:images: [u'a10c8720a9924b015c4331754bac8d32_f.jpg', u'a10c8720a9924b015c4331754bac8d32_t.jpg', u'a10c8720a9924b015c4331754bac8d32_m.jpg', u'a10c8720a9924b015c4331754bac8d32_f.jpg', u'a10c8720a9924b015c4331754bac8d32_s.jpg']
DEBUG:root:image_file_name: a10c8720a9924b015c4331754bac8d32_f.jpg
DEBUG:root:Uploading a10c8720a9924b015c4331754bac8d32_f.jpg to Amazon S3 bucket qoorate.brooklyncode
DEBUG:boto:path=/a10c8720a9924b015c4331754bac8d32_f.jpg
DEBUG:boto:auth_path=/qoorate.brooklyncode/a10c8720a9924b015c4331754bac8d32_f.jpg
DEBUG:boto:Method: PUT
DEBUG:boto:Path: /a10c8720a9924b015c4331754bac8d32_f.jpg
DEBUG:boto:Data: 
DEBUG:boto:Headers: {'Content-Length': '3027', 'Content-MD5': 'r1xz0/TQO81ne46eKSCxqw==', 'Content-Type': 'image/jpeg', 'Expect': '100-Continue', 'User-Agent': 'Boto/2.2.2 (darwin)'}
DEBUG:boto:Host: qoorate.brooklyncode.s3.amazonaws.com
DEBUG:boto:Token: None
DEBUG:boto:StringToSign:
PUT
r1xz0/TQO81ne46eKSCxqw==
image/jpeg
Mon, 29 Jul 2013 02:41:25 GMT
/qoorate.brooklyncode/a10c8720a9924b015c4331754bac8d32_f.jpg
DEBUG:boto:path=/a10c8720a9924b015c4331754bac8d32_f.jpg
DEBUG:boto:auth_path=/qoorate.brooklyncode/a10c8720a9924b015c4331754bac8d32_f.jpg
DEBUG:boto:path=/a10c8720a9924b015c4331754bac8d32_f.jpg?acl
DEBUG:boto:auth_path=/qoorate.brooklyncode/a10c8720a9924b015c4331754bac8d32_f.jpg?acl
DEBUG:boto:Method: PUT
DEBUG:boto:Path: /a10c8720a9924b015c4331754bac8d32_f.jpg?acl
DEBUG:boto:Data: 
DEBUG:boto:Headers: {'x-amz-acl': 'public-read'}
DEBUG:boto:Host: qoorate.brooklyncode.s3.amazonaws.com
DEBUG:boto:Token: None
DEBUG:boto:StringToSign:
PUT


Mon, 29 Jul 2013 02:41:25 GMT
x-amz-acl:public-read
/qoorate.brooklyncode/a10c8720a9924b015c4331754bac8d32_f.jpg?acl
DEBUG:root:image_file_name: a10c8720a9924b015c4331754bac8d32_t.jpg
DEBUG:root:Uploading a10c8720a9924b015c4331754bac8d32_t.jpg to Amazon S3 bucket qoorate.brooklyncode
DEBUG:boto:path=/a10c8720a9924b015c4331754bac8d32_t.jpg
DEBUG:boto:auth_path=/qoorate.brooklyncode/a10c8720a9924b015c4331754bac8d32_t.jpg
DEBUG:boto:Method: PUT
DEBUG:boto:Path: /a10c8720a9924b015c4331754bac8d32_t.jpg
DEBUG:boto:Data: 
DEBUG:boto:Headers: {'Content-Length': '12426', 'Content-MD5': 'G55FQeMSuQfRSNfJridVQQ==', 'Content-Type': 'image/jpeg', 'Expect': '100-Continue', 'User-Agent': 'Boto/2.2.2 (darwin)'}
DEBUG:boto:Host: qoorate.brooklyncode.s3.amazonaws.com
DEBUG:boto:Token: None
DEBUG:boto:StringToSign:
PUT
G55FQeMSuQfRSNfJridVQQ==
image/jpeg
Mon, 29 Jul 2013 02:41:25 GMT
/qoorate.brooklyncode/a10c8720a9924b015c4331754bac8d32_t.jpg
DEBUG:boto:path=/a10c8720a9924b015c4331754bac8d32_t.jpg
DEBUG:boto:auth_path=/qoorate.brooklyncode/a10c8720a9924b015c4331754bac8d32_t.jpg
DEBUG:boto:path=/a10c8720a9924b015c4331754bac8d32_t.jpg?acl
DEBUG:boto:auth_path=/qoorate.brooklyncode/a10c8720a9924b015c4331754bac8d32_t.jpg?acl
DEBUG:boto:Method: PUT
DEBUG:boto:Path: /a10c8720a9924b015c4331754bac8d32_t.jpg?acl
DEBUG:boto:Data: 
DEBUG:boto:Headers: {'x-amz-acl': 'public-read'}
DEBUG:boto:Host: qoorate.brooklyncode.s3.amazonaws.com
DEBUG:boto:Token: None
DEBUG:boto:StringToSign:
PUT


Mon, 29 Jul 2013 02:41:25 GMT
x-amz-acl:public-read
/qoorate.brooklyncode/a10c8720a9924b015c4331754bac8d32_t.jpg?acl
DEBUG:root:image_file_name: a10c8720a9924b015c4331754bac8d32_m.jpg
DEBUG:root:Uploading a10c8720a9924b015c4331754bac8d32_m.jpg to Amazon S3 bucket qoorate.brooklyncode
DEBUG:boto:path=/a10c8720a9924b015c4331754bac8d32_m.jpg
DEBUG:boto:auth_path=/qoorate.brooklyncode/a10c8720a9924b015c4331754bac8d32_m.jpg
DEBUG:boto:Method: PUT
DEBUG:boto:Path: /a10c8720a9924b015c4331754bac8d32_m.jpg
DEBUG:boto:Data: 
DEBUG:boto:Headers: {'Content-Length': '3027', 'Content-MD5': 'r1xz0/TQO81ne46eKSCxqw==', 'Content-Type': 'image/jpeg', 'Expect': '100-Continue', 'User-Agent': 'Boto/2.2.2 (darwin)'}
DEBUG:boto:Host: qoorate.brooklyncode.s3.amazonaws.com
DEBUG:boto:Token: None
DEBUG:boto:StringToSign:
PUT
r1xz0/TQO81ne46eKSCxqw==
image/jpeg
Mon, 29 Jul 2013 02:41:25 GMT
/qoorate.brooklyncode/a10c8720a9924b015c4331754bac8d32_m.jpg
DEBUG:boto:path=/a10c8720a9924b015c4331754bac8d32_m.jpg
DEBUG:boto:auth_path=/qoorate.brooklyncode/a10c8720a9924b015c4331754bac8d32_m.jpg
DEBUG:boto:path=/a10c8720a9924b015c4331754bac8d32_m.jpg?acl
DEBUG:boto:auth_path=/qoorate.brooklyncode/a10c8720a9924b015c4331754bac8d32_m.jpg?acl
DEBUG:boto:Method: PUT
DEBUG:boto:Path: /a10c8720a9924b015c4331754bac8d32_m.jpg?acl
DEBUG:boto:Data: 
DEBUG:boto:Headers: {'x-amz-acl': 'public-read'}
DEBUG:boto:Host: qoorate.brooklyncode.s3.amazonaws.com
DEBUG:boto:Token: None
DEBUG:boto:StringToSign:
PUT


Mon, 29 Jul 2013 02:41:25 GMT
x-amz-acl:public-read
/qoorate.brooklyncode/a10c8720a9924b015c4331754bac8d32_m.jpg?acl
DEBUG:root:image_file_name: a10c8720a9924b015c4331754bac8d32_f.jpg
DEBUG:root:Uploading a10c8720a9924b015c4331754bac8d32_f.jpg to Amazon S3 bucket qoorate.brooklyncode
DEBUG:boto:path=/a10c8720a9924b015c4331754bac8d32_f.jpg
DEBUG:boto:auth_path=/qoorate.brooklyncode/a10c8720a9924b015c4331754bac8d32_f.jpg
DEBUG:boto:Method: PUT
DEBUG:boto:Path: /a10c8720a9924b015c4331754bac8d32_f.jpg
DEBUG:boto:Data: 
DEBUG:boto:Headers: {'Content-Length': '3027', 'Content-MD5': 'r1xz0/TQO81ne46eKSCxqw==', 'Content-Type': 'image/jpeg', 'Expect': '100-Continue', 'User-Agent': 'Boto/2.2.2 (darwin)'}
DEBUG:boto:Host: qoorate.brooklyncode.s3.amazonaws.com
DEBUG:boto:Token: None
DEBUG:boto:StringToSign:
PUT
r1xz0/TQO81ne46eKSCxqw==
image/jpeg
Mon, 29 Jul 2013 02:41:25 GMT
/qoorate.brooklyncode/a10c8720a9924b015c4331754bac8d32_f.jpg
DEBUG:boto:path=/a10c8720a9924b015c4331754bac8d32_f.jpg
DEBUG:boto:auth_path=/qoorate.brooklyncode/a10c8720a9924b015c4331754bac8d32_f.jpg
DEBUG:boto:path=/a10c8720a9924b015c4331754bac8d32_f.jpg?acl
DEBUG:boto:auth_path=/qoorate.brooklyncode/a10c8720a9924b015c4331754bac8d32_f.jpg?acl
DEBUG:boto:Method: PUT
DEBUG:boto:Path: /a10c8720a9924b015c4331754bac8d32_f.jpg?acl
DEBUG:boto:Data: 
DEBUG:boto:Headers: {'x-amz-acl': 'public-read'}
DEBUG:boto:Host: qoorate.brooklyncode.s3.amazonaws.com
DEBUG:boto:Token: None
DEBUG:boto:StringToSign:
PUT


Mon, 29 Jul 2013 02:41:25 GMT
x-amz-acl:public-read
/qoorate.brooklyncode/a10c8720a9924b015c4331754bac8d32_f.jpg?acl
DEBUG:root:image_file_name: a10c8720a9924b015c4331754bac8d32_s.jpg
DEBUG:root:Uploading a10c8720a9924b015c4331754bac8d32_s.jpg to Amazon S3 bucket qoorate.brooklyncode
DEBUG:boto:path=/a10c8720a9924b015c4331754bac8d32_s.jpg
DEBUG:boto:auth_path=/qoorate.brooklyncode/a10c8720a9924b015c4331754bac8d32_s.jpg
DEBUG:boto:Method: PUT
DEBUG:boto:Path: /a10c8720a9924b015c4331754bac8d32_s.jpg
DEBUG:boto:Data: 
DEBUG:boto:Headers: {'Content-Length': '1123', 'Content-MD5': '+52zV4y0o/yhisB0d3MX4Q==', 'Content-Type': 'image/jpeg', 'Expect': '100-Continue', 'User-Agent': 'Boto/2.2.2 (darwin)'}
DEBUG:boto:Host: qoorate.brooklyncode.s3.amazonaws.com
DEBUG:boto:Token: None
DEBUG:boto:StringToSign:
PUT
+52zV4y0o/yhisB0d3MX4Q==
image/jpeg
Mon, 29 Jul 2013 02:41:26 GMT
/qoorate.brooklyncode/a10c8720a9924b015c4331754bac8d32_s.jpg
DEBUG:boto:path=/a10c8720a9924b015c4331754bac8d32_s.jpg
DEBUG:boto:auth_path=/qoorate.brooklyncode/a10c8720a9924b015c4331754bac8d32_s.jpg
DEBUG:boto:path=/a10c8720a9924b015c4331754bac8d32_s.jpg?acl
DEBUG:boto:auth_path=/qoorate.brooklyncode/a10c8720a9924b015c4331754bac8d32_s.jpg?acl
DEBUG:boto:Method: PUT
DEBUG:boto:Path: /a10c8720a9924b015c4331754bac8d32_s.jpg?acl
DEBUG:boto:Data: 
DEBUG:boto:Headers: {'x-amz-acl': 'public-read'}
DEBUG:boto:Host: qoorate.brooklyncode.s3.amazonaws.com
DEBUG:boto:Token: None
DEBUG:boto:StringToSign:
PUT


Mon, 29 Jul 2013 02:41:26 GMT
x-amz-acl:public-read
/qoorate.brooklyncode/a10c8720a9924b015c4331754bac8d32_s.jpg?acl
DEBUG:root:spawned upload
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:http://localhost:8081/?p=1
DEBUG:root:http://localhost:8081/?p=1
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:http://localhost:8081/?p=1
DEBUG:root:http://localhost:8081/?p=1
DEBUG:root:to_unicode
DEBUG:root:MySqlApiQueryset create_one
DEBUG:root:MySqlApiQueryset create_one sql: 
                INSERT INTO `q_brooklyncode` 
                set id=%s,locationId=%s,relatedId=%s,parentId=%s,userId=%s,type=%s,name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s,createDate=%s 
                ON DUPLICATE KEY UPDATE
                name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s
                
DEBUG:root:execute
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:execute args: [None, 0L, 0L, 0L, 1L, 1L, u't', u'5e13bbb73127b9fc424e3728c6500f28', None, 0L, 0L, 0L, 0L, 0L, 0L, 0L, '', None, u'a10c8720a9924b015c4331754bac8d32', u'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 22, 41, 26, 232014), datetime.datetime(2013, 7, 28, 22, 41, 26, 232014), u't', u'5e13bbb73127b9fc424e3728c6500f28', None, 0L, 0L, 0L, 0L, 0L, 0L, 0L, '', None, u'a10c8720a9924b015c4331754bac8d32', u'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 22, 41, 26, 232014)]
DEBUG:root:escape_sql sql: 
                INSERT INTO `q_brooklyncode` 
                set id=%s,locationId=%s,relatedId=%s,parentId=%s,userId=%s,type=%s,name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s,createDate=%s 
                ON DUPLICATE KEY UPDATE
                name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s
                
DEBUG:root:escape_sql args: [None, 0L, 0L, 0L, 1L, 1L, u't', u'5e13bbb73127b9fc424e3728c6500f28', None, 0L, 0L, 0L, 0L, 0L, 0L, 0L, '', None, u'a10c8720a9924b015c4331754bac8d32', u'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 22, 41, 26, 232014), datetime.datetime(2013, 7, 28, 22, 41, 26, 232014), u't', u'5e13bbb73127b9fc424e3728c6500f28', None, 0L, 0L, 0L, 0L, 0L, 0L, 0L, '', None, u'a10c8720a9924b015c4331754bac8d32', u'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 22, 41, 26, 232014)]
DEBUG:root:
                INSERT INTO `q_brooklyncode` 
                set id=NULL,locationId=0,relatedId=0,parentId=0,userId=1,type=1,name='t',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=0,voteNumber=0,votesUp=0,votesDown=0,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge='a10c8720a9924b015c4331754bac8d32',referer='http://localhost:8081/?p=1',changeDate='2013-07-28 22:41:26',createDate='2013-07-28 22:41:26' 
                ON DUPLICATE KEY UPDATE
                name='t',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=0,voteNumber=0,votesUp=0,votesDown=0,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge='a10c8720a9924b015c4331754bac8d32',referer='http://localhost:8081/?p=1',changeDate='2013-07-28 22:41:26'
                
DEBUG:root:execute: 
                INSERT INTO `q_brooklyncode` 
                set id=NULL,locationId=0,relatedId=0,parentId=0,userId=1,type=1,name='t',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=0,voteNumber=0,votesUp=0,votesDown=0,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge='a10c8720a9924b015c4331754bac8d32',referer='http://localhost:8081/?p=1',changeDate='2013-07-28 22:41:26',createDate='2013-07-28 22:41:26' 
                ON DUPLICATE KEY UPDATE
                name='t',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=0,voteNumber=0,votesUp=0,votesDown=0,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge='a10c8720a9924b015c4331754bac8d32',referer='http://localhost:8081/?p=1',changeDate='2013-07-28 22:41:26'
                
DEBUG:root:MySqlApiQueryset create_one (status, affected_rows): (Created, 1)
DEBUG:root:inserted_id: 7)
DEBUG:root:update_child_count(Comment object)
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:escape_sql sql: 
            SELECT count(*) as `childCount`
            FROM `q_brooklyncode` `f`
            WHERE `f`.`parentId`= %s
            
DEBUG:root:escape_sql args: [7L]
DEBUG:root:
            SELECT count(*) as `childCount`
            FROM `q_brooklyncode` `f`
            WHERE `f`.`parentId`= 7
            
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1065b7210>
DEBUG:root:child_count: 0
DEBUG:root:MySqlApiQueryset create_one
DEBUG:root:MySqlApiQueryset create_one sql: 
                INSERT INTO `q_brooklyncode` 
                set id=%s,locationId=%s,relatedId=%s,parentId=%s,userId=%s,type=%s,name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s,createDate=%s 
                ON DUPLICATE KEY UPDATE
                name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s
                
DEBUG:root:execute
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:execute args: [7L, 0L, 0L, 0L, 1L, 1L, u't', u'5e13bbb73127b9fc424e3728c6500f28', None, 0L, 0L, 0L, 0L, 0L, 0L, 0L, '', None, u'a10c8720a9924b015c4331754bac8d32', u'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 22, 41, 26, 232014), datetime.datetime(2013, 7, 28, 22, 41, 26, 232014), u't', u'5e13bbb73127b9fc424e3728c6500f28', None, 0L, 0L, 0L, 0L, 0L, 0L, 0L, '', None, u'a10c8720a9924b015c4331754bac8d32', u'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 22, 41, 26, 232014)]
DEBUG:root:escape_sql sql: 
                INSERT INTO `q_brooklyncode` 
                set id=%s,locationId=%s,relatedId=%s,parentId=%s,userId=%s,type=%s,name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s,createDate=%s 
                ON DUPLICATE KEY UPDATE
                name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s
                
DEBUG:root:escape_sql args: [7L, 0L, 0L, 0L, 1L, 1L, u't', u'5e13bbb73127b9fc424e3728c6500f28', None, 0L, 0L, 0L, 0L, 0L, 0L, 0L, '', None, u'a10c8720a9924b015c4331754bac8d32', u'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 22, 41, 26, 232014), datetime.datetime(2013, 7, 28, 22, 41, 26, 232014), u't', u'5e13bbb73127b9fc424e3728c6500f28', None, 0L, 0L, 0L, 0L, 0L, 0L, 0L, '', None, u'a10c8720a9924b015c4331754bac8d32', u'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 22, 41, 26, 232014)]
DEBUG:root:
                INSERT INTO `q_brooklyncode` 
                set id=7,locationId=0,relatedId=0,parentId=0,userId=1,type=1,name='t',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=0,voteNumber=0,votesUp=0,votesDown=0,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge='a10c8720a9924b015c4331754bac8d32',referer='http://localhost:8081/?p=1',changeDate='2013-07-28 22:41:26',createDate='2013-07-28 22:41:26' 
                ON DUPLICATE KEY UPDATE
                name='t',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=0,voteNumber=0,votesUp=0,votesDown=0,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge='a10c8720a9924b015c4331754bac8d32',referer='http://localhost:8081/?p=1',changeDate='2013-07-28 22:41:26'
                
DEBUG:root:execute: 
                INSERT INTO `q_brooklyncode` 
                set id=7,locationId=0,relatedId=0,parentId=0,userId=1,type=1,name='t',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=0,voteNumber=0,votesUp=0,votesDown=0,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge='a10c8720a9924b015c4331754bac8d32',referer='http://localhost:8081/?p=1',changeDate='2013-07-28 22:41:26',createDate='2013-07-28 22:41:26' 
                ON DUPLICATE KEY UPDATE
                name='t',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=0,voteNumber=0,votesUp=0,votesDown=0,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge='a10c8720a9924b015c4331754bac8d32',referer='http://localhost:8081/?p=1',changeDate='2013-07-28 22:41:26'
                
DEBUG:root:item_exists
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:escape_sql sql: SELECT count(*) FROM `q_brooklyncode`  WHERE id = %s
DEBUG:root:escape_sql args: [7L]
DEBUG:root:SELECT count(*) FROM `q_brooklyncode`  WHERE id = 7
DEBUG:root:MySqlApiQueryset create_one (status, affected_rows): (NO CHANGES, 0)
DEBUG:root:MySqlApiQueryset create_one
DEBUG:root:MySqlApiQueryset create_one sql: 
                INSERT INTO `q_brooklyncode_images` 
                set id=%s,itemId=%s,s3Bucket=%s,thumbnailLargeHash=%s 
                ON DUPLICATE KEY UPDATE
                s3Bucket=%s,thumbnailLargeHash=%s
                
DEBUG:root:execute
DEBUG:root:execute args: [None, 7L, 'qoorate.brooklyncode', u'a10c8720a9924b015c4331754bac8d32', 'qoorate.brooklyncode', u'a10c8720a9924b015c4331754bac8d32']
DEBUG:root:escape_sql sql: 
                INSERT INTO `q_brooklyncode_images` 
                set id=%s,itemId=%s,s3Bucket=%s,thumbnailLargeHash=%s 
                ON DUPLICATE KEY UPDATE
                s3Bucket=%s,thumbnailLargeHash=%s
                
DEBUG:root:escape_sql args: [None, 7L, 'qoorate.brooklyncode', u'a10c8720a9924b015c4331754bac8d32', 'qoorate.brooklyncode', u'a10c8720a9924b015c4331754bac8d32']
DEBUG:root:
                INSERT INTO `q_brooklyncode_images` 
                set id=NULL,itemId=7,s3Bucket='qoorate.brooklyncode',thumbnailLargeHash='a10c8720a9924b015c4331754bac8d32' 
                ON DUPLICATE KEY UPDATE
                s3Bucket='qoorate.brooklyncode',thumbnailLargeHash='a10c8720a9924b015c4331754bac8d32'
                
DEBUG:root:execute: 
                INSERT INTO `q_brooklyncode_images` 
                set id=NULL,itemId=7,s3Bucket='qoorate.brooklyncode',thumbnailLargeHash='a10c8720a9924b015c4331754bac8d32' 
                ON DUPLICATE KEY UPDATE
                s3Bucket='qoorate.brooklyncode',thumbnailLargeHash='a10c8720a9924b015c4331754bac8d32'
                
DEBUG:root:MySqlApiQueryset create_one (status, affected_rows): (Created, 1)
DEBUG:root:inserted_id: 6)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10655b390>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10655b590>
DEBUG:root:CONTEXT: {'has_more_contributions': False, 'app': {'CHILD_PAGE_SIZE': 5, 'QOORATE_API_URI': 'http://localhost/q', 'TEMP_DIR': 'tmp', 'BACKGROUND_S3_UPLOAD': True, 'BROKEN_IMG_URI': 'http://localhost/q/img/blank.gif', 'POLLING_INTERVAL': 15, 'QOORATE_IMG_PATH': 'http://localhost/q/uploader/images/', 'S3_IMG_PATH': 'https://s3.amazonaws.com/qoorate.brooklyncode/', 'AMAZON_BUCKET': 'qoorate.brooklyncode', 'QOORATE_URI': 'http://localhost', 'PARENT_PAGE_SIZE': 5}, 'thumbnailLargeHash': u'a10c8720a9924b015c4331754bac8d32', 'parentCount': 5, 'q_short_name': u'12345', 'is_admin': False, 'parent_tag': u'p_brooklyncode', 'moreIndex': 1, 'comments': [<Comment: Comment object>], 'location': u'5e13bbb73127b9fc424e3728c6500f28', 'current_user': <User: User object>, 'related_user': None, 'childCount': 5, 'comment_images': [('Created', <ImageItem: ImageItem object>)]}
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:unsanitizing: t
DEBUG:root:unsanitizing encoded ascii: t
DEBUG:root:unsanitizing encoded utf8: t
DEBUG:root: unsanitized: t
DEBUG:root:
     
        
            
            
            <div id="12345-7" class="q_item lv-1 vi-l tp-1">
                            <div class="q_inr p">
                <div class="q_data">
                    <div class="q_main">
                        <div class="q_inr">
                            <div class="q_top">
                                <div class="headerWrapper p">
                                    <a id="share_12345-7" href="#" class="do makeForm share 12345-7"><span>+ Share</span></a>
                                    <a id="flag_12345-7" href="#" class="do makeForm flag 12345-7"><span>Flag</span></a>
                                    <a id="delete_12345-7" href="#" class="do action deleteItem 12345-7"><span>Delete</span></a>
                                    <div class="q_clear"></div>
                                </div>
                            </div>
                            <div class="q_main_body">
                                <div class="q_txt">
                                    
                                    <div class="q_img">
                                        <img src="https://s3.amazonaws.com/qoorate.brooklyncode/a10c8720a9924b015c4331754bac8d32_m.jpg" 
                                                onerror="ImgError(this, 'http://localhost/q/uploader/images/a10c8720a9924b015c4331754bac8d32','http://localhost/q/img/blank.gif')">
                                    </div>
                                    <h3 class="itemName title type-1">t</h3>
                                    
                                </div>
                                <div class="q_clear"></div>
                            </div>
                            <div class="q_main_footer">
                                <div class="q_main_user">
                                    <div class="q_thumbnail">
                                        
                                        <img width="30" height="30" src="http://a0.twimg.com/profile_images/2793955592/297b32ce863d62ad496ccfab30b98ec2_normal.jpeg" onerror="ImgError(this, 'http://qrate.co/img/blank.gif')" />
                                        
                                    </div>
                                    <div class="q_user_info">
                                        
                                        <span class="q_usr"></span>
                                        
                                        <span class="time">0 seconds ago</span>
                                    </div>
                                    <div class="q_clear"></div>
                                </div>
                            </div>
                            <div class="q_bottom lv-1">
                                <fieldset class="reply bottom">
                                    <legend>Reply</legend>
                                    <div class="replyWrapper">
                                        <div class="inner">
                                            <a id="reply_12345-7" href="#" class="do makeForm replyComment 12345-7 reply"><span>Reply (<span class="replycount">0</span>)</span></a>
                                            <a id="toggle_12345-7" href="#" class="toggleReply tco-7 expand"><span></span></a>
                                            <div class="q_clear"></div>
                                        </div>
                                    </div>
                                    <div class="vote wrapper">
                                        <div class="inner">
                                            <div class="upVote wrap"><a href="#" class="do action upVote 12345-7"><span class="voted">0</span></a></div>
                                            <div class="downVote wrap"><a href="#" class="do action downVote 12345-7"><span class="voted">0</span></a></div>
                                            <div class="q_clear"></div>
                                        </div>
                                    </div>
                                </fieldset>
                                <div class="dyn 12345-7"></div>
                            </div>
                            <div class="q_clear"></div>
                        </div>
                    </div>
                </div>
                <div class="q_clear"></div>
            </div>
            <div class="q_clear"></div>
             
        
    

</div>

<div class="q_clear"></div>
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:escape_sql sql: 
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:escape_sql args: []
DEBUG:root:
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x107020510>
DEBUG:root:Number of contributions 7
INFO:root:200 POST /q/feed (127.0.0.1)
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:set_table has q_short_name (12345)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10655b790>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has q_short_name (12345)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x106553750>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:feed.prepare, table: q_brooklyncode
DEBUG:root:FeedHandler post
DEBUG:root:Body -> 
 replyTopic=test%3F&action=addItem&location=5e13bbb73127b9fc424e3728c6500f28&referer=http%3A%2F%2Flocalhost%3A8081%2F%3Fp%3D1&q_short_name=12345&QOOID=QOO51f460f57c582&QOOTID=QOOT51f460f57c593
DEBUG:root:Arguments -> 
 {"QOOID": ["QOO51f460f57c582"], "QOOTID": ["QOOT51f460f57c593"], "replyTopic": ["test?"], "q_short_name": ["12345"], "location": ["5e13bbb73127b9fc424e3728c6500f28"], "action": ["addItem"], "referer": ["http://localhost:8081/?p=1"]}
DEBUG:root:to_unicode
DEBUG:root:addItem
DEBUG:root:addItem
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:addItem
DEBUG:root:addItem
DEBUG:root:to_unicode
DEBUG:root:action: addItem
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1065537d0>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1065539d0>
DEBUG:root:to_unicode
DEBUG:root:test?
DEBUG:root:test?
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:test?
DEBUG:root:test?
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:http://localhost:8081/?p=1
DEBUG:root:http://localhost:8081/?p=1
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:http://localhost:8081/?p=1
DEBUG:root:http://localhost:8081/?p=1
DEBUG:root:to_unicode
DEBUG:root:MySqlApiQueryset create_one
DEBUG:root:MySqlApiQueryset create_one sql: 
                INSERT INTO `q_brooklyncode` 
                set id=%s,locationId=%s,relatedId=%s,parentId=%s,userId=%s,type=%s,name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s,createDate=%s 
                ON DUPLICATE KEY UPDATE
                name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s
                
DEBUG:root:execute
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:execute args: [None, 0L, 0L, 0L, 1L, 10L, u'test?', u'5e13bbb73127b9fc424e3728c6500f28', None, 0L, 0L, 0L, 0L, 0L, 0L, 0L, '', None, None, u'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 22, 41, 55, 808209), datetime.datetime(2013, 7, 28, 22, 41, 55, 808209), u'test?', u'5e13bbb73127b9fc424e3728c6500f28', None, 0L, 0L, 0L, 0L, 0L, 0L, 0L, '', None, None, u'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 22, 41, 55, 808209)]
DEBUG:root:escape_sql sql: 
                INSERT INTO `q_brooklyncode` 
                set id=%s,locationId=%s,relatedId=%s,parentId=%s,userId=%s,type=%s,name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s,createDate=%s 
                ON DUPLICATE KEY UPDATE
                name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s
                
DEBUG:root:escape_sql args: [None, 0L, 0L, 0L, 1L, 10L, u'test?', u'5e13bbb73127b9fc424e3728c6500f28', None, 0L, 0L, 0L, 0L, 0L, 0L, 0L, '', None, None, u'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 22, 41, 55, 808209), datetime.datetime(2013, 7, 28, 22, 41, 55, 808209), u'test?', u'5e13bbb73127b9fc424e3728c6500f28', None, 0L, 0L, 0L, 0L, 0L, 0L, 0L, '', None, None, u'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 22, 41, 55, 808209)]
DEBUG:root:
                INSERT INTO `q_brooklyncode` 
                set id=NULL,locationId=0,relatedId=0,parentId=0,userId=1,type=10,name='test?',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=0,voteNumber=0,votesUp=0,votesDown=0,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge=NULL,referer='http://localhost:8081/?p=1',changeDate='2013-07-28 22:41:55',createDate='2013-07-28 22:41:55' 
                ON DUPLICATE KEY UPDATE
                name='test?',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=0,voteNumber=0,votesUp=0,votesDown=0,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge=NULL,referer='http://localhost:8081/?p=1',changeDate='2013-07-28 22:41:55'
                
DEBUG:root:execute: 
                INSERT INTO `q_brooklyncode` 
                set id=NULL,locationId=0,relatedId=0,parentId=0,userId=1,type=10,name='test?',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=0,voteNumber=0,votesUp=0,votesDown=0,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge=NULL,referer='http://localhost:8081/?p=1',changeDate='2013-07-28 22:41:55',createDate='2013-07-28 22:41:55' 
                ON DUPLICATE KEY UPDATE
                name='test?',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=0,voteNumber=0,votesUp=0,votesDown=0,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge=NULL,referer='http://localhost:8081/?p=1',changeDate='2013-07-28 22:41:55'
                
DEBUG:root:MySqlApiQueryset create_one (status, affected_rows): (Created, 1)
DEBUG:root:inserted_id: 8)
DEBUG:root:update_child_count(Comment object)
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:escape_sql sql: 
            SELECT count(*) as `childCount`
            FROM `q_brooklyncode` `f`
            WHERE `f`.`parentId`= %s
            
DEBUG:root:escape_sql args: [8L]
DEBUG:root:
            SELECT count(*) as `childCount`
            FROM `q_brooklyncode` `f`
            WHERE `f`.`parentId`= 8
            
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x106568290>
DEBUG:root:child_count: 0
DEBUG:root:MySqlApiQueryset create_one
DEBUG:root:MySqlApiQueryset create_one sql: 
                INSERT INTO `q_brooklyncode` 
                set id=%s,locationId=%s,relatedId=%s,parentId=%s,userId=%s,type=%s,name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s,createDate=%s 
                ON DUPLICATE KEY UPDATE
                name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s
                
DEBUG:root:execute
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:execute args: [8L, 0L, 0L, 0L, 1L, 10L, u'test?', u'5e13bbb73127b9fc424e3728c6500f28', None, 0L, 0L, 0L, 0L, 0L, 0L, 0L, '', None, None, u'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 22, 41, 55, 808209), datetime.datetime(2013, 7, 28, 22, 41, 55, 808209), u'test?', u'5e13bbb73127b9fc424e3728c6500f28', None, 0L, 0L, 0L, 0L, 0L, 0L, 0L, '', None, None, u'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 22, 41, 55, 808209)]
DEBUG:root:escape_sql sql: 
                INSERT INTO `q_brooklyncode` 
                set id=%s,locationId=%s,relatedId=%s,parentId=%s,userId=%s,type=%s,name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s,createDate=%s 
                ON DUPLICATE KEY UPDATE
                name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s
                
DEBUG:root:escape_sql args: [8L, 0L, 0L, 0L, 1L, 10L, u'test?', u'5e13bbb73127b9fc424e3728c6500f28', None, 0L, 0L, 0L, 0L, 0L, 0L, 0L, '', None, None, u'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 22, 41, 55, 808209), datetime.datetime(2013, 7, 28, 22, 41, 55, 808209), u'test?', u'5e13bbb73127b9fc424e3728c6500f28', None, 0L, 0L, 0L, 0L, 0L, 0L, 0L, '', None, None, u'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 22, 41, 55, 808209)]
DEBUG:root:
                INSERT INTO `q_brooklyncode` 
                set id=8,locationId=0,relatedId=0,parentId=0,userId=1,type=10,name='test?',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=0,voteNumber=0,votesUp=0,votesDown=0,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge=NULL,referer='http://localhost:8081/?p=1',changeDate='2013-07-28 22:41:55',createDate='2013-07-28 22:41:55' 
                ON DUPLICATE KEY UPDATE
                name='test?',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=0,voteNumber=0,votesUp=0,votesDown=0,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge=NULL,referer='http://localhost:8081/?p=1',changeDate='2013-07-28 22:41:55'
                
DEBUG:root:execute: 
                INSERT INTO `q_brooklyncode` 
                set id=8,locationId=0,relatedId=0,parentId=0,userId=1,type=10,name='test?',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=0,voteNumber=0,votesUp=0,votesDown=0,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge=NULL,referer='http://localhost:8081/?p=1',changeDate='2013-07-28 22:41:55',createDate='2013-07-28 22:41:55' 
                ON DUPLICATE KEY UPDATE
                name='test?',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=0,voteNumber=0,votesUp=0,votesDown=0,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge=NULL,referer='http://localhost:8081/?p=1',changeDate='2013-07-28 22:41:55'
                
DEBUG:root:item_exists
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:escape_sql sql: SELECT count(*) FROM `q_brooklyncode`  WHERE id = %s
DEBUG:root:escape_sql args: [8L]
DEBUG:root:SELECT count(*) FROM `q_brooklyncode`  WHERE id = 8
DEBUG:root:MySqlApiQueryset create_one (status, affected_rows): (NO CHANGES, 0)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x106553b50>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x106553d50>
DEBUG:root:CONTEXT: {'has_more_contributions': False, 'app': {'CHILD_PAGE_SIZE': 5, 'QOORATE_API_URI': 'http://localhost/q', 'TEMP_DIR': 'tmp', 'BACKGROUND_S3_UPLOAD': True, 'BROKEN_IMG_URI': 'http://localhost/q/img/blank.gif', 'POLLING_INTERVAL': 15, 'QOORATE_IMG_PATH': 'http://localhost/q/uploader/images/', 'S3_IMG_PATH': 'https://s3.amazonaws.com/qoorate.brooklyncode/', 'AMAZON_BUCKET': 'qoorate.brooklyncode', 'QOORATE_URI': 'http://localhost', 'PARENT_PAGE_SIZE': 5}, 'thumbnailLargeHash': None, 'parentCount': 5, 'q_short_name': u'12345', 'is_admin': False, 'parent_tag': u'p_brooklyncode', 'moreIndex': 1, 'comments': [<Comment: Comment object>], 'location': u'5e13bbb73127b9fc424e3728c6500f28', 'current_user': <User: User object>, 'related_user': None, 'childCount': 5, 'comment_images': [None]}
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:unsanitizing: test?
DEBUG:root:unsanitizing encoded ascii: test?
DEBUG:root:unsanitizing encoded utf8: test?
DEBUG:root: unsanitized: test?
DEBUG:root:
     
        
            
            
            <div id="12345-8" class="q_item lv-1 vi-l tp-10">
                            <div class="q_inr">
                <div class="q_data">
                    <div class="q_main">
                        <div class="q_inr p">
                            <div class="q_top">
                                <div class="headerWrapper p">
                                    <a id="share_12345-8" href="#" class="do makeForm share 12345-8"><span>+ Share</span></a>
                                    <a id="flag_12345-8" href="#" class="do makeForm flag 12345-8"><span>Flag</span></a>
                                    <a id="delete_12345-8" href="#" class="do action deleteItem 12345-8"><span>Delete</span></a>
                                    <div class="q_clear"></div>
                                </div>
                            </div>
                            <div class="q_main_body">
                                <div class="q_txt">
                                    <p class="itemName caption type-">test?</p>
                                </div>
                                <div class="upVote wrap topic"><a href="#" class="do action upVote 12345-8 topic">yes (<span class="voted">0</span>)</a></div>
                                <div class="downVote wrap topic"><a href="#" class="do action downVote 12345-8 topic">no (<span class="voted">0</span>)</a></div>
                                <div class="q_clear"></div>
                            </div>
                            <div class="q_main_footer">
                                <div class="q_main_user">
                                    <div class="q_thumbnail">
                                        
                                        <img width="30" height="30" src="http://a0.twimg.com/profile_images/2793955592/297b32ce863d62ad496ccfab30b98ec2_normal.jpeg" onerror="ImgError(this, 'http://qrate.co/img/blank.gif')" />
                                        
                                    </div>
                                    <div class="q_user_info">
                                        
                                        <span class="q_usr"></span>
                                        
                                        <span class="time">0 seconds ago</span>
                                    </div>
                                    <div class="q_clear"></div>
                                </div>
                            </div>

                            <div class="q_bottom lv-1">
                                <fieldset class="reply bottom">
                                    <legend>Reply</legend>
                                    <div class="replyWrapper">
                                        <div class="inner">
                                            <a id="reply_12345-8" href="#" class="do makeForm replyComment 12345-8 reply"><span>Reply (<span class="replycount">0</span>)</span></a>
                                            <a id="toggle_12345-8" href="#" class="toggleReply tco-8 expand"><span></span></a>
                                            <div class="q_clear"></div>
                                        </div>
                                    </div>
                                    <div class="vote wrapper topic">
                                        <div class="inner">
                                            <div class="upVote wrap"><!-- <a href="#" class="do action upVote 12345-8"><span class="voted">0</span></a> --></div>
                                            <div class="downVote wrap"><!-- <a href="#" class="do action downVote 12345-8"><span class="voted">0</span></a> --></div>
                                            <div class="q_clear"></div>
                                        </div>
                                    </div>
                                </fieldset>
                                <div class="dyn 12345-8"></div>
                            </div>
                            <div class="q_clear"></div>
                        </div>
                    </div>
                </div>
                <div class="q_clear"></div>
            </div>
            <div class="q_clear"></div>
             
        
    

</div>

<div class="q_clear"></div>
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:escape_sql sql: 
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:escape_sql args: []
DEBUG:root:
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x106ff4c10>
DEBUG:root:Number of contributions 8
INFO:root:200 POST /q/feed (127.0.0.1)
DEBUG:root:oauth GET facebook login
DEBUG:root:provider_settings -> 
{'REQUEST_URL_ADDITIONAL_PARAMS': {'display': 'popup'}, 'PROVIDER_TAG': 'fb', 'OAUTH_VERSION': '2.0', 'REDIRECT_URL': 'http://qoorate.sethmurphy.com/q/oauth/facebook/callback', 'SCOPE': 'user_about_me, email, user_location, publish_stream', 'REQUEST_URL': 'https://www.facebook.com/dialog/oauth', 'TEST_OAUTH_DATA': {'username': 'sethmurph', 'last_name': 'Murphy', 'locale': 'en_US', 'expires': '6021', 'link': 'http://www.facebook.com/sethmurph', 'timezone': -5, 'id': '1276883229', 'first_name': 'Seth', 'verified': True, 'name': 'Seth Murphy', 'access_token': 'AAADp76u74OwBAOkELCi8wtbD4YBiPBpHIhYkZBZCKIzFjm49Jrq6NNAZAJN9ZCSvXvNEnjTdED1nW6VdZCcZAlpkZB2ZBi5dvB6MeQeqaoZBGm2UscZB2MLb2p', 'work': [{'position': {'id': '148485888500795', 'name': 'Founder'}, 'start_date': '2011-03', 'employer': {'id': '171723742885121', 'name': 'Brooklyn Code Incorporated'}, 'description': 'Think Globally, Develop Locally', 'location': {'id': '112111905481230', 'name': 'Brooklyn, New York'}}], 'updated_time': '2011-12-26T11:18:15+0000'}, 'APP_SECRET': '44761cfe50d6dadb473bf40b3a7485c3', 'APP_ID': '240619149352079', 'USER_INFO': [['https://graph.facebook.com/me', [['username', ['username']], ['name', ['name']], ['fullname', [['first_name'], ['last_name']], '%s %s'], ['oauth_uid', ['id']], ['thumbnailLarge', ['id'], 'https://graph.facebook.com/%s/picture']]]], 'ACCESS_TOKEN_REQUEST_URL': 'https://graph.facebook.com/oauth/access_token', 'PROVIDER_NAME': 'facebook', 'ALIASES': [['oauth_access_token', ['access_token']]]}
DEBUG:root:onBeforeRedirect hook empty.
DEBUG:root:Redis server connected (127.0.0.1:6379)
DEBUG:root:Redis server connected (127.0.0.1:6379)
DEBUG:root:to_unicode
DEBUG:root:QOO51f460f57c582
DEBUG:root:QOO51f460f57c582
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:QOO51f460f57c582
DEBUG:root:QOO51f460f57c582
DEBUG:root:to_unicode
DEBUG:root:oauth_request_model_id: 7246e635-f7f8-11e2-80e7-20c9d07e30f7
DEBUG:root:initial_arguments: {"QOOTID": ["QOOT51f460f57c593"], "QOOID": ["QOO51f460f57c582"], "q_short_name": ["12345"]}
DEBUG:root:shield_value: {"api_id":"7246e635-f7f8-11e2-80e7-20c9d07e30f7","data":"","error_message":null,"id":"7246e635-f7f8-11e2-80e7-20c9d07e30f7","initial_request_args":"{\"QOOTID\": [\"QOOT51f460f57c593\"], \"QOOID\": [\"QOO51f460f57c582\"], \"q_short_name\": [\"12345\"]}","provider":"facebook","provider_tag":"fb","session_id":"QOO51f460f57c582","token":"","token_secret":""}
DEBUG:root:shield_key: 7246e635-f7f8-11e2-80e7-20c9d07e30f7
DEBUG:root:result: 1
DEBUG:root:query_params key: scope
DEBUG:root:query_params key: state
DEBUG:root:query_params key: redirect_uri
DEBUG:root:query_params key: display
DEBUG:root:query_params key: client_id
DEBUG:root:facebook url https://www.facebook.com/dialog/oauth?scope=user_about_me, email, user_location, publish_stream&state=7246e635-f7f8-11e2-80e7-20c9d07e30f7&redirect_uri=http://qoorate.sethmurphy.com/q/oauth/facebook/callback&display=popup&client_id=240619149352079
DEBUG:root:Redirecting to url: https://www.facebook.com/dialog/oauth?scope=user_about_me, email, user_location, publish_stream&state=7246e635-f7f8-11e2-80e7-20c9d07e30f7&redirect_uri=http://qoorate.sethmurphy.com/q/oauth/facebook/callback&display=popup&client_id=240619149352079
INFO:root:302 GET /q/oauth/facebook/login (127.0.0.1)
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:set_table has q_short_name (12345)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10655b050>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has q_short_name (12345)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10655b190>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:feed.prepare, table: q_brooklyncode
DEBUG:root:FeedHandler post
DEBUG:root:Body -> 
 action=validateLogin&QOOID=QOO51f460f57c582&QOOTID=QOOT51f460f57c593&q_short_name=12345
DEBUG:root:Arguments -> 
 {"action": ["validateLogin"], "QOOID": ["QOO51f460f57c582"], "q_short_name": ["12345"], "QOOTID": ["QOOT51f460f57c593"]}
DEBUG:root:to_unicode
DEBUG:root:validateLogin
DEBUG:root:validateLogin
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:validateLogin
DEBUG:root:validateLogin
DEBUG:root:to_unicode
DEBUG:root:action: validateLogin
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10655b390>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10655b590>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10655b790>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x106553750>
INFO:root:200 POST /q/feed (127.0.0.1)
DEBUG:root:oauth GET twitter login
DEBUG:root:provider_settings -> 
{'REQUEST_TOKEN_URL_PATH': '/oauth/request_token', 'PROVIDER_TAG': 'tw', 'CONSUMER_SECRET': 'rJ5KZuTfumapW19O4IOdyKq0B5EIyFydGORkCas6Qg', 'OAUTH_VERSION': '1.0a', 'CALLBACK_URL': 'http://127.0.0.1/q/oauth/twitter/callback', 'CONSUMER_KEY': 'Rx5YrdsnGslwNEpALTowYA', 'REQUEST_TOKEN_URL': 'https://api.twitter.com/oauth/request_token', 'ACCESS_TOKEN_URL': 'https://api.twitter.com/oauth/access_token', 'AUTHORIZE_URL': 'https://api.twitter.com/oauth/authorize', 'USER_INFO': [['https://api.twitter.com/1.1/account/verify_credentials.json', [['username', ['screen_name']], ['email', ['screen_name']], ['oauth_uid', ['id']], ['thumbnailLarge', ['profile_image_url']]]]], 'PROVIDER_NAME': 'twitter', 'REQUEST_TOKEN_URL_HOST': 'https://api.twitter.com', 'ALIASES': [['fullname', ['name']], ['oauth_access_token', ['oauth_token']]]}
DEBUG:root:onBeforeRedirect hook empty.
DEBUG:root:Redis server connected (127.0.0.1:6379)
DEBUG:root:Redis server connected (127.0.0.1:6379)
DEBUG:root:to_unicode
DEBUG:root:QOO51f460f57c582
DEBUG:root:QOO51f460f57c582
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:QOO51f460f57c582
DEBUG:root:QOO51f460f57c582
DEBUG:root:to_unicode
DEBUG:root:oauth_callback: http://127.0.0.1/q/oauth/twitter/callback
DEBUG:root:_request oauth_secret: 
DEBUG:root:query_params -> 
{'oauth_version': '1.0', 'oauth_nonce': '46f25adde3e8926a708cb7d8782fef49', 'oauth_timestamp': '1375065736', 'oauth_consumer_key': 'Rx5YrdsnGslwNEpALTowYA', 'oauth_signature_method': 'HMAC-SHA1', 'oauth_callback': 'http://127.0.0.1/q/oauth/twitter/callback'}
DEBUG:root:signature_base_string: POST&https%3A%2F%2Fapi.twitter.com%2Foauth%2Frequest_token&oauth_callback%3Dhttp%253A%252F%252F127.0.0.1%252Fq%252Foauth%252Ftwitter%252Fcallback%26oauth_consumer_key%3DRx5YrdsnGslwNEpALTowYA%26oauth_nonce%3D46f25adde3e8926a708cb7d8782fef49%26oauth_signature_method%3DHMAC-SHA1%26oauth_timestamp%3D1375065736%26oauth_version%3D1.0
DEBUG:root:signature_key: rJ5KZuTfumapW19O4IOdyKq0B5EIyFydGORkCas6Qg&
DEBUG:root:oauth_signature: HGQONdV2+19zZ4Mz5OdA70xffz4=
DEBUG:root:Authorization: OAuth oauth_callback="http%3A%2F%2F127.0.0.1%2Fq%2Foauth%2Ftwitter%2Fcallback", oauth_consumer_key="Rx5YrdsnGslwNEpALTowYA", oauth_nonce="46f25adde3e8926a708cb7d8782fef49", oauth_signature="HGQONdV2%2B19zZ4Mz5OdA70xffz4%3D", oauth_signature_method="HMAC-SHA1", oauth_timestamp="1375065736", oauth_version="1.0"


INFO:requests.packages.urllib3.connectionpool:Starting new HTTPS connection (1): api.twitter.com
DEBUG:requests.packages.urllib3.connectionpool:"POST /oauth/request_token HTTP/1.1" 200 150
DEBUG:root:content -> 
oauth_token=ruBATXwklRkl8oMIQOLQDlyAWcbwSjZRAyBzxnRKqQw&oauth_token_secret=lLvCJ2MZQcuI9DQrs18MMlUe18gHpNT84nZL05wys&oauth_callback_confirmed=true
DEBUG:root:token_secret: lLvCJ2MZQcuI9DQrs18MMlUe18gHpNT84nZL05wys
DEBUG:root:data -> 
{'token': 'ruBATXwklRkl8oMIQOLQDlyAWcbwSjZRAyBzxnRKqQw', 'provider_tag': 'tw', 'token_secret': 'lLvCJ2MZQcuI9DQrs18MMlUe18gHpNT84nZL05wys', 'provider': 'twitter', 'session_id': u'QOO51f460f57c582', 'data': '{"oauth_token_secret": "lLvCJ2MZQcuI9DQrs18MMlUe18gHpNT84nZL05wys", "oauth_token": "ruBATXwklRkl8oMIQOLQDlyAWcbwSjZRAyBzxnRKqQw", "oauth_callback_confirmed": "true"}', 'id': 'ruBATXwklRkl8oMIQOLQDlyAWcbwSjZRAyBzxnRKqQw', 'api_id': 'ruBATXwklRkl8oMIQOLQDlyAWcbwSjZRAyBzxnRKqQw', 'initial_request_args': '{"QOOTID": ["QOOT51f460f57c593"], "QOOID": ["QOO51f460f57c582"], "q_short_name": ["12345"]}'}
DEBUG:root:shield_value: {"api_id":"ruBATXwklRkl8oMIQOLQDlyAWcbwSjZRAyBzxnRKqQw","data":"{\"oauth_token_secret\": \"lLvCJ2MZQcuI9DQrs18MMlUe18gHpNT84nZL05wys\", \"oauth_token\": \"ruBATXwklRkl8oMIQOLQDlyAWcbwSjZRAyBzxnRKqQw\", \"oauth_callback_confirmed\": \"true\"}","error_message":null,"id":"ruBATXwklRkl8oMIQOLQDlyAWcbwSjZRAyBzxnRKqQw","initial_request_args":"{\"QOOTID\": [\"QOOT51f460f57c593\"], \"QOOID\": [\"QOO51f460f57c582\"], \"q_short_name\": [\"12345\"]}","provider":"twitter","provider_tag":"tw","session_id":"QOO51f460f57c582","token":"ruBATXwklRkl8oMIQOLQDlyAWcbwSjZRAyBzxnRKqQw","token_secret":"lLvCJ2MZQcuI9DQrs18MMlUe18gHpNT84nZL05wys"}
DEBUG:root:shield_key: ruBATXwklRkl8oMIQOLQDlyAWcbwSjZRAyBzxnRKqQw
DEBUG:root:result: 1
DEBUG:root:Redirecting to url: https://api.twitter.com/oauth/authorize?oauth_token=ruBATXwklRkl8oMIQOLQDlyAWcbwSjZRAyBzxnRKqQw
INFO:root:302 GET /q/oauth/twitter/login (127.0.0.1)
DEBUG:root:oauth GET twitter callback
DEBUG:root:provider_settings -> 
{'REQUEST_TOKEN_URL_PATH': '/oauth/request_token', 'PROVIDER_TAG': 'tw', 'CONSUMER_SECRET': 'rJ5KZuTfumapW19O4IOdyKq0B5EIyFydGORkCas6Qg', 'OAUTH_VERSION': '1.0a', 'CALLBACK_URL': 'http://127.0.0.1/q/oauth/twitter/callback', 'CONSUMER_KEY': 'Rx5YrdsnGslwNEpALTowYA', 'REQUEST_TOKEN_URL': 'https://api.twitter.com/oauth/request_token', 'ACCESS_TOKEN_URL': 'https://api.twitter.com/oauth/access_token', 'AUTHORIZE_URL': 'https://api.twitter.com/oauth/authorize', 'USER_INFO': [['https://api.twitter.com/1.1/account/verify_credentials.json', [['username', ['screen_name']], ['email', ['screen_name']], ['oauth_uid', ['id']], ['thumbnailLarge', ['profile_image_url']]]]], 'PROVIDER_NAME': 'twitter', 'REQUEST_TOKEN_URL_HOST': 'https://api.twitter.com', 'ALIASES': [['fullname', ['name']], ['oauth_access_token', ['oauth_token']]]}
DEBUG:root:to_unicode
DEBUG:root:ruBATXwklRkl8oMIQOLQDlyAWcbwSjZRAyBzxnRKqQw
DEBUG:root:ruBATXwklRkl8oMIQOLQDlyAWcbwSjZRAyBzxnRKqQw
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:ruBATXwklRkl8oMIQOLQDlyAWcbwSjZRAyBzxnRKqQw
DEBUG:root:ruBATXwklRkl8oMIQOLQDlyAWcbwSjZRAyBzxnRKqQw
DEBUG:root:to_unicode
DEBUG:root:self.oauth_token: ruBATXwklRkl8oMIQOLQDlyAWcbwSjZRAyBzxnRKqQw
DEBUG:root:Redis server connected (127.0.0.1:6379)
DEBUG:root:Redis server connected (127.0.0.1:6379)
DEBUG:root:results: 2
DEBUG:root:results[0]: OK
DEBUG:root:results[1]: {u'session_id': u'QOO51f460f57c582', u'token_secret': u'lLvCJ2MZQcuI9DQrs18MMlUe18gHpNT84nZL05wys', u'error_message': None, u'api_id': u'ruBATXwklRkl8oMIQOLQDlyAWcbwSjZRAyBzxnRKqQw', u'token': u'ruBATXwklRkl8oMIQOLQDlyAWcbwSjZRAyBzxnRKqQw', u'provider_tag': u'tw', u'provider': u'twitter', u'data': u'{"oauth_token_secret": "lLvCJ2MZQcuI9DQrs18MMlUe18gHpNT84nZL05wys", "oauth_token": "ruBATXwklRkl8oMIQOLQDlyAWcbwSjZRAyBzxnRKqQw", "oauth_callback_confirmed": "true"}', u'id': u'ruBATXwklRkl8oMIQOLQDlyAWcbwSjZRAyBzxnRKqQw', u'initial_request_args': u'{"QOOTID": ["QOOT51f460f57c593"], "QOOID": ["QOO51f460f57c582"], "q_short_name": ["12345"]}'}
DEBUG:root:data: {u'session_id': u'QOO51f460f57c582', u'token_secret': u'lLvCJ2MZQcuI9DQrs18MMlUe18gHpNT84nZL05wys', u'error_message': None, u'api_id': u'ruBATXwklRkl8oMIQOLQDlyAWcbwSjZRAyBzxnRKqQw', u'token': u'ruBATXwklRkl8oMIQOLQDlyAWcbwSjZRAyBzxnRKqQw', u'provider_tag': u'tw', u'provider': u'twitter', u'data': u'{"oauth_token_secret": "lLvCJ2MZQcuI9DQrs18MMlUe18gHpNT84nZL05wys", "oauth_token": "ruBATXwklRkl8oMIQOLQDlyAWcbwSjZRAyBzxnRKqQw", "oauth_callback_confirmed": "true"}', u'id': u'ruBATXwklRkl8oMIQOLQDlyAWcbwSjZRAyBzxnRKqQw', u'initial_request_args': u'{"QOOTID": ["QOOT51f460f57c593"], "QOOID": ["QOO51f460f57c582"], "q_short_name": ["12345"]}'}
DEBUG:root:self.oauth_token: ruBATXwklRkl8oMIQOLQDlyAWcbwSjZRAyBzxnRKqQw
DEBUG:root:results: 2
DEBUG:root:results[0]: OK
DEBUG:root:results[1]: {u'session_id': u'QOO51f460f57c582', u'token_secret': u'lLvCJ2MZQcuI9DQrs18MMlUe18gHpNT84nZL05wys', u'error_message': None, u'api_id': u'ruBATXwklRkl8oMIQOLQDlyAWcbwSjZRAyBzxnRKqQw', u'token': u'ruBATXwklRkl8oMIQOLQDlyAWcbwSjZRAyBzxnRKqQw', u'provider_tag': u'tw', u'provider': u'twitter', u'data': u'{"oauth_token_secret": "lLvCJ2MZQcuI9DQrs18MMlUe18gHpNT84nZL05wys", "oauth_token": "ruBATXwklRkl8oMIQOLQDlyAWcbwSjZRAyBzxnRKqQw", "oauth_callback_confirmed": "true"}', u'id': u'ruBATXwklRkl8oMIQOLQDlyAWcbwSjZRAyBzxnRKqQw', u'initial_request_args': u'{"QOOTID": ["QOOT51f460f57c593"], "QOOID": ["QOO51f460f57c582"], "q_short_name": ["12345"]}'}
DEBUG:root:data: {u'session_id': u'QOO51f460f57c582', u'token_secret': u'lLvCJ2MZQcuI9DQrs18MMlUe18gHpNT84nZL05wys', u'error_message': None, u'api_id': u'ruBATXwklRkl8oMIQOLQDlyAWcbwSjZRAyBzxnRKqQw', u'token': u'ruBATXwklRkl8oMIQOLQDlyAWcbwSjZRAyBzxnRKqQw', u'provider_tag': u'tw', u'provider': u'twitter', u'data': u'{"oauth_token_secret": "lLvCJ2MZQcuI9DQrs18MMlUe18gHpNT84nZL05wys", "oauth_token": "ruBATXwklRkl8oMIQOLQDlyAWcbwSjZRAyBzxnRKqQw", "oauth_callback_confirmed": "true"}', u'id': u'ruBATXwklRkl8oMIQOLQDlyAWcbwSjZRAyBzxnRKqQw', u'initial_request_args': u'{"QOOTID": ["QOOT51f460f57c593"], "QOOID": ["QOO51f460f57c582"], "q_short_name": ["12345"]}'}
DEBUG:root:Merged arguments: {"QOOTID": ["QOOT51f460f57c593"], "oauth_token": ["ruBATXwklRkl8oMIQOLQDlyAWcbwSjZRAyBzxnRKqQw"], "oauth_verifier": ["zbDy8aFZM0TGIumdJNihzmi4bMYmkR0b1YbGdAIq3w"], "q_short_name": ["12345"], "QOOID": ["QOO51f460f57c582"]}
DEBUG:root:to_unicode
DEBUG:root:zbDy8aFZM0TGIumdJNihzmi4bMYmkR0b1YbGdAIq3w
DEBUG:root:zbDy8aFZM0TGIumdJNihzmi4bMYmkR0b1YbGdAIq3w
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:zbDy8aFZM0TGIumdJNihzmi4bMYmkR0b1YbGdAIq3w
DEBUG:root:zbDy8aFZM0TGIumdJNihzmi4bMYmkR0b1YbGdAIq3w
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:QOO51f460f57c582
DEBUG:root:QOO51f460f57c582
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:QOO51f460f57c582
DEBUG:root:QOO51f460f57c582
DEBUG:root:to_unicode
DEBUG:root:oauth_token: ruBATXwklRkl8oMIQOLQDlyAWcbwSjZRAyBzxnRKqQw
DEBUG:root:oauth_verifier: zbDy8aFZM0TGIumdJNihzmi4bMYmkR0b1YbGdAIq3w
DEBUG:root:_request oauth_secret: lLvCJ2MZQcuI9DQrs18MMlUe18gHpNT84nZL05wys
DEBUG:root:oauth_token: ruBATXwklRkl8oMIQOLQDlyAWcbwSjZRAyBzxnRKqQw
DEBUG:root:query_params -> 
{'oauth_nonce': 'eb887142fa910638c995dac546e47b53', 'oauth_timestamp': '1375065744', 'oauth_verifier': u'zbDy8aFZM0TGIumdJNihzmi4bMYmkR0b1YbGdAIq3w', 'oauth_consumer_key': 'Rx5YrdsnGslwNEpALTowYA', 'oauth_signature_method': 'HMAC-SHA1', 'oauth_version': '1.0', 'oauth_token': u'ruBATXwklRkl8oMIQOLQDlyAWcbwSjZRAyBzxnRKqQw'}
DEBUG:root:signature_base_string: POST&https%3A%2F%2Fapi.twitter.com%2Foauth%2Faccess_token&oauth_consumer_key%3DRx5YrdsnGslwNEpALTowYA%26oauth_nonce%3Deb887142fa910638c995dac546e47b53%26oauth_signature_method%3DHMAC-SHA1%26oauth_timestamp%3D1375065744%26oauth_token%3DruBATXwklRkl8oMIQOLQDlyAWcbwSjZRAyBzxnRKqQw%26oauth_verifier%3DzbDy8aFZM0TGIumdJNihzmi4bMYmkR0b1YbGdAIq3w%26oauth_version%3D1.0
DEBUG:root:signature_key: rJ5KZuTfumapW19O4IOdyKq0B5EIyFydGORkCas6Qg&lLvCJ2MZQcuI9DQrs18MMlUe18gHpNT84nZL05wys
DEBUG:root:oauth_signature: tPdh+/kydcdOq/1F/4StyKDlAko=
DEBUG:root:Authorization: OAuth oauth_consumer_key="Rx5YrdsnGslwNEpALTowYA", oauth_nonce="eb887142fa910638c995dac546e47b53", oauth_signature="tPdh%2B%2FkydcdOq%2F1F%2F4StyKDlAko%3D", oauth_signature_method="HMAC-SHA1", oauth_timestamp="1375065744", oauth_token="ruBATXwklRkl8oMIQOLQDlyAWcbwSjZRAyBzxnRKqQw", oauth_verifier="zbDy8aFZM0TGIumdJNihzmi4bMYmkR0b1YbGdAIq3w", oauth_version="1.0"


INFO:requests.packages.urllib3.connectionpool:Starting new HTTPS connection (1): api.twitter.com
DEBUG:requests.packages.urllib3.connectionpool:"POST /oauth/access_token HTTP/1.1" 200 164
DEBUG:root:content -> 
oauth_token=130129446-PCcEAgHSZlt6TBwn18MRxICxBcrubk1vPmKrzOjA&oauth_token_secret=BM9GwN5hxMuRsuzQ3ktGnFkrjPvoNgWlQKtNdVp0K0&user_id=130129446&screen_name=sethdroid
DEBUG:root:provider_settings: {'REQUEST_TOKEN_URL_PATH': '/oauth/request_token', 'PROVIDER_TAG': 'tw', 'CONSUMER_SECRET': 'rJ5KZuTfumapW19O4IOdyKq0B5EIyFydGORkCas6Qg', 'OAUTH_VERSION': '1.0a', 'CALLBACK_URL': 'http://127.0.0.1/q/oauth/twitter/callback', 'CONSUMER_KEY': 'Rx5YrdsnGslwNEpALTowYA', 'REQUEST_TOKEN_URL': 'https://api.twitter.com/oauth/request_token', 'ACCESS_TOKEN_URL': 'https://api.twitter.com/oauth/access_token', 'AUTHORIZE_URL': 'https://api.twitter.com/oauth/authorize', 'USER_INFO': [['https://api.twitter.com/1.1/account/verify_credentials.json', [['username', ['screen_name']], ['email', ['screen_name']], ['oauth_uid', ['id']], ['thumbnailLarge', ['profile_image_url']]]]], 'PROVIDER_NAME': 'twitter', 'REQUEST_TOKEN_URL_HOST': 'https://api.twitter.com', 'ALIASES': [['fullname', ['name']], ['oauth_access_token', ['oauth_token']]]}
DEBUG:root:oauth_token: 130129446-PCcEAgHSZlt6TBwn18MRxICxBcrubk1vPmKrzOjA
DEBUG:root:_request oauth_secret: BM9GwN5hxMuRsuzQ3ktGnFkrjPvoNgWlQKtNdVp0K0
DEBUG:root:oauth_token: 130129446-PCcEAgHSZlt6TBwn18MRxICxBcrubk1vPmKrzOjA
DEBUG:root:query_params -> 
{'oauth_nonce': '940d8f39f81cf963e074da2231ea1075', 'oauth_timestamp': '1375065750', 'oauth_consumer_key': 'Rx5YrdsnGslwNEpALTowYA', 'oauth_signature_method': 'HMAC-SHA1', 'oauth_version': '1.0', 'oauth_token': '130129446-PCcEAgHSZlt6TBwn18MRxICxBcrubk1vPmKrzOjA'}
DEBUG:root:signature_base_string: GET&https%3A%2F%2Fapi.twitter.com%2F1.1%2Faccount%2Fverify_credentials.json&oauth_consumer_key%3DRx5YrdsnGslwNEpALTowYA%26oauth_nonce%3D940d8f39f81cf963e074da2231ea1075%26oauth_signature_method%3DHMAC-SHA1%26oauth_timestamp%3D1375065750%26oauth_token%3D130129446-PCcEAgHSZlt6TBwn18MRxICxBcrubk1vPmKrzOjA%26oauth_version%3D1.0
DEBUG:root:signature_key: rJ5KZuTfumapW19O4IOdyKq0B5EIyFydGORkCas6Qg&BM9GwN5hxMuRsuzQ3ktGnFkrjPvoNgWlQKtNdVp0K0
DEBUG:root:oauth_signature: B/KtQDwZ5edAb5Og7uAxD3zx+yA=
DEBUG:root:Authorization: OAuth oauth_consumer_key="Rx5YrdsnGslwNEpALTowYA", oauth_nonce="940d8f39f81cf963e074da2231ea1075", oauth_signature="B%2FKtQDwZ5edAb5Og7uAxD3zx%2ByA%3D", oauth_signature_method="HMAC-SHA1", oauth_timestamp="1375065750", oauth_token="130129446-PCcEAgHSZlt6TBwn18MRxICxBcrubk1vPmKrzOjA", oauth_version="1.0"


INFO:requests.packages.urllib3.connectionpool:Starting new HTTPS connection (1): api.twitter.com
DEBUG:requests.packages.urllib3.connectionpool:"GET /1.1/account/verify_credentials.json HTTP/1.1" 200 731
DEBUG:root:content -> 
{"id":130129446,"id_str":"130129446","name":"Seth Droid","screen_name":"sethdroid","location":"","description":"","url":null,"entities":{"description":{"urls":[]}},"protected":false,"followers_count":5,"friends_count":4,"listed_count":0,"created_at":"Tue Apr 06 11:50:01 +0000 2010","favourites_count":0,"utc_offset":null,"time_zone":null,"geo_enabled":false,"verified":false,"statuses_count":10,"lang":"en","status":{"created_at":"Wed Jun 29 11:42:39 +0000 2011","id":86036855472128000,"id_str":"86036855472128000","text":"#brooklynshould #getontheleaderboard","source":"web","truncated":false,"in_reply_to_status_id":null,"in_reply_to_status_id_str":null,"in_reply_to_user_id":null,"in_reply_to_user_id_str":null,"in_reply_to_screen_name":null,"geo":null,"coordinates":null,"place":null,"contributors":null,"retweet_count":0,"favorite_count":0,"entities":{"hashtags":[{"text":"brooklynshould","indices":[0,15]},{"text":"getontheleaderboard","indices":[16,36]}],"symbols":[],"urls":[],"user_mentions":[]},"favorited":false,"retweeted":false,"lang":"en"},"contributors_enabled":false,"is_translator":false,"profile_background_color":"C0DEED","profile_background_image_url":"http:\/\/a0.twimg.com\/images\/themes\/theme1\/bg.png","profile_background_image_url_https":"https:\/\/si0.twimg.com\/images\/themes\/theme1\/bg.png","profile_background_tile":false,"profile_image_url":"http:\/\/a0.twimg.com\/sticky\/default_profile_images\/default_profile_6_normal.png","profile_image_url_https":"https:\/\/si0.twimg.com\/sticky\/default_profile_images\/default_profile_6_normal.png","profile_link_color":"0084B4","profile_sidebar_border_color":"C0DEED","profile_sidebar_fill_color":"DDEEF6","profile_text_color":"333333","profile_use_background_image":true,"default_profile":true,"default_profile_image":true,"following":false,"follow_request_sent":false,"notifications":false}
DEBUG:root:user_info field: username
DEBUG:root:user_info simple field value
DEBUG:root:user_info joining [u'sethdroid']
DEBUG:root:user_info field[0], value: username, sethdroid
DEBUG:root:user_info field: email
DEBUG:root:user_info simple field value
DEBUG:root:user_info joining [u'sethdroid']
DEBUG:root:user_info field[0], value: email, sethdroid
DEBUG:root:user_info field: oauth_uid
DEBUG:root:user_info simple field value
DEBUG:root:user_info joining [130129446]
DEBUG:root:user_info field[0], value: oauth_uid, 130129446
DEBUG:root:user_info field: thumbnailLarge
DEBUG:root:user_info simple field value
DEBUG:root:user_info joining [u'http://a0.twimg.com/sticky/default_profile_images/default_profile_6_normal.png']
DEBUG:root:user_info field[0], value: thumbnailLarge, http://a0.twimg.com/sticky/default_profile_images/default_profile_6_normal.png
DEBUG:root:user_info field: fullname
DEBUG:root:user_info simple field value
DEBUG:root:user_info joining [u'Seth Droid']
DEBUG:root:user_info field[0], value: fullname, Seth Droid
DEBUG:root:user_info field: oauth_access_token
DEBUG:root:user_info simple field value
DEBUG:root:user_info joining ['130129446-PCcEAgHSZlt6TBwn18MRxICxBcrubk1vPmKrzOjA']
DEBUG:root:user_info field[0], value: oauth_access_token, 130129446-PCcEAgHSZlt6TBwn18MRxICxBcrubk1vPmKrzOjA
DEBUG:root:data -> 
{u'status': {u'lang': u'en', u'favorited': False, u'entities': {u'symbols': [], u'user_mentions': [], u'hashtags': [{u'indices': [0, 15], u'text': u'brooklynshould'}, {u'indices': [16, 36], u'text': u'getontheleaderboard'}], u'urls': []}, u'contributors': None, u'truncated': False, u'text': u'#brooklynshould #getontheleaderboard', u'created_at': u'Wed Jun 29 11:42:39 +0000 2011', u'retweeted': False, u'in_reply_to_status_id_str': None, u'coordinates': None, u'in_reply_to_user_id_str': None, u'source': u'web', u'in_reply_to_status_id': None, u'in_reply_to_screen_name': None, u'id_str': u'86036855472128000', u'place': None, u'retweet_count': 0, u'geo': None, u'id': 86036855472128000, u'favorite_count': 0, u'in_reply_to_user_id': None}, u'follow_request_sent': False, 'thumbnailLarge': 'http://a0.twimg.com/sticky/default_profile_images/default_profile_6_normal.png', 'oauth_token_secret': 'BM9GwN5hxMuRsuzQ3ktGnFkrjPvoNgWlQKtNdVp0K0', u'time_zone': None, u'id': 130129446, 'oauth_access_token': '130129446-PCcEAgHSZlt6TBwn18MRxICxBcrubk1vPmKrzOjA', u'description': u'', 'user_id': '130129446', u'entities': {u'description': {u'urls': []}}, u'profile_text_color': u'333333', u'profile_image_url_https': u'https://si0.twimg.com/sticky/default_profile_images/default_profile_6_normal.png', u'profile_sidebar_fill_color': u'DDEEF6', u'is_translator': False, u'geo_enabled': False, u'profile_use_background_image': True, u'followers_count': 5, u'protected': False, u'id_str': u'130129446', u'default_profile_image': True, 'email': 'sethdroid', u'listed_count': 0, 'username': 'sethdroid', u'utc_offset': None, u'statuses_count': 10, u'profile_background_color': u'C0DEED', u'friends_count': 4, u'profile_link_color': u'0084B4', u'profile_image_url': u'http://a0.twimg.com/sticky/default_profile_images/default_profile_6_normal.png', u'notifications': False, u'verified': False, u'profile_background_image_url_https': u'https://si0.twimg.com/images/themes/theme1/bg.png', u'profile_background_image_url': u'http://a0.twimg.com/images/themes/theme1/bg.png', u'name': u'Seth Droid', u'lang': u'en', u'profile_background_tile': False, u'favourites_count': 0, 'screen_name': u'sethdroid', u'url': None, u'created_at': u'Tue Apr 06 11:50:01 +0000 2010', 'oauth_uid': '130129446', u'contributors_enabled': False, u'location': u'', u'profile_sidebar_border_color': u'C0DEED', 'oauth_token': '130129446-PCcEAgHSZlt6TBwn18MRxICxBcrubk1vPmKrzOjA', u'default_profile': True, u'following': False, 'fullname': 'Seth Droid'} 
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:set_table has q_short_name (12345)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1065537d0>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:User authenticated -> 
 {'username': u'sethdroid', 'thumbnailLarge': u'http://a0.twimg.com/sticky/default_profile_images/default_profile_6_normal.png', 'oauth_data': '{"username": "sethdroid", "follow_request_sent": false, "thumbnailLarge": "http://a0.twimg.com/sticky/default_profile_images/default_profile_6_normal.png", "oauth_token_secret": "BM9GwN5hxMuRsuzQ3ktGnFkrjPvoNgWlQKtNdVp0K0", "contributors_enabled": false, "profile_use_background_image": true, "id": 130129446, "oauth_access_token": "130129446-PCcEAgHSZlt6TBwn18MRxICxBcrubk1vPmKrzOjA", "user_id": "130129446", "entities": {"description": {"urls": []}}, "profile_image_url_https": "https://si0.twimg.com/sticky/default_profile_images/default_profile_6_normal.png", "profile_sidebar_fill_color": "DDEEF6", "profile_text_color": "333333", "followers_count": 5, "profile_sidebar_border_color": "C0DEED", "id_str": "130129446", "default_profile_image": true, "email": "sethdroid", "listed_count": 0, "status": {"lang": "en", "favorited": false, "in_reply_to_user_id": null, "contributors": null, "truncated": false, "text": "#brooklynshould #getontheleaderboard", "created_at": "Wed Jun 29 11:42:39 +0000 2011", "retweeted": false, "in_reply_to_status_id": null, "coordinates": null, "id": 86036855472128000, "entities": {"symbols": [], "user_mentions": [], "hashtags": [{"indices": [0, 15], "text": "brooklynshould"}, {"indices": [16, 36], "text": "getontheleaderboard"}], "urls": []}, "in_reply_to_status_id_str": null, "in_reply_to_screen_name": null, "source": "web", "place": null, "retweet_count": 0, "geo": null, "in_reply_to_user_id_str": null, "favorite_count": 0, "id_str": "86036855472128000"}, "utc_offset": null, "statuses_count": 10, "description": "", "friends_count": 4, "location": "", "profile_link_color": "0084B4", "profile_image_url": "http://a0.twimg.com/sticky/default_profile_images/default_profile_6_normal.png", "notifications": false, "verified": false, "geo_enabled": false, "profile_background_color": "C0DEED", "profile_background_image_url": "http://a0.twimg.com/images/themes/theme1/bg.png", "screen_name": "sethdroid", "lang": "en", "following": false, "profile_background_tile": false, "favourites_count": 0, "name": "Seth Droid", "url": null, "created_at": "Tue Apr 06 11:50:01 +0000 2010", "oauth_uid": "130129446", "profile_background_image_url_https": "https://si0.twimg.com/images/themes/theme1/bg.png", "time_zone": null, "protected": false, "oauth_token": "130129446-PCcEAgHSZlt6TBwn18MRxICxBcrubk1vPmKrzOjA", "default_profile": true, "is_translator": false, "fullname": "Seth Droid"}', 'oauth_session_id': u'QOO51f460f57c582', 'password': None, 'changeDate': datetime.datetime(2013, 7, 28, 22, 42, 30, 595290), 'oauth_uid': u'130129446', 'oauth_provider': u'tw', 'createDate': datetime.datetime(2013, 7, 28, 22, 42, 30, 595290), 'oauth_access_token': u'130129446-PCcEAgHSZlt6TBwn18MRxICxBcrubk1vPmKrzOjA', 'email': u'sethdroid'}
DEBUG:root:initial_request_args:{u'QOOTID': [u'QOOT51f460f57c593'], u'QOOID': [u'QOO51f460f57c582'], u'q_short_name': [u'12345']}
DEBUG:root:execute
DEBUG:root:execute args: [u'QOO51f460f57c582']
DEBUG:root:escape_sql sql: 
            UPDATE `user` SET `oauth_session_id`= null WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: [u'QOO51f460f57c582']
DEBUG:root:
            UPDATE `user` SET `oauth_session_id`= null WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:execute: 
            UPDATE `user` SET `oauth_session_id`= null WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:MySqlApiQueryset create_one
DEBUG:root:MySqlApiQueryset create_one sql: 
                INSERT INTO `user` 
                set id=%s,role=%s,email=%s,password=%s,oauth_provider=%s,oauth_uid=%s,username=%s,location=%s,changeDate=%s,createDate=%s,thumbnailSmall=%s,thumbnailLarge=%s,oauth_session_id=%s,oauth_access_token=%s,oauth_data=%s,admin_role_qoorates=%s 
                ON DUPLICATE KEY UPDATE
                role=%s,email=%s,password=%s,oauth_provider=%s,oauth_uid=%s,username=%s,location=%s,changeDate=%s,thumbnailSmall=%s,thumbnailLarge=%s,oauth_session_id=%s,oauth_access_token=%s,oauth_data=%s
                
DEBUG:root:execute
DEBUG:root:execute args: [None, None, u'sethdroid', None, u'tw', u'130129446', u'sethdroid', None, datetime.datetime(2013, 7, 28, 22, 42, 30, 595290), datetime.datetime(2013, 7, 28, 22, 42, 30, 595290), None, u'http://a0.twimg.com/sticky/default_profile_images/default_profile_6_normal.png', u'QOO51f460f57c582', u'130129446-PCcEAgHSZlt6TBwn18MRxICxBcrubk1vPmKrzOjA', '{"username": "sethdroid", "follow_request_sent": false, "thumbnailLarge": "http://a0.twimg.com/sticky/default_profile_images/default_profile_6_normal.png", "oauth_token_secret": "BM9GwN5hxMuRsuzQ3ktGnFkrjPvoNgWlQKtNdVp0K0", "contributors_enabled": false, "profile_use_background_image": true, "id": 130129446, "oauth_access_token": "130129446-PCcEAgHSZlt6TBwn18MRxICxBcrubk1vPmKrzOjA", "user_id": "130129446", "entities": {"description": {"urls": []}}, "profile_image_url_https": "https://si0.twimg.com/sticky/default_profile_images/default_profile_6_normal.png", "profile_sidebar_fill_color": "DDEEF6", "profile_text_color": "333333", "followers_count": 5, "profile_sidebar_border_color": "C0DEED", "id_str": "130129446", "default_profile_image": true, "email": "sethdroid", "listed_count": 0, "status": {"lang": "en", "favorited": false, "in_reply_to_user_id": null, "contributors": null, "truncated": false, "text": "#brooklynshould #getontheleaderboard", "created_at": "Wed Jun 29 11:42:39 +0000 2011", "retweeted": false, "in_reply_to_status_id": null, "coordinates": null, "id": 86036855472128000, "entities": {"symbols": [], "user_mentions": [], "hashtags": [{"indices": [0, 15], "text": "brooklynshould"}, {"indices": [16, 36], "text": "getontheleaderboard"}], "urls": []}, "in_reply_to_status_id_str": null, "in_reply_to_screen_name": null, "source": "web", "place": null, "retweet_count": 0, "geo": null, "in_reply_to_user_id_str": null, "favorite_count": 0, "id_str": "86036855472128000"}, "utc_offset": null, "statuses_count": 10, "description": "", "friends_count": 4, "location": "", "profile_link_color": "0084B4", "profile_image_url": "http://a0.twimg.com/sticky/default_profile_images/default_profile_6_normal.png", "notifications": false, "verified": false, "geo_enabled": false, "profile_background_color": "C0DEED", "profile_background_image_url": "http://a0.twimg.com/images/themes/theme1/bg.png", "screen_name": "sethdroid", "lang": "en", "following": false, "profile_background_tile": false, "favourites_count": 0, "name": "Seth Droid", "url": null, "created_at": "Tue Apr 06 11:50:01 +0000 2010", "oauth_uid": "130129446", "profile_background_image_url_https": "https://si0.twimg.com/images/themes/theme1/bg.png", "time_zone": null, "protected": false, "oauth_token": "130129446-PCcEAgHSZlt6TBwn18MRxICxBcrubk1vPmKrzOjA", "default_profile": true, "is_translator": false, "fullname": "Seth Droid"}', None, None, u'sethdroid', None, u'tw', u'130129446', u'sethdroid', None, datetime.datetime(2013, 7, 28, 22, 42, 30, 595290), None, u'http://a0.twimg.com/sticky/default_profile_images/default_profile_6_normal.png', u'QOO51f460f57c582', u'130129446-PCcEAgHSZlt6TBwn18MRxICxBcrubk1vPmKrzOjA', '{"username": "sethdroid", "follow_request_sent": false, "thumbnailLarge": "http://a0.twimg.com/sticky/default_profile_images/default_profile_6_normal.png", "oauth_token_secret": "BM9GwN5hxMuRsuzQ3ktGnFkrjPvoNgWlQKtNdVp0K0", "contributors_enabled": false, "profile_use_background_image": true, "id": 130129446, "oauth_access_token": "130129446-PCcEAgHSZlt6TBwn18MRxICxBcrubk1vPmKrzOjA", "user_id": "130129446", "entities": {"description": {"urls": []}}, "profile_image_url_https": "https://si0.twimg.com/sticky/default_profile_images/default_profile_6_normal.png", "profile_sidebar_fill_color": "DDEEF6", "profile_text_color": "333333", "followers_count": 5, "profile_sidebar_border_color": "C0DEED", "id_str": "130129446", "default_profile_image": true, "email": "sethdroid", "listed_count": 0, "status": {"lang": "en", "favorited": false, "in_reply_to_user_id": null, "contributors": null, "truncated": false, "text": "#brooklynshould #getontheleaderboard", "created_at": "Wed Jun 29 11:42:39 +0000 2011", "retweeted": false, "in_reply_to_status_id": null, "coordinates": null, "id": 86036855472128000, "entities": {"symbols": [], "user_mentions": [], "hashtags": [{"indices": [0, 15], "text": "brooklynshould"}, {"indices": [16, 36], "text": "getontheleaderboard"}], "urls": []}, "in_reply_to_status_id_str": null, "in_reply_to_screen_name": null, "source": "web", "place": null, "retweet_count": 0, "geo": null, "in_reply_to_user_id_str": null, "favorite_count": 0, "id_str": "86036855472128000"}, "utc_offset": null, "statuses_count": 10, "description": "", "friends_count": 4, "location": "", "profile_link_color": "0084B4", "profile_image_url": "http://a0.twimg.com/sticky/default_profile_images/default_profile_6_normal.png", "notifications": false, "verified": false, "geo_enabled": false, "profile_background_color": "C0DEED", "profile_background_image_url": "http://a0.twimg.com/images/themes/theme1/bg.png", "screen_name": "sethdroid", "lang": "en", "following": false, "profile_background_tile": false, "favourites_count": 0, "name": "Seth Droid", "url": null, "created_at": "Tue Apr 06 11:50:01 +0000 2010", "oauth_uid": "130129446", "profile_background_image_url_https": "https://si0.twimg.com/images/themes/theme1/bg.png", "time_zone": null, "protected": false, "oauth_token": "130129446-PCcEAgHSZlt6TBwn18MRxICxBcrubk1vPmKrzOjA", "default_profile": true, "is_translator": false, "fullname": "Seth Droid"}']
DEBUG:root:escape_sql sql: 
                INSERT INTO `user` 
                set id=%s,role=%s,email=%s,password=%s,oauth_provider=%s,oauth_uid=%s,username=%s,location=%s,changeDate=%s,createDate=%s,thumbnailSmall=%s,thumbnailLarge=%s,oauth_session_id=%s,oauth_access_token=%s,oauth_data=%s,admin_role_qoorates=%s 
                ON DUPLICATE KEY UPDATE
                role=%s,email=%s,password=%s,oauth_provider=%s,oauth_uid=%s,username=%s,location=%s,changeDate=%s,thumbnailSmall=%s,thumbnailLarge=%s,oauth_session_id=%s,oauth_access_token=%s,oauth_data=%s
                
DEBUG:root:escape_sql args: [None, None, u'sethdroid', None, u'tw', u'130129446', u'sethdroid', None, datetime.datetime(2013, 7, 28, 22, 42, 30, 595290), datetime.datetime(2013, 7, 28, 22, 42, 30, 595290), None, u'http://a0.twimg.com/sticky/default_profile_images/default_profile_6_normal.png', u'QOO51f460f57c582', u'130129446-PCcEAgHSZlt6TBwn18MRxICxBcrubk1vPmKrzOjA', '{"username": "sethdroid", "follow_request_sent": false, "thumbnailLarge": "http://a0.twimg.com/sticky/default_profile_images/default_profile_6_normal.png", "oauth_token_secret": "BM9GwN5hxMuRsuzQ3ktGnFkrjPvoNgWlQKtNdVp0K0", "contributors_enabled": false, "profile_use_background_image": true, "id": 130129446, "oauth_access_token": "130129446-PCcEAgHSZlt6TBwn18MRxICxBcrubk1vPmKrzOjA", "user_id": "130129446", "entities": {"description": {"urls": []}}, "profile_image_url_https": "https://si0.twimg.com/sticky/default_profile_images/default_profile_6_normal.png", "profile_sidebar_fill_color": "DDEEF6", "profile_text_color": "333333", "followers_count": 5, "profile_sidebar_border_color": "C0DEED", "id_str": "130129446", "default_profile_image": true, "email": "sethdroid", "listed_count": 0, "status": {"lang": "en", "favorited": false, "in_reply_to_user_id": null, "contributors": null, "truncated": false, "text": "#brooklynshould #getontheleaderboard", "created_at": "Wed Jun 29 11:42:39 +0000 2011", "retweeted": false, "in_reply_to_status_id": null, "coordinates": null, "id": 86036855472128000, "entities": {"symbols": [], "user_mentions": [], "hashtags": [{"indices": [0, 15], "text": "brooklynshould"}, {"indices": [16, 36], "text": "getontheleaderboard"}], "urls": []}, "in_reply_to_status_id_str": null, "in_reply_to_screen_name": null, "source": "web", "place": null, "retweet_count": 0, "geo": null, "in_reply_to_user_id_str": null, "favorite_count": 0, "id_str": "86036855472128000"}, "utc_offset": null, "statuses_count": 10, "description": "", "friends_count": 4, "location": "", "profile_link_color": "0084B4", "profile_image_url": "http://a0.twimg.com/sticky/default_profile_images/default_profile_6_normal.png", "notifications": false, "verified": false, "geo_enabled": false, "profile_background_color": "C0DEED", "profile_background_image_url": "http://a0.twimg.com/images/themes/theme1/bg.png", "screen_name": "sethdroid", "lang": "en", "following": false, "profile_background_tile": false, "favourites_count": 0, "name": "Seth Droid", "url": null, "created_at": "Tue Apr 06 11:50:01 +0000 2010", "oauth_uid": "130129446", "profile_background_image_url_https": "https://si0.twimg.com/images/themes/theme1/bg.png", "time_zone": null, "protected": false, "oauth_token": "130129446-PCcEAgHSZlt6TBwn18MRxICxBcrubk1vPmKrzOjA", "default_profile": true, "is_translator": false, "fullname": "Seth Droid"}', None, None, u'sethdroid', None, u'tw', u'130129446', u'sethdroid', None, datetime.datetime(2013, 7, 28, 22, 42, 30, 595290), None, u'http://a0.twimg.com/sticky/default_profile_images/default_profile_6_normal.png', u'QOO51f460f57c582', u'130129446-PCcEAgHSZlt6TBwn18MRxICxBcrubk1vPmKrzOjA', '{"username": "sethdroid", "follow_request_sent": false, "thumbnailLarge": "http://a0.twimg.com/sticky/default_profile_images/default_profile_6_normal.png", "oauth_token_secret": "BM9GwN5hxMuRsuzQ3ktGnFkrjPvoNgWlQKtNdVp0K0", "contributors_enabled": false, "profile_use_background_image": true, "id": 130129446, "oauth_access_token": "130129446-PCcEAgHSZlt6TBwn18MRxICxBcrubk1vPmKrzOjA", "user_id": "130129446", "entities": {"description": {"urls": []}}, "profile_image_url_https": "https://si0.twimg.com/sticky/default_profile_images/default_profile_6_normal.png", "profile_sidebar_fill_color": "DDEEF6", "profile_text_color": "333333", "followers_count": 5, "profile_sidebar_border_color": "C0DEED", "id_str": "130129446", "default_profile_image": true, "email": "sethdroid", "listed_count": 0, "status": {"lang": "en", "favorited": false, "in_reply_to_user_id": null, "contributors": null, "truncated": false, "text": "#brooklynshould #getontheleaderboard", "created_at": "Wed Jun 29 11:42:39 +0000 2011", "retweeted": false, "in_reply_to_status_id": null, "coordinates": null, "id": 86036855472128000, "entities": {"symbols": [], "user_mentions": [], "hashtags": [{"indices": [0, 15], "text": "brooklynshould"}, {"indices": [16, 36], "text": "getontheleaderboard"}], "urls": []}, "in_reply_to_status_id_str": null, "in_reply_to_screen_name": null, "source": "web", "place": null, "retweet_count": 0, "geo": null, "in_reply_to_user_id_str": null, "favorite_count": 0, "id_str": "86036855472128000"}, "utc_offset": null, "statuses_count": 10, "description": "", "friends_count": 4, "location": "", "profile_link_color": "0084B4", "profile_image_url": "http://a0.twimg.com/sticky/default_profile_images/default_profile_6_normal.png", "notifications": false, "verified": false, "geo_enabled": false, "profile_background_color": "C0DEED", "profile_background_image_url": "http://a0.twimg.com/images/themes/theme1/bg.png", "screen_name": "sethdroid", "lang": "en", "following": false, "profile_background_tile": false, "favourites_count": 0, "name": "Seth Droid", "url": null, "created_at": "Tue Apr 06 11:50:01 +0000 2010", "oauth_uid": "130129446", "profile_background_image_url_https": "https://si0.twimg.com/images/themes/theme1/bg.png", "time_zone": null, "protected": false, "oauth_token": "130129446-PCcEAgHSZlt6TBwn18MRxICxBcrubk1vPmKrzOjA", "default_profile": true, "is_translator": false, "fullname": "Seth Droid"}']
DEBUG:root:
                INSERT INTO `user` 
                set id=NULL,role=NULL,email='sethdroid',password=NULL,oauth_provider='tw',oauth_uid='130129446',username='sethdroid',location=NULL,changeDate='2013-07-28 22:42:30',createDate='2013-07-28 22:42:30',thumbnailSmall=NULL,thumbnailLarge='http://a0.twimg.com/sticky/default_profile_images/default_profile_6_normal.png',oauth_session_id='QOO51f460f57c582',oauth_access_token='130129446-PCcEAgHSZlt6TBwn18MRxICxBcrubk1vPmKrzOjA',oauth_data='{\"username\": \"sethdroid\", \"follow_request_sent\": false, \"thumbnailLarge\": \"http://a0.twimg.com/sticky/default_profile_images/default_profile_6_normal.png\", \"oauth_token_secret\": \"BM9GwN5hxMuRsuzQ3ktGnFkrjPvoNgWlQKtNdVp0K0\", \"contributors_enabled\": false, \"profile_use_background_image\": true, \"id\": 130129446, \"oauth_access_token\": \"130129446-PCcEAgHSZlt6TBwn18MRxICxBcrubk1vPmKrzOjA\", \"user_id\": \"130129446\", \"entities\": {\"description\": {\"urls\": []}}, \"profile_image_url_https\": \"https://si0.twimg.com/sticky/default_profile_images/default_profile_6_normal.png\", \"profile_sidebar_fill_color\": \"DDEEF6\", \"profile_text_color\": \"333333\", \"followers_count\": 5, \"profile_sidebar_border_color\": \"C0DEED\", \"id_str\": \"130129446\", \"default_profile_image\": true, \"email\": \"sethdroid\", \"listed_count\": 0, \"status\": {\"lang\": \"en\", \"favorited\": false, \"in_reply_to_user_id\": null, \"contributors\": null, \"truncated\": false, \"text\": \"#brooklynshould #getontheleaderboard\", \"created_at\": \"Wed Jun 29 11:42:39 +0000 2011\", \"retweeted\": false, \"in_reply_to_status_id\": null, \"coordinates\": null, \"id\": 86036855472128000, \"entities\": {\"symbols\": [], \"user_mentions\": [], \"hashtags\": [{\"indices\": [0, 15], \"text\": \"brooklynshould\"}, {\"indices\": [16, 36], \"text\": \"getontheleaderboard\"}], \"urls\": []}, \"in_reply_to_status_id_str\": null, \"in_reply_to_screen_name\": null, \"source\": \"web\", \"place\": null, \"retweet_count\": 0, \"geo\": null, \"in_reply_to_user_id_str\": null, \"favorite_count\": 0, \"id_str\": \"86036855472128000\"}, \"utc_offset\": null, \"statuses_count\": 10, \"description\": \"\", \"friends_count\": 4, \"location\": \"\", \"profile_link_color\": \"0084B4\", \"profile_image_url\": \"http://a0.twimg.com/sticky/default_profile_images/default_profile_6_normal.png\", \"notifications\": false, \"verified\": false, \"geo_enabled\": false, \"profile_background_color\": \"C0DEED\", \"profile_background_image_url\": \"http://a0.twimg.com/images/themes/theme1/bg.png\", \"screen_name\": \"sethdroid\", \"lang\": \"en\", \"following\": false, \"profile_background_tile\": false, \"favourites_count\": 0, \"name\": \"Seth Droid\", \"url\": null, \"created_at\": \"Tue Apr 06 11:50:01 +0000 2010\", \"oauth_uid\": \"130129446\", \"profile_background_image_url_https\": \"https://si0.twimg.com/images/themes/theme1/bg.png\", \"time_zone\": null, \"protected\": false, \"oauth_token\": \"130129446-PCcEAgHSZlt6TBwn18MRxICxBcrubk1vPmKrzOjA\", \"default_profile\": true, \"is_translator\": false, \"fullname\": \"Seth Droid\"}',admin_role_qoorates=NULL 
                ON DUPLICATE KEY UPDATE
                role=NULL,email='sethdroid',password=NULL,oauth_provider='tw',oauth_uid='130129446',username='sethdroid',location=NULL,changeDate='2013-07-28 22:42:30',thumbnailSmall=NULL,thumbnailLarge='http://a0.twimg.com/sticky/default_profile_images/default_profile_6_normal.png',oauth_session_id='QOO51f460f57c582',oauth_access_token='130129446-PCcEAgHSZlt6TBwn18MRxICxBcrubk1vPmKrzOjA',oauth_data='{\"username\": \"sethdroid\", \"follow_request_sent\": false, \"thumbnailLarge\": \"http://a0.twimg.com/sticky/default_profile_images/default_profile_6_normal.png\", \"oauth_token_secret\": \"BM9GwN5hxMuRsuzQ3ktGnFkrjPvoNgWlQKtNdVp0K0\", \"contributors_enabled\": false, \"profile_use_background_image\": true, \"id\": 130129446, \"oauth_access_token\": \"130129446-PCcEAgHSZlt6TBwn18MRxICxBcrubk1vPmKrzOjA\", \"user_id\": \"130129446\", \"entities\": {\"description\": {\"urls\": []}}, \"profile_image_url_https\": \"https://si0.twimg.com/sticky/default_profile_images/default_profile_6_normal.png\", \"profile_sidebar_fill_color\": \"DDEEF6\", \"profile_text_color\": \"333333\", \"followers_count\": 5, \"profile_sidebar_border_color\": \"C0DEED\", \"id_str\": \"130129446\", \"default_profile_image\": true, \"email\": \"sethdroid\", \"listed_count\": 0, \"status\": {\"lang\": \"en\", \"favorited\": false, \"in_reply_to_user_id\": null, \"contributors\": null, \"truncated\": false, \"text\": \"#brooklynshould #getontheleaderboard\", \"created_at\": \"Wed Jun 29 11:42:39 +0000 2011\", \"retweeted\": false, \"in_reply_to_status_id\": null, \"coordinates\": null, \"id\": 86036855472128000, \"entities\": {\"symbols\": [], \"user_mentions\": [], \"hashtags\": [{\"indices\": [0, 15], \"text\": \"brooklynshould\"}, {\"indices\": [16, 36], \"text\": \"getontheleaderboard\"}], \"urls\": []}, \"in_reply_to_status_id_str\": null, \"in_reply_to_screen_name\": null, \"source\": \"web\", \"place\": null, \"retweet_count\": 0, \"geo\": null, \"in_reply_to_user_id_str\": null, \"favorite_count\": 0, \"id_str\": \"86036855472128000\"}, \"utc_offset\": null, \"statuses_count\": 10, \"description\": \"\", \"friends_count\": 4, \"location\": \"\", \"profile_link_color\": \"0084B4\", \"profile_image_url\": \"http://a0.twimg.com/sticky/default_profile_images/default_profile_6_normal.png\", \"notifications\": false, \"verified\": false, \"geo_enabled\": false, \"profile_background_color\": \"C0DEED\", \"profile_background_image_url\": \"http://a0.twimg.com/images/themes/theme1/bg.png\", \"screen_name\": \"sethdroid\", \"lang\": \"en\", \"following\": false, \"profile_background_tile\": false, \"favourites_count\": 0, \"name\": \"Seth Droid\", \"url\": null, \"created_at\": \"Tue Apr 06 11:50:01 +0000 2010\", \"oauth_uid\": \"130129446\", \"profile_background_image_url_https\": \"https://si0.twimg.com/images/themes/theme1/bg.png\", \"time_zone\": null, \"protected\": false, \"oauth_token\": \"130129446-PCcEAgHSZlt6TBwn18MRxICxBcrubk1vPmKrzOjA\", \"default_profile\": true, \"is_translator\": false, \"fullname\": \"Seth Droid\"}'
                
DEBUG:root:execute: 
                INSERT INTO `user` 
                set id=NULL,role=NULL,email='sethdroid',password=NULL,oauth_provider='tw',oauth_uid='130129446',username='sethdroid',location=NULL,changeDate='2013-07-28 22:42:30',createDate='2013-07-28 22:42:30',thumbnailSmall=NULL,thumbnailLarge='http://a0.twimg.com/sticky/default_profile_images/default_profile_6_normal.png',oauth_session_id='QOO51f460f57c582',oauth_access_token='130129446-PCcEAgHSZlt6TBwn18MRxICxBcrubk1vPmKrzOjA',oauth_data='{\"username\": \"sethdroid\", \"follow_request_sent\": false, \"thumbnailLarge\": \"http://a0.twimg.com/sticky/default_profile_images/default_profile_6_normal.png\", \"oauth_token_secret\": \"BM9GwN5hxMuRsuzQ3ktGnFkrjPvoNgWlQKtNdVp0K0\", \"contributors_enabled\": false, \"profile_use_background_image\": true, \"id\": 130129446, \"oauth_access_token\": \"130129446-PCcEAgHSZlt6TBwn18MRxICxBcrubk1vPmKrzOjA\", \"user_id\": \"130129446\", \"entities\": {\"description\": {\"urls\": []}}, \"profile_image_url_https\": \"https://si0.twimg.com/sticky/default_profile_images/default_profile_6_normal.png\", \"profile_sidebar_fill_color\": \"DDEEF6\", \"profile_text_color\": \"333333\", \"followers_count\": 5, \"profile_sidebar_border_color\": \"C0DEED\", \"id_str\": \"130129446\", \"default_profile_image\": true, \"email\": \"sethdroid\", \"listed_count\": 0, \"status\": {\"lang\": \"en\", \"favorited\": false, \"in_reply_to_user_id\": null, \"contributors\": null, \"truncated\": false, \"text\": \"#brooklynshould #getontheleaderboard\", \"created_at\": \"Wed Jun 29 11:42:39 +0000 2011\", \"retweeted\": false, \"in_reply_to_status_id\": null, \"coordinates\": null, \"id\": 86036855472128000, \"entities\": {\"symbols\": [], \"user_mentions\": [], \"hashtags\": [{\"indices\": [0, 15], \"text\": \"brooklynshould\"}, {\"indices\": [16, 36], \"text\": \"getontheleaderboard\"}], \"urls\": []}, \"in_reply_to_status_id_str\": null, \"in_reply_to_screen_name\": null, \"source\": \"web\", \"place\": null, \"retweet_count\": 0, \"geo\": null, \"in_reply_to_user_id_str\": null, \"favorite_count\": 0, \"id_str\": \"86036855472128000\"}, \"utc_offset\": null, \"statuses_count\": 10, \"description\": \"\", \"friends_count\": 4, \"location\": \"\", \"profile_link_color\": \"0084B4\", \"profile_image_url\": \"http://a0.twimg.com/sticky/default_profile_images/default_profile_6_normal.png\", \"notifications\": false, \"verified\": false, \"geo_enabled\": false, \"profile_background_color\": \"C0DEED\", \"profile_background_image_url\": \"http://a0.twimg.com/images/themes/theme1/bg.png\", \"screen_name\": \"sethdroid\", \"lang\": \"en\", \"following\": false, \"profile_background_tile\": false, \"favourites_count\": 0, \"name\": \"Seth Droid\", \"url\": null, \"created_at\": \"Tue Apr 06 11:50:01 +0000 2010\", \"oauth_uid\": \"130129446\", \"profile_background_image_url_https\": \"https://si0.twimg.com/images/themes/theme1/bg.png\", \"time_zone\": null, \"protected\": false, \"oauth_token\": \"130129446-PCcEAgHSZlt6TBwn18MRxICxBcrubk1vPmKrzOjA\", \"default_profile\": true, \"is_translator\": false, \"fullname\": \"Seth Droid\"}',admin_role_qoorates=NULL 
                ON DUPLICATE KEY UPDATE
                role=NULL,email='sethdroid',password=NULL,oauth_provider='tw',oauth_uid='130129446',username='sethdroid',location=NULL,changeDate='2013-07-28 22:42:30',thumbnailSmall=NULL,thumbnailLarge='http://a0.twimg.com/sticky/default_profile_images/default_profile_6_normal.png',oauth_session_id='QOO51f460f57c582',oauth_access_token='130129446-PCcEAgHSZlt6TBwn18MRxICxBcrubk1vPmKrzOjA',oauth_data='{\"username\": \"sethdroid\", \"follow_request_sent\": false, \"thumbnailLarge\": \"http://a0.twimg.com/sticky/default_profile_images/default_profile_6_normal.png\", \"oauth_token_secret\": \"BM9GwN5hxMuRsuzQ3ktGnFkrjPvoNgWlQKtNdVp0K0\", \"contributors_enabled\": false, \"profile_use_background_image\": true, \"id\": 130129446, \"oauth_access_token\": \"130129446-PCcEAgHSZlt6TBwn18MRxICxBcrubk1vPmKrzOjA\", \"user_id\": \"130129446\", \"entities\": {\"description\": {\"urls\": []}}, \"profile_image_url_https\": \"https://si0.twimg.com/sticky/default_profile_images/default_profile_6_normal.png\", \"profile_sidebar_fill_color\": \"DDEEF6\", \"profile_text_color\": \"333333\", \"followers_count\": 5, \"profile_sidebar_border_color\": \"C0DEED\", \"id_str\": \"130129446\", \"default_profile_image\": true, \"email\": \"sethdroid\", \"listed_count\": 0, \"status\": {\"lang\": \"en\", \"favorited\": false, \"in_reply_to_user_id\": null, \"contributors\": null, \"truncated\": false, \"text\": \"#brooklynshould #getontheleaderboard\", \"created_at\": \"Wed Jun 29 11:42:39 +0000 2011\", \"retweeted\": false, \"in_reply_to_status_id\": null, \"coordinates\": null, \"id\": 86036855472128000, \"entities\": {\"symbols\": [], \"user_mentions\": [], \"hashtags\": [{\"indices\": [0, 15], \"text\": \"brooklynshould\"}, {\"indices\": [16, 36], \"text\": \"getontheleaderboard\"}], \"urls\": []}, \"in_reply_to_status_id_str\": null, \"in_reply_to_screen_name\": null, \"source\": \"web\", \"place\": null, \"retweet_count\": 0, \"geo\": null, \"in_reply_to_user_id_str\": null, \"favorite_count\": 0, \"id_str\": \"86036855472128000\"}, \"utc_offset\": null, \"statuses_count\": 10, \"description\": \"\", \"friends_count\": 4, \"location\": \"\", \"profile_link_color\": \"0084B4\", \"profile_image_url\": \"http://a0.twimg.com/sticky/default_profile_images/default_profile_6_normal.png\", \"notifications\": false, \"verified\": false, \"geo_enabled\": false, \"profile_background_color\": \"C0DEED\", \"profile_background_image_url\": \"http://a0.twimg.com/images/themes/theme1/bg.png\", \"screen_name\": \"sethdroid\", \"lang\": \"en\", \"following\": false, \"profile_background_tile\": false, \"favourites_count\": 0, \"name\": \"Seth Droid\", \"url\": null, \"created_at\": \"Tue Apr 06 11:50:01 +0000 2010\", \"oauth_uid\": \"130129446\", \"profile_background_image_url_https\": \"https://si0.twimg.com/images/themes/theme1/bg.png\", \"time_zone\": null, \"protected\": false, \"oauth_token\": \"130129446-PCcEAgHSZlt6TBwn18MRxICxBcrubk1vPmKrzOjA\", \"default_profile\": true, \"is_translator\": false, \"fullname\": \"Seth Droid\"}'
                
DEBUG:root:MySqlApiQueryset create_one (status, affected_rows): (Created, 1)
DEBUG:root:inserted_id: 392)
DEBUG:root:User persisted Created -> User object
INFO:root:200 GET /q/oauth/twitter/callback (127.0.0.1)
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:set_table has q_short_name (12345)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x106553d50>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has q_short_name (12345)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10655b050>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:feed.prepare, table: q_brooklyncode
DEBUG:root:FeedHandler post
DEBUG:root:Body -> 
 action=validateLogin&QOOID=QOO51f460f57c582&QOOTID=QOOT51f460f57c593&q_short_name=12345
DEBUG:root:Arguments -> 
 {"action": ["validateLogin"], "QOOID": ["QOO51f460f57c582"], "q_short_name": ["12345"], "QOOTID": ["QOOT51f460f57c593"]}
DEBUG:root:to_unicode
DEBUG:root:validateLogin
DEBUG:root:validateLogin
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:validateLogin
DEBUG:root:validateLogin
DEBUG:root:to_unicode
DEBUG:root:action: validateLogin
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10655b190>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10655b390>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10655b590>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10655b790>
INFO:root:200 POST /q/feed (127.0.0.1)
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:set_table has q_short_name (12345)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x106553750>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has q_short_name (12345)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1065537d0>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:feed.prepare, table: q_brooklyncode
DEBUG:root:FeedHandler post
DEBUG:root:Body -> 
 action=upVote&location=5e13bbb73127b9fc424e3728c6500f28&referer=http%3A%2F%2Flocalhost%3A8081%2F%3Fp%3D1&q_short_name=12345&QOOID=QOO51f460f57c582&QOOTID=QOOT51f460f57c593&relatedId=8
DEBUG:root:Arguments -> 
 {"QOOID": ["QOO51f460f57c582"], "QOOTID": ["QOOT51f460f57c593"], "q_short_name": ["12345"], "location": ["5e13bbb73127b9fc424e3728c6500f28"], "action": ["upVote"], "referer": ["http://localhost:8081/?p=1"], "relatedId": ["8"]}
DEBUG:root:to_unicode
DEBUG:root:upVote
DEBUG:root:upVote
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:upVote
DEBUG:root:upVote
DEBUG:root:to_unicode
DEBUG:root:action: upVote
DEBUG:root:perform_vote(1)
DEBUG:root:to_unicode
DEBUG:root:8
DEBUG:root:8
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:8
DEBUG:root:8
DEBUG:root:to_unicode
DEBUG:root:MySqlApiQueryset read_one
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:escape_sql sql: SELECT `id`,`locationId`,`relatedId`,`parentId`,`userId`,`type`,`name`,`location`,`description`,`voteCount`,`voteNumber`,`votesUp`,`votesDown`,`flagCount`,`childCount`,`sortOrder`,`status`,`thumbnailSmall`,`thumbnailLarge`,`referer`,`changeDate`,`createDate` FROM `q_brooklyncode` WHERE ID = %s
DEBUG:root:escape_sql args: [8]
DEBUG:root:SELECT `id`,`locationId`,`relatedId`,`parentId`,`userId`,`type`,`name`,`location`,`description`,`voteCount`,`voteNumber`,`votesUp`,`votesDown`,`flagCount`,`childCount`,`sortOrder`,`status`,`thumbnailSmall`,`thumbnailLarge`,`referer`,`changeDate`,`createDate` FROM `q_brooklyncode` WHERE ID = 8
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10661f510>
DEBUG:root:_vote(1, Comment object)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1065539d0>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x106553b50>
DEBUG:root:user_id, item.userId: 392, 1
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`refTable`,`itemId`,`userId`,`qootid`,`up`,`down`,`createDate` FROM `vote` WHERE `refTable` = %s and `itemId` = %s and `userId` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode', 8L, 392L]
DEBUG:root:
            SELECT `id`,`refTable`,`itemId`,`userId`,`qootid`,`up`,`down`,`createDate` FROM `vote` WHERE `refTable` = 'q_brooklyncode' and `itemId` = 8 and `userId` = 392
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x106553d50>
DEBUG:root:MySqlApiQueryset create_one
DEBUG:root:MySqlApiQueryset create_one sql: 
                INSERT INTO `vote` 
                set id=%s,refTable=%s,itemId=%s,userId=%s,qootid=%s,up=%s,down=%s,createDate=%s 
                ON DUPLICATE KEY UPDATE
                up=%s,down=%s
                
DEBUG:root:execute
DEBUG:root:execute args: [None, u'q_brooklyncode', 8L, 392L, 'QOOT51f460f57c593', 1, 0, datetime.datetime(2013, 7, 28, 22, 42, 32, 617496), 1, 0]
DEBUG:root:escape_sql sql: 
                INSERT INTO `vote` 
                set id=%s,refTable=%s,itemId=%s,userId=%s,qootid=%s,up=%s,down=%s,createDate=%s 
                ON DUPLICATE KEY UPDATE
                up=%s,down=%s
                
DEBUG:root:escape_sql args: [None, u'q_brooklyncode', 8L, 392L, 'QOOT51f460f57c593', 1, 0, datetime.datetime(2013, 7, 28, 22, 42, 32, 617496), 1, 0]
DEBUG:root:
                INSERT INTO `vote` 
                set id=NULL,refTable='q_brooklyncode',itemId=8,userId=392,qootid='QOOT51f460f57c593',up=1,down=0,createDate='2013-07-28 22:42:32' 
                ON DUPLICATE KEY UPDATE
                up=1,down=0
                
DEBUG:root:execute: 
                INSERT INTO `vote` 
                set id=NULL,refTable='q_brooklyncode',itemId=8,userId=392,qootid='QOOT51f460f57c593',up=1,down=0,createDate='2013-07-28 22:42:32' 
                ON DUPLICATE KEY UPDATE
                up=1,down=0
                
DEBUG:root:MySqlApiQueryset create_one (status, affected_rows): (Created, 1)
DEBUG:root:inserted_id: 1)
DEBUG:root:update_vote_counts(Comment object)
DEBUG:root:query
DEBUG:root:escape_sql sql:  SELECT id, SUM(down) AS votesDown, SUM(up) AS votesUp FROM(
        SELECT ifnull(id,0) as id, 'parent' AS type, SUM(down) AS down, SUM(up) AS up  FROM (
            SELECT ifnull(q.id,0) as id,
                (SELECT SUM(down) FROM vote WHERE itemId = q.id AND refTable=%s AND down > 0) AS down,
                (SELECT SUM(up) FROM vote WHERE itemId = q.id AND refTable=%s AND up > 0) AS up
            FROM `q_brooklyncode` q
            WHERE q.id=%s
            GROUP BY q.id) s1
        ) s3 WHERE NOT id IS NULL AND id  > 0 GROUP BY 1
DEBUG:root:escape_sql args: [u'q_brooklyncode', u'q_brooklyncode', 8L]
DEBUG:root: SELECT id, SUM(down) AS votesDown, SUM(up) AS votesUp FROM(
        SELECT ifnull(id,0) as id, 'parent' AS type, SUM(down) AS down, SUM(up) AS up  FROM (
            SELECT ifnull(q.id,0) as id,
                (SELECT SUM(down) FROM vote WHERE itemId = q.id AND refTable='q_brooklyncode' AND down > 0) AS down,
                (SELECT SUM(up) FROM vote WHERE itemId = q.id AND refTable='q_brooklyncode' AND up > 0) AS up
            FROM `q_brooklyncode` q
            WHERE q.id=8
            GROUP BY q.id) s1
        ) s3 WHERE NOT id IS NULL AND id  > 0 GROUP BY 1
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10655b190>
DEBUG:root:({u'id': 8L, u'votesDown': None, u'votesUp': Decimal('1')},)
DEBUG:root:MySqlApiQueryset create_one
DEBUG:root:MySqlApiQueryset create_one sql: 
                INSERT INTO `q_brooklyncode` 
                set id=%s,locationId=%s,relatedId=%s,parentId=%s,userId=%s,type=%s,name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s,createDate=%s 
                ON DUPLICATE KEY UPDATE
                name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s
                
DEBUG:root:execute
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:execute args: [8L, 0L, 0L, 0L, 1L, 10L, 'test?', '5e13bbb73127b9fc424e3728c6500f28', None, 1L, 1L, 1L, 0L, 0L, 0L, 0L, '', None, None, 'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 22, 41, 55), datetime.datetime(2013, 7, 28, 22, 41, 55), 'test?', '5e13bbb73127b9fc424e3728c6500f28', None, 1L, 1L, 1L, 0L, 0L, 0L, 0L, '', None, None, 'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 22, 41, 55)]
DEBUG:root:escape_sql sql: 
                INSERT INTO `q_brooklyncode` 
                set id=%s,locationId=%s,relatedId=%s,parentId=%s,userId=%s,type=%s,name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s,createDate=%s 
                ON DUPLICATE KEY UPDATE
                name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s
                
DEBUG:root:escape_sql args: [8L, 0L, 0L, 0L, 1L, 10L, 'test?', '5e13bbb73127b9fc424e3728c6500f28', None, 1L, 1L, 1L, 0L, 0L, 0L, 0L, '', None, None, 'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 22, 41, 55), datetime.datetime(2013, 7, 28, 22, 41, 55), 'test?', '5e13bbb73127b9fc424e3728c6500f28', None, 1L, 1L, 1L, 0L, 0L, 0L, 0L, '', None, None, 'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 22, 41, 55)]
DEBUG:root:
                INSERT INTO `q_brooklyncode` 
                set id=8,locationId=0,relatedId=0,parentId=0,userId=1,type=10,name='test?',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=1,voteNumber=1,votesUp=1,votesDown=0,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge=NULL,referer='http://localhost:8081/?p=1',changeDate='2013-07-28 22:41:55',createDate='2013-07-28 22:41:55' 
                ON DUPLICATE KEY UPDATE
                name='test?',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=1,voteNumber=1,votesUp=1,votesDown=0,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge=NULL,referer='http://localhost:8081/?p=1',changeDate='2013-07-28 22:41:55'
                
DEBUG:root:execute: 
                INSERT INTO `q_brooklyncode` 
                set id=8,locationId=0,relatedId=0,parentId=0,userId=1,type=10,name='test?',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=1,voteNumber=1,votesUp=1,votesDown=0,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge=NULL,referer='http://localhost:8081/?p=1',changeDate='2013-07-28 22:41:55',createDate='2013-07-28 22:41:55' 
                ON DUPLICATE KEY UPDATE
                name='test?',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=1,voteNumber=1,votesUp=1,votesDown=0,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge=NULL,referer='http://localhost:8081/?p=1',changeDate='2013-07-28 22:41:55'
                
DEBUG:root:MySqlApiQueryset create_one (status, affected_rows): (Updated, 2)
DEBUG:root:perform_vote adding to payload
DEBUG:root:voteCount: 1 
DEBUG:root:voteNumber: 1 
DEBUG:root:votesUp: 1 
DEBUG:root:votesDown: 0 
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:escape_sql sql: 
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:escape_sql args: []
DEBUG:root:
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x107012e50>
DEBUG:root:Number of contributions 8
INFO:root:200 POST /q/feed (127.0.0.1)
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:set_table has q_short_name (12345)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10655b390>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has q_short_name (12345)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10655b590>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:feed.prepare, table: q_brooklyncode
DEBUG:root:FeedHandler post
DEBUG:root:Body -> 
 action=downVote&location=5e13bbb73127b9fc424e3728c6500f28&referer=http%3A%2F%2Flocalhost%3A8081%2F%3Fp%3D1&q_short_name=12345&QOOID=QOO51f460f57c582&QOOTID=QOOT51f460f57c593&relatedId=8
DEBUG:root:Arguments -> 
 {"QOOID": ["QOO51f460f57c582"], "QOOTID": ["QOOT51f460f57c593"], "q_short_name": ["12345"], "location": ["5e13bbb73127b9fc424e3728c6500f28"], "action": ["downVote"], "referer": ["http://localhost:8081/?p=1"], "relatedId": ["8"]}
DEBUG:root:to_unicode
DEBUG:root:downVote
DEBUG:root:downVote
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:downVote
DEBUG:root:downVote
DEBUG:root:to_unicode
DEBUG:root:action: downVote
DEBUG:root:perform_vote(-1)
DEBUG:root:to_unicode
DEBUG:root:8
DEBUG:root:8
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:8
DEBUG:root:8
DEBUG:root:to_unicode
DEBUG:root:MySqlApiQueryset read_one
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:escape_sql sql: SELECT `id`,`locationId`,`relatedId`,`parentId`,`userId`,`type`,`name`,`location`,`description`,`voteCount`,`voteNumber`,`votesUp`,`votesDown`,`flagCount`,`childCount`,`sortOrder`,`status`,`thumbnailSmall`,`thumbnailLarge`,`referer`,`changeDate`,`createDate` FROM `q_brooklyncode` WHERE ID = %s
DEBUG:root:escape_sql args: [8]
DEBUG:root:SELECT `id`,`locationId`,`relatedId`,`parentId`,`userId`,`type`,`name`,`location`,`description`,`voteCount`,`voteNumber`,`votesUp`,`votesDown`,`flagCount`,`childCount`,`sortOrder`,`status`,`thumbnailSmall`,`thumbnailLarge`,`referer`,`changeDate`,`createDate` FROM `q_brooklyncode` WHERE ID = 8
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1065b7790>
DEBUG:root:_vote(-1, Comment object)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10655b790>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x106553750>
DEBUG:root:user_id, item.userId: 392, 1
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`refTable`,`itemId`,`userId`,`qootid`,`up`,`down`,`createDate` FROM `vote` WHERE `refTable` = %s and `itemId` = %s and `userId` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode', 8L, 392L]
DEBUG:root:
            SELECT `id`,`refTable`,`itemId`,`userId`,`qootid`,`up`,`down`,`createDate` FROM `vote` WHERE `refTable` = 'q_brooklyncode' and `itemId` = 8 and `userId` = 392
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1065537d0>
DEBUG:root:MySqlApiQueryset create_one
DEBUG:root:MySqlApiQueryset create_one sql: 
                INSERT INTO `vote` 
                set id=%s,refTable=%s,itemId=%s,userId=%s,qootid=%s,up=%s,down=%s,createDate=%s 
                ON DUPLICATE KEY UPDATE
                up=%s,down=%s
                
DEBUG:root:execute
DEBUG:root:execute args: [1L, u'q_brooklyncode', 8L, 392L, u'QOOT51f460f57c593', 0, 1, datetime.datetime(2013, 7, 28, 22, 42, 32), 0, 1]
DEBUG:root:escape_sql sql: 
                INSERT INTO `vote` 
                set id=%s,refTable=%s,itemId=%s,userId=%s,qootid=%s,up=%s,down=%s,createDate=%s 
                ON DUPLICATE KEY UPDATE
                up=%s,down=%s
                
DEBUG:root:escape_sql args: [1L, u'q_brooklyncode', 8L, 392L, u'QOOT51f460f57c593', 0, 1, datetime.datetime(2013, 7, 28, 22, 42, 32), 0, 1]
DEBUG:root:
                INSERT INTO `vote` 
                set id=1,refTable='q_brooklyncode',itemId=8,userId=392,qootid='QOOT51f460f57c593',up=0,down=1,createDate='2013-07-28 22:42:32' 
                ON DUPLICATE KEY UPDATE
                up=0,down=1
                
DEBUG:root:execute: 
                INSERT INTO `vote` 
                set id=1,refTable='q_brooklyncode',itemId=8,userId=392,qootid='QOOT51f460f57c593',up=0,down=1,createDate='2013-07-28 22:42:32' 
                ON DUPLICATE KEY UPDATE
                up=0,down=1
                
DEBUG:root:MySqlApiQueryset create_one (status, affected_rows): (Updated, 2)
DEBUG:root:update_vote_counts(Comment object)
DEBUG:root:query
DEBUG:root:escape_sql sql:  SELECT id, SUM(down) AS votesDown, SUM(up) AS votesUp FROM(
        SELECT ifnull(id,0) as id, 'parent' AS type, SUM(down) AS down, SUM(up) AS up  FROM (
            SELECT ifnull(q.id,0) as id,
                (SELECT SUM(down) FROM vote WHERE itemId = q.id AND refTable=%s AND down > 0) AS down,
                (SELECT SUM(up) FROM vote WHERE itemId = q.id AND refTable=%s AND up > 0) AS up
            FROM `q_brooklyncode` q
            WHERE q.id=%s
            GROUP BY q.id) s1
        ) s3 WHERE NOT id IS NULL AND id  > 0 GROUP BY 1
DEBUG:root:escape_sql args: [u'q_brooklyncode', u'q_brooklyncode', 8L]
DEBUG:root: SELECT id, SUM(down) AS votesDown, SUM(up) AS votesUp FROM(
        SELECT ifnull(id,0) as id, 'parent' AS type, SUM(down) AS down, SUM(up) AS up  FROM (
            SELECT ifnull(q.id,0) as id,
                (SELECT SUM(down) FROM vote WHERE itemId = q.id AND refTable='q_brooklyncode' AND down > 0) AS down,
                (SELECT SUM(up) FROM vote WHERE itemId = q.id AND refTable='q_brooklyncode' AND up > 0) AS up
            FROM `q_brooklyncode` q
            WHERE q.id=8
            GROUP BY q.id) s1
        ) s3 WHERE NOT id IS NULL AND id  > 0 GROUP BY 1
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x106553b50>
DEBUG:root:({u'id': 8L, u'votesDown': Decimal('1'), u'votesUp': None},)
DEBUG:root:MySqlApiQueryset create_one
DEBUG:root:MySqlApiQueryset create_one sql: 
                INSERT INTO `q_brooklyncode` 
                set id=%s,locationId=%s,relatedId=%s,parentId=%s,userId=%s,type=%s,name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s,createDate=%s 
                ON DUPLICATE KEY UPDATE
                name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s
                
DEBUG:root:execute
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:execute args: [8L, 0L, 0L, 0L, 1L, 10L, 'test?', '5e13bbb73127b9fc424e3728c6500f28', None, 1L, 1L, 0L, 1L, 0L, 0L, 0L, '', None, None, 'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 22, 41, 55), datetime.datetime(2013, 7, 28, 22, 41, 55), 'test?', '5e13bbb73127b9fc424e3728c6500f28', None, 1L, 1L, 0L, 1L, 0L, 0L, 0L, '', None, None, 'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 22, 41, 55)]
DEBUG:root:escape_sql sql: 
                INSERT INTO `q_brooklyncode` 
                set id=%s,locationId=%s,relatedId=%s,parentId=%s,userId=%s,type=%s,name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s,createDate=%s 
                ON DUPLICATE KEY UPDATE
                name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s
                
DEBUG:root:escape_sql args: [8L, 0L, 0L, 0L, 1L, 10L, 'test?', '5e13bbb73127b9fc424e3728c6500f28', None, 1L, 1L, 0L, 1L, 0L, 0L, 0L, '', None, None, 'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 22, 41, 55), datetime.datetime(2013, 7, 28, 22, 41, 55), 'test?', '5e13bbb73127b9fc424e3728c6500f28', None, 1L, 1L, 0L, 1L, 0L, 0L, 0L, '', None, None, 'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 22, 41, 55)]
DEBUG:root:
                INSERT INTO `q_brooklyncode` 
                set id=8,locationId=0,relatedId=0,parentId=0,userId=1,type=10,name='test?',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=1,voteNumber=1,votesUp=0,votesDown=1,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge=NULL,referer='http://localhost:8081/?p=1',changeDate='2013-07-28 22:41:55',createDate='2013-07-28 22:41:55' 
                ON DUPLICATE KEY UPDATE
                name='test?',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=1,voteNumber=1,votesUp=0,votesDown=1,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge=NULL,referer='http://localhost:8081/?p=1',changeDate='2013-07-28 22:41:55'
                
DEBUG:root:execute: 
                INSERT INTO `q_brooklyncode` 
                set id=8,locationId=0,relatedId=0,parentId=0,userId=1,type=10,name='test?',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=1,voteNumber=1,votesUp=0,votesDown=1,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge=NULL,referer='http://localhost:8081/?p=1',changeDate='2013-07-28 22:41:55',createDate='2013-07-28 22:41:55' 
                ON DUPLICATE KEY UPDATE
                name='test?',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=1,voteNumber=1,votesUp=0,votesDown=1,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge=NULL,referer='http://localhost:8081/?p=1',changeDate='2013-07-28 22:41:55'
                
DEBUG:root:MySqlApiQueryset create_one (status, affected_rows): (Updated, 2)
DEBUG:root:perform_vote adding to payload
DEBUG:root:voteCount: 1 
DEBUG:root:voteNumber: 1 
DEBUG:root:votesUp: 0 
DEBUG:root:votesDown: 1 
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:escape_sql sql: 
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:escape_sql args: []
DEBUG:root:
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1065b0890>
DEBUG:root:Number of contributions 8
INFO:root:200 POST /q/feed (127.0.0.1)
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:set_table has q_short_name (12345)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x106553d50>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has q_short_name (12345)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10655b050>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:feed.prepare, table: q_brooklyncode
DEBUG:root:FeedHandler post
DEBUG:root:Body -> 
 action=upVote&location=5e13bbb73127b9fc424e3728c6500f28&referer=http%3A%2F%2Flocalhost%3A8081%2F%3Fp%3D1&q_short_name=12345&QOOID=QOO51f460f57c582&QOOTID=QOOT51f460f57c593&relatedId=7
DEBUG:root:Arguments -> 
 {"QOOID": ["QOO51f460f57c582"], "QOOTID": ["QOOT51f460f57c593"], "q_short_name": ["12345"], "location": ["5e13bbb73127b9fc424e3728c6500f28"], "action": ["upVote"], "referer": ["http://localhost:8081/?p=1"], "relatedId": ["7"]}
DEBUG:root:to_unicode
DEBUG:root:upVote
DEBUG:root:upVote
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:upVote
DEBUG:root:upVote
DEBUG:root:to_unicode
DEBUG:root:action: upVote
DEBUG:root:perform_vote(1)
DEBUG:root:to_unicode
DEBUG:root:7
DEBUG:root:7
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:7
DEBUG:root:7
DEBUG:root:to_unicode
DEBUG:root:MySqlApiQueryset read_one
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:escape_sql sql: SELECT `id`,`locationId`,`relatedId`,`parentId`,`userId`,`type`,`name`,`location`,`description`,`voteCount`,`voteNumber`,`votesUp`,`votesDown`,`flagCount`,`childCount`,`sortOrder`,`status`,`thumbnailSmall`,`thumbnailLarge`,`referer`,`changeDate`,`createDate` FROM `q_brooklyncode` WHERE ID = %s
DEBUG:root:escape_sql args: [7]
DEBUG:root:SELECT `id`,`locationId`,`relatedId`,`parentId`,`userId`,`type`,`name`,`location`,`description`,`voteCount`,`voteNumber`,`votesUp`,`votesDown`,`flagCount`,`childCount`,`sortOrder`,`status`,`thumbnailSmall`,`thumbnailLarge`,`referer`,`changeDate`,`createDate` FROM `q_brooklyncode` WHERE ID = 7
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10707e590>
DEBUG:root:_vote(1, Comment object)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10655b190>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10655b390>
DEBUG:root:user_id, item.userId: 392, 1
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`refTable`,`itemId`,`userId`,`qootid`,`up`,`down`,`createDate` FROM `vote` WHERE `refTable` = %s and `itemId` = %s and `userId` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode', 7L, 392L]
DEBUG:root:
            SELECT `id`,`refTable`,`itemId`,`userId`,`qootid`,`up`,`down`,`createDate` FROM `vote` WHERE `refTable` = 'q_brooklyncode' and `itemId` = 7 and `userId` = 392
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10655b590>
DEBUG:root:MySqlApiQueryset create_one
DEBUG:root:MySqlApiQueryset create_one sql: 
                INSERT INTO `vote` 
                set id=%s,refTable=%s,itemId=%s,userId=%s,qootid=%s,up=%s,down=%s,createDate=%s 
                ON DUPLICATE KEY UPDATE
                up=%s,down=%s
                
DEBUG:root:execute
DEBUG:root:execute args: [None, u'q_brooklyncode', 7L, 392L, 'QOOT51f460f57c593', 1, 0, datetime.datetime(2013, 7, 28, 22, 42, 39, 320424), 1, 0]
DEBUG:root:escape_sql sql: 
                INSERT INTO `vote` 
                set id=%s,refTable=%s,itemId=%s,userId=%s,qootid=%s,up=%s,down=%s,createDate=%s 
                ON DUPLICATE KEY UPDATE
                up=%s,down=%s
                
DEBUG:root:escape_sql args: [None, u'q_brooklyncode', 7L, 392L, 'QOOT51f460f57c593', 1, 0, datetime.datetime(2013, 7, 28, 22, 42, 39, 320424), 1, 0]
DEBUG:root:
                INSERT INTO `vote` 
                set id=NULL,refTable='q_brooklyncode',itemId=7,userId=392,qootid='QOOT51f460f57c593',up=1,down=0,createDate='2013-07-28 22:42:39' 
                ON DUPLICATE KEY UPDATE
                up=1,down=0
                
DEBUG:root:execute: 
                INSERT INTO `vote` 
                set id=NULL,refTable='q_brooklyncode',itemId=7,userId=392,qootid='QOOT51f460f57c593',up=1,down=0,createDate='2013-07-28 22:42:39' 
                ON DUPLICATE KEY UPDATE
                up=1,down=0
                
DEBUG:root:MySqlApiQueryset create_one (status, affected_rows): (Created, 1)
DEBUG:root:inserted_id: 2)
DEBUG:root:update_vote_counts(Comment object)
DEBUG:root:query
DEBUG:root:escape_sql sql:  SELECT id, SUM(down) AS votesDown, SUM(up) AS votesUp FROM(
        SELECT ifnull(id,0) as id, 'parent' AS type, SUM(down) AS down, SUM(up) AS up  FROM (
            SELECT ifnull(q.id,0) as id,
                (SELECT SUM(down) FROM vote WHERE itemId = q.id AND refTable=%s AND down > 0) AS down,
                (SELECT SUM(up) FROM vote WHERE itemId = q.id AND refTable=%s AND up > 0) AS up
            FROM `q_brooklyncode` q
            WHERE q.id=%s
            GROUP BY q.id) s1
        
            UNION
            SELECT ifnull(id,0) as id, 'children' AS type, SUM(down) AS down, SUM(up) AS up  FROM (
                SELECT ifnull(q.parentId,0) as id,
                    (SELECT SUM(down) FROM vote WHERE itemId = q.id AND refTable=%s AND down > 0) AS down,
                    (SELECT SUM(up) FROM vote WHERE itemId = q.id AND refTable=%s AND up > 0) AS up
                FROM `q_brooklyncode` q
                WHERE q.parentId > 0
                AND q.parentId=%s
                GROUP BY q.parentId) s2
            ) s3 WHERE NOT id IS NULL AND id  > 0 GROUP BY 1
DEBUG:root:escape_sql args: [u'q_brooklyncode', u'q_brooklyncode', 7L, u'q_brooklyncode', u'q_brooklyncode', 7L]
DEBUG:root: SELECT id, SUM(down) AS votesDown, SUM(up) AS votesUp FROM(
        SELECT ifnull(id,0) as id, 'parent' AS type, SUM(down) AS down, SUM(up) AS up  FROM (
            SELECT ifnull(q.id,0) as id,
                (SELECT SUM(down) FROM vote WHERE itemId = q.id AND refTable='q_brooklyncode' AND down > 0) AS down,
                (SELECT SUM(up) FROM vote WHERE itemId = q.id AND refTable='q_brooklyncode' AND up > 0) AS up
            FROM `q_brooklyncode` q
            WHERE q.id=7
            GROUP BY q.id) s1
        
            UNION
            SELECT ifnull(id,0) as id, 'children' AS type, SUM(down) AS down, SUM(up) AS up  FROM (
                SELECT ifnull(q.parentId,0) as id,
                    (SELECT SUM(down) FROM vote WHERE itemId = q.id AND refTable='q_brooklyncode' AND down > 0) AS down,
                    (SELECT SUM(up) FROM vote WHERE itemId = q.id AND refTable='q_brooklyncode' AND up > 0) AS up
                FROM `q_brooklyncode` q
                WHERE q.parentId > 0
                AND q.parentId=7
                GROUP BY q.parentId) s2
            ) s3 WHERE NOT id IS NULL AND id  > 0 GROUP BY 1
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x106553750>
DEBUG:root:({u'id': 7L, u'votesDown': None, u'votesUp': Decimal('1')},)
DEBUG:root:MySqlApiQueryset create_one
DEBUG:root:MySqlApiQueryset create_one sql: 
                INSERT INTO `q_brooklyncode` 
                set id=%s,locationId=%s,relatedId=%s,parentId=%s,userId=%s,type=%s,name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s,createDate=%s 
                ON DUPLICATE KEY UPDATE
                name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s
                
DEBUG:root:execute
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:execute args: [7L, 0L, 0L, 0L, 1L, 1L, 't', '5e13bbb73127b9fc424e3728c6500f28', None, 1L, 1L, 1L, 0L, 0L, 0L, 0L, '', None, 'a10c8720a9924b015c4331754bac8d32', 'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 22, 41, 26), datetime.datetime(2013, 7, 28, 22, 41, 26), 't', '5e13bbb73127b9fc424e3728c6500f28', None, 1L, 1L, 1L, 0L, 0L, 0L, 0L, '', None, 'a10c8720a9924b015c4331754bac8d32', 'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 22, 41, 26)]
DEBUG:root:escape_sql sql: 
                INSERT INTO `q_brooklyncode` 
                set id=%s,locationId=%s,relatedId=%s,parentId=%s,userId=%s,type=%s,name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s,createDate=%s 
                ON DUPLICATE KEY UPDATE
                name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s
                
DEBUG:root:escape_sql args: [7L, 0L, 0L, 0L, 1L, 1L, 't', '5e13bbb73127b9fc424e3728c6500f28', None, 1L, 1L, 1L, 0L, 0L, 0L, 0L, '', None, 'a10c8720a9924b015c4331754bac8d32', 'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 22, 41, 26), datetime.datetime(2013, 7, 28, 22, 41, 26), 't', '5e13bbb73127b9fc424e3728c6500f28', None, 1L, 1L, 1L, 0L, 0L, 0L, 0L, '', None, 'a10c8720a9924b015c4331754bac8d32', 'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 22, 41, 26)]
DEBUG:root:
                INSERT INTO `q_brooklyncode` 
                set id=7,locationId=0,relatedId=0,parentId=0,userId=1,type=1,name='t',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=1,voteNumber=1,votesUp=1,votesDown=0,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge='a10c8720a9924b015c4331754bac8d32',referer='http://localhost:8081/?p=1',changeDate='2013-07-28 22:41:26',createDate='2013-07-28 22:41:26' 
                ON DUPLICATE KEY UPDATE
                name='t',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=1,voteNumber=1,votesUp=1,votesDown=0,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge='a10c8720a9924b015c4331754bac8d32',referer='http://localhost:8081/?p=1',changeDate='2013-07-28 22:41:26'
                
DEBUG:root:execute: 
                INSERT INTO `q_brooklyncode` 
                set id=7,locationId=0,relatedId=0,parentId=0,userId=1,type=1,name='t',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=1,voteNumber=1,votesUp=1,votesDown=0,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge='a10c8720a9924b015c4331754bac8d32',referer='http://localhost:8081/?p=1',changeDate='2013-07-28 22:41:26',createDate='2013-07-28 22:41:26' 
                ON DUPLICATE KEY UPDATE
                name='t',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=1,voteNumber=1,votesUp=1,votesDown=0,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge='a10c8720a9924b015c4331754bac8d32',referer='http://localhost:8081/?p=1',changeDate='2013-07-28 22:41:26'
                
DEBUG:root:MySqlApiQueryset create_one (status, affected_rows): (Updated, 2)
DEBUG:root:perform_vote adding to payload
DEBUG:root:voteCount: 1 
DEBUG:root:voteNumber: 1 
DEBUG:root:votesUp: 1 
DEBUG:root:votesDown: 0 
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:escape_sql sql: 
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:escape_sql args: []
DEBUG:root:
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1065b7490>
DEBUG:root:Number of contributions 8
INFO:root:200 POST /q/feed (127.0.0.1)
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:set_table has q_short_name (12345)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1065537d0>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has q_short_name (12345)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1065539d0>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:feed.prepare, table: q_brooklyncode
DEBUG:root:FeedHandler post
DEBUG:root:Body -> 
 action=downVote&location=5e13bbb73127b9fc424e3728c6500f28&referer=http%3A%2F%2Flocalhost%3A8081%2F%3Fp%3D1&q_short_name=12345&QOOID=QOO51f460f57c582&QOOTID=QOOT51f460f57c593&relatedId=7
DEBUG:root:Arguments -> 
 {"QOOID": ["QOO51f460f57c582"], "QOOTID": ["QOOT51f460f57c593"], "q_short_name": ["12345"], "location": ["5e13bbb73127b9fc424e3728c6500f28"], "action": ["downVote"], "referer": ["http://localhost:8081/?p=1"], "relatedId": ["7"]}
DEBUG:root:to_unicode
DEBUG:root:downVote
DEBUG:root:downVote
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:downVote
DEBUG:root:downVote
DEBUG:root:to_unicode
DEBUG:root:action: downVote
DEBUG:root:perform_vote(-1)
DEBUG:root:to_unicode
DEBUG:root:7
DEBUG:root:7
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:7
DEBUG:root:7
DEBUG:root:to_unicode
DEBUG:root:MySqlApiQueryset read_one
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:escape_sql sql: SELECT `id`,`locationId`,`relatedId`,`parentId`,`userId`,`type`,`name`,`location`,`description`,`voteCount`,`voteNumber`,`votesUp`,`votesDown`,`flagCount`,`childCount`,`sortOrder`,`status`,`thumbnailSmall`,`thumbnailLarge`,`referer`,`changeDate`,`createDate` FROM `q_brooklyncode` WHERE ID = %s
DEBUG:root:escape_sql args: [7]
DEBUG:root:SELECT `id`,`locationId`,`relatedId`,`parentId`,`userId`,`type`,`name`,`location`,`description`,`voteCount`,`voteNumber`,`votesUp`,`votesDown`,`flagCount`,`childCount`,`sortOrder`,`status`,`thumbnailSmall`,`thumbnailLarge`,`referer`,`changeDate`,`createDate` FROM `q_brooklyncode` WHERE ID = 7
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x106ff4d90>
DEBUG:root:_vote(-1, Comment object)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x106553b50>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x106553d50>
DEBUG:root:user_id, item.userId: 392, 1
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`refTable`,`itemId`,`userId`,`qootid`,`up`,`down`,`createDate` FROM `vote` WHERE `refTable` = %s and `itemId` = %s and `userId` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode', 7L, 392L]
DEBUG:root:
            SELECT `id`,`refTable`,`itemId`,`userId`,`qootid`,`up`,`down`,`createDate` FROM `vote` WHERE `refTable` = 'q_brooklyncode' and `itemId` = 7 and `userId` = 392
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10655b050>
DEBUG:root:MySqlApiQueryset create_one
DEBUG:root:MySqlApiQueryset create_one sql: 
                INSERT INTO `vote` 
                set id=%s,refTable=%s,itemId=%s,userId=%s,qootid=%s,up=%s,down=%s,createDate=%s 
                ON DUPLICATE KEY UPDATE
                up=%s,down=%s
                
DEBUG:root:execute
DEBUG:root:execute args: [2L, u'q_brooklyncode', 7L, 392L, u'QOOT51f460f57c593', 0, 1, datetime.datetime(2013, 7, 28, 22, 42, 39), 0, 1]
DEBUG:root:escape_sql sql: 
                INSERT INTO `vote` 
                set id=%s,refTable=%s,itemId=%s,userId=%s,qootid=%s,up=%s,down=%s,createDate=%s 
                ON DUPLICATE KEY UPDATE
                up=%s,down=%s
                
DEBUG:root:escape_sql args: [2L, u'q_brooklyncode', 7L, 392L, u'QOOT51f460f57c593', 0, 1, datetime.datetime(2013, 7, 28, 22, 42, 39), 0, 1]
DEBUG:root:
                INSERT INTO `vote` 
                set id=2,refTable='q_brooklyncode',itemId=7,userId=392,qootid='QOOT51f460f57c593',up=0,down=1,createDate='2013-07-28 22:42:39' 
                ON DUPLICATE KEY UPDATE
                up=0,down=1
                
DEBUG:root:execute: 
                INSERT INTO `vote` 
                set id=2,refTable='q_brooklyncode',itemId=7,userId=392,qootid='QOOT51f460f57c593',up=0,down=1,createDate='2013-07-28 22:42:39' 
                ON DUPLICATE KEY UPDATE
                up=0,down=1
                
DEBUG:root:MySqlApiQueryset create_one (status, affected_rows): (Updated, 2)
DEBUG:root:update_vote_counts(Comment object)
DEBUG:root:query
DEBUG:root:escape_sql sql:  SELECT id, SUM(down) AS votesDown, SUM(up) AS votesUp FROM(
        SELECT ifnull(id,0) as id, 'parent' AS type, SUM(down) AS down, SUM(up) AS up  FROM (
            SELECT ifnull(q.id,0) as id,
                (SELECT SUM(down) FROM vote WHERE itemId = q.id AND refTable=%s AND down > 0) AS down,
                (SELECT SUM(up) FROM vote WHERE itemId = q.id AND refTable=%s AND up > 0) AS up
            FROM `q_brooklyncode` q
            WHERE q.id=%s
            GROUP BY q.id) s1
        
            UNION
            SELECT ifnull(id,0) as id, 'children' AS type, SUM(down) AS down, SUM(up) AS up  FROM (
                SELECT ifnull(q.parentId,0) as id,
                    (SELECT SUM(down) FROM vote WHERE itemId = q.id AND refTable=%s AND down > 0) AS down,
                    (SELECT SUM(up) FROM vote WHERE itemId = q.id AND refTable=%s AND up > 0) AS up
                FROM `q_brooklyncode` q
                WHERE q.parentId > 0
                AND q.parentId=%s
                GROUP BY q.parentId) s2
            ) s3 WHERE NOT id IS NULL AND id  > 0 GROUP BY 1
DEBUG:root:escape_sql args: [u'q_brooklyncode', u'q_brooklyncode', 7L, u'q_brooklyncode', u'q_brooklyncode', 7L]
DEBUG:root: SELECT id, SUM(down) AS votesDown, SUM(up) AS votesUp FROM(
        SELECT ifnull(id,0) as id, 'parent' AS type, SUM(down) AS down, SUM(up) AS up  FROM (
            SELECT ifnull(q.id,0) as id,
                (SELECT SUM(down) FROM vote WHERE itemId = q.id AND refTable='q_brooklyncode' AND down > 0) AS down,
                (SELECT SUM(up) FROM vote WHERE itemId = q.id AND refTable='q_brooklyncode' AND up > 0) AS up
            FROM `q_brooklyncode` q
            WHERE q.id=7
            GROUP BY q.id) s1
        
            UNION
            SELECT ifnull(id,0) as id, 'children' AS type, SUM(down) AS down, SUM(up) AS up  FROM (
                SELECT ifnull(q.parentId,0) as id,
                    (SELECT SUM(down) FROM vote WHERE itemId = q.id AND refTable='q_brooklyncode' AND down > 0) AS down,
                    (SELECT SUM(up) FROM vote WHERE itemId = q.id AND refTable='q_brooklyncode' AND up > 0) AS up
                FROM `q_brooklyncode` q
                WHERE q.parentId > 0
                AND q.parentId=7
                GROUP BY q.parentId) s2
            ) s3 WHERE NOT id IS NULL AND id  > 0 GROUP BY 1
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10655b390>
DEBUG:root:({u'id': 7L, u'votesDown': Decimal('1'), u'votesUp': None},)
DEBUG:root:MySqlApiQueryset create_one
DEBUG:root:MySqlApiQueryset create_one sql: 
                INSERT INTO `q_brooklyncode` 
                set id=%s,locationId=%s,relatedId=%s,parentId=%s,userId=%s,type=%s,name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s,createDate=%s 
                ON DUPLICATE KEY UPDATE
                name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s
                
DEBUG:root:execute
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:execute args: [7L, 0L, 0L, 0L, 1L, 1L, 't', '5e13bbb73127b9fc424e3728c6500f28', None, 1L, -1L, 0L, 1L, 0L, 0L, 0L, '', None, 'a10c8720a9924b015c4331754bac8d32', 'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 22, 41, 26), datetime.datetime(2013, 7, 28, 22, 41, 26), 't', '5e13bbb73127b9fc424e3728c6500f28', None, 1L, -1L, 0L, 1L, 0L, 0L, 0L, '', None, 'a10c8720a9924b015c4331754bac8d32', 'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 22, 41, 26)]
DEBUG:root:escape_sql sql: 
                INSERT INTO `q_brooklyncode` 
                set id=%s,locationId=%s,relatedId=%s,parentId=%s,userId=%s,type=%s,name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s,createDate=%s 
                ON DUPLICATE KEY UPDATE
                name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s
                
DEBUG:root:escape_sql args: [7L, 0L, 0L, 0L, 1L, 1L, 't', '5e13bbb73127b9fc424e3728c6500f28', None, 1L, -1L, 0L, 1L, 0L, 0L, 0L, '', None, 'a10c8720a9924b015c4331754bac8d32', 'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 22, 41, 26), datetime.datetime(2013, 7, 28, 22, 41, 26), 't', '5e13bbb73127b9fc424e3728c6500f28', None, 1L, -1L, 0L, 1L, 0L, 0L, 0L, '', None, 'a10c8720a9924b015c4331754bac8d32', 'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 22, 41, 26)]
DEBUG:root:
                INSERT INTO `q_brooklyncode` 
                set id=7,locationId=0,relatedId=0,parentId=0,userId=1,type=1,name='t',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=1,voteNumber=-1,votesUp=0,votesDown=1,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge='a10c8720a9924b015c4331754bac8d32',referer='http://localhost:8081/?p=1',changeDate='2013-07-28 22:41:26',createDate='2013-07-28 22:41:26' 
                ON DUPLICATE KEY UPDATE
                name='t',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=1,voteNumber=-1,votesUp=0,votesDown=1,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge='a10c8720a9924b015c4331754bac8d32',referer='http://localhost:8081/?p=1',changeDate='2013-07-28 22:41:26'
                
DEBUG:root:execute: 
                INSERT INTO `q_brooklyncode` 
                set id=7,locationId=0,relatedId=0,parentId=0,userId=1,type=1,name='t',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=1,voteNumber=-1,votesUp=0,votesDown=1,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge='a10c8720a9924b015c4331754bac8d32',referer='http://localhost:8081/?p=1',changeDate='2013-07-28 22:41:26',createDate='2013-07-28 22:41:26' 
                ON DUPLICATE KEY UPDATE
                name='t',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=1,voteNumber=-1,votesUp=0,votesDown=1,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge='a10c8720a9924b015c4331754bac8d32',referer='http://localhost:8081/?p=1',changeDate='2013-07-28 22:41:26'
                
DEBUG:root:MySqlApiQueryset create_one (status, affected_rows): (Updated, 2)
DEBUG:root:perform_vote adding to payload
DEBUG:root:voteCount: 1 
DEBUG:root:voteNumber: -1 
DEBUG:root:votesUp: 0 
DEBUG:root:votesDown: 1 
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:escape_sql sql: 
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:escape_sql args: []
DEBUG:root:
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10661f290>
DEBUG:root:Number of contributions 8
INFO:root:200 POST /q/feed (127.0.0.1)
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:set_table has q_short_name (12345)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10655b590>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has q_short_name (12345)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10655b790>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:feed.prepare, table: q_brooklyncode
DEBUG:root:FeedHandler post
DEBUG:root:Body -> 
 action=upVote&location=5e13bbb73127b9fc424e3728c6500f28&referer=http%3A%2F%2Flocalhost%3A8081%2F%3Fp%3D1&q_short_name=12345&QOOID=QOO51f460f57c582&QOOTID=QOOT51f460f57c593&relatedId=1
DEBUG:root:Arguments -> 
 {"QOOID": ["QOO51f460f57c582"], "QOOTID": ["QOOT51f460f57c593"], "q_short_name": ["12345"], "location": ["5e13bbb73127b9fc424e3728c6500f28"], "action": ["upVote"], "referer": ["http://localhost:8081/?p=1"], "relatedId": ["1"]}
DEBUG:root:to_unicode
DEBUG:root:upVote
DEBUG:root:upVote
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:upVote
DEBUG:root:upVote
DEBUG:root:to_unicode
DEBUG:root:action: upVote
DEBUG:root:perform_vote(1)
DEBUG:root:to_unicode
DEBUG:root:1
DEBUG:root:1
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:1
DEBUG:root:1
DEBUG:root:to_unicode
DEBUG:root:MySqlApiQueryset read_one
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:escape_sql sql: SELECT `id`,`locationId`,`relatedId`,`parentId`,`userId`,`type`,`name`,`location`,`description`,`voteCount`,`voteNumber`,`votesUp`,`votesDown`,`flagCount`,`childCount`,`sortOrder`,`status`,`thumbnailSmall`,`thumbnailLarge`,`referer`,`changeDate`,`createDate` FROM `q_brooklyncode` WHERE ID = %s
DEBUG:root:escape_sql args: [1]
DEBUG:root:SELECT `id`,`locationId`,`relatedId`,`parentId`,`userId`,`type`,`name`,`location`,`description`,`voteCount`,`voteNumber`,`votesUp`,`votesDown`,`flagCount`,`childCount`,`sortOrder`,`status`,`thumbnailSmall`,`thumbnailLarge`,`referer`,`changeDate`,`createDate` FROM `q_brooklyncode` WHERE ID = 1
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10707e5d0>
DEBUG:root:_vote(1, Comment object)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x106553750>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1065537d0>
DEBUG:root:user_id, item.userId: 392, 1
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`refTable`,`itemId`,`userId`,`qootid`,`up`,`down`,`createDate` FROM `vote` WHERE `refTable` = %s and `itemId` = %s and `userId` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode', 1L, 392L]
DEBUG:root:
            SELECT `id`,`refTable`,`itemId`,`userId`,`qootid`,`up`,`down`,`createDate` FROM `vote` WHERE `refTable` = 'q_brooklyncode' and `itemId` = 1 and `userId` = 392
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1065539d0>
DEBUG:root:MySqlApiQueryset create_one
DEBUG:root:MySqlApiQueryset create_one sql: 
                INSERT INTO `vote` 
                set id=%s,refTable=%s,itemId=%s,userId=%s,qootid=%s,up=%s,down=%s,createDate=%s 
                ON DUPLICATE KEY UPDATE
                up=%s,down=%s
                
DEBUG:root:execute
DEBUG:root:execute args: [None, u'q_brooklyncode', 1L, 392L, 'QOOT51f460f57c593', 1, 0, datetime.datetime(2013, 7, 28, 22, 42, 42, 160948), 1, 0]
DEBUG:root:escape_sql sql: 
                INSERT INTO `vote` 
                set id=%s,refTable=%s,itemId=%s,userId=%s,qootid=%s,up=%s,down=%s,createDate=%s 
                ON DUPLICATE KEY UPDATE
                up=%s,down=%s
                
DEBUG:root:escape_sql args: [None, u'q_brooklyncode', 1L, 392L, 'QOOT51f460f57c593', 1, 0, datetime.datetime(2013, 7, 28, 22, 42, 42, 160948), 1, 0]
DEBUG:root:
                INSERT INTO `vote` 
                set id=NULL,refTable='q_brooklyncode',itemId=1,userId=392,qootid='QOOT51f460f57c593',up=1,down=0,createDate='2013-07-28 22:42:42' 
                ON DUPLICATE KEY UPDATE
                up=1,down=0
                
DEBUG:root:execute: 
                INSERT INTO `vote` 
                set id=NULL,refTable='q_brooklyncode',itemId=1,userId=392,qootid='QOOT51f460f57c593',up=1,down=0,createDate='2013-07-28 22:42:42' 
                ON DUPLICATE KEY UPDATE
                up=1,down=0
                
DEBUG:root:MySqlApiQueryset create_one (status, affected_rows): (Created, 1)
DEBUG:root:inserted_id: 3)
DEBUG:root:update_vote_counts(Comment object)
DEBUG:root:query
DEBUG:root:escape_sql sql:  SELECT id, SUM(down) AS votesDown, SUM(up) AS votesUp FROM(
        SELECT ifnull(id,0) as id, 'parent' AS type, SUM(down) AS down, SUM(up) AS up  FROM (
            SELECT ifnull(q.id,0) as id,
                (SELECT SUM(down) FROM vote WHERE itemId = q.id AND refTable=%s AND down > 0) AS down,
                (SELECT SUM(up) FROM vote WHERE itemId = q.id AND refTable=%s AND up > 0) AS up
            FROM `q_brooklyncode` q
            WHERE q.id=%s
            GROUP BY q.id) s1
        
            UNION
            SELECT ifnull(id,0) as id, 'children' AS type, SUM(down) AS down, SUM(up) AS up  FROM (
                SELECT ifnull(q.parentId,0) as id,
                    (SELECT SUM(down) FROM vote WHERE itemId = q.id AND refTable=%s AND down > 0) AS down,
                    (SELECT SUM(up) FROM vote WHERE itemId = q.id AND refTable=%s AND up > 0) AS up
                FROM `q_brooklyncode` q
                WHERE q.parentId > 0
                AND q.parentId=%s
                GROUP BY q.parentId) s2
            ) s3 WHERE NOT id IS NULL AND id  > 0 GROUP BY 1
DEBUG:root:escape_sql args: [u'q_brooklyncode', u'q_brooklyncode', 1L, u'q_brooklyncode', u'q_brooklyncode', 1L]
DEBUG:root: SELECT id, SUM(down) AS votesDown, SUM(up) AS votesUp FROM(
        SELECT ifnull(id,0) as id, 'parent' AS type, SUM(down) AS down, SUM(up) AS up  FROM (
            SELECT ifnull(q.id,0) as id,
                (SELECT SUM(down) FROM vote WHERE itemId = q.id AND refTable='q_brooklyncode' AND down > 0) AS down,
                (SELECT SUM(up) FROM vote WHERE itemId = q.id AND refTable='q_brooklyncode' AND up > 0) AS up
            FROM `q_brooklyncode` q
            WHERE q.id=1
            GROUP BY q.id) s1
        
            UNION
            SELECT ifnull(id,0) as id, 'children' AS type, SUM(down) AS down, SUM(up) AS up  FROM (
                SELECT ifnull(q.parentId,0) as id,
                    (SELECT SUM(down) FROM vote WHERE itemId = q.id AND refTable='q_brooklyncode' AND down > 0) AS down,
                    (SELECT SUM(up) FROM vote WHERE itemId = q.id AND refTable='q_brooklyncode' AND up > 0) AS up
                FROM `q_brooklyncode` q
                WHERE q.parentId > 0
                AND q.parentId=1
                GROUP BY q.parentId) s2
            ) s3 WHERE NOT id IS NULL AND id  > 0 GROUP BY 1
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x106553d50>
DEBUG:root:({u'id': 1L, u'votesDown': None, u'votesUp': Decimal('1')},)
DEBUG:root:MySqlApiQueryset create_one
DEBUG:root:MySqlApiQueryset create_one sql: 
                INSERT INTO `q_brooklyncode` 
                set id=%s,locationId=%s,relatedId=%s,parentId=%s,userId=%s,type=%s,name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s,createDate=%s 
                ON DUPLICATE KEY UPDATE
                name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s
                
DEBUG:root:execute
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:execute args: [1L, 0L, 0L, 0L, 1L, 1L, 'test', '5e13bbb73127b9fc424e3728c6500f28', None, 1L, 1L, 1L, 0L, 0L, 0L, 0L, '', None, '1fe8a631d5522d10e2cf2e4fabedc90b', 'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 19, 53, 38), datetime.datetime(2013, 7, 28, 19, 53, 38), 'test', '5e13bbb73127b9fc424e3728c6500f28', None, 1L, 1L, 1L, 0L, 0L, 0L, 0L, '', None, '1fe8a631d5522d10e2cf2e4fabedc90b', 'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 19, 53, 38)]
DEBUG:root:escape_sql sql: 
                INSERT INTO `q_brooklyncode` 
                set id=%s,locationId=%s,relatedId=%s,parentId=%s,userId=%s,type=%s,name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s,createDate=%s 
                ON DUPLICATE KEY UPDATE
                name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s
                
DEBUG:root:escape_sql args: [1L, 0L, 0L, 0L, 1L, 1L, 'test', '5e13bbb73127b9fc424e3728c6500f28', None, 1L, 1L, 1L, 0L, 0L, 0L, 0L, '', None, '1fe8a631d5522d10e2cf2e4fabedc90b', 'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 19, 53, 38), datetime.datetime(2013, 7, 28, 19, 53, 38), 'test', '5e13bbb73127b9fc424e3728c6500f28', None, 1L, 1L, 1L, 0L, 0L, 0L, 0L, '', None, '1fe8a631d5522d10e2cf2e4fabedc90b', 'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 19, 53, 38)]
DEBUG:root:
                INSERT INTO `q_brooklyncode` 
                set id=1,locationId=0,relatedId=0,parentId=0,userId=1,type=1,name='test',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=1,voteNumber=1,votesUp=1,votesDown=0,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge='1fe8a631d5522d10e2cf2e4fabedc90b',referer='http://localhost:8081/?p=1',changeDate='2013-07-28 19:53:38',createDate='2013-07-28 19:53:38' 
                ON DUPLICATE KEY UPDATE
                name='test',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=1,voteNumber=1,votesUp=1,votesDown=0,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge='1fe8a631d5522d10e2cf2e4fabedc90b',referer='http://localhost:8081/?p=1',changeDate='2013-07-28 19:53:38'
                
DEBUG:root:execute: 
                INSERT INTO `q_brooklyncode` 
                set id=1,locationId=0,relatedId=0,parentId=0,userId=1,type=1,name='test',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=1,voteNumber=1,votesUp=1,votesDown=0,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge='1fe8a631d5522d10e2cf2e4fabedc90b',referer='http://localhost:8081/?p=1',changeDate='2013-07-28 19:53:38',createDate='2013-07-28 19:53:38' 
                ON DUPLICATE KEY UPDATE
                name='test',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=1,voteNumber=1,votesUp=1,votesDown=0,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge='1fe8a631d5522d10e2cf2e4fabedc90b',referer='http://localhost:8081/?p=1',changeDate='2013-07-28 19:53:38'
                
DEBUG:root:MySqlApiQueryset create_one (status, affected_rows): (Updated, 2)
DEBUG:root:perform_vote adding to payload
DEBUG:root:voteCount: 1 
DEBUG:root:voteNumber: 1 
DEBUG:root:votesUp: 1 
DEBUG:root:votesDown: 0 
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:escape_sql sql: 
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:escape_sql args: []
DEBUG:root:
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10706d690>
DEBUG:root:Number of contributions 8
INFO:root:200 POST /q/feed (127.0.0.1)
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:set_table has q_short_name (12345)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10655b050>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has q_short_name (12345)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10655b190>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:feed.prepare, table: q_brooklyncode
DEBUG:root:FeedHandler post
DEBUG:root:Body -> 
 action=upVote&location=5e13bbb73127b9fc424e3728c6500f28&referer=http%3A%2F%2Flocalhost%3A8081%2F%3Fp%3D1&q_short_name=12345&QOOID=QOO51f460f57c582&QOOTID=QOOT51f460f57c593&relatedId=1
DEBUG:root:Arguments -> 
 {"QOOID": ["QOO51f460f57c582"], "QOOTID": ["QOOT51f460f57c593"], "q_short_name": ["12345"], "location": ["5e13bbb73127b9fc424e3728c6500f28"], "action": ["upVote"], "referer": ["http://localhost:8081/?p=1"], "relatedId": ["1"]}
DEBUG:root:to_unicode
DEBUG:root:upVote
DEBUG:root:upVote
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:upVote
DEBUG:root:upVote
DEBUG:root:to_unicode
DEBUG:root:action: upVote
DEBUG:root:perform_vote(1)
DEBUG:root:to_unicode
DEBUG:root:1
DEBUG:root:1
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:1
DEBUG:root:1
DEBUG:root:to_unicode
DEBUG:root:MySqlApiQueryset read_one
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:escape_sql sql: SELECT `id`,`locationId`,`relatedId`,`parentId`,`userId`,`type`,`name`,`location`,`description`,`voteCount`,`voteNumber`,`votesUp`,`votesDown`,`flagCount`,`childCount`,`sortOrder`,`status`,`thumbnailSmall`,`thumbnailLarge`,`referer`,`changeDate`,`createDate` FROM `q_brooklyncode` WHERE ID = %s
DEBUG:root:escape_sql args: [1]
DEBUG:root:SELECT `id`,`locationId`,`relatedId`,`parentId`,`userId`,`type`,`name`,`location`,`description`,`voteCount`,`voteNumber`,`votesUp`,`votesDown`,`flagCount`,`childCount`,`sortOrder`,`status`,`thumbnailSmall`,`thumbnailLarge`,`referer`,`changeDate`,`createDate` FROM `q_brooklyncode` WHERE ID = 1
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1065b7750>
DEBUG:root:_vote(1, Comment object)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10655b390>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10655b590>
DEBUG:root:user_id, item.userId: 392, 1
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`refTable`,`itemId`,`userId`,`qootid`,`up`,`down`,`createDate` FROM `vote` WHERE `refTable` = %s and `itemId` = %s and `userId` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode', 1L, 392L]
DEBUG:root:
            SELECT `id`,`refTable`,`itemId`,`userId`,`qootid`,`up`,`down`,`createDate` FROM `vote` WHERE `refTable` = 'q_brooklyncode' and `itemId` = 1 and `userId` = 392
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10655b790>
DEBUG:root:MySqlApiQueryset create_one
DEBUG:root:MySqlApiQueryset create_one sql: 
                INSERT INTO `vote` 
                set id=%s,refTable=%s,itemId=%s,userId=%s,qootid=%s,up=%s,down=%s,createDate=%s 
                ON DUPLICATE KEY UPDATE
                up=%s,down=%s
                
DEBUG:root:execute
DEBUG:root:execute args: [3L, u'q_brooklyncode', 1L, 392L, u'QOOT51f460f57c593', 1, 0, datetime.datetime(2013, 7, 28, 22, 42, 42), 1, 0]
DEBUG:root:escape_sql sql: 
                INSERT INTO `vote` 
                set id=%s,refTable=%s,itemId=%s,userId=%s,qootid=%s,up=%s,down=%s,createDate=%s 
                ON DUPLICATE KEY UPDATE
                up=%s,down=%s
                
DEBUG:root:escape_sql args: [3L, u'q_brooklyncode', 1L, 392L, u'QOOT51f460f57c593', 1, 0, datetime.datetime(2013, 7, 28, 22, 42, 42), 1, 0]
DEBUG:root:
                INSERT INTO `vote` 
                set id=3,refTable='q_brooklyncode',itemId=1,userId=392,qootid='QOOT51f460f57c593',up=1,down=0,createDate='2013-07-28 22:42:42' 
                ON DUPLICATE KEY UPDATE
                up=1,down=0
                
DEBUG:root:execute: 
                INSERT INTO `vote` 
                set id=3,refTable='q_brooklyncode',itemId=1,userId=392,qootid='QOOT51f460f57c593',up=1,down=0,createDate='2013-07-28 22:42:42' 
                ON DUPLICATE KEY UPDATE
                up=1,down=0
                
DEBUG:root:item_exists
DEBUG:root:escape_sql sql: SELECT count(*) FROM `vote`  WHERE id = %s
DEBUG:root:escape_sql args: [3L]
DEBUG:root:SELECT count(*) FROM `vote`  WHERE id = 3
DEBUG:root:MySqlApiQueryset create_one (status, affected_rows): (NO CHANGES, 0)
DEBUG:root:update_vote_counts(Comment object)
DEBUG:root:query
DEBUG:root:escape_sql sql:  SELECT id, SUM(down) AS votesDown, SUM(up) AS votesUp FROM(
        SELECT ifnull(id,0) as id, 'parent' AS type, SUM(down) AS down, SUM(up) AS up  FROM (
            SELECT ifnull(q.id,0) as id,
                (SELECT SUM(down) FROM vote WHERE itemId = q.id AND refTable=%s AND down > 0) AS down,
                (SELECT SUM(up) FROM vote WHERE itemId = q.id AND refTable=%s AND up > 0) AS up
            FROM `q_brooklyncode` q
            WHERE q.id=%s
            GROUP BY q.id) s1
        
            UNION
            SELECT ifnull(id,0) as id, 'children' AS type, SUM(down) AS down, SUM(up) AS up  FROM (
                SELECT ifnull(q.parentId,0) as id,
                    (SELECT SUM(down) FROM vote WHERE itemId = q.id AND refTable=%s AND down > 0) AS down,
                    (SELECT SUM(up) FROM vote WHERE itemId = q.id AND refTable=%s AND up > 0) AS up
                FROM `q_brooklyncode` q
                WHERE q.parentId > 0
                AND q.parentId=%s
                GROUP BY q.parentId) s2
            ) s3 WHERE NOT id IS NULL AND id  > 0 GROUP BY 1
DEBUG:root:escape_sql args: [u'q_brooklyncode', u'q_brooklyncode', 1L, u'q_brooklyncode', u'q_brooklyncode', 1L]
DEBUG:root: SELECT id, SUM(down) AS votesDown, SUM(up) AS votesUp FROM(
        SELECT ifnull(id,0) as id, 'parent' AS type, SUM(down) AS down, SUM(up) AS up  FROM (
            SELECT ifnull(q.id,0) as id,
                (SELECT SUM(down) FROM vote WHERE itemId = q.id AND refTable='q_brooklyncode' AND down > 0) AS down,
                (SELECT SUM(up) FROM vote WHERE itemId = q.id AND refTable='q_brooklyncode' AND up > 0) AS up
            FROM `q_brooklyncode` q
            WHERE q.id=1
            GROUP BY q.id) s1
        
            UNION
            SELECT ifnull(id,0) as id, 'children' AS type, SUM(down) AS down, SUM(up) AS up  FROM (
                SELECT ifnull(q.parentId,0) as id,
                    (SELECT SUM(down) FROM vote WHERE itemId = q.id AND refTable='q_brooklyncode' AND down > 0) AS down,
                    (SELECT SUM(up) FROM vote WHERE itemId = q.id AND refTable='q_brooklyncode' AND up > 0) AS up
                FROM `q_brooklyncode` q
                WHERE q.parentId > 0
                AND q.parentId=1
                GROUP BY q.parentId) s2
            ) s3 WHERE NOT id IS NULL AND id  > 0 GROUP BY 1
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1065539d0>
DEBUG:root:({u'id': 1L, u'votesDown': None, u'votesUp': Decimal('1')},)
DEBUG:root:MySqlApiQueryset create_one
DEBUG:root:MySqlApiQueryset create_one sql: 
                INSERT INTO `q_brooklyncode` 
                set id=%s,locationId=%s,relatedId=%s,parentId=%s,userId=%s,type=%s,name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s,createDate=%s 
                ON DUPLICATE KEY UPDATE
                name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s
                
DEBUG:root:execute
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:execute args: [1L, 0L, 0L, 0L, 1L, 1L, 'test', '5e13bbb73127b9fc424e3728c6500f28', None, 1L, 1L, 1L, 0L, 0L, 0L, 0L, '', None, '1fe8a631d5522d10e2cf2e4fabedc90b', 'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 19, 53, 38), datetime.datetime(2013, 7, 28, 19, 53, 38), 'test', '5e13bbb73127b9fc424e3728c6500f28', None, 1L, 1L, 1L, 0L, 0L, 0L, 0L, '', None, '1fe8a631d5522d10e2cf2e4fabedc90b', 'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 19, 53, 38)]
DEBUG:root:escape_sql sql: 
                INSERT INTO `q_brooklyncode` 
                set id=%s,locationId=%s,relatedId=%s,parentId=%s,userId=%s,type=%s,name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s,createDate=%s 
                ON DUPLICATE KEY UPDATE
                name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s
                
DEBUG:root:escape_sql args: [1L, 0L, 0L, 0L, 1L, 1L, 'test', '5e13bbb73127b9fc424e3728c6500f28', None, 1L, 1L, 1L, 0L, 0L, 0L, 0L, '', None, '1fe8a631d5522d10e2cf2e4fabedc90b', 'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 19, 53, 38), datetime.datetime(2013, 7, 28, 19, 53, 38), 'test', '5e13bbb73127b9fc424e3728c6500f28', None, 1L, 1L, 1L, 0L, 0L, 0L, 0L, '', None, '1fe8a631d5522d10e2cf2e4fabedc90b', 'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 19, 53, 38)]
DEBUG:root:
                INSERT INTO `q_brooklyncode` 
                set id=1,locationId=0,relatedId=0,parentId=0,userId=1,type=1,name='test',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=1,voteNumber=1,votesUp=1,votesDown=0,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge='1fe8a631d5522d10e2cf2e4fabedc90b',referer='http://localhost:8081/?p=1',changeDate='2013-07-28 19:53:38',createDate='2013-07-28 19:53:38' 
                ON DUPLICATE KEY UPDATE
                name='test',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=1,voteNumber=1,votesUp=1,votesDown=0,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge='1fe8a631d5522d10e2cf2e4fabedc90b',referer='http://localhost:8081/?p=1',changeDate='2013-07-28 19:53:38'
                
DEBUG:root:execute: 
                INSERT INTO `q_brooklyncode` 
                set id=1,locationId=0,relatedId=0,parentId=0,userId=1,type=1,name='test',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=1,voteNumber=1,votesUp=1,votesDown=0,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge='1fe8a631d5522d10e2cf2e4fabedc90b',referer='http://localhost:8081/?p=1',changeDate='2013-07-28 19:53:38',createDate='2013-07-28 19:53:38' 
                ON DUPLICATE KEY UPDATE
                name='test',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=1,voteNumber=1,votesUp=1,votesDown=0,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge='1fe8a631d5522d10e2cf2e4fabedc90b',referer='http://localhost:8081/?p=1',changeDate='2013-07-28 19:53:38'
                
DEBUG:root:item_exists
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:escape_sql sql: SELECT count(*) FROM `q_brooklyncode`  WHERE id = %s
DEBUG:root:escape_sql args: [1L]
DEBUG:root:SELECT count(*) FROM `q_brooklyncode`  WHERE id = 1
DEBUG:root:MySqlApiQueryset create_one (status, affected_rows): (NO CHANGES, 0)
DEBUG:root:perform_vote adding to payload
DEBUG:root:voteCount: 1 
DEBUG:root:voteNumber: 1 
DEBUG:root:votesUp: 1 
DEBUG:root:votesDown: 0 
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:escape_sql sql: 
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:escape_sql args: []
DEBUG:root:
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1065b7d90>
DEBUG:root:Number of contributions 8
INFO:root:200 POST /q/feed (127.0.0.1)
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:set_table has q_short_name (12345)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x106553b50>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has q_short_name (12345)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x106553d50>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:feed.prepare, table: q_brooklyncode
DEBUG:root:FeedHandler post
DEBUG:root:Body -> 
 action=downVote&location=5e13bbb73127b9fc424e3728c6500f28&referer=http%3A%2F%2Flocalhost%3A8081%2F%3Fp%3D1&q_short_name=12345&QOOID=QOO51f460f57c582&QOOTID=QOOT51f460f57c593&relatedId=1
DEBUG:root:Arguments -> 
 {"QOOID": ["QOO51f460f57c582"], "QOOTID": ["QOOT51f460f57c593"], "q_short_name": ["12345"], "location": ["5e13bbb73127b9fc424e3728c6500f28"], "action": ["downVote"], "referer": ["http://localhost:8081/?p=1"], "relatedId": ["1"]}
DEBUG:root:to_unicode
DEBUG:root:downVote
DEBUG:root:downVote
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:downVote
DEBUG:root:downVote
DEBUG:root:to_unicode
DEBUG:root:action: downVote
DEBUG:root:perform_vote(-1)
DEBUG:root:to_unicode
DEBUG:root:1
DEBUG:root:1
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:1
DEBUG:root:1
DEBUG:root:to_unicode
DEBUG:root:MySqlApiQueryset read_one
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:escape_sql sql: SELECT `id`,`locationId`,`relatedId`,`parentId`,`userId`,`type`,`name`,`location`,`description`,`voteCount`,`voteNumber`,`votesUp`,`votesDown`,`flagCount`,`childCount`,`sortOrder`,`status`,`thumbnailSmall`,`thumbnailLarge`,`referer`,`changeDate`,`createDate` FROM `q_brooklyncode` WHERE ID = %s
DEBUG:root:escape_sql args: [1]
DEBUG:root:SELECT `id`,`locationId`,`relatedId`,`parentId`,`userId`,`type`,`name`,`location`,`description`,`voteCount`,`voteNumber`,`votesUp`,`votesDown`,`flagCount`,`childCount`,`sortOrder`,`status`,`thumbnailSmall`,`thumbnailLarge`,`referer`,`changeDate`,`createDate` FROM `q_brooklyncode` WHERE ID = 1
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10706dc90>
DEBUG:root:_vote(-1, Comment object)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10655b050>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10655b190>
DEBUG:root:user_id, item.userId: 392, 1
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`refTable`,`itemId`,`userId`,`qootid`,`up`,`down`,`createDate` FROM `vote` WHERE `refTable` = %s and `itemId` = %s and `userId` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode', 1L, 392L]
DEBUG:root:
            SELECT `id`,`refTable`,`itemId`,`userId`,`qootid`,`up`,`down`,`createDate` FROM `vote` WHERE `refTable` = 'q_brooklyncode' and `itemId` = 1 and `userId` = 392
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10655b390>
DEBUG:root:MySqlApiQueryset create_one
DEBUG:root:MySqlApiQueryset create_one sql: 
                INSERT INTO `vote` 
                set id=%s,refTable=%s,itemId=%s,userId=%s,qootid=%s,up=%s,down=%s,createDate=%s 
                ON DUPLICATE KEY UPDATE
                up=%s,down=%s
                
DEBUG:root:execute
DEBUG:root:execute args: [3L, u'q_brooklyncode', 1L, 392L, u'QOOT51f460f57c593', 0, 1, datetime.datetime(2013, 7, 28, 22, 42, 42), 0, 1]
DEBUG:root:escape_sql sql: 
                INSERT INTO `vote` 
                set id=%s,refTable=%s,itemId=%s,userId=%s,qootid=%s,up=%s,down=%s,createDate=%s 
                ON DUPLICATE KEY UPDATE
                up=%s,down=%s
                
DEBUG:root:escape_sql args: [3L, u'q_brooklyncode', 1L, 392L, u'QOOT51f460f57c593', 0, 1, datetime.datetime(2013, 7, 28, 22, 42, 42), 0, 1]
DEBUG:root:
                INSERT INTO `vote` 
                set id=3,refTable='q_brooklyncode',itemId=1,userId=392,qootid='QOOT51f460f57c593',up=0,down=1,createDate='2013-07-28 22:42:42' 
                ON DUPLICATE KEY UPDATE
                up=0,down=1
                
DEBUG:root:execute: 
                INSERT INTO `vote` 
                set id=3,refTable='q_brooklyncode',itemId=1,userId=392,qootid='QOOT51f460f57c593',up=0,down=1,createDate='2013-07-28 22:42:42' 
                ON DUPLICATE KEY UPDATE
                up=0,down=1
                
DEBUG:root:MySqlApiQueryset create_one (status, affected_rows): (Updated, 2)
DEBUG:root:update_vote_counts(Comment object)
DEBUG:root:query
DEBUG:root:escape_sql sql:  SELECT id, SUM(down) AS votesDown, SUM(up) AS votesUp FROM(
        SELECT ifnull(id,0) as id, 'parent' AS type, SUM(down) AS down, SUM(up) AS up  FROM (
            SELECT ifnull(q.id,0) as id,
                (SELECT SUM(down) FROM vote WHERE itemId = q.id AND refTable=%s AND down > 0) AS down,
                (SELECT SUM(up) FROM vote WHERE itemId = q.id AND refTable=%s AND up > 0) AS up
            FROM `q_brooklyncode` q
            WHERE q.id=%s
            GROUP BY q.id) s1
        
            UNION
            SELECT ifnull(id,0) as id, 'children' AS type, SUM(down) AS down, SUM(up) AS up  FROM (
                SELECT ifnull(q.parentId,0) as id,
                    (SELECT SUM(down) FROM vote WHERE itemId = q.id AND refTable=%s AND down > 0) AS down,
                    (SELECT SUM(up) FROM vote WHERE itemId = q.id AND refTable=%s AND up > 0) AS up
                FROM `q_brooklyncode` q
                WHERE q.parentId > 0
                AND q.parentId=%s
                GROUP BY q.parentId) s2
            ) s3 WHERE NOT id IS NULL AND id  > 0 GROUP BY 1
DEBUG:root:escape_sql args: [u'q_brooklyncode', u'q_brooklyncode', 1L, u'q_brooklyncode', u'q_brooklyncode', 1L]
DEBUG:root: SELECT id, SUM(down) AS votesDown, SUM(up) AS votesUp FROM(
        SELECT ifnull(id,0) as id, 'parent' AS type, SUM(down) AS down, SUM(up) AS up  FROM (
            SELECT ifnull(q.id,0) as id,
                (SELECT SUM(down) FROM vote WHERE itemId = q.id AND refTable='q_brooklyncode' AND down > 0) AS down,
                (SELECT SUM(up) FROM vote WHERE itemId = q.id AND refTable='q_brooklyncode' AND up > 0) AS up
            FROM `q_brooklyncode` q
            WHERE q.id=1
            GROUP BY q.id) s1
        
            UNION
            SELECT ifnull(id,0) as id, 'children' AS type, SUM(down) AS down, SUM(up) AS up  FROM (
                SELECT ifnull(q.parentId,0) as id,
                    (SELECT SUM(down) FROM vote WHERE itemId = q.id AND refTable='q_brooklyncode' AND down > 0) AS down,
                    (SELECT SUM(up) FROM vote WHERE itemId = q.id AND refTable='q_brooklyncode' AND up > 0) AS up
                FROM `q_brooklyncode` q
                WHERE q.parentId > 0
                AND q.parentId=1
                GROUP BY q.parentId) s2
            ) s3 WHERE NOT id IS NULL AND id  > 0 GROUP BY 1
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10655b790>
DEBUG:root:({u'id': 1L, u'votesDown': Decimal('1'), u'votesUp': None},)
DEBUG:root:MySqlApiQueryset create_one
DEBUG:root:MySqlApiQueryset create_one sql: 
                INSERT INTO `q_brooklyncode` 
                set id=%s,locationId=%s,relatedId=%s,parentId=%s,userId=%s,type=%s,name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s,createDate=%s 
                ON DUPLICATE KEY UPDATE
                name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s
                
DEBUG:root:execute
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:execute args: [1L, 0L, 0L, 0L, 1L, 1L, 'test', '5e13bbb73127b9fc424e3728c6500f28', None, 1L, -1L, 0L, 1L, 0L, 0L, 0L, '', None, '1fe8a631d5522d10e2cf2e4fabedc90b', 'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 19, 53, 38), datetime.datetime(2013, 7, 28, 19, 53, 38), 'test', '5e13bbb73127b9fc424e3728c6500f28', None, 1L, -1L, 0L, 1L, 0L, 0L, 0L, '', None, '1fe8a631d5522d10e2cf2e4fabedc90b', 'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 19, 53, 38)]
DEBUG:root:escape_sql sql: 
                INSERT INTO `q_brooklyncode` 
                set id=%s,locationId=%s,relatedId=%s,parentId=%s,userId=%s,type=%s,name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s,createDate=%s 
                ON DUPLICATE KEY UPDATE
                name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s
                
DEBUG:root:escape_sql args: [1L, 0L, 0L, 0L, 1L, 1L, 'test', '5e13bbb73127b9fc424e3728c6500f28', None, 1L, -1L, 0L, 1L, 0L, 0L, 0L, '', None, '1fe8a631d5522d10e2cf2e4fabedc90b', 'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 19, 53, 38), datetime.datetime(2013, 7, 28, 19, 53, 38), 'test', '5e13bbb73127b9fc424e3728c6500f28', None, 1L, -1L, 0L, 1L, 0L, 0L, 0L, '', None, '1fe8a631d5522d10e2cf2e4fabedc90b', 'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 19, 53, 38)]
DEBUG:root:
                INSERT INTO `q_brooklyncode` 
                set id=1,locationId=0,relatedId=0,parentId=0,userId=1,type=1,name='test',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=1,voteNumber=-1,votesUp=0,votesDown=1,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge='1fe8a631d5522d10e2cf2e4fabedc90b',referer='http://localhost:8081/?p=1',changeDate='2013-07-28 19:53:38',createDate='2013-07-28 19:53:38' 
                ON DUPLICATE KEY UPDATE
                name='test',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=1,voteNumber=-1,votesUp=0,votesDown=1,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge='1fe8a631d5522d10e2cf2e4fabedc90b',referer='http://localhost:8081/?p=1',changeDate='2013-07-28 19:53:38'
                
DEBUG:root:execute: 
                INSERT INTO `q_brooklyncode` 
                set id=1,locationId=0,relatedId=0,parentId=0,userId=1,type=1,name='test',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=1,voteNumber=-1,votesUp=0,votesDown=1,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge='1fe8a631d5522d10e2cf2e4fabedc90b',referer='http://localhost:8081/?p=1',changeDate='2013-07-28 19:53:38',createDate='2013-07-28 19:53:38' 
                ON DUPLICATE KEY UPDATE
                name='test',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=1,voteNumber=-1,votesUp=0,votesDown=1,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge='1fe8a631d5522d10e2cf2e4fabedc90b',referer='http://localhost:8081/?p=1',changeDate='2013-07-28 19:53:38'
                
DEBUG:root:MySqlApiQueryset create_one (status, affected_rows): (Updated, 2)
DEBUG:root:perform_vote adding to payload
DEBUG:root:voteCount: 1 
DEBUG:root:voteNumber: -1 
DEBUG:root:votesUp: 0 
DEBUG:root:votesDown: 1 
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:escape_sql sql: 
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:escape_sql args: []
DEBUG:root:
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x106563f90>
DEBUG:root:Number of contributions 8
INFO:root:200 POST /q/feed (127.0.0.1)
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:set_table has q_short_name (12345)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x106553750>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has q_short_name (12345)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1065537d0>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:feed.prepare, table: q_brooklyncode
DEBUG:root:FeedHandler post
DEBUG:root:Body -> 
 action=downVote&location=5e13bbb73127b9fc424e3728c6500f28&referer=http%3A%2F%2Flocalhost%3A8081%2F%3Fp%3D1&q_short_name=12345&QOOID=QOO51f460f57c582&QOOTID=QOOT51f460f57c593&relatedId=1
DEBUG:root:Arguments -> 
 {"QOOID": ["QOO51f460f57c582"], "QOOTID": ["QOOT51f460f57c593"], "q_short_name": ["12345"], "location": ["5e13bbb73127b9fc424e3728c6500f28"], "action": ["downVote"], "referer": ["http://localhost:8081/?p=1"], "relatedId": ["1"]}
DEBUG:root:to_unicode
DEBUG:root:downVote
DEBUG:root:downVote
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:downVote
DEBUG:root:downVote
DEBUG:root:to_unicode
DEBUG:root:action: downVote
DEBUG:root:perform_vote(-1)
DEBUG:root:to_unicode
DEBUG:root:1
DEBUG:root:1
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:1
DEBUG:root:1
DEBUG:root:to_unicode
DEBUG:root:MySqlApiQueryset read_one
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:escape_sql sql: SELECT `id`,`locationId`,`relatedId`,`parentId`,`userId`,`type`,`name`,`location`,`description`,`voteCount`,`voteNumber`,`votesUp`,`votesDown`,`flagCount`,`childCount`,`sortOrder`,`status`,`thumbnailSmall`,`thumbnailLarge`,`referer`,`changeDate`,`createDate` FROM `q_brooklyncode` WHERE ID = %s
DEBUG:root:escape_sql args: [1]
DEBUG:root:SELECT `id`,`locationId`,`relatedId`,`parentId`,`userId`,`type`,`name`,`location`,`description`,`voteCount`,`voteNumber`,`votesUp`,`votesDown`,`flagCount`,`childCount`,`sortOrder`,`status`,`thumbnailSmall`,`thumbnailLarge`,`referer`,`changeDate`,`createDate` FROM `q_brooklyncode` WHERE ID = 1
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x107020510>
DEBUG:root:_vote(-1, Comment object)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1065539d0>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x106553b50>
DEBUG:root:user_id, item.userId: 392, 1
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`refTable`,`itemId`,`userId`,`qootid`,`up`,`down`,`createDate` FROM `vote` WHERE `refTable` = %s and `itemId` = %s and `userId` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode', 1L, 392L]
DEBUG:root:
            SELECT `id`,`refTable`,`itemId`,`userId`,`qootid`,`up`,`down`,`createDate` FROM `vote` WHERE `refTable` = 'q_brooklyncode' and `itemId` = 1 and `userId` = 392
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x106553d50>
DEBUG:root:MySqlApiQueryset create_one
DEBUG:root:MySqlApiQueryset create_one sql: 
                INSERT INTO `vote` 
                set id=%s,refTable=%s,itemId=%s,userId=%s,qootid=%s,up=%s,down=%s,createDate=%s 
                ON DUPLICATE KEY UPDATE
                up=%s,down=%s
                
DEBUG:root:execute
DEBUG:root:execute args: [3L, u'q_brooklyncode', 1L, 392L, u'QOOT51f460f57c593', 0, 1, datetime.datetime(2013, 7, 28, 22, 42, 42), 0, 1]
DEBUG:root:escape_sql sql: 
                INSERT INTO `vote` 
                set id=%s,refTable=%s,itemId=%s,userId=%s,qootid=%s,up=%s,down=%s,createDate=%s 
                ON DUPLICATE KEY UPDATE
                up=%s,down=%s
                
DEBUG:root:escape_sql args: [3L, u'q_brooklyncode', 1L, 392L, u'QOOT51f460f57c593', 0, 1, datetime.datetime(2013, 7, 28, 22, 42, 42), 0, 1]
DEBUG:root:
                INSERT INTO `vote` 
                set id=3,refTable='q_brooklyncode',itemId=1,userId=392,qootid='QOOT51f460f57c593',up=0,down=1,createDate='2013-07-28 22:42:42' 
                ON DUPLICATE KEY UPDATE
                up=0,down=1
                
DEBUG:root:execute: 
                INSERT INTO `vote` 
                set id=3,refTable='q_brooklyncode',itemId=1,userId=392,qootid='QOOT51f460f57c593',up=0,down=1,createDate='2013-07-28 22:42:42' 
                ON DUPLICATE KEY UPDATE
                up=0,down=1
                
DEBUG:root:item_exists
DEBUG:root:escape_sql sql: SELECT count(*) FROM `vote`  WHERE id = %s
DEBUG:root:escape_sql args: [3L]
DEBUG:root:SELECT count(*) FROM `vote`  WHERE id = 3
DEBUG:root:MySqlApiQueryset create_one (status, affected_rows): (NO CHANGES, 0)
DEBUG:root:update_vote_counts(Comment object)
DEBUG:root:query
DEBUG:root:escape_sql sql:  SELECT id, SUM(down) AS votesDown, SUM(up) AS votesUp FROM(
        SELECT ifnull(id,0) as id, 'parent' AS type, SUM(down) AS down, SUM(up) AS up  FROM (
            SELECT ifnull(q.id,0) as id,
                (SELECT SUM(down) FROM vote WHERE itemId = q.id AND refTable=%s AND down > 0) AS down,
                (SELECT SUM(up) FROM vote WHERE itemId = q.id AND refTable=%s AND up > 0) AS up
            FROM `q_brooklyncode` q
            WHERE q.id=%s
            GROUP BY q.id) s1
        
            UNION
            SELECT ifnull(id,0) as id, 'children' AS type, SUM(down) AS down, SUM(up) AS up  FROM (
                SELECT ifnull(q.parentId,0) as id,
                    (SELECT SUM(down) FROM vote WHERE itemId = q.id AND refTable=%s AND down > 0) AS down,
                    (SELECT SUM(up) FROM vote WHERE itemId = q.id AND refTable=%s AND up > 0) AS up
                FROM `q_brooklyncode` q
                WHERE q.parentId > 0
                AND q.parentId=%s
                GROUP BY q.parentId) s2
            ) s3 WHERE NOT id IS NULL AND id  > 0 GROUP BY 1
DEBUG:root:escape_sql args: [u'q_brooklyncode', u'q_brooklyncode', 1L, u'q_brooklyncode', u'q_brooklyncode', 1L]
DEBUG:root: SELECT id, SUM(down) AS votesDown, SUM(up) AS votesUp FROM(
        SELECT ifnull(id,0) as id, 'parent' AS type, SUM(down) AS down, SUM(up) AS up  FROM (
            SELECT ifnull(q.id,0) as id,
                (SELECT SUM(down) FROM vote WHERE itemId = q.id AND refTable='q_brooklyncode' AND down > 0) AS down,
                (SELECT SUM(up) FROM vote WHERE itemId = q.id AND refTable='q_brooklyncode' AND up > 0) AS up
            FROM `q_brooklyncode` q
            WHERE q.id=1
            GROUP BY q.id) s1
        
            UNION
            SELECT ifnull(id,0) as id, 'children' AS type, SUM(down) AS down, SUM(up) AS up  FROM (
                SELECT ifnull(q.parentId,0) as id,
                    (SELECT SUM(down) FROM vote WHERE itemId = q.id AND refTable='q_brooklyncode' AND down > 0) AS down,
                    (SELECT SUM(up) FROM vote WHERE itemId = q.id AND refTable='q_brooklyncode' AND up > 0) AS up
                FROM `q_brooklyncode` q
                WHERE q.parentId > 0
                AND q.parentId=1
                GROUP BY q.parentId) s2
            ) s3 WHERE NOT id IS NULL AND id  > 0 GROUP BY 1
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10655b390>
DEBUG:root:({u'id': 1L, u'votesDown': Decimal('1'), u'votesUp': None},)
DEBUG:root:MySqlApiQueryset create_one
DEBUG:root:MySqlApiQueryset create_one sql: 
                INSERT INTO `q_brooklyncode` 
                set id=%s,locationId=%s,relatedId=%s,parentId=%s,userId=%s,type=%s,name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s,createDate=%s 
                ON DUPLICATE KEY UPDATE
                name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s
                
DEBUG:root:execute
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:execute args: [1L, 0L, 0L, 0L, 1L, 1L, 'test', '5e13bbb73127b9fc424e3728c6500f28', None, 1L, -1L, 0L, 1L, 0L, 0L, 0L, '', None, '1fe8a631d5522d10e2cf2e4fabedc90b', 'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 19, 53, 38), datetime.datetime(2013, 7, 28, 19, 53, 38), 'test', '5e13bbb73127b9fc424e3728c6500f28', None, 1L, -1L, 0L, 1L, 0L, 0L, 0L, '', None, '1fe8a631d5522d10e2cf2e4fabedc90b', 'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 19, 53, 38)]
DEBUG:root:escape_sql sql: 
                INSERT INTO `q_brooklyncode` 
                set id=%s,locationId=%s,relatedId=%s,parentId=%s,userId=%s,type=%s,name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s,createDate=%s 
                ON DUPLICATE KEY UPDATE
                name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s
                
DEBUG:root:escape_sql args: [1L, 0L, 0L, 0L, 1L, 1L, 'test', '5e13bbb73127b9fc424e3728c6500f28', None, 1L, -1L, 0L, 1L, 0L, 0L, 0L, '', None, '1fe8a631d5522d10e2cf2e4fabedc90b', 'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 19, 53, 38), datetime.datetime(2013, 7, 28, 19, 53, 38), 'test', '5e13bbb73127b9fc424e3728c6500f28', None, 1L, -1L, 0L, 1L, 0L, 0L, 0L, '', None, '1fe8a631d5522d10e2cf2e4fabedc90b', 'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 19, 53, 38)]
DEBUG:root:
                INSERT INTO `q_brooklyncode` 
                set id=1,locationId=0,relatedId=0,parentId=0,userId=1,type=1,name='test',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=1,voteNumber=-1,votesUp=0,votesDown=1,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge='1fe8a631d5522d10e2cf2e4fabedc90b',referer='http://localhost:8081/?p=1',changeDate='2013-07-28 19:53:38',createDate='2013-07-28 19:53:38' 
                ON DUPLICATE KEY UPDATE
                name='test',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=1,voteNumber=-1,votesUp=0,votesDown=1,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge='1fe8a631d5522d10e2cf2e4fabedc90b',referer='http://localhost:8081/?p=1',changeDate='2013-07-28 19:53:38'
                
DEBUG:root:execute: 
                INSERT INTO `q_brooklyncode` 
                set id=1,locationId=0,relatedId=0,parentId=0,userId=1,type=1,name='test',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=1,voteNumber=-1,votesUp=0,votesDown=1,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge='1fe8a631d5522d10e2cf2e4fabedc90b',referer='http://localhost:8081/?p=1',changeDate='2013-07-28 19:53:38',createDate='2013-07-28 19:53:38' 
                ON DUPLICATE KEY UPDATE
                name='test',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=1,voteNumber=-1,votesUp=0,votesDown=1,flagCount=0,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge='1fe8a631d5522d10e2cf2e4fabedc90b',referer='http://localhost:8081/?p=1',changeDate='2013-07-28 19:53:38'
                
DEBUG:root:item_exists
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:escape_sql sql: SELECT count(*) FROM `q_brooklyncode`  WHERE id = %s
DEBUG:root:escape_sql args: [1L]
DEBUG:root:SELECT count(*) FROM `q_brooklyncode`  WHERE id = 1
DEBUG:root:MySqlApiQueryset create_one (status, affected_rows): (NO CHANGES, 0)
DEBUG:root:perform_vote adding to payload
DEBUG:root:voteCount: 1 
DEBUG:root:voteNumber: -1 
DEBUG:root:votesUp: 0 
DEBUG:root:votesDown: 1 
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:escape_sql sql: 
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:escape_sql args: []
DEBUG:root:
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10707e710>
DEBUG:root:Number of contributions 8
INFO:root:200 POST /q/feed (127.0.0.1)
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:set_table has q_short_name (12345)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10655b590>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has q_short_name (12345)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10655b790>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:feed.prepare, table: q_brooklyncode
DEBUG:root:FeedHandler post
DEBUG:root:Body -> 
 action=flag&location=5e13bbb73127b9fc424e3728c6500f28&referer=http%3A%2F%2Flocalhost%3A8081%2F%3Fp%3D1&q_short_name=12345&QOOID=QOO51f460f57c582&QOOTID=QOOT51f460f57c593&flagTypeId=2&itemId=1&relatedId=1
DEBUG:root:Arguments -> 
 {"itemId": ["1"], "QOOID": ["QOO51f460f57c582"], "QOOTID": ["QOOT51f460f57c593"], "q_short_name": ["12345"], "location": ["5e13bbb73127b9fc424e3728c6500f28"], "action": ["flag"], "referer": ["http://localhost:8081/?p=1"], "relatedId": ["1"], "flagTypeId": ["2"]}
DEBUG:root:to_unicode
DEBUG:root:flag
DEBUG:root:flag
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:flag
DEBUG:root:flag
DEBUG:root:to_unicode
DEBUG:root:action: flag
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x106553750>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1065537d0>
DEBUG:root:perform_flag
DEBUG:root:to_unicode
DEBUG:root:1
DEBUG:root:1
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:1
DEBUG:root:1
DEBUG:root:to_unicode
DEBUG:root:MySqlApiQueryset read_one
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:escape_sql sql: SELECT `id`,`locationId`,`relatedId`,`parentId`,`userId`,`type`,`name`,`location`,`description`,`voteCount`,`voteNumber`,`votesUp`,`votesDown`,`flagCount`,`childCount`,`sortOrder`,`status`,`thumbnailSmall`,`thumbnailLarge`,`referer`,`changeDate`,`createDate` FROM `q_brooklyncode` WHERE ID = %s
DEBUG:root:escape_sql args: [1]
DEBUG:root:SELECT `id`,`locationId`,`relatedId`,`parentId`,`userId`,`type`,`name`,`location`,`description`,`voteCount`,`voteNumber`,`votesUp`,`votesDown`,`flagCount`,`childCount`,`sortOrder`,`status`,`thumbnailSmall`,`thumbnailLarge`,`referer`,`changeDate`,`createDate` FROM `q_brooklyncode` WHERE ID = 1
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1065c6690>
DEBUG:root:_flag(Comment object)
DEBUG:root:to_unicode
DEBUG:root:2
DEBUG:root:2
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:2
DEBUG:root:2
DEBUG:root:to_unicode
DEBUG:root:MySqlApiQueryset read_one
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:escape_sql sql: SELECT `id`,`createDate`,`name`,`description` FROM `flag_type` WHERE ID = %s
DEBUG:root:escape_sql args: [2]
DEBUG:root:SELECT `id`,`createDate`,`name`,`description` FROM `flag_type` WHERE ID = 2
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1065539d0>
DEBUG:root:flag_type found: 2
DEBUG:root:flag_type is authorized: 2
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`refTable`,`itemId`,`userId`,`flagTypeId`,`createDate` FROM `flag` WHERE `refTable` = %s and `itemId` = %s and `userId` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode', 1L, 392L]
DEBUG:root:
            SELECT `id`,`refTable`,`itemId`,`userId`,`flagTypeId`,`createDate` FROM `flag` WHERE `refTable` = 'q_brooklyncode' and `itemId` = 1 and `userId` = 392
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x106553b50>
DEBUG:root:MySqlApiQueryset create_one
DEBUG:root:MySqlApiQueryset create_one sql: 
                INSERT INTO `flag` 
                set id=%s,refTable=%s,itemId=%s,userId=%s,flagTypeId=%s,createDate=%s 
                ON DUPLICATE KEY UPDATE
                flagTypeId=%s
                
DEBUG:root:execute
DEBUG:root:execute args: [None, u'q_brooklyncode', 1L, 392L, 2L, datetime.datetime(2013, 7, 28, 22, 42, 53, 980081), 2L]
DEBUG:root:escape_sql sql: 
                INSERT INTO `flag` 
                set id=%s,refTable=%s,itemId=%s,userId=%s,flagTypeId=%s,createDate=%s 
                ON DUPLICATE KEY UPDATE
                flagTypeId=%s
                
DEBUG:root:escape_sql args: [None, u'q_brooklyncode', 1L, 392L, 2L, datetime.datetime(2013, 7, 28, 22, 42, 53, 980081), 2L]
DEBUG:root:
                INSERT INTO `flag` 
                set id=NULL,refTable='q_brooklyncode',itemId=1,userId=392,flagTypeId=2,createDate='2013-07-28 22:42:53' 
                ON DUPLICATE KEY UPDATE
                flagTypeId=2
                
DEBUG:root:execute: 
                INSERT INTO `flag` 
                set id=NULL,refTable='q_brooklyncode',itemId=1,userId=392,flagTypeId=2,createDate='2013-07-28 22:42:53' 
                ON DUPLICATE KEY UPDATE
                flagTypeId=2
                
DEBUG:root:MySqlApiQueryset create_one (status, affected_rows): (Created, 1)
DEBUG:root:inserted_id: 1)
DEBUG:root:update_flag_count(Comment object)
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT count(*) as `flagCount`
            FROM `flag` `f`
            WHERE `f`.`refTable`= %s and `itemId`=%s
            
DEBUG:root:escape_sql args: [u'q_brooklyncode', 1L]
DEBUG:root:
            SELECT count(*) as `flagCount`
            FROM `flag` `f`
            WHERE `f`.`refTable`= 'q_brooklyncode' and `itemId`=1
            
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10655b050>
DEBUG:root:1
DEBUG:root:MySqlApiQueryset create_one
DEBUG:root:MySqlApiQueryset create_one sql: 
                INSERT INTO `q_brooklyncode` 
                set id=%s,locationId=%s,relatedId=%s,parentId=%s,userId=%s,type=%s,name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s,createDate=%s 
                ON DUPLICATE KEY UPDATE
                name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s
                
DEBUG:root:execute
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:execute args: [1L, 0L, 0L, 0L, 1L, 1L, 'test', '5e13bbb73127b9fc424e3728c6500f28', None, 1L, -1L, 0L, 1L, 1L, 0L, 0L, '', None, '1fe8a631d5522d10e2cf2e4fabedc90b', 'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 19, 53, 38), datetime.datetime(2013, 7, 28, 19, 53, 38), 'test', '5e13bbb73127b9fc424e3728c6500f28', None, 1L, -1L, 0L, 1L, 1L, 0L, 0L, '', None, '1fe8a631d5522d10e2cf2e4fabedc90b', 'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 19, 53, 38)]
DEBUG:root:escape_sql sql: 
                INSERT INTO `q_brooklyncode` 
                set id=%s,locationId=%s,relatedId=%s,parentId=%s,userId=%s,type=%s,name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s,createDate=%s 
                ON DUPLICATE KEY UPDATE
                name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s
                
DEBUG:root:escape_sql args: [1L, 0L, 0L, 0L, 1L, 1L, 'test', '5e13bbb73127b9fc424e3728c6500f28', None, 1L, -1L, 0L, 1L, 1L, 0L, 0L, '', None, '1fe8a631d5522d10e2cf2e4fabedc90b', 'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 19, 53, 38), datetime.datetime(2013, 7, 28, 19, 53, 38), 'test', '5e13bbb73127b9fc424e3728c6500f28', None, 1L, -1L, 0L, 1L, 1L, 0L, 0L, '', None, '1fe8a631d5522d10e2cf2e4fabedc90b', 'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 19, 53, 38)]
DEBUG:root:
                INSERT INTO `q_brooklyncode` 
                set id=1,locationId=0,relatedId=0,parentId=0,userId=1,type=1,name='test',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=1,voteNumber=-1,votesUp=0,votesDown=1,flagCount=1,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge='1fe8a631d5522d10e2cf2e4fabedc90b',referer='http://localhost:8081/?p=1',changeDate='2013-07-28 19:53:38',createDate='2013-07-28 19:53:38' 
                ON DUPLICATE KEY UPDATE
                name='test',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=1,voteNumber=-1,votesUp=0,votesDown=1,flagCount=1,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge='1fe8a631d5522d10e2cf2e4fabedc90b',referer='http://localhost:8081/?p=1',changeDate='2013-07-28 19:53:38'
                
DEBUG:root:execute: 
                INSERT INTO `q_brooklyncode` 
                set id=1,locationId=0,relatedId=0,parentId=0,userId=1,type=1,name='test',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=1,voteNumber=-1,votesUp=0,votesDown=1,flagCount=1,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge='1fe8a631d5522d10e2cf2e4fabedc90b',referer='http://localhost:8081/?p=1',changeDate='2013-07-28 19:53:38',createDate='2013-07-28 19:53:38' 
                ON DUPLICATE KEY UPDATE
                name='test',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=1,voteNumber=-1,votesUp=0,votesDown=1,flagCount=1,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge='1fe8a631d5522d10e2cf2e4fabedc90b',referer='http://localhost:8081/?p=1',changeDate='2013-07-28 19:53:38'
                
DEBUG:root:MySqlApiQueryset create_one (status, affected_rows): (Updated, 2)
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:escape_sql sql: SELECT * FROM `flag` WHERE refTable = %s and itemId = %s and userId = %s
DEBUG:root:escape_sql args: [u'q_brooklyncode', 1L, 392L]
DEBUG:root:SELECT * FROM `flag` WHERE refTable = 'q_brooklyncode' and itemId = 1 and userId = 392
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10655b190>
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:escape_sql sql: SELECT refTable FROM `flag` WHERE id = %s
DEBUG:root:escape_sql args: [1L]
DEBUG:root:SELECT refTable FROM `flag` WHERE id = 1
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10655b390>
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `f`.*, `i`.name, `i`.`referer`, `ui`.`username`, `ui`.`email`,
            `uq`.`username` as `adminUsername`, `uq`.`email` as `adminEmail`,
            `ft`.`name` as `flagType`
            FROM `flag` `f`
            LEFT JOIN `q_brooklyncode` `i` on `i`.`id`=`f`.`id`
            LEFT JOIN `qoorates` `q` on `q`.`refTable`=`f`.`refTable`
            LEFT JOIN `user` `uq` on `uq`.`id`=`q`.`userId`
            LEFT JOIN `user` `ui` on `ui`.`id`=`i`.`userId`
            LEFT JOIN `flag_type` `ft` on `ft`.`id`=`f`.`flagTypeId`
            WHERE `f`.`id`= 1
            
DEBUG:root:escape_sql args: [1L]
INFO:root:ERROR: (not all arguments converted during string formatting)Traceback (most recent call last):
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 332, in post
    self.perform_flag()
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck-0.4.0-py2.7.egg/brubeck/auth.py", line 65, in wrapper
    return method(self, *args, **kwargs)
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 891, in perform_flag
    self.send_flag_alert(item, flag)
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 968, in send_flag_alert
    flag_info = self.flag_queryset.get_flag_email_alert_info_by_id(flag['id'])
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 712, in get_flag_email_alert_info_by_id
    return self.fetch(sql, [id]);
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_mysql-0.1.6-py2.7.egg/brubeckmysql/querysets.py", line 318, in fetch
    row = self.query(sql, args, format, True)
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_mysql-0.1.6-py2.7.egg/brubeckmysql/querysets.py", line 286, in query
    sql = self.escape_sql(sql, args, db_conn)
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_mysql-0.1.6-py2.7.egg/brubeckmysql/querysets.py", line 243, in escape_sql
    sql = sql % escaped_args
TypeError: not all arguments converted during string formatting

INFO:root:500 POST /q/feed (127.0.0.1)
Mon, 29 Jul 2013 02:45:30 GMT [ERROR] (errno: No such file or directory) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 02:45:30 GMT [ERROR] (errno: None) Failed to create target for route /q/static/
Mon, 29 Jul 2013 02:45:30 GMT [ERROR] (errno: None) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 02:45:30 GMT [ERROR] (errno: None) Failed to create target for route /q/robots.txt
Mon, 29 Jul 2013 02:45:30 GMT [ERROR] (errno: None) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 02:45:30 GMT [ERROR] (errno: None) Failed to create target for route /q/favicon.ico
Mon, 29 Jul 2013 02:45:30 GMT [INFO] (src/mime.c:49) MAX limits.mime_ext_len=128
Mon, 29 Jul 2013 02:45:30 GMT [INFO] (src/host.c:74) MAX limits.url_path=256, limits.host_name=256
Mon, 29 Jul 2013 02:45:30 GMT [INFO] (src/config/config.c:109) Loaded proxy 1:127.0.0.1:8081
Mon, 29 Jul 2013 02:45:30 GMT [INFO] (src/config/config.c:227) Loaded route 1:/:proxy for host 1:localhost
Mon, 29 Jul 2013 02:45:30 GMT [INFO] (src/handler.c:343) MAX limits.handler_stack=102400
Mon, 29 Jul 2013 02:45:30 GMT [INFO] (src/config/config.c:85) Loaded handler 1:ipc://run/qoorateserver/mongrel2_send:137b789e-b7eb-475a-8d5c-b16ab54493yu:ipc://run/qoorateserver/mongrel2_rcv:
Mon, 29 Jul 2013 02:45:30 GMT [INFO] (src/config/config.c:227) Loaded route 2:/q/:handler for host 1:localhost
Mon, 29 Jul 2013 02:45:30 GMT [INFO] (src/dir.c:195) MAX limits.dir_send_buffer=16384, limits.dir_max_path=256
Mon, 29 Jul 2013 02:45:30 GMT [INFO] (src/config/config.c:136) Loaded directory 1:static/qoorateserver/js/:index.html
Mon, 29 Jul 2013 02:45:30 GMT [INFO] (src/config/config.c:227) Loaded route 3:/q/js/:dir for host 1:localhost
Mon, 29 Jul 2013 02:45:30 GMT [INFO] (src/config/config.c:136) Loaded directory 2:static/qoorateserver/css/:index.html
Mon, 29 Jul 2013 02:45:30 GMT [INFO] (src/config/config.c:227) Loaded route 4:/q/css/:dir for host 1:localhost
Mon, 29 Jul 2013 02:45:30 GMT [INFO] (src/config/config.c:136) Loaded directory 3:static/qoorateserver/img/:index.html
Mon, 29 Jul 2013 02:45:30 GMT [INFO] (src/config/config.c:227) Loaded route 5:/q/img/:dir for host 1:localhost
Mon, 29 Jul 2013 02:45:30 GMT [INFO] (src/config/config.c:312) Loaded 1 hosts for server 1:fe76e442-da24-4708-b0ef-c4ahr2b7d131
Mon, 29 Jul 2013 02:45:30 GMT [INFO] (src/server.c:445) LOADING Handler ipc://run/qoorateserver/mongrel2_send
Mon, 29 Jul 2013 02:45:30 GMT [ERROR] (src/unixy.c:99: errno: No such file or directory) Failed to open PID file ../run/mongrel2.pid for reading.
Mon, 29 Jul 2013 02:45:30 GMT [INFO] (src/unixy.c:137) No previous mongrel2 running, continuing on.
Mon, 29 Jul 2013 02:45:30 GMT [INFO] (src/mongrel2.c:223) All loaded up, time to turn into a server.
Mon, 29 Jul 2013 02:45:30 GMT [INFO] (src/mongrel2.c:224) -- Starting Mongrel2/1.8.1. Copyright (C) Zed A. Shaw. Licensed BSD.

Mon, 29 Jul 2013 02:45:30 GMT [INFO] (src/mongrel2.c:225) -- Look in logs/error.log for startup messages and errors.
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
INFO:root:Using project directory: .
DEBUG:root:loading settings from ./conf/uploader/settings.py
INFO:root:Using coroutine library: gevent
DEBUG:root:******** START _service_registration *********
DEBUG:root:service_registration_passphrase: 137b789e-b7eb-475a-8d5a-b16ab544yurp
DEBUG:root:service_id: uploader
DEBUG:root:service_registration_addr: ipc://run/uploader/brubeck_svc_registration
DEBUG:root:service_passphrase: 137b789e-b7eb-475a-8d5a-b16ab544yurp
DEBUG:root:service_addr: ipc://run/uploader/brubeck_svc
DEBUG:root:service_response_addr: ipc://run/uploader/brubeck_svc_response
DEBUG:root:service_heartbeat_addr: None
DEBUG:root:service_heartbeat_timeout: 5
DEBUG:root:sender_id: d53227fa5d15478fbcd678905de0efc4
DEBUG:root:is_reregistration: 0
DEBUG:root:service_heartbeat_interval: 3
DEBUG:root:******** END _service_registration *********
DEBUG:root:register_service: (service_registration_addr, service_registration_passphrase,service_heartbeat_timeout,sender_id): (ipc://run/uploader/brubeck_svc_registration,137b789e-b7eb-475a-8d5a-b16ab544yurp, 5, d53227fa5d15478fbcd678905de0efc4)
DEBUG:root:service_registration sending request
DEBUG:root:service_registration waiting for response
INFO:root:Using project directory: .
DEBUG:root:loading settings from ./conf/qoorateserver/development.py
INFO:root:Using coroutine library: gevent
DEBUG:root:creating application db_conn pool
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:set_table has q_short_name (12345)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = ("'12345'",)
        
DEBUG:root:dict
DEBUG:root:ERROR!!!!!!!!!
Traceback (most recent call last):
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/gevent/greenlet.py", line 390, in run
    result = self._run(*self.args, **self.kwargs)
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck-0.4.0-py2.7.egg/brubeck/connections.py", line 166, in process_message
    result = handler()
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck-0.4.0-py2.7.egg/brubeck/request_handling.py", line 317, in __call__
    self.prepare()
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 238, in prepare
    if self.table == None:
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/modules/brooklyncodebrubeck/application.py", line 22, in _lazyprop
    attr = method(self)
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 127, in table
    table = self.set_table()
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 320, in set_table
    qoorate = self.qoorate_queryset.get_by_short_title(self.q_short_name)
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 937, in get_by_short_title
    row = self.dictListToSchematicList(self.query(sql, [short_title]))
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_mysql-0.1.6-py2.7.egg/brubeckmysql/querysets.py", line 296, in query
    cursor.execute(sql)
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/pymysql/cursors.py", line 262, in execute
    result = super(DictCursor, self).execute(query, args)
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/pymysql/cursors.py", line 117, in execute
    self.errorhandler(self, exc, value)
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/pymysql/connections.py", line 189, in defaulterrorhandler
    raise errorclass, errorvalue
ProgrammingError: (1064, u"You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ')' at line 1")
<Greenlet at 0x102488b90: <bound method Mongrel2Connection.process_message of <brubeck.connections.Mongrel2Connection object at 0x1025897d0>>(<qoorateserver.qoorate.Qoorate object at 0x1025f6f, '137b789e-b7eb-475a-8d5c-b16ab54493yu 1 /q/feed 81)> failed with ProgrammingError

DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:set_table has q_short_name (12345)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = ("'12345'",)
        
DEBUG:root:dict
DEBUG:root:ERROR!!!!!!!!!
Traceback (most recent call last):
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/gevent/greenlet.py", line 390, in run
    result = self._run(*self.args, **self.kwargs)
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck-0.4.0-py2.7.egg/brubeck/connections.py", line 166, in process_message
    result = handler()
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck-0.4.0-py2.7.egg/brubeck/request_handling.py", line 317, in __call__
    self.prepare()
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 238, in prepare
    if self.table == None:
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/modules/brooklyncodebrubeck/application.py", line 22, in _lazyprop
    attr = method(self)
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 127, in table
    table = self.set_table()
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 320, in set_table
    qoorate = self.qoorate_queryset.get_by_short_title(self.q_short_name)
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 937, in get_by_short_title
    row = self.dictListToSchematicList(self.query(sql, [short_title]))
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_mysql-0.1.6-py2.7.egg/brubeckmysql/querysets.py", line 296, in query
    cursor.execute(sql)
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/pymysql/cursors.py", line 262, in execute
    result = super(DictCursor, self).execute(query, args)
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/pymysql/cursors.py", line 117, in execute
    self.errorhandler(self, exc, value)
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/pymysql/connections.py", line 189, in defaulterrorhandler
    raise errorclass, errorvalue
ProgrammingError: (1064, u"You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ')' at line 1")
<Greenlet at 0x102488b90: <bound method Mongrel2Connection.process_message of <brubeck.connections.Mongrel2Connection object at 0x1025897d0>>(<qoorateserver.qoorate.Qoorate object at 0x1025f6f, '137b789e-b7eb-475a-8d5c-b16ab54493yu 2 /q/feed 81)> failed with ProgrammingError

Mon, 29 Jul 2013 02:47:52 GMT [ERROR] (errno: No such file or directory) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 02:47:52 GMT [ERROR] (errno: None) Failed to create target for route /q/static/
Mon, 29 Jul 2013 02:47:52 GMT [ERROR] (errno: None) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 02:47:52 GMT [ERROR] (errno: None) Failed to create target for route /q/robots.txt
Mon, 29 Jul 2013 02:47:52 GMT [ERROR] (errno: None) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 02:47:52 GMT [ERROR] (errno: None) Failed to create target for route /q/favicon.ico
Mon, 29 Jul 2013 02:47:52 GMT [INFO] (src/mime.c:49) MAX limits.mime_ext_len=128
Mon, 29 Jul 2013 02:47:52 GMT [INFO] (src/host.c:74) MAX limits.url_path=256, limits.host_name=256
Mon, 29 Jul 2013 02:47:52 GMT [INFO] (src/config/config.c:109) Loaded proxy 1:127.0.0.1:8081
Mon, 29 Jul 2013 02:47:52 GMT [INFO] (src/config/config.c:227) Loaded route 1:/:proxy for host 1:localhost
Mon, 29 Jul 2013 02:47:52 GMT [INFO] (src/handler.c:343) MAX limits.handler_stack=102400
Mon, 29 Jul 2013 02:47:52 GMT [INFO] (src/config/config.c:85) Loaded handler 1:ipc://run/qoorateserver/mongrel2_send:137b789e-b7eb-475a-8d5c-b16ab54493yu:ipc://run/qoorateserver/mongrel2_rcv:
Mon, 29 Jul 2013 02:47:52 GMT [INFO] (src/config/config.c:227) Loaded route 2:/q/:handler for host 1:localhost
Mon, 29 Jul 2013 02:47:52 GMT [INFO] (src/dir.c:195) MAX limits.dir_send_buffer=16384, limits.dir_max_path=256
Mon, 29 Jul 2013 02:47:52 GMT [INFO] (src/config/config.c:136) Loaded directory 1:static/qoorateserver/js/:index.html
Mon, 29 Jul 2013 02:47:52 GMT [INFO] (src/config/config.c:227) Loaded route 3:/q/js/:dir for host 1:localhost
Mon, 29 Jul 2013 02:47:52 GMT [INFO] (src/config/config.c:136) Loaded directory 2:static/qoorateserver/css/:index.html
Mon, 29 Jul 2013 02:47:52 GMT [INFO] (src/config/config.c:227) Loaded route 4:/q/css/:dir for host 1:localhost
Mon, 29 Jul 2013 02:47:52 GMT [INFO] (src/config/config.c:136) Loaded directory 3:static/qoorateserver/img/:index.html
Mon, 29 Jul 2013 02:47:52 GMT [INFO] (src/config/config.c:227) Loaded route 5:/q/img/:dir for host 1:localhost
Mon, 29 Jul 2013 02:47:52 GMT [INFO] (src/config/config.c:312) Loaded 1 hosts for server 1:fe76e442-da24-4708-b0ef-c4ahr2b7d131
Mon, 29 Jul 2013 02:47:52 GMT [INFO] (src/server.c:445) LOADING Handler ipc://run/qoorateserver/mongrel2_send
Mon, 29 Jul 2013 02:47:52 GMT [ERROR] (src/unixy.c:99: errno: No such file or directory) Failed to open PID file ../run/mongrel2.pid for reading.
Mon, 29 Jul 2013 02:47:52 GMT [INFO] (src/unixy.c:137) No previous mongrel2 running, continuing on.
Mon, 29 Jul 2013 02:47:52 GMT [INFO] (src/mongrel2.c:223) All loaded up, time to turn into a server.
Mon, 29 Jul 2013 02:47:52 GMT [INFO] (src/mongrel2.c:224) -- Starting Mongrel2/1.8.1. Copyright (C) Zed A. Shaw. Licensed BSD.

Mon, 29 Jul 2013 02:47:52 GMT [INFO] (src/mongrel2.c:225) -- Look in logs/error.log for startup messages and errors.
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
INFO:root:Using project directory: .
DEBUG:root:loading settings from ./conf/uploader/settings.py
INFO:root:Using coroutine library: gevent
DEBUG:root:******** START _service_registration *********
DEBUG:root:service_registration_passphrase: 137b789e-b7eb-475a-8d5a-b16ab544yurp
DEBUG:root:service_id: uploader
DEBUG:root:service_registration_addr: ipc://run/uploader/brubeck_svc_registration
DEBUG:root:service_passphrase: 137b789e-b7eb-475a-8d5a-b16ab544yurp
DEBUG:root:service_addr: ipc://run/uploader/brubeck_svc
DEBUG:root:service_response_addr: ipc://run/uploader/brubeck_svc_response
DEBUG:root:service_heartbeat_addr: None
DEBUG:root:service_heartbeat_timeout: 5
DEBUG:root:sender_id: 8023dd1857e1491bbca2a2157afd738a
DEBUG:root:is_reregistration: 0
DEBUG:root:service_heartbeat_interval: 3
DEBUG:root:******** END _service_registration *********
DEBUG:root:register_service: (service_registration_addr, service_registration_passphrase,service_heartbeat_timeout,sender_id): (ipc://run/uploader/brubeck_svc_registration,137b789e-b7eb-475a-8d5a-b16ab544yurp, 5, 8023dd1857e1491bbca2a2157afd738a)
DEBUG:root:service_registration sending request
DEBUG:root:service_registration waiting for response
INFO:root:Using project directory: .
DEBUG:root:loading settings from ./conf/qoorateserver/development.py
INFO:root:Using coroutine library: gevent
DEBUG:root:creating application db_conn pool
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:set_table has q_short_name (12345)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x11022ea90>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has q_short_name (12345)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x11022eb10>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:feed.prepare, table: q_brooklyncode
DEBUG:root:FeedHandler post
DEBUG:root:Body -> 
 action=flag&location=5e13bbb73127b9fc424e3728c6500f28&referer=http%3A%2F%2Flocalhost%3A8081%2F%3Fp%3D1&q_short_name=12345&QOOID=QOO51f460f57c582&QOOTID=QOOT51f460f57c593&flagTypeId=2&itemId=1&relatedId=1
DEBUG:root:Arguments -> 
 {"itemId": ["1"], "QOOID": ["QOO51f460f57c582"], "QOOTID": ["QOOT51f460f57c593"], "q_short_name": ["12345"], "location": ["5e13bbb73127b9fc424e3728c6500f28"], "action": ["flag"], "referer": ["http://localhost:8081/?p=1"], "relatedId": ["1"], "flagTypeId": ["2"]}
DEBUG:root:to_unicode
DEBUG:root:flag
DEBUG:root:flag
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:flag
DEBUG:root:flag
DEBUG:root:to_unicode
DEBUG:root:action: flag
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x11022ed10>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x11022ee90>
DEBUG:root:perform_flag
DEBUG:root:to_unicode
DEBUG:root:1
DEBUG:root:1
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:1
DEBUG:root:1
DEBUG:root:to_unicode
DEBUG:root:MySqlApiQueryset read_one
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:escape_sql sql: SELECT `id`,`locationId`,`relatedId`,`parentId`,`userId`,`type`,`name`,`location`,`description`,`voteCount`,`voteNumber`,`votesUp`,`votesDown`,`flagCount`,`childCount`,`sortOrder`,`status`,`thumbnailSmall`,`thumbnailLarge`,`referer`,`changeDate`,`createDate` FROM `q_brooklyncode` WHERE ID = %s
DEBUG:root:escape_sql args: [1]
DEBUG:root:SELECT `id`,`locationId`,`relatedId`,`parentId`,`userId`,`type`,`name`,`location`,`description`,`voteCount`,`voteNumber`,`votesUp`,`votesDown`,`flagCount`,`childCount`,`sortOrder`,`status`,`thumbnailSmall`,`thumbnailLarge`,`referer`,`changeDate`,`createDate` FROM `q_brooklyncode` WHERE ID = 1
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x110238190>
DEBUG:root:_flag(Comment object)
DEBUG:root:to_unicode
DEBUG:root:2
DEBUG:root:2
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:2
DEBUG:root:2
DEBUG:root:to_unicode
DEBUG:root:MySqlApiQueryset read_one
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:escape_sql sql: SELECT `id`,`createDate`,`name`,`description` FROM `flag_type` WHERE ID = %s
DEBUG:root:escape_sql args: [2]
DEBUG:root:SELECT `id`,`createDate`,`name`,`description` FROM `flag_type` WHERE ID = 2
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1102380d0>
DEBUG:root:flag_type found: 2
DEBUG:root:flag_type is authorized: 2
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`refTable`,`itemId`,`userId`,`flagTypeId`,`createDate` FROM `flag` WHERE `refTable` = %s and `itemId` = %s and `userId` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode', 1L, 392L]
INFO:root:ERROR: (not enough arguments for format string)Traceback (most recent call last):
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 332, in post
    self.perform_flag()
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck-0.4.0-py2.7.egg/brubeck/auth.py", line 65, in wrapper
    return method(self, *args, **kwargs)
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 888, in perform_flag
    flag = self._flag(item)
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 939, in _flag
    self.table, item.id, self.current_user.id
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 723, in get_by_item_id_and_user_id
    rows = self.query(sql, [ref_table, id, user_id])
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_mysql-0.1.6-py2.7.egg/brubeckmysql/querysets.py", line 286, in query
    sql = self.escape_sql(sql, args, db_conn)
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_mysql-0.1.6-py2.7.egg/brubeckmysql/querysets.py", line 243, in escape_sql
    sql = sql % escaped_args[0]
TypeError: not enough arguments for format string

INFO:root:500 POST /q/feed (127.0.0.1)
Mon, 29 Jul 2013 02:48:58 GMT [ERROR] (errno: No such file or directory) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 02:48:58 GMT [ERROR] (errno: None) Failed to create target for route /q/static/
Mon, 29 Jul 2013 02:48:58 GMT [ERROR] (errno: None) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 02:48:58 GMT [ERROR] (errno: None) Failed to create target for route /q/robots.txt
Mon, 29 Jul 2013 02:48:58 GMT [ERROR] (errno: None) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 02:48:58 GMT [ERROR] (errno: None) Failed to create target for route /q/favicon.ico
Mon, 29 Jul 2013 02:48:58 GMT [INFO] (src/mime.c:49) MAX limits.mime_ext_len=128
Mon, 29 Jul 2013 02:48:58 GMT [INFO] (src/host.c:74) MAX limits.url_path=256, limits.host_name=256
Mon, 29 Jul 2013 02:48:58 GMT [INFO] (src/config/config.c:109) Loaded proxy 1:127.0.0.1:8081
Mon, 29 Jul 2013 02:48:58 GMT [INFO] (src/config/config.c:227) Loaded route 1:/:proxy for host 1:localhost
Mon, 29 Jul 2013 02:48:58 GMT [INFO] (src/handler.c:343) MAX limits.handler_stack=102400
Mon, 29 Jul 2013 02:48:58 GMT [INFO] (src/config/config.c:85) Loaded handler 1:ipc://run/qoorateserver/mongrel2_send:137b789e-b7eb-475a-8d5c-b16ab54493yu:ipc://run/qoorateserver/mongrel2_rcv:
Mon, 29 Jul 2013 02:48:58 GMT [INFO] (src/config/config.c:227) Loaded route 2:/q/:handler for host 1:localhost
Mon, 29 Jul 2013 02:48:58 GMT [INFO] (src/dir.c:195) MAX limits.dir_send_buffer=16384, limits.dir_max_path=256
Mon, 29 Jul 2013 02:48:58 GMT [INFO] (src/config/config.c:136) Loaded directory 1:static/qoorateserver/js/:index.html
Mon, 29 Jul 2013 02:48:58 GMT [INFO] (src/config/config.c:227) Loaded route 3:/q/js/:dir for host 1:localhost
Mon, 29 Jul 2013 02:48:58 GMT [INFO] (src/config/config.c:136) Loaded directory 2:static/qoorateserver/css/:index.html
Mon, 29 Jul 2013 02:48:58 GMT [INFO] (src/config/config.c:227) Loaded route 4:/q/css/:dir for host 1:localhost
Mon, 29 Jul 2013 02:48:58 GMT [INFO] (src/config/config.c:136) Loaded directory 3:static/qoorateserver/img/:index.html
Mon, 29 Jul 2013 02:48:58 GMT [INFO] (src/config/config.c:227) Loaded route 5:/q/img/:dir for host 1:localhost
Mon, 29 Jul 2013 02:48:58 GMT [INFO] (src/config/config.c:312) Loaded 1 hosts for server 1:fe76e442-da24-4708-b0ef-c4ahr2b7d131
Mon, 29 Jul 2013 02:48:58 GMT [INFO] (src/server.c:445) LOADING Handler ipc://run/qoorateserver/mongrel2_send
Mon, 29 Jul 2013 02:48:58 GMT [ERROR] (src/unixy.c:99: errno: No such file or directory) Failed to open PID file ../run/mongrel2.pid for reading.
Mon, 29 Jul 2013 02:48:58 GMT [INFO] (src/unixy.c:137) No previous mongrel2 running, continuing on.
Mon, 29 Jul 2013 02:48:58 GMT [INFO] (src/mongrel2.c:223) All loaded up, time to turn into a server.
Mon, 29 Jul 2013 02:48:58 GMT [INFO] (src/mongrel2.c:224) -- Starting Mongrel2/1.8.1. Copyright (C) Zed A. Shaw. Licensed BSD.

Mon, 29 Jul 2013 02:48:58 GMT [INFO] (src/mongrel2.c:225) -- Look in logs/error.log for startup messages and errors.
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
INFO:root:Using project directory: .
DEBUG:root:loading settings from ./conf/uploader/settings.py
INFO:root:Using coroutine library: gevent
DEBUG:root:******** START _service_registration *********
DEBUG:root:service_registration_passphrase: 137b789e-b7eb-475a-8d5a-b16ab544yurp
DEBUG:root:service_id: uploader
DEBUG:root:service_registration_addr: ipc://run/uploader/brubeck_svc_registration
DEBUG:root:service_passphrase: 137b789e-b7eb-475a-8d5a-b16ab544yurp
DEBUG:root:service_addr: ipc://run/uploader/brubeck_svc
DEBUG:root:service_response_addr: ipc://run/uploader/brubeck_svc_response
DEBUG:root:service_heartbeat_addr: None
DEBUG:root:service_heartbeat_timeout: 5
DEBUG:root:sender_id: 0bc73da5d93a43daa9442f70e1ebaae3
DEBUG:root:is_reregistration: 0
DEBUG:root:service_heartbeat_interval: 3
DEBUG:root:******** END _service_registration *********
DEBUG:root:register_service: (service_registration_addr, service_registration_passphrase,service_heartbeat_timeout,sender_id): (ipc://run/uploader/brubeck_svc_registration,137b789e-b7eb-475a-8d5a-b16ab544yurp, 5, 0bc73da5d93a43daa9442f70e1ebaae3)
DEBUG:root:service_registration sending request
DEBUG:root:service_registration waiting for response
INFO:root:Using project directory: .
DEBUG:root:loading settings from ./conf/qoorateserver/development.py
INFO:root:Using coroutine library: gevent
DEBUG:root:creating application db_conn pool
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:set_table has q_short_name (12345)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100cfaa90>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has q_short_name (12345)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100cfab10>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:feed.prepare, table: q_brooklyncode
DEBUG:root:FeedHandler post
DEBUG:root:Body -> 
 action=flag&location=5e13bbb73127b9fc424e3728c6500f28&referer=http%3A%2F%2Flocalhost%3A8081%2F%3Fp%3D1&q_short_name=12345&QOOID=QOO51f460f57c582&QOOTID=QOOT51f460f57c593&flagTypeId=4&itemId=1&relatedId=1
DEBUG:root:Arguments -> 
 {"itemId": ["1"], "QOOID": ["QOO51f460f57c582"], "QOOTID": ["QOOT51f460f57c593"], "q_short_name": ["12345"], "location": ["5e13bbb73127b9fc424e3728c6500f28"], "action": ["flag"], "referer": ["http://localhost:8081/?p=1"], "relatedId": ["1"], "flagTypeId": ["4"]}
DEBUG:root:to_unicode
DEBUG:root:flag
DEBUG:root:flag
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:flag
DEBUG:root:flag
DEBUG:root:to_unicode
DEBUG:root:action: flag
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100cfad10>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100cfae90>
DEBUG:root:perform_flag
DEBUG:root:to_unicode
DEBUG:root:1
DEBUG:root:1
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:1
DEBUG:root:1
DEBUG:root:to_unicode
DEBUG:root:MySqlApiQueryset read_one
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:escape_sql sql: SELECT `id`,`locationId`,`relatedId`,`parentId`,`userId`,`type`,`name`,`location`,`description`,`voteCount`,`voteNumber`,`votesUp`,`votesDown`,`flagCount`,`childCount`,`sortOrder`,`status`,`thumbnailSmall`,`thumbnailLarge`,`referer`,`changeDate`,`createDate` FROM `q_brooklyncode` WHERE ID = %s
DEBUG:root:escape_sql args: [1]
DEBUG:root:SELECT `id`,`locationId`,`relatedId`,`parentId`,`userId`,`type`,`name`,`location`,`description`,`voteCount`,`voteNumber`,`votesUp`,`votesDown`,`flagCount`,`childCount`,`sortOrder`,`status`,`thumbnailSmall`,`thumbnailLarge`,`referer`,`changeDate`,`createDate` FROM `q_brooklyncode` WHERE ID = 1
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100d04190>
DEBUG:root:_flag(Comment object)
DEBUG:root:to_unicode
DEBUG:root:4
DEBUG:root:4
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:4
DEBUG:root:4
DEBUG:root:to_unicode
DEBUG:root:MySqlApiQueryset read_one
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:escape_sql sql: SELECT `id`,`createDate`,`name`,`description` FROM `flag_type` WHERE ID = %s
DEBUG:root:escape_sql args: [4]
DEBUG:root:SELECT `id`,`createDate`,`name`,`description` FROM `flag_type` WHERE ID = 4
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x100d040d0>
DEBUG:root:flag_type found: 4
DEBUG:root:flag_type is authorized: 4
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`refTable`,`itemId`,`userId`,`flagTypeId`,`createDate` FROM `flag` WHERE `refTable` = %s and `itemId` = %s and `userId` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode', 1L, 392L]
INFO:root:ERROR: (not enough arguments for format string)Traceback (most recent call last):
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 332, in post
    self.perform_flag()
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck-0.4.0-py2.7.egg/brubeck/auth.py", line 65, in wrapper
    return method(self, *args, **kwargs)
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 888, in perform_flag
    flag = self._flag(item)
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 939, in _flag
    self.table, item.id, self.current_user.id
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 723, in get_by_item_id_and_user_id
    rows = self.query(sql, [ref_table, id, user_id])
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_mysql-0.1.6-py2.7.egg/brubeckmysql/querysets.py", line 286, in query
    sql = self.escape_sql(sql, args, db_conn)
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_mysql-0.1.6-py2.7.egg/brubeckmysql/querysets.py", line 243, in escape_sql
    sql = sql % escaped_args[0]
TypeError: not enough arguments for format string

INFO:root:500 POST /q/feed (127.0.0.1)
Mon, 29 Jul 2013 02:49:54 GMT [ERROR] (errno: No such file or directory) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 02:49:54 GMT [ERROR] (errno: None) Failed to create target for route /q/static/
Mon, 29 Jul 2013 02:49:54 GMT [ERROR] (errno: None) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 02:49:54 GMT [ERROR] (errno: None) Failed to create target for route /q/robots.txt
Mon, 29 Jul 2013 02:49:54 GMT [ERROR] (errno: None) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 02:49:54 GMT [ERROR] (errno: None) Failed to create target for route /q/favicon.ico
Mon, 29 Jul 2013 02:49:54 GMT [INFO] (src/mime.c:49) MAX limits.mime_ext_len=128
Mon, 29 Jul 2013 02:49:54 GMT [INFO] (src/host.c:74) MAX limits.url_path=256, limits.host_name=256
Mon, 29 Jul 2013 02:49:54 GMT [INFO] (src/config/config.c:109) Loaded proxy 1:127.0.0.1:8081
Mon, 29 Jul 2013 02:49:54 GMT [INFO] (src/config/config.c:227) Loaded route 1:/:proxy for host 1:localhost
Mon, 29 Jul 2013 02:49:54 GMT [INFO] (src/handler.c:343) MAX limits.handler_stack=102400
Mon, 29 Jul 2013 02:49:54 GMT [INFO] (src/config/config.c:85) Loaded handler 1:ipc://run/qoorateserver/mongrel2_send:137b789e-b7eb-475a-8d5c-b16ab54493yu:ipc://run/qoorateserver/mongrel2_rcv:
Mon, 29 Jul 2013 02:49:54 GMT [INFO] (src/config/config.c:227) Loaded route 2:/q/:handler for host 1:localhost
Mon, 29 Jul 2013 02:49:54 GMT [INFO] (src/dir.c:195) MAX limits.dir_send_buffer=16384, limits.dir_max_path=256
Mon, 29 Jul 2013 02:49:54 GMT [INFO] (src/config/config.c:136) Loaded directory 1:static/qoorateserver/js/:index.html
Mon, 29 Jul 2013 02:49:54 GMT [INFO] (src/config/config.c:227) Loaded route 3:/q/js/:dir for host 1:localhost
Mon, 29 Jul 2013 02:49:54 GMT [INFO] (src/config/config.c:136) Loaded directory 2:static/qoorateserver/css/:index.html
Mon, 29 Jul 2013 02:49:54 GMT [INFO] (src/config/config.c:227) Loaded route 4:/q/css/:dir for host 1:localhost
Mon, 29 Jul 2013 02:49:54 GMT [INFO] (src/config/config.c:136) Loaded directory 3:static/qoorateserver/img/:index.html
Mon, 29 Jul 2013 02:49:54 GMT [INFO] (src/config/config.c:227) Loaded route 5:/q/img/:dir for host 1:localhost
Mon, 29 Jul 2013 02:49:54 GMT [INFO] (src/config/config.c:312) Loaded 1 hosts for server 1:fe76e442-da24-4708-b0ef-c4ahr2b7d131
Mon, 29 Jul 2013 02:49:54 GMT [INFO] (src/server.c:445) LOADING Handler ipc://run/qoorateserver/mongrel2_send
Mon, 29 Jul 2013 02:49:54 GMT [ERROR] (src/unixy.c:99: errno: No such file or directory) Failed to open PID file ../run/mongrel2.pid for reading.
Mon, 29 Jul 2013 02:49:54 GMT [INFO] (src/unixy.c:137) No previous mongrel2 running, continuing on.
Mon, 29 Jul 2013 02:49:54 GMT [INFO] (src/mongrel2.c:223) All loaded up, time to turn into a server.
Mon, 29 Jul 2013 02:49:54 GMT [INFO] (src/mongrel2.c:224) -- Starting Mongrel2/1.8.1. Copyright (C) Zed A. Shaw. Licensed BSD.

Mon, 29 Jul 2013 02:49:54 GMT [INFO] (src/mongrel2.c:225) -- Look in logs/error.log for startup messages and errors.
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
INFO:root:Using project directory: .
DEBUG:root:loading settings from ./conf/uploader/settings.py
INFO:root:Using coroutine library: gevent
DEBUG:root:******** START _service_registration *********
DEBUG:root:service_registration_passphrase: 137b789e-b7eb-475a-8d5a-b16ab544yurp
DEBUG:root:service_id: uploader
DEBUG:root:service_registration_addr: ipc://run/uploader/brubeck_svc_registration
DEBUG:root:service_passphrase: 137b789e-b7eb-475a-8d5a-b16ab544yurp
DEBUG:root:service_addr: ipc://run/uploader/brubeck_svc
DEBUG:root:service_response_addr: ipc://run/uploader/brubeck_svc_response
DEBUG:root:service_heartbeat_addr: None
DEBUG:root:service_heartbeat_timeout: 5
DEBUG:root:sender_id: 68b8e6786b4e49d9a1dbc349c1fca8c6
DEBUG:root:is_reregistration: 0
DEBUG:root:service_heartbeat_interval: 3
DEBUG:root:******** END _service_registration *********
DEBUG:root:register_service: (service_registration_addr, service_registration_passphrase,service_heartbeat_timeout,sender_id): (ipc://run/uploader/brubeck_svc_registration,137b789e-b7eb-475a-8d5a-b16ab544yurp, 5, 68b8e6786b4e49d9a1dbc349c1fca8c6)
DEBUG:root:service_registration sending request
DEBUG:root:service_registration waiting for response
INFO:root:Using project directory: .
DEBUG:root:loading settings from ./conf/qoorateserver/development.py
INFO:root:Using coroutine library: gevent
DEBUG:root:creating application db_conn pool
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:get EmbedHandler
DEBUG:root:to_unicode
DEBUG:root:embed_head
DEBUG:root:embed_head
DEBUG:root:to_unicode
DEBUG:root:action: embed_head 
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:set_table has key/secret
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = %s and `secret`= %s
        
DEBUG:root:escape_sql args: [u'12345', u'54321']
DEBUG:root:
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = '12345' and `secret`= '54321'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10159ca90>
DEBUG:root:returning True from authencticate.
DEBUG:root:set_table authenticated
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10159cb10>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has key/secret
DEBUG:root:returning `True` from authenticate cached.
DEBUG:root:set_table authenticated
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10159cd10>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10159ce90>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1015a60d0>
DEBUG:root:qoorate preferences: {
    "THEME": "grid",
    "EMBED_CONF_JS": "
        var qoorateConfig = {
            QOORATE_URI: 'http://localhost',
            QOORATE_API_URI: 'http://localhost/q',
            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',
            XHR_PROXY_URI: '/q/feed',
            XHR_UPLOAD_URI: '/q/uploader',
            POST_MAX_LEN: 1000,
            PARENT_PAGE_SIZE: 10,
            CHILD_PAGE_SIZE: 10,
            AUTO_SCROLL: 1,
            THEME: 'grid',
            GRID_COLUMNS: 3,
            GRID_COLUMN_TRIM: 15,
            GRID_ROW_TRIM: 15
        };
        var qoorateLang = {
            FLAG_SUCCESS: 'Thanks for flagging this!',
            SHARE_SUCCESS: 'Thank you for sharing!',
            DELETE_SUCCESS: 'Thank you. This item has been deleted.',
            SIGNIN: 'Sign in using',
            SIGNEDIN: 'Signed in via',    
            OK: 'OK',
            CANCEL: 'Cancel',
            LOGOUT: 'Log Out',
            TOGGLE_ON: '+',
            TOGGLE_OFF: '-',
            CONTRIBUTION: 'Contribution',
            CONTRIBUTIONS: 'Contributions',
            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',
            REMOVE: 'Remove',
            LINK: 'Insert a link',
            TOPIC_COMMENT: 'Pose a Yes/No Question',
            COMMENT: 'Your Comment',
            IMAGE_COMMENT: 'Image Caption',
            POST_TO: 'Post to',
            POST_ANONYMOUS: 'Post anonymously',
            NICKNAME: 'Post as ',
            DEFAULT_NICKNAME: 'Anonymous',
            REPLY_LINK_COMMENT: 'Say something about your link',
            SHARE_COMMENT: 'comment about this share...',
            PUBLISH_BUTTON: 'Publish',
            POST_BUTTON: 'Post',
            POST_TO_BUTTON: 'Post To',
            REPLY_BUTTON: 'Reply',
            SHARE_BUTTON: 'Share',
            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',
            SELECT_IMAGE: 'Select an Image',
            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',
            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],
            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],
            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]
        };
    "
}

DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:preferences EMBED_CONF_JS:         var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    
DEBUG:root:embed_head called
INFO:root:200 GET /q/embed (127.0.0.1)
DEBUG:root:get EmbedHandler
DEBUG:root:to_unicode
DEBUG:root:embed_content
DEBUG:root:embed_content
DEBUG:root:to_unicode
DEBUG:root:action: embed_content 
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:set_table has key/secret
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = %s and `secret`= %s
        
DEBUG:root:escape_sql args: [u'12345', u'54321']
DEBUG:root:
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = '12345' and `secret`= '54321'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1015a62d0>
DEBUG:root:returning True from authencticate.
DEBUG:root:set_table authenticated
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1015a64d0>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has key/secret
DEBUG:root:returning `True` from authenticate cached.
DEBUG:root:set_table authenticated
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1015a66d0>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1015a68d0>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1015a6ad0>
DEBUG:root:qoorate preferences: {
    "THEME": "grid",
    "EMBED_CONF_JS": "
        var qoorateConfig = {
            QOORATE_URI: 'http://localhost',
            QOORATE_API_URI: 'http://localhost/q',
            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',
            XHR_PROXY_URI: '/q/feed',
            XHR_UPLOAD_URI: '/q/uploader',
            POST_MAX_LEN: 1000,
            PARENT_PAGE_SIZE: 10,
            CHILD_PAGE_SIZE: 10,
            AUTO_SCROLL: 1,
            THEME: 'grid',
            GRID_COLUMNS: 3,
            GRID_COLUMN_TRIM: 15,
            GRID_ROW_TRIM: 15
        };
        var qoorateLang = {
            FLAG_SUCCESS: 'Thanks for flagging this!',
            SHARE_SUCCESS: 'Thank you for sharing!',
            DELETE_SUCCESS: 'Thank you. This item has been deleted.',
            SIGNIN: 'Sign in using',
            SIGNEDIN: 'Signed in via',    
            OK: 'OK',
            CANCEL: 'Cancel',
            LOGOUT: 'Log Out',
            TOGGLE_ON: '+',
            TOGGLE_OFF: '-',
            CONTRIBUTION: 'Contribution',
            CONTRIBUTIONS: 'Contributions',
            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',
            REMOVE: 'Remove',
            LINK: 'Insert a link',
            TOPIC_COMMENT: 'Pose a Yes/No Question',
            COMMENT: 'Your Comment',
            IMAGE_COMMENT: 'Image Caption',
            POST_TO: 'Post to',
            POST_ANONYMOUS: 'Post anonymously',
            NICKNAME: 'Post as ',
            DEFAULT_NICKNAME: 'Anonymous',
            REPLY_LINK_COMMENT: 'Say something about your link',
            SHARE_COMMENT: 'comment about this share...',
            PUBLISH_BUTTON: 'Publish',
            POST_BUTTON: 'Post',
            POST_TO_BUTTON: 'Post To',
            REPLY_BUTTON: 'Reply',
            SHARE_BUTTON: 'Share',
            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',
            SELECT_IMAGE: 'Select an Image',
            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',
            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],
            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],
            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]
        };
    "
}

DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:preferences EMBED_CONF_JS:         var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    
DEBUG:root:embed_content called (key,secret): (12345,54321)
DEBUG:root:returning `True` from authenticate cached.
DEBUG:root:get_content_context
DEBUG:root:table: q_brooklyncode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:init_db_conn
DEBUG:root:NOT creating db_conn
DEBUG:root:1
DEBUG:root:5
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT f.`parent_sequence` , f.`child_sequence` , f.`id` , f.`locationId` , f.`relatedId`,
                f.`parentId` , f.`userId` , `u`.`username`, u.`thumbnailLarge` as userThumbnailLarge,
                ur.`username` as relatedUsername, ur.`thumbnailLarge` as relatedUserThumbnailLarge, f.`type` as `type`,
                f.`is_anonymous` , r.`is_anonymous` as `related_is_anonymous`, f.`name` , f.`location` ,f.`description`,f.`referer`,
                f.`voteCount` , f.`voteNumber` , f.`votesUp` ,f.`votesDown` , f.`flagCount`,  f.`childCount`, f.`sortOrder` , f.`status`,
                f.`thumbnailSmall` ,f.`thumbnailLarge` , f.`changeDate` , f.`createDate`, f.`nickname`, r.`nickname` as `related_nickname`
            FROM (
                # this query adds the sequence fields to filter by for paging
                SELECT  s1.*, @parentrownum := convert( IF( ( parentId = 0), @parentrownum +1, @parentrownum ), UNSIGNED INTEGER) AS parent_sequence,
                @childrownum := IF( ( @lastparent = parentId), @childrownum + 1, 0 ) AS child_sequence,
                @lastparent := if( parentId=0, id, parentId ) AS dummy_used_for_last_parent
                FROM
                    # QUERY 2: this query sorts the results properly
                    (SELECT s0.* FROM
                        # QUERY 1: This query gets the results we need with calculated fields to sort by
                        # We should probably have these fields in the database so they are indexed
                        (SELECT
                        CONVERT( if( parentId = 0, @parentVoteNumber:=voteNumber,
                            @parentVoteNumber ), SIGNED INTEGER ) as groupVoteNumber,          # Will order groups using parent voteNumber
                        CONVERT( if( parentId = 0, @parentVoteCount:=voteCount,
                            @parentVoteCount ), SIGNED INTEGER ) as groupVoteCount,            # Will order groups using parent voteCount
                        CONVERT( if( parentId = 0, @parentCreateDate:=createDate,
                            @parentCreateDate ), DATETIME ) as groupCreateDate,                # Will order groups using parent createDate
                        CONVERT( if(parentId=0, id, parentId), UNSIGNED INTEGER) as groupId,   # will order groups together
                        CONVERT( if(parentId = 0, 0, 1), UNSIGNED INTEGER) as isChild,         # will order parent first in group
                        r.*
                        FROM (
                            # this just makes sure our groups are grouped in parent child order
                            SELECT * from q_brooklyncode o  WHERE o.location = '5e13bbb73127b9fc424e3728c6500f28' ORDER BY
                             if( o.relatedId = 0, o.id, o.relatedId),
                             if( o.relatedId = 0, 0, o.id )
                            ) r,
                        ( SELECT @parentVoteNumber := 0 ) pvn,
                        ( SELECT @parentVoteCount  := 0 ) pvc,
                        ( SELECT @parentCreateDate := 0 ) pcd
                         WHERE location = '5e13bbb73127b9fc424e3728c6500f28' 
                    ) s0
                    
                    
                    ORDER BY
                    
                s0.groupVoteNumber DESC,
                s0.groupVoteCount DESC,
                s0.groupCreateDate ASC,
                 
                    groupId  ASC, # first order by group
                    isChild ASC, # Then make sure the parent is first
                    
                s0.voteNumber DESC,
                s0.voteCount DESC,
                s0.createDate ASC
                
            ) s1,
            ( SELECT @parentrownum := 0 ) pr,
            ( SELECT @childrownum := 0 ) cr, 
            ( SELECT @lastparent := -1 ) lp) f
            LEFT JOIN user u on u.id = f.userId
            LEFT JOIN q_brooklyncode r on r.id = f.relatedId
            LEFT JOIN user ur on ur.id = r.userId
            WHERE
            ((0 = 6 and parent_sequence >= 1) or parent_sequence BETWEEN 1 AND 6)
            AND
            ((0 = 6 and child_sequence >= 1) or (child_sequence=0 or child_sequence BETWEEN 1 AND 6))
        
DEBUG:root:escape_sql args: None
DEBUG:root:
            SELECT f.`parent_sequence` , f.`child_sequence` , f.`id` , f.`locationId` , f.`relatedId`,
                f.`parentId` , f.`userId` , `u`.`username`, u.`thumbnailLarge` as userThumbnailLarge,
                ur.`username` as relatedUsername, ur.`thumbnailLarge` as relatedUserThumbnailLarge, f.`type` as `type`,
                f.`is_anonymous` , r.`is_anonymous` as `related_is_anonymous`, f.`name` , f.`location` ,f.`description`,f.`referer`,
                f.`voteCount` , f.`voteNumber` , f.`votesUp` ,f.`votesDown` , f.`flagCount`,  f.`childCount`, f.`sortOrder` , f.`status`,
                f.`thumbnailSmall` ,f.`thumbnailLarge` , f.`changeDate` , f.`createDate`, f.`nickname`, r.`nickname` as `related_nickname`
            FROM (
                # this query adds the sequence fields to filter by for paging
                SELECT  s1.*, @parentrownum := convert( IF( ( parentId = 0), @parentrownum +1, @parentrownum ), UNSIGNED INTEGER) AS parent_sequence,
                @childrownum := IF( ( @lastparent = parentId), @childrownum + 1, 0 ) AS child_sequence,
                @lastparent := if( parentId=0, id, parentId ) AS dummy_used_for_last_parent
                FROM
                    # QUERY 2: this query sorts the results properly
                    (SELECT s0.* FROM
                        # QUERY 1: This query gets the results we need with calculated fields to sort by
                        # We should probably have these fields in the database so they are indexed
                        (SELECT
                        CONVERT( if( parentId = 0, @parentVoteNumber:=voteNumber,
                            @parentVoteNumber ), SIGNED INTEGER ) as groupVoteNumber,          # Will order groups using parent voteNumber
                        CONVERT( if( parentId = 0, @parentVoteCount:=voteCount,
                            @parentVoteCount ), SIGNED INTEGER ) as groupVoteCount,            # Will order groups using parent voteCount
                        CONVERT( if( parentId = 0, @parentCreateDate:=createDate,
                            @parentCreateDate ), DATETIME ) as groupCreateDate,                # Will order groups using parent createDate
                        CONVERT( if(parentId=0, id, parentId), UNSIGNED INTEGER) as groupId,   # will order groups together
                        CONVERT( if(parentId = 0, 0, 1), UNSIGNED INTEGER) as isChild,         # will order parent first in group
                        r.*
                        FROM (
                            # this just makes sure our groups are grouped in parent child order
                            SELECT * from q_brooklyncode o  WHERE o.location = '5e13bbb73127b9fc424e3728c6500f28' ORDER BY
                             if( o.relatedId = 0, o.id, o.relatedId),
                             if( o.relatedId = 0, 0, o.id )
                            ) r,
                        ( SELECT @parentVoteNumber := 0 ) pvn,
                        ( SELECT @parentVoteCount  := 0 ) pvc,
                        ( SELECT @parentCreateDate := 0 ) pcd
                         WHERE location = '5e13bbb73127b9fc424e3728c6500f28' 
                    ) s0
                    
                    
                    ORDER BY
                    
                s0.groupVoteNumber DESC,
                s0.groupVoteCount DESC,
                s0.groupCreateDate ASC,
                 
                    groupId  ASC, # first order by group
                    isChild ASC, # Then make sure the parent is first
                    
                s0.voteNumber DESC,
                s0.voteCount DESC,
                s0.createDate ASC
                
            ) s1,
            ( SELECT @parentrownum := 0 ) pr,
            ( SELECT @childrownum := 0 ) cr, 
            ( SELECT @lastparent := -1 ) lp) f
            LEFT JOIN user u on u.id = f.userId
            LEFT JOIN q_brooklyncode r on r.id = f.relatedId
            LEFT JOIN user ur on ur.id = r.userId
            WHERE
            ((0 = 6 and parent_sequence >= 1) or parent_sequence BETWEEN 1 AND 6)
            AND
            ((0 = 6 and child_sequence >= 1) or (child_sequence=0 or child_sequence BETWEEN 1 AND 6))
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10159ca90>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = %s
        
DEBUG:root:escape_sql args: [2L]
DEBUG:root:
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = 2
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10159cb10>
DEBUG:root:dictlist: {u'itemId': 2L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'cfbb12022f81667e3c2746e3c80b2e1e', u'id': 2L}
DEBUG:root:dictItem: {u'itemId': 2L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'cfbb12022f81667e3c2746e3c80b2e1e', u'id': 2L}
DEBUG:root:items: [<ImageItem: ImageItem object>]
DEBUG:root:im: [<ImageItem: ImageItem object>]
DEBUG:root:comment.images: [<ImageItem: ImageItem object>]
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = %s
        
DEBUG:root:escape_sql args: [4L]
DEBUG:root:
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = 4
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10159cd10>
DEBUG:root:dictlist: {u'itemId': 4L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'afdaf6b1c369d65535041c375356f03f', u'id': 3L}
DEBUG:root:dictItem: {u'itemId': 4L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'afdaf6b1c369d65535041c375356f03f', u'id': 3L}
DEBUG:root:items: [<ImageItem: ImageItem object>]
DEBUG:root:im: [<ImageItem: ImageItem object>]
DEBUG:root:comment.images: [<ImageItem: ImageItem object>]
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = %s
        
DEBUG:root:escape_sql args: [5L]
DEBUG:root:
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = 5
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10159ce90>
DEBUG:root:dictlist: {u'itemId': 5L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'dffa39e6d8f1b616cfab3be4e93e47c6', u'id': 4L}
DEBUG:root:dictItem: {u'itemId': 5L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'dffa39e6d8f1b616cfab3be4e93e47c6', u'id': 4L}
DEBUG:root:items: [<ImageItem: ImageItem object>]
DEBUG:root:im: [<ImageItem: ImageItem object>]
DEBUG:root:comment.images: [<ImageItem: ImageItem object>]
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = %s
        
DEBUG:root:escape_sql args: [6L]
DEBUG:root:
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = 6
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1015a60d0>
DEBUG:root:dictlist: {u'itemId': 6L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'8aa464876cd5bfe7e00f3fab7e2a2870', u'id': 5L}
DEBUG:root:dictItem: {u'itemId': 6L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'8aa464876cd5bfe7e00f3fab7e2a2870', u'id': 5L}
DEBUG:root:items: [<ImageItem: ImageItem object>]
DEBUG:root:im: [<ImageItem: ImageItem object>]
DEBUG:root:comment.images: [<ImageItem: ImageItem object>]
DEBUG:root:Number of comments returned: 6
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:escape_sql args: []
DEBUG:root:
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1015a62d0>
DEBUG:root:Number of contributions 8
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1015a64d0>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1015a66d0>
DEBUG:root:to_unicode
DEBUG:root:embed_content
DEBUG:root:embed_content
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:embed_content
DEBUG:root:embed_content
DEBUG:root:to_unicode
DEBUG:root:unsanitizing: test?
DEBUG:root:unsanitizing encoded ascii: test?
DEBUG:root:unsanitizing encoded utf8: test?
DEBUG:root: unsanitized: test?
DEBUG:root:unsanitizing: tester
DEBUG:root:unsanitizing encoded ascii: tester
DEBUG:root:unsanitizing encoded utf8: tester
DEBUG:root: unsanitized: tester
DEBUG:root:unsanitizing: Do you?
DEBUG:root:unsanitizing encoded ascii: Do you?
DEBUG:root:unsanitizing encoded utf8: Do you?
DEBUG:root: unsanitized: Do you?
DEBUG:root:unsanitizing: me
DEBUG:root:unsanitizing encoded ascii: me
DEBUG:root:unsanitizing encoded utf8: me
DEBUG:root: unsanitized: me
DEBUG:root:unsanitizing: must
DEBUG:root:unsanitizing encoded ascii: must
DEBUG:root:unsanitizing encoded utf8: must
DEBUG:root: unsanitized: must
INFO:root:200 GET /q/embed (127.0.0.1)
BUG: gevent missed a libzmq recv event on 18!
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:set_table has q_short_name (12345)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1015a68d0>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has q_short_name (12345)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1015a6ad0>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:feed.prepare, table: q_brooklyncode
DEBUG:root:FeedHandler post
DEBUG:root:Body -> 
 action=getMore&location=5e13bbb73127b9fc424e3728c6500f28&referer=http%3A%2F%2Flocalhost%3A8081%2F%3Fp%3D1&q_short_name=12345&QOOID=QOO51f460f57c582&QOOTID=QOOT51f460f57c593&relatedId=6&moreIndex=11&sort=voting
DEBUG:root:Arguments -> 
 {"sort": ["voting"], "moreIndex": ["11"], "QOOID": ["QOO51f460f57c582"], "QOOTID": ["QOOT51f460f57c593"], "q_short_name": ["12345"], "location": ["5e13bbb73127b9fc424e3728c6500f28"], "action": ["getMore"], "referer": ["http://localhost:8081/?p=1"], "relatedId": ["6"]}
DEBUG:root:to_unicode
DEBUG:root:getMore
DEBUG:root:getMore
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:getMore
DEBUG:root:getMore
DEBUG:root:to_unicode
DEBUG:root:action: getMore
DEBUG:root:to_unicode
DEBUG:root:voting
DEBUG:root:voting
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:voting
DEBUG:root:voting
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:11
DEBUG:root:11
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:11
DEBUG:root:11
DEBUG:root:to_unicode
DEBUG:root:init_db_conn
DEBUG:root:NOT creating db_conn
DEBUG:root:11
DEBUG:root:5
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT f.`parent_sequence` , f.`child_sequence` , f.`id` , f.`locationId` , f.`relatedId`,
                f.`parentId` , f.`userId` , `u`.`username`, u.`thumbnailLarge` as userThumbnailLarge,
                ur.`username` as relatedUsername, ur.`thumbnailLarge` as relatedUserThumbnailLarge, f.`type` as `type`,
                f.`is_anonymous` , r.`is_anonymous` as `related_is_anonymous`, f.`name` , f.`location` ,f.`description`,f.`referer`,
                f.`voteCount` , f.`voteNumber` , f.`votesUp` ,f.`votesDown` , f.`flagCount`,  f.`childCount`, f.`sortOrder` , f.`status`,
                f.`thumbnailSmall` ,f.`thumbnailLarge` , f.`changeDate` , f.`createDate`, f.`nickname`, r.`nickname` as `related_nickname`
            FROM (
                # this query adds the sequence fields to filter by for paging
                SELECT  s1.*, @parentrownum := convert( IF( ( parentId = 0), @parentrownum +1, @parentrownum ), UNSIGNED INTEGER) AS parent_sequence,
                @childrownum := IF( ( @lastparent = parentId), @childrownum + 1, 0 ) AS child_sequence,
                @lastparent := if( parentId=0, id, parentId ) AS dummy_used_for_last_parent
                FROM
                    # QUERY 2: this query sorts the results properly
                    (SELECT s0.* FROM
                        # QUERY 1: This query gets the results we need with calculated fields to sort by
                        # We should probably have these fields in the database so they are indexed
                        (SELECT
                        CONVERT( if( parentId = 0, @parentVoteNumber:=voteNumber,
                            @parentVoteNumber ), SIGNED INTEGER ) as groupVoteNumber,          # Will order groups using parent voteNumber
                        CONVERT( if( parentId = 0, @parentVoteCount:=voteCount,
                            @parentVoteCount ), SIGNED INTEGER ) as groupVoteCount,            # Will order groups using parent voteCount
                        CONVERT( if( parentId = 0, @parentCreateDate:=createDate,
                            @parentCreateDate ), DATETIME ) as groupCreateDate,                # Will order groups using parent createDate
                        CONVERT( if(parentId=0, id, parentId), UNSIGNED INTEGER) as groupId,   # will order groups together
                        CONVERT( if(parentId = 0, 0, 1), UNSIGNED INTEGER) as isChild,         # will order parent first in group
                        r.*
                        FROM (
                            # this just makes sure our groups are grouped in parent child order
                            SELECT * from q_brooklyncode o  WHERE o.location = '5e13bbb73127b9fc424e3728c6500f28' ORDER BY
                             if( o.relatedId = 0, o.id, o.relatedId),
                             if( o.relatedId = 0, 0, o.id )
                            ) r,
                        ( SELECT @parentVoteNumber := 0 ) pvn,
                        ( SELECT @parentVoteCount  := 0 ) pvc,
                        ( SELECT @parentCreateDate := 0 ) pcd
                         WHERE location = '5e13bbb73127b9fc424e3728c6500f28' 
                    ) s0
                    
                    
                    ORDER BY
                    
                s0.groupVoteNumber DESC,
                s0.groupVoteCount DESC,
                s0.groupCreateDate ASC,
                 
                    groupId  ASC, # first order by group
                    isChild ASC, # Then make sure the parent is first
                    
                s0.voteNumber DESC,
                s0.voteCount DESC,
                s0.createDate ASC
                
            ) s1,
            ( SELECT @parentrownum := 0 ) pr,
            ( SELECT @childrownum := 0 ) cr, 
            ( SELECT @lastparent := -1 ) lp) f
            LEFT JOIN user u on u.id = f.userId
            LEFT JOIN q_brooklyncode r on r.id = f.relatedId
            LEFT JOIN user ur on ur.id = r.userId
            WHERE
            ((0 = 16 and parent_sequence >= 11) or parent_sequence BETWEEN 11 AND 16)
            AND
            ((0 = 6 and child_sequence >= 1) or (child_sequence=0 or child_sequence BETWEEN 1 AND 6))
        
DEBUG:root:escape_sql args: None
DEBUG:root:
            SELECT f.`parent_sequence` , f.`child_sequence` , f.`id` , f.`locationId` , f.`relatedId`,
                f.`parentId` , f.`userId` , `u`.`username`, u.`thumbnailLarge` as userThumbnailLarge,
                ur.`username` as relatedUsername, ur.`thumbnailLarge` as relatedUserThumbnailLarge, f.`type` as `type`,
                f.`is_anonymous` , r.`is_anonymous` as `related_is_anonymous`, f.`name` , f.`location` ,f.`description`,f.`referer`,
                f.`voteCount` , f.`voteNumber` , f.`votesUp` ,f.`votesDown` , f.`flagCount`,  f.`childCount`, f.`sortOrder` , f.`status`,
                f.`thumbnailSmall` ,f.`thumbnailLarge` , f.`changeDate` , f.`createDate`, f.`nickname`, r.`nickname` as `related_nickname`
            FROM (
                # this query adds the sequence fields to filter by for paging
                SELECT  s1.*, @parentrownum := convert( IF( ( parentId = 0), @parentrownum +1, @parentrownum ), UNSIGNED INTEGER) AS parent_sequence,
                @childrownum := IF( ( @lastparent = parentId), @childrownum + 1, 0 ) AS child_sequence,
                @lastparent := if( parentId=0, id, parentId ) AS dummy_used_for_last_parent
                FROM
                    # QUERY 2: this query sorts the results properly
                    (SELECT s0.* FROM
                        # QUERY 1: This query gets the results we need with calculated fields to sort by
                        # We should probably have these fields in the database so they are indexed
                        (SELECT
                        CONVERT( if( parentId = 0, @parentVoteNumber:=voteNumber,
                            @parentVoteNumber ), SIGNED INTEGER ) as groupVoteNumber,          # Will order groups using parent voteNumber
                        CONVERT( if( parentId = 0, @parentVoteCount:=voteCount,
                            @parentVoteCount ), SIGNED INTEGER ) as groupVoteCount,            # Will order groups using parent voteCount
                        CONVERT( if( parentId = 0, @parentCreateDate:=createDate,
                            @parentCreateDate ), DATETIME ) as groupCreateDate,                # Will order groups using parent createDate
                        CONVERT( if(parentId=0, id, parentId), UNSIGNED INTEGER) as groupId,   # will order groups together
                        CONVERT( if(parentId = 0, 0, 1), UNSIGNED INTEGER) as isChild,         # will order parent first in group
                        r.*
                        FROM (
                            # this just makes sure our groups are grouped in parent child order
                            SELECT * from q_brooklyncode o  WHERE o.location = '5e13bbb73127b9fc424e3728c6500f28' ORDER BY
                             if( o.relatedId = 0, o.id, o.relatedId),
                             if( o.relatedId = 0, 0, o.id )
                            ) r,
                        ( SELECT @parentVoteNumber := 0 ) pvn,
                        ( SELECT @parentVoteCount  := 0 ) pvc,
                        ( SELECT @parentCreateDate := 0 ) pcd
                         WHERE location = '5e13bbb73127b9fc424e3728c6500f28' 
                    ) s0
                    
                    
                    ORDER BY
                    
                s0.groupVoteNumber DESC,
                s0.groupVoteCount DESC,
                s0.groupCreateDate ASC,
                 
                    groupId  ASC, # first order by group
                    isChild ASC, # Then make sure the parent is first
                    
                s0.voteNumber DESC,
                s0.voteCount DESC,
                s0.createDate ASC
                
            ) s1,
            ( SELECT @parentrownum := 0 ) pr,
            ( SELECT @childrownum := 0 ) cr, 
            ( SELECT @lastparent := -1 ) lp) f
            LEFT JOIN user u on u.id = f.userId
            LEFT JOIN q_brooklyncode r on r.id = f.relatedId
            LEFT JOIN user ur on ur.id = r.userId
            WHERE
            ((0 = 16 and parent_sequence >= 11) or parent_sequence BETWEEN 11 AND 16)
            AND
            ((0 = 6 and child_sequence >= 1) or (child_sequence=0 or child_sequence BETWEEN 1 AND 6))
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10159ca90>
DEBUG:root:Number of comments returned: 0
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10159cb10>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10159cd10>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10159ce90>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1015a60d0>
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:escape_sql sql: 
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:escape_sql args: []
DEBUG:root:
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1015b2150>
DEBUG:root:Number of contributions 8
INFO:root:200 POST /q/feed (127.0.0.1)
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:set_table has q_short_name (12345)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1015a62d0>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has q_short_name (12345)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1015a64d0>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:feed.prepare, table: q_brooklyncode
DEBUG:root:FeedHandler post
DEBUG:root:Body -> 
 action=flag&location=5e13bbb73127b9fc424e3728c6500f28&referer=http%3A%2F%2Flocalhost%3A8081%2F%3Fp%3D1&q_short_name=12345&QOOID=QOO51f460f57c582&QOOTID=QOOT51f460f57c593&flagTypeId=2&itemId=3&relatedId=3
DEBUG:root:Arguments -> 
 {"itemId": ["3"], "QOOID": ["QOO51f460f57c582"], "QOOTID": ["QOOT51f460f57c593"], "q_short_name": ["12345"], "location": ["5e13bbb73127b9fc424e3728c6500f28"], "action": ["flag"], "referer": ["http://localhost:8081/?p=1"], "relatedId": ["3"], "flagTypeId": ["2"]}
DEBUG:root:to_unicode
DEBUG:root:flag
DEBUG:root:flag
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:flag
DEBUG:root:flag
DEBUG:root:to_unicode
DEBUG:root:action: flag
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1015a66d0>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1015a68d0>
DEBUG:root:perform_flag
DEBUG:root:to_unicode
DEBUG:root:3
DEBUG:root:3
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:3
DEBUG:root:3
DEBUG:root:to_unicode
DEBUG:root:MySqlApiQueryset read_one
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:escape_sql sql: SELECT `id`,`locationId`,`relatedId`,`parentId`,`userId`,`type`,`name`,`location`,`description`,`voteCount`,`voteNumber`,`votesUp`,`votesDown`,`flagCount`,`childCount`,`sortOrder`,`status`,`thumbnailSmall`,`thumbnailLarge`,`referer`,`changeDate`,`createDate` FROM `q_brooklyncode` WHERE ID = %s
DEBUG:root:escape_sql args: [3]
DEBUG:root:SELECT `id`,`locationId`,`relatedId`,`parentId`,`userId`,`type`,`name`,`location`,`description`,`voteCount`,`voteNumber`,`votesUp`,`votesDown`,`flagCount`,`childCount`,`sortOrder`,`status`,`thumbnailSmall`,`thumbnailLarge`,`referer`,`changeDate`,`createDate` FROM `q_brooklyncode` WHERE ID = 3
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1015b26d0>
DEBUG:root:_flag(Comment object)
DEBUG:root:to_unicode
DEBUG:root:2
DEBUG:root:2
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:2
DEBUG:root:2
DEBUG:root:to_unicode
DEBUG:root:MySqlApiQueryset read_one
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:escape_sql sql: SELECT `id`,`createDate`,`name`,`description` FROM `flag_type` WHERE ID = %s
DEBUG:root:escape_sql args: [2]
DEBUG:root:SELECT `id`,`createDate`,`name`,`description` FROM `flag_type` WHERE ID = 2
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1015a6ad0>
DEBUG:root:flag_type found: 2
DEBUG:root:flag_type is authorized: 2
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`refTable`,`itemId`,`userId`,`flagTypeId`,`createDate` FROM `flag` WHERE `refTable` = %s and `itemId` = %s and `userId` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode', 3L, 392L]
DEBUG:root:
            SELECT `id`,`refTable`,`itemId`,`userId`,`flagTypeId`,`createDate` FROM `flag` WHERE `refTable` = 'q_brooklyncode' and `itemId` = 3 and `userId` = 392
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10159ca90>
DEBUG:root:MySqlApiQueryset create_one
DEBUG:root:MySqlApiQueryset create_one sql: 
                INSERT INTO `flag` 
                set id=%s,refTable=%s,itemId=%s,userId=%s,flagTypeId=%s,createDate=%s 
                ON DUPLICATE KEY UPDATE
                flagTypeId=%s
                
DEBUG:root:execute
DEBUG:root:execute args: [None, u'q_brooklyncode', 3L, 392L, 2L, datetime.datetime(2013, 7, 28, 22, 50, 4, 304767), 2L]
DEBUG:root:escape_sql sql: 
                INSERT INTO `flag` 
                set id=%s,refTable=%s,itemId=%s,userId=%s,flagTypeId=%s,createDate=%s 
                ON DUPLICATE KEY UPDATE
                flagTypeId=%s
                
DEBUG:root:escape_sql args: [None, u'q_brooklyncode', 3L, 392L, 2L, datetime.datetime(2013, 7, 28, 22, 50, 4, 304767), 2L]
DEBUG:root:
                INSERT INTO `flag` 
                set id=NULL,refTable='q_brooklyncode',itemId=3,userId=392,flagTypeId=2,createDate='2013-07-28 22:50:04' 
                ON DUPLICATE KEY UPDATE
                flagTypeId=2
                
DEBUG:root:execute: 
                INSERT INTO `flag` 
                set id=NULL,refTable='q_brooklyncode',itemId=3,userId=392,flagTypeId=2,createDate='2013-07-28 22:50:04' 
                ON DUPLICATE KEY UPDATE
                flagTypeId=2
                
DEBUG:root:MySqlApiQueryset create_one (status, affected_rows): (Created, 1)
DEBUG:root:inserted_id: 2)
DEBUG:root:update_flag_count(Comment object)
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT count(*) as `flagCount`
            FROM `flag` `f`
            WHERE `f`.`refTable`= %s and `itemId`=%s
            
DEBUG:root:escape_sql args: [u'q_brooklyncode', 3L]
DEBUG:root:
            SELECT count(*) as `flagCount`
            FROM `flag` `f`
            WHERE `f`.`refTable`= 'q_brooklyncode' and `itemId`=3
            
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10159cd10>
DEBUG:root:1
DEBUG:root:MySqlApiQueryset create_one
DEBUG:root:MySqlApiQueryset create_one sql: 
                INSERT INTO `q_brooklyncode` 
                set id=%s,locationId=%s,relatedId=%s,parentId=%s,userId=%s,type=%s,name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s,createDate=%s 
                ON DUPLICATE KEY UPDATE
                name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s
                
DEBUG:root:execute
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:execute args: [3L, 0L, 0L, 0L, 1L, 10L, 'Do you?', '5e13bbb73127b9fc424e3728c6500f28', None, 0L, 0L, 0L, 0L, 1L, 0L, 0L, '', None, None, 'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 22, 35, 14), datetime.datetime(2013, 7, 28, 22, 35, 14), 'Do you?', '5e13bbb73127b9fc424e3728c6500f28', None, 0L, 0L, 0L, 0L, 1L, 0L, 0L, '', None, None, 'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 22, 35, 14)]
DEBUG:root:escape_sql sql: 
                INSERT INTO `q_brooklyncode` 
                set id=%s,locationId=%s,relatedId=%s,parentId=%s,userId=%s,type=%s,name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s,createDate=%s 
                ON DUPLICATE KEY UPDATE
                name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s
                
DEBUG:root:escape_sql args: [3L, 0L, 0L, 0L, 1L, 10L, 'Do you?', '5e13bbb73127b9fc424e3728c6500f28', None, 0L, 0L, 0L, 0L, 1L, 0L, 0L, '', None, None, 'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 22, 35, 14), datetime.datetime(2013, 7, 28, 22, 35, 14), 'Do you?', '5e13bbb73127b9fc424e3728c6500f28', None, 0L, 0L, 0L, 0L, 1L, 0L, 0L, '', None, None, 'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 22, 35, 14)]
DEBUG:root:
                INSERT INTO `q_brooklyncode` 
                set id=3,locationId=0,relatedId=0,parentId=0,userId=1,type=10,name='Do you?',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=0,voteNumber=0,votesUp=0,votesDown=0,flagCount=1,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge=NULL,referer='http://localhost:8081/?p=1',changeDate='2013-07-28 22:35:14',createDate='2013-07-28 22:35:14' 
                ON DUPLICATE KEY UPDATE
                name='Do you?',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=0,voteNumber=0,votesUp=0,votesDown=0,flagCount=1,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge=NULL,referer='http://localhost:8081/?p=1',changeDate='2013-07-28 22:35:14'
                
DEBUG:root:execute: 
                INSERT INTO `q_brooklyncode` 
                set id=3,locationId=0,relatedId=0,parentId=0,userId=1,type=10,name='Do you?',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=0,voteNumber=0,votesUp=0,votesDown=0,flagCount=1,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge=NULL,referer='http://localhost:8081/?p=1',changeDate='2013-07-28 22:35:14',createDate='2013-07-28 22:35:14' 
                ON DUPLICATE KEY UPDATE
                name='Do you?',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=0,voteNumber=0,votesUp=0,votesDown=0,flagCount=1,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge=NULL,referer='http://localhost:8081/?p=1',changeDate='2013-07-28 22:35:14'
                
DEBUG:root:MySqlApiQueryset create_one (status, affected_rows): (Updated, 2)
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:escape_sql sql: SELECT * FROM `flag` WHERE refTable = %s and itemId = %s and userId = %s
DEBUG:root:escape_sql args: [u'q_brooklyncode', 3L, 392L]
DEBUG:root:SELECT * FROM `flag` WHERE refTable = 'q_brooklyncode' and itemId = 3 and userId = 392
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10159ce90>
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:escape_sql sql: SELECT refTable FROM `flag` WHERE id = %s
DEBUG:root:escape_sql args: [2L]
DEBUG:root:SELECT refTable FROM `flag` WHERE id = 2
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1015a60d0>
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `f`.*, `i`.name, `i`.`referer`, `ui`.`username`, `ui`.`email`,
            `uq`.`username` as `adminUsername`, `uq`.`email` as `adminEmail`,
            `ft`.`name` as `flagType`
            FROM `flag` `f`
            LEFT JOIN `q_brooklyncode` `i` on `i`.`id`=`f`.`id`
            LEFT JOIN `qoorates` `q` on `q`.`refTable`=`f`.`refTable`
            LEFT JOIN `user` `uq` on `uq`.`id`=`q`.`userId`
            LEFT JOIN `user` `ui` on `ui`.`id`=`i`.`userId`
            LEFT JOIN `flag_type` `ft` on `ft`.`id`=`f`.`flagTypeId`
            WHERE `f`.`id`= 2
            
DEBUG:root:escape_sql args: [2L]
INFO:root:ERROR: (not all arguments converted during string formatting)Traceback (most recent call last):
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 332, in post
    self.perform_flag()
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck-0.4.0-py2.7.egg/brubeck/auth.py", line 65, in wrapper
    return method(self, *args, **kwargs)
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 891, in perform_flag
    self.send_flag_alert(item, flag)
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 968, in send_flag_alert
    flag_info = self.flag_queryset.get_flag_email_alert_info_by_id(flag['id'])
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 712, in get_flag_email_alert_info_by_id
    return self.fetch(sql, [id]);
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_mysql-0.1.6-py2.7.egg/brubeckmysql/querysets.py", line 318, in fetch
    row = self.query(sql, args, format, True)
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_mysql-0.1.6-py2.7.egg/brubeckmysql/querysets.py", line 286, in query
    sql = self.escape_sql(sql, args, db_conn)
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_mysql-0.1.6-py2.7.egg/brubeckmysql/querysets.py", line 243, in escape_sql
    sql = sql % escaped_args
TypeError: not all arguments converted during string formatting

INFO:root:500 POST /q/feed (127.0.0.1)
Mon, 29 Jul 2013 02:51:41 GMT [ERROR] (errno: No such file or directory) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 02:51:41 GMT [ERROR] (errno: None) Failed to create target for route /q/static/
Mon, 29 Jul 2013 02:51:41 GMT [ERROR] (errno: None) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 02:51:41 GMT [ERROR] (errno: None) Failed to create target for route /q/robots.txt
Mon, 29 Jul 2013 02:51:41 GMT [ERROR] (errno: None) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 02:51:41 GMT [ERROR] (errno: None) Failed to create target for route /q/favicon.ico
Mon, 29 Jul 2013 02:51:41 GMT [INFO] (src/mime.c:49) MAX limits.mime_ext_len=128
Mon, 29 Jul 2013 02:51:41 GMT [INFO] (src/host.c:74) MAX limits.url_path=256, limits.host_name=256
Mon, 29 Jul 2013 02:51:41 GMT [INFO] (src/config/config.c:109) Loaded proxy 1:127.0.0.1:8081
Mon, 29 Jul 2013 02:51:41 GMT [INFO] (src/config/config.c:227) Loaded route 1:/:proxy for host 1:localhost
Mon, 29 Jul 2013 02:51:41 GMT [INFO] (src/handler.c:343) MAX limits.handler_stack=102400
Mon, 29 Jul 2013 02:51:41 GMT [INFO] (src/config/config.c:85) Loaded handler 1:ipc://run/qoorateserver/mongrel2_send:137b789e-b7eb-475a-8d5c-b16ab54493yu:ipc://run/qoorateserver/mongrel2_rcv:
Mon, 29 Jul 2013 02:51:41 GMT [INFO] (src/config/config.c:227) Loaded route 2:/q/:handler for host 1:localhost
Mon, 29 Jul 2013 02:51:41 GMT [INFO] (src/dir.c:195) MAX limits.dir_send_buffer=16384, limits.dir_max_path=256
Mon, 29 Jul 2013 02:51:41 GMT [INFO] (src/config/config.c:136) Loaded directory 1:static/qoorateserver/js/:index.html
Mon, 29 Jul 2013 02:51:41 GMT [INFO] (src/config/config.c:227) Loaded route 3:/q/js/:dir for host 1:localhost
Mon, 29 Jul 2013 02:51:41 GMT [INFO] (src/config/config.c:136) Loaded directory 2:static/qoorateserver/css/:index.html
Mon, 29 Jul 2013 02:51:41 GMT [INFO] (src/config/config.c:227) Loaded route 4:/q/css/:dir for host 1:localhost
Mon, 29 Jul 2013 02:51:41 GMT [INFO] (src/config/config.c:136) Loaded directory 3:static/qoorateserver/img/:index.html
Mon, 29 Jul 2013 02:51:41 GMT [INFO] (src/config/config.c:227) Loaded route 5:/q/img/:dir for host 1:localhost
Mon, 29 Jul 2013 02:51:41 GMT [INFO] (src/config/config.c:312) Loaded 1 hosts for server 1:fe76e442-da24-4708-b0ef-c4ahr2b7d131
Mon, 29 Jul 2013 02:51:41 GMT [INFO] (src/server.c:445) LOADING Handler ipc://run/qoorateserver/mongrel2_send
Mon, 29 Jul 2013 02:51:41 GMT [ERROR] (src/unixy.c:99: errno: No such file or directory) Failed to open PID file ../run/mongrel2.pid for reading.
Mon, 29 Jul 2013 02:51:41 GMT [INFO] (src/unixy.c:137) No previous mongrel2 running, continuing on.
Mon, 29 Jul 2013 02:51:41 GMT [INFO] (src/mongrel2.c:223) All loaded up, time to turn into a server.
Mon, 29 Jul 2013 02:51:41 GMT [INFO] (src/mongrel2.c:224) -- Starting Mongrel2/1.8.1. Copyright (C) Zed A. Shaw. Licensed BSD.

Mon, 29 Jul 2013 02:51:41 GMT [INFO] (src/mongrel2.c:225) -- Look in logs/error.log for startup messages and errors.
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
INFO:root:Using project directory: .
DEBUG:root:loading settings from ./conf/uploader/settings.py
INFO:root:Using coroutine library: gevent
DEBUG:root:******** START _service_registration *********
DEBUG:root:service_registration_passphrase: 137b789e-b7eb-475a-8d5a-b16ab544yurp
DEBUG:root:service_id: uploader
DEBUG:root:service_registration_addr: ipc://run/uploader/brubeck_svc_registration
DEBUG:root:service_passphrase: 137b789e-b7eb-475a-8d5a-b16ab544yurp
DEBUG:root:service_addr: ipc://run/uploader/brubeck_svc
DEBUG:root:service_response_addr: ipc://run/uploader/brubeck_svc_response
DEBUG:root:service_heartbeat_addr: None
DEBUG:root:service_heartbeat_timeout: 5
DEBUG:root:sender_id: 2f00ce7040b44e57bbda1e3fb735960e
DEBUG:root:is_reregistration: 0
DEBUG:root:service_heartbeat_interval: 3
DEBUG:root:******** END _service_registration *********
DEBUG:root:register_service: (service_registration_addr, service_registration_passphrase,service_heartbeat_timeout,sender_id): (ipc://run/uploader/brubeck_svc_registration,137b789e-b7eb-475a-8d5a-b16ab544yurp, 5, 2f00ce7040b44e57bbda1e3fb735960e)
DEBUG:root:service_registration sending request
DEBUG:root:service_registration waiting for response
INFO:root:Using project directory: .
DEBUG:root:loading settings from ./conf/qoorateserver/development.py
INFO:root:Using coroutine library: gevent
DEBUG:root:creating application db_conn pool
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:set_table has q_short_name (12345)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x101dcf8d0>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has q_short_name (12345)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x101dcf950>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:feed.prepare, table: q_brooklyncode
DEBUG:root:FeedHandler post
DEBUG:root:Body -> 
 action=flag&location=5e13bbb73127b9fc424e3728c6500f28&referer=http%3A%2F%2Flocalhost%3A8081%2F%3Fp%3D1&q_short_name=12345&QOOID=QOO51f460f57c582&QOOTID=QOOT51f460f57c593&flagTypeId=2&itemId=3&relatedId=3
DEBUG:root:Arguments -> 
 {"itemId": ["3"], "QOOID": ["QOO51f460f57c582"], "QOOTID": ["QOOT51f460f57c593"], "q_short_name": ["12345"], "location": ["5e13bbb73127b9fc424e3728c6500f28"], "action": ["flag"], "referer": ["http://localhost:8081/?p=1"], "relatedId": ["3"], "flagTypeId": ["2"]}
DEBUG:root:to_unicode
DEBUG:root:flag
DEBUG:root:flag
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:flag
DEBUG:root:flag
DEBUG:root:to_unicode
DEBUG:root:action: flag
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x101dcfb50>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x101dcfcd0>
DEBUG:root:perform_flag
DEBUG:root:to_unicode
DEBUG:root:3
DEBUG:root:3
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:3
DEBUG:root:3
DEBUG:root:to_unicode
DEBUG:root:MySqlApiQueryset read_one
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:escape_sql sql: SELECT `id`,`locationId`,`relatedId`,`parentId`,`userId`,`type`,`name`,`location`,`description`,`voteCount`,`voteNumber`,`votesUp`,`votesDown`,`flagCount`,`childCount`,`sortOrder`,`status`,`thumbnailSmall`,`thumbnailLarge`,`referer`,`changeDate`,`createDate` FROM `q_brooklyncode` WHERE ID = %s
DEBUG:root:escape_sql args: [3]
DEBUG:root:SELECT `id`,`locationId`,`relatedId`,`parentId`,`userId`,`type`,`name`,`location`,`description`,`voteCount`,`voteNumber`,`votesUp`,`votesDown`,`flagCount`,`childCount`,`sortOrder`,`status`,`thumbnailSmall`,`thumbnailLarge`,`referer`,`changeDate`,`createDate` FROM `q_brooklyncode` WHERE ID = 3
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x101ddfe50>
DEBUG:root:_flag(Comment object)
DEBUG:root:to_unicode
DEBUG:root:2
DEBUG:root:2
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:2
DEBUG:root:2
DEBUG:root:to_unicode
DEBUG:root:MySqlApiQueryset read_one
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:escape_sql sql: SELECT `id`,`createDate`,`name`,`description` FROM `flag_type` WHERE ID = %s
DEBUG:root:escape_sql args: [2]
DEBUG:root:SELECT `id`,`createDate`,`name`,`description` FROM `flag_type` WHERE ID = 2
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x101dcfed0>
DEBUG:root:flag_type found: 2
DEBUG:root:flag_type is authorized: 2
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`refTable`,`itemId`,`userId`,`flagTypeId`,`createDate` FROM `flag` WHERE `refTable` = %s and `itemId` = %s and `userId` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode', 3L, 392L]
DEBUG:root:
            SELECT `id`,`refTable`,`itemId`,`userId`,`flagTypeId`,`createDate` FROM `flag` WHERE `refTable` = 'q_brooklyncode' and `itemId` = 3 and `userId` = 392
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x101dd7110>
DEBUG:root:MySqlApiQueryset create_one
DEBUG:root:MySqlApiQueryset create_one sql: 
                INSERT INTO `flag` 
                set id=%s,refTable=%s,itemId=%s,userId=%s,flagTypeId=%s,createDate=%s 
                ON DUPLICATE KEY UPDATE
                flagTypeId=%s
                
DEBUG:root:execute
DEBUG:root:execute args: [2L, u'q_brooklyncode', 3L, 392L, 2L, datetime.datetime(2013, 7, 28, 22, 50, 4), 2L]
DEBUG:root:escape_sql sql: 
                INSERT INTO `flag` 
                set id=%s,refTable=%s,itemId=%s,userId=%s,flagTypeId=%s,createDate=%s 
                ON DUPLICATE KEY UPDATE
                flagTypeId=%s
                
DEBUG:root:escape_sql args: [2L, u'q_brooklyncode', 3L, 392L, 2L, datetime.datetime(2013, 7, 28, 22, 50, 4), 2L]
DEBUG:root:
                INSERT INTO `flag` 
                set id=2,refTable='q_brooklyncode',itemId=3,userId=392,flagTypeId=2,createDate='2013-07-28 22:50:04' 
                ON DUPLICATE KEY UPDATE
                flagTypeId=2
                
DEBUG:root:execute: 
                INSERT INTO `flag` 
                set id=2,refTable='q_brooklyncode',itemId=3,userId=392,flagTypeId=2,createDate='2013-07-28 22:50:04' 
                ON DUPLICATE KEY UPDATE
                flagTypeId=2
                
DEBUG:root:item_exists
DEBUG:root:escape_sql sql: SELECT count(*) FROM `flag`  WHERE id = %s
DEBUG:root:escape_sql args: [2L]
DEBUG:root:SELECT count(*) FROM `flag`  WHERE id = 2
DEBUG:root:MySqlApiQueryset create_one (status, affected_rows): (NO CHANGES, 0)
DEBUG:root:update_flag_count(Comment object)
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT count(*) as `flagCount`
            FROM `flag` `f`
            WHERE `f`.`refTable`= %s and `itemId`=%s
            
DEBUG:root:escape_sql args: [u'q_brooklyncode', 3L]
DEBUG:root:
            SELECT count(*) as `flagCount`
            FROM `flag` `f`
            WHERE `f`.`refTable`= 'q_brooklyncode' and `itemId`=3
            
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x101dd7710>
DEBUG:root:1
DEBUG:root:MySqlApiQueryset create_one
DEBUG:root:MySqlApiQueryset create_one sql: 
                INSERT INTO `q_brooklyncode` 
                set id=%s,locationId=%s,relatedId=%s,parentId=%s,userId=%s,type=%s,name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s,createDate=%s 
                ON DUPLICATE KEY UPDATE
                name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s
                
DEBUG:root:execute
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:execute args: [3L, 0L, 0L, 0L, 1L, 10L, 'Do you?', '5e13bbb73127b9fc424e3728c6500f28', None, 0L, 0L, 0L, 0L, 1L, 0L, 0L, '', None, None, 'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 22, 35, 14), datetime.datetime(2013, 7, 28, 22, 35, 14), 'Do you?', '5e13bbb73127b9fc424e3728c6500f28', None, 0L, 0L, 0L, 0L, 1L, 0L, 0L, '', None, None, 'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 22, 35, 14)]
DEBUG:root:escape_sql sql: 
                INSERT INTO `q_brooklyncode` 
                set id=%s,locationId=%s,relatedId=%s,parentId=%s,userId=%s,type=%s,name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s,createDate=%s 
                ON DUPLICATE KEY UPDATE
                name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s
                
DEBUG:root:escape_sql args: [3L, 0L, 0L, 0L, 1L, 10L, 'Do you?', '5e13bbb73127b9fc424e3728c6500f28', None, 0L, 0L, 0L, 0L, 1L, 0L, 0L, '', None, None, 'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 22, 35, 14), datetime.datetime(2013, 7, 28, 22, 35, 14), 'Do you?', '5e13bbb73127b9fc424e3728c6500f28', None, 0L, 0L, 0L, 0L, 1L, 0L, 0L, '', None, None, 'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 22, 35, 14)]
DEBUG:root:
                INSERT INTO `q_brooklyncode` 
                set id=3,locationId=0,relatedId=0,parentId=0,userId=1,type=10,name='Do you?',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=0,voteNumber=0,votesUp=0,votesDown=0,flagCount=1,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge=NULL,referer='http://localhost:8081/?p=1',changeDate='2013-07-28 22:35:14',createDate='2013-07-28 22:35:14' 
                ON DUPLICATE KEY UPDATE
                name='Do you?',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=0,voteNumber=0,votesUp=0,votesDown=0,flagCount=1,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge=NULL,referer='http://localhost:8081/?p=1',changeDate='2013-07-28 22:35:14'
                
DEBUG:root:execute: 
                INSERT INTO `q_brooklyncode` 
                set id=3,locationId=0,relatedId=0,parentId=0,userId=1,type=10,name='Do you?',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=0,voteNumber=0,votesUp=0,votesDown=0,flagCount=1,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge=NULL,referer='http://localhost:8081/?p=1',changeDate='2013-07-28 22:35:14',createDate='2013-07-28 22:35:14' 
                ON DUPLICATE KEY UPDATE
                name='Do you?',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=0,voteNumber=0,votesUp=0,votesDown=0,flagCount=1,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge=NULL,referer='http://localhost:8081/?p=1',changeDate='2013-07-28 22:35:14'
                
DEBUG:root:item_exists
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:escape_sql sql: SELECT count(*) FROM `q_brooklyncode`  WHERE id = %s
DEBUG:root:escape_sql args: [3L]
DEBUG:root:SELECT count(*) FROM `q_brooklyncode`  WHERE id = 3
DEBUG:root:MySqlApiQueryset create_one (status, affected_rows): (NO CHANGES, 0)
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:escape_sql sql: SELECT * FROM `flag` WHERE refTable = %s and itemId = %s and userId = %s
DEBUG:root:escape_sql args: [u'q_brooklyncode', 3L, 392L]
DEBUG:root:SELECT * FROM `flag` WHERE refTable = 'q_brooklyncode' and itemId = 3 and userId = 392
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x101dd7910>
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:escape_sql sql: SELECT refTable FROM `flag` WHERE id = %s
DEBUG:root:escape_sql args: [2L]
DEBUG:root:SELECT refTable FROM `flag` WHERE id = 2
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x101dcf8d0>
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `f`.*, `i`.name, `i`.`referer`, `ui`.`username`, `ui`.`email`,
            `uq`.`username` as `adminUsername`, `uq`.`email` as `adminEmail`,
            `ft`.`name` as `flagType`
            FROM `flag` `f`
            LEFT JOIN `q_brooklyncode` `i` on `i`.`id`=`f`.`id`
            LEFT JOIN `qoorates` `q` on `q`.`refTable`=`f`.`refTable`
            LEFT JOIN `user` `uq` on `uq`.`id`=`q`.`userId`
            LEFT JOIN `user` `ui` on `ui`.`id`=`i`.`userId`
            LEFT JOIN `flag_type` `ft` on `ft`.`id`=`f`.`flagTypeId`
            WHERE `f`.`id`= %s
            
DEBUG:root:escape_sql args: [2L]
DEBUG:root:
            SELECT `f`.*, `i`.name, `i`.`referer`, `ui`.`username`, `ui`.`email`,
            `uq`.`username` as `adminUsername`, `uq`.`email` as `adminEmail`,
            `ft`.`name` as `flagType`
            FROM `flag` `f`
            LEFT JOIN `q_brooklyncode` `i` on `i`.`id`=`f`.`id`
            LEFT JOIN `qoorates` `q` on `q`.`refTable`=`f`.`refTable`
            LEFT JOIN `user` `uq` on `uq`.`id`=`q`.`userId`
            LEFT JOIN `user` `ui` on `ui`.`id`=`i`.`userId`
            LEFT JOIN `flag_type` `ft` on `ft`.`id`=`f`.`flagTypeId`
            WHERE `f`.`id`= 2
            
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x101dcf950>
INFO:root:ERROR: (ADMIN_EMAIL_ADDRESS)Traceback (most recent call last):
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 332, in post
    self.perform_flag()
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck-0.4.0-py2.7.egg/brubeck/auth.py", line 65, in wrapper
    return method(self, *args, **kwargs)
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 891, in perform_flag
    self.send_flag_alert(item, flag)
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 973, in send_flag_alert
    cc_address         = settings.app["ADMIN_EMAIL_ADDRESS"]
KeyError: 'ADMIN_EMAIL_ADDRESS'

INFO:root:500 POST /q/feed (127.0.0.1)
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:set_table has q_short_name (12345)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x101dcfb50>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has q_short_name (12345)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x101dcfcd0>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:feed.prepare, table: q_brooklyncode
DEBUG:root:FeedHandler post
DEBUG:root:Body -> 
 action=flag&location=5e13bbb73127b9fc424e3728c6500f28&referer=http%3A%2F%2Flocalhost%3A8081%2F%3Fp%3D1&q_short_name=12345&QOOID=QOO51f460f57c582&QOOTID=QOOT51f460f57c593&flagTypeId=4&itemId=3&relatedId=3
DEBUG:root:Arguments -> 
 {"itemId": ["3"], "QOOID": ["QOO51f460f57c582"], "QOOTID": ["QOOT51f460f57c593"], "q_short_name": ["12345"], "location": ["5e13bbb73127b9fc424e3728c6500f28"], "action": ["flag"], "referer": ["http://localhost:8081/?p=1"], "relatedId": ["3"], "flagTypeId": ["4"]}
DEBUG:root:to_unicode
DEBUG:root:flag
DEBUG:root:flag
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:flag
DEBUG:root:flag
DEBUG:root:to_unicode
DEBUG:root:action: flag
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x101dcfed0>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x101dd7110>
DEBUG:root:perform_flag
DEBUG:root:to_unicode
DEBUG:root:3
DEBUG:root:3
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:3
DEBUG:root:3
DEBUG:root:to_unicode
DEBUG:root:MySqlApiQueryset read_one
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:escape_sql sql: SELECT `id`,`locationId`,`relatedId`,`parentId`,`userId`,`type`,`name`,`location`,`description`,`voteCount`,`voteNumber`,`votesUp`,`votesDown`,`flagCount`,`childCount`,`sortOrder`,`status`,`thumbnailSmall`,`thumbnailLarge`,`referer`,`changeDate`,`createDate` FROM `q_brooklyncode` WHERE ID = %s
DEBUG:root:escape_sql args: [3]
DEBUG:root:SELECT `id`,`locationId`,`relatedId`,`parentId`,`userId`,`type`,`name`,`location`,`description`,`voteCount`,`voteNumber`,`votesUp`,`votesDown`,`flagCount`,`childCount`,`sortOrder`,`status`,`thumbnailSmall`,`thumbnailLarge`,`referer`,`changeDate`,`createDate` FROM `q_brooklyncode` WHERE ID = 3
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x101de4510>
DEBUG:root:_flag(Comment object)
DEBUG:root:to_unicode
DEBUG:root:4
DEBUG:root:4
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:4
DEBUG:root:4
DEBUG:root:to_unicode
DEBUG:root:MySqlApiQueryset read_one
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:escape_sql sql: SELECT `id`,`createDate`,`name`,`description` FROM `flag_type` WHERE ID = %s
DEBUG:root:escape_sql args: [4]
DEBUG:root:SELECT `id`,`createDate`,`name`,`description` FROM `flag_type` WHERE ID = 4
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x101dd7310>
DEBUG:root:flag_type found: 4
DEBUG:root:flag_type is authorized: 4
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`refTable`,`itemId`,`userId`,`flagTypeId`,`createDate` FROM `flag` WHERE `refTable` = %s and `itemId` = %s and `userId` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode', 3L, 392L]
DEBUG:root:
            SELECT `id`,`refTable`,`itemId`,`userId`,`flagTypeId`,`createDate` FROM `flag` WHERE `refTable` = 'q_brooklyncode' and `itemId` = 3 and `userId` = 392
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x101dd7510>
DEBUG:root:MySqlApiQueryset create_one
DEBUG:root:MySqlApiQueryset create_one sql: 
                INSERT INTO `flag` 
                set id=%s,refTable=%s,itemId=%s,userId=%s,flagTypeId=%s,createDate=%s 
                ON DUPLICATE KEY UPDATE
                flagTypeId=%s
                
DEBUG:root:execute
DEBUG:root:execute args: [2L, u'q_brooklyncode', 3L, 392L, 4L, datetime.datetime(2013, 7, 28, 22, 50, 4), 4L]
DEBUG:root:escape_sql sql: 
                INSERT INTO `flag` 
                set id=%s,refTable=%s,itemId=%s,userId=%s,flagTypeId=%s,createDate=%s 
                ON DUPLICATE KEY UPDATE
                flagTypeId=%s
                
DEBUG:root:escape_sql args: [2L, u'q_brooklyncode', 3L, 392L, 4L, datetime.datetime(2013, 7, 28, 22, 50, 4), 4L]
DEBUG:root:
                INSERT INTO `flag` 
                set id=2,refTable='q_brooklyncode',itemId=3,userId=392,flagTypeId=4,createDate='2013-07-28 22:50:04' 
                ON DUPLICATE KEY UPDATE
                flagTypeId=4
                
DEBUG:root:execute: 
                INSERT INTO `flag` 
                set id=2,refTable='q_brooklyncode',itemId=3,userId=392,flagTypeId=4,createDate='2013-07-28 22:50:04' 
                ON DUPLICATE KEY UPDATE
                flagTypeId=4
                
DEBUG:root:MySqlApiQueryset create_one (status, affected_rows): (Updated, 2)
DEBUG:root:update_flag_count(Comment object)
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT count(*) as `flagCount`
            FROM `flag` `f`
            WHERE `f`.`refTable`= %s and `itemId`=%s
            
DEBUG:root:escape_sql args: [u'q_brooklyncode', 3L]
DEBUG:root:
            SELECT count(*) as `flagCount`
            FROM `flag` `f`
            WHERE `f`.`refTable`= 'q_brooklyncode' and `itemId`=3
            
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x101dd7910>
DEBUG:root:1
DEBUG:root:MySqlApiQueryset create_one
DEBUG:root:MySqlApiQueryset create_one sql: 
                INSERT INTO `q_brooklyncode` 
                set id=%s,locationId=%s,relatedId=%s,parentId=%s,userId=%s,type=%s,name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s,createDate=%s 
                ON DUPLICATE KEY UPDATE
                name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s
                
DEBUG:root:execute
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:execute args: [3L, 0L, 0L, 0L, 1L, 10L, 'Do you?', '5e13bbb73127b9fc424e3728c6500f28', None, 0L, 0L, 0L, 0L, 1L, 0L, 0L, '', None, None, 'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 22, 35, 14), datetime.datetime(2013, 7, 28, 22, 35, 14), 'Do you?', '5e13bbb73127b9fc424e3728c6500f28', None, 0L, 0L, 0L, 0L, 1L, 0L, 0L, '', None, None, 'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 22, 35, 14)]
DEBUG:root:escape_sql sql: 
                INSERT INTO `q_brooklyncode` 
                set id=%s,locationId=%s,relatedId=%s,parentId=%s,userId=%s,type=%s,name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s,createDate=%s 
                ON DUPLICATE KEY UPDATE
                name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s
                
DEBUG:root:escape_sql args: [3L, 0L, 0L, 0L, 1L, 10L, 'Do you?', '5e13bbb73127b9fc424e3728c6500f28', None, 0L, 0L, 0L, 0L, 1L, 0L, 0L, '', None, None, 'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 22, 35, 14), datetime.datetime(2013, 7, 28, 22, 35, 14), 'Do you?', '5e13bbb73127b9fc424e3728c6500f28', None, 0L, 0L, 0L, 0L, 1L, 0L, 0L, '', None, None, 'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 22, 35, 14)]
DEBUG:root:
                INSERT INTO `q_brooklyncode` 
                set id=3,locationId=0,relatedId=0,parentId=0,userId=1,type=10,name='Do you?',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=0,voteNumber=0,votesUp=0,votesDown=0,flagCount=1,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge=NULL,referer='http://localhost:8081/?p=1',changeDate='2013-07-28 22:35:14',createDate='2013-07-28 22:35:14' 
                ON DUPLICATE KEY UPDATE
                name='Do you?',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=0,voteNumber=0,votesUp=0,votesDown=0,flagCount=1,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge=NULL,referer='http://localhost:8081/?p=1',changeDate='2013-07-28 22:35:14'
                
DEBUG:root:execute: 
                INSERT INTO `q_brooklyncode` 
                set id=3,locationId=0,relatedId=0,parentId=0,userId=1,type=10,name='Do you?',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=0,voteNumber=0,votesUp=0,votesDown=0,flagCount=1,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge=NULL,referer='http://localhost:8081/?p=1',changeDate='2013-07-28 22:35:14',createDate='2013-07-28 22:35:14' 
                ON DUPLICATE KEY UPDATE
                name='Do you?',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=0,voteNumber=0,votesUp=0,votesDown=0,flagCount=1,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge=NULL,referer='http://localhost:8081/?p=1',changeDate='2013-07-28 22:35:14'
                
DEBUG:root:item_exists
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:escape_sql sql: SELECT count(*) FROM `q_brooklyncode`  WHERE id = %s
DEBUG:root:escape_sql args: [3L]
DEBUG:root:SELECT count(*) FROM `q_brooklyncode`  WHERE id = 3
DEBUG:root:MySqlApiQueryset create_one (status, affected_rows): (NO CHANGES, 0)
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:escape_sql sql: SELECT * FROM `flag` WHERE refTable = %s and itemId = %s and userId = %s
DEBUG:root:escape_sql args: [u'q_brooklyncode', 3L, 392L]
DEBUG:root:SELECT * FROM `flag` WHERE refTable = 'q_brooklyncode' and itemId = 3 and userId = 392
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x101dcf8d0>
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:escape_sql sql: SELECT refTable FROM `flag` WHERE id = %s
DEBUG:root:escape_sql args: [2L]
DEBUG:root:SELECT refTable FROM `flag` WHERE id = 2
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x101dcf950>
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `f`.*, `i`.name, `i`.`referer`, `ui`.`username`, `ui`.`email`,
            `uq`.`username` as `adminUsername`, `uq`.`email` as `adminEmail`,
            `ft`.`name` as `flagType`
            FROM `flag` `f`
            LEFT JOIN `q_brooklyncode` `i` on `i`.`id`=`f`.`id`
            LEFT JOIN `qoorates` `q` on `q`.`refTable`=`f`.`refTable`
            LEFT JOIN `user` `uq` on `uq`.`id`=`q`.`userId`
            LEFT JOIN `user` `ui` on `ui`.`id`=`i`.`userId`
            LEFT JOIN `flag_type` `ft` on `ft`.`id`=`f`.`flagTypeId`
            WHERE `f`.`id`= %s
            
DEBUG:root:escape_sql args: [2L]
DEBUG:root:
            SELECT `f`.*, `i`.name, `i`.`referer`, `ui`.`username`, `ui`.`email`,
            `uq`.`username` as `adminUsername`, `uq`.`email` as `adminEmail`,
            `ft`.`name` as `flagType`
            FROM `flag` `f`
            LEFT JOIN `q_brooklyncode` `i` on `i`.`id`=`f`.`id`
            LEFT JOIN `qoorates` `q` on `q`.`refTable`=`f`.`refTable`
            LEFT JOIN `user` `uq` on `uq`.`id`=`q`.`userId`
            LEFT JOIN `user` `ui` on `ui`.`id`=`i`.`userId`
            LEFT JOIN `flag_type` `ft` on `ft`.`id`=`f`.`flagTypeId`
            WHERE `f`.`id`= 2
            
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x101dcfb50>
INFO:root:ERROR: (ADMIN_EMAIL_ADDRESS)Traceback (most recent call last):
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 332, in post
    self.perform_flag()
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck-0.4.0-py2.7.egg/brubeck/auth.py", line 65, in wrapper
    return method(self, *args, **kwargs)
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 891, in perform_flag
    self.send_flag_alert(item, flag)
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 973, in send_flag_alert
    cc_address         = settings.app["ADMIN_EMAIL_ADDRESS"]
KeyError: 'ADMIN_EMAIL_ADDRESS'

INFO:root:500 POST /q/feed (127.0.0.1)
Mon, 29 Jul 2013 02:53:50 GMT [ERROR] (errno: No such file or directory) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 02:53:50 GMT [ERROR] (errno: None) Failed to create target for route /q/static/
Mon, 29 Jul 2013 02:53:50 GMT [ERROR] (errno: None) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 02:53:50 GMT [ERROR] (errno: None) Failed to create target for route /q/robots.txt
Mon, 29 Jul 2013 02:53:50 GMT [ERROR] (errno: None) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 02:53:50 GMT [ERROR] (errno: None) Failed to create target for route /q/favicon.ico
Mon, 29 Jul 2013 02:53:50 GMT [INFO] (src/mime.c:49) MAX limits.mime_ext_len=128
Mon, 29 Jul 2013 02:53:50 GMT [INFO] (src/host.c:74) MAX limits.url_path=256, limits.host_name=256
Mon, 29 Jul 2013 02:53:50 GMT [INFO] (src/config/config.c:109) Loaded proxy 1:127.0.0.1:8081
Mon, 29 Jul 2013 02:53:50 GMT [INFO] (src/config/config.c:227) Loaded route 1:/:proxy for host 1:localhost
Mon, 29 Jul 2013 02:53:50 GMT [INFO] (src/handler.c:343) MAX limits.handler_stack=102400
Mon, 29 Jul 2013 02:53:50 GMT [INFO] (src/config/config.c:85) Loaded handler 1:ipc://run/qoorateserver/mongrel2_send:137b789e-b7eb-475a-8d5c-b16ab54493yu:ipc://run/qoorateserver/mongrel2_rcv:
Mon, 29 Jul 2013 02:53:50 GMT [INFO] (src/config/config.c:227) Loaded route 2:/q/:handler for host 1:localhost
Mon, 29 Jul 2013 02:53:50 GMT [INFO] (src/dir.c:195) MAX limits.dir_send_buffer=16384, limits.dir_max_path=256
Mon, 29 Jul 2013 02:53:50 GMT [INFO] (src/config/config.c:136) Loaded directory 1:static/qoorateserver/js/:index.html
Mon, 29 Jul 2013 02:53:50 GMT [INFO] (src/config/config.c:227) Loaded route 3:/q/js/:dir for host 1:localhost
Mon, 29 Jul 2013 02:53:50 GMT [INFO] (src/config/config.c:136) Loaded directory 2:static/qoorateserver/css/:index.html
Mon, 29 Jul 2013 02:53:50 GMT [INFO] (src/config/config.c:227) Loaded route 4:/q/css/:dir for host 1:localhost
Mon, 29 Jul 2013 02:53:50 GMT [INFO] (src/config/config.c:136) Loaded directory 3:static/qoorateserver/img/:index.html
Mon, 29 Jul 2013 02:53:50 GMT [INFO] (src/config/config.c:227) Loaded route 5:/q/img/:dir for host 1:localhost
Mon, 29 Jul 2013 02:53:50 GMT [INFO] (src/config/config.c:312) Loaded 1 hosts for server 1:fe76e442-da24-4708-b0ef-c4ahr2b7d131
Mon, 29 Jul 2013 02:53:50 GMT [INFO] (src/server.c:445) LOADING Handler ipc://run/qoorateserver/mongrel2_send
Mon, 29 Jul 2013 02:53:50 GMT [ERROR] (src/unixy.c:99: errno: No such file or directory) Failed to open PID file ../run/mongrel2.pid for reading.
Mon, 29 Jul 2013 02:53:50 GMT [INFO] (src/unixy.c:137) No previous mongrel2 running, continuing on.
Mon, 29 Jul 2013 02:53:50 GMT [INFO] (src/mongrel2.c:223) All loaded up, time to turn into a server.
Mon, 29 Jul 2013 02:53:50 GMT [INFO] (src/mongrel2.c:224) -- Starting Mongrel2/1.8.1. Copyright (C) Zed A. Shaw. Licensed BSD.

Mon, 29 Jul 2013 02:53:50 GMT [INFO] (src/mongrel2.c:225) -- Look in logs/error.log for startup messages and errors.
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
INFO:root:Using project directory: .
DEBUG:root:loading settings from ./conf/uploader/settings.py
INFO:root:Using coroutine library: gevent
DEBUG:root:******** START _service_registration *********
DEBUG:root:service_registration_passphrase: 137b789e-b7eb-475a-8d5a-b16ab544yurp
DEBUG:root:service_id: uploader
DEBUG:root:service_registration_addr: ipc://run/uploader/brubeck_svc_registration
DEBUG:root:service_passphrase: 137b789e-b7eb-475a-8d5a-b16ab544yurp
DEBUG:root:service_addr: ipc://run/uploader/brubeck_svc
DEBUG:root:service_response_addr: ipc://run/uploader/brubeck_svc_response
DEBUG:root:service_heartbeat_addr: None
DEBUG:root:service_heartbeat_timeout: 5
DEBUG:root:sender_id: 6853d0133023457b9e9d53cb50b58302
DEBUG:root:is_reregistration: 0
DEBUG:root:service_heartbeat_interval: 3
DEBUG:root:******** END _service_registration *********
DEBUG:root:register_service: (service_registration_addr, service_registration_passphrase,service_heartbeat_timeout,sender_id): (ipc://run/uploader/brubeck_svc_registration,137b789e-b7eb-475a-8d5a-b16ab544yurp, 5, 6853d0133023457b9e9d53cb50b58302)
DEBUG:root:service_registration sending request
DEBUG:root:service_registration waiting for response
INFO:root:Using project directory: .
DEBUG:root:loading settings from ./conf/qoorateserver/development.py
INFO:root:Using coroutine library: gevent
DEBUG:root:creating application db_conn pool
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:set_table has q_short_name (12345)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x101db1ad0>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has q_short_name (12345)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x101db1b50>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:feed.prepare, table: q_brooklyncode
DEBUG:root:FeedHandler post
DEBUG:root:Body -> 
 action=flag&location=5e13bbb73127b9fc424e3728c6500f28&referer=http%3A%2F%2Flocalhost%3A8081%2F%3Fp%3D1&q_short_name=12345&QOOID=QOO51f460f57c582&QOOTID=QOOT51f460f57c593&flagTypeId=4&itemId=3&relatedId=3
DEBUG:root:Arguments -> 
 {"itemId": ["3"], "QOOID": ["QOO51f460f57c582"], "QOOTID": ["QOOT51f460f57c593"], "q_short_name": ["12345"], "location": ["5e13bbb73127b9fc424e3728c6500f28"], "action": ["flag"], "referer": ["http://localhost:8081/?p=1"], "relatedId": ["3"], "flagTypeId": ["4"]}
DEBUG:root:to_unicode
DEBUG:root:flag
DEBUG:root:flag
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:flag
DEBUG:root:flag
DEBUG:root:to_unicode
DEBUG:root:action: flag
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x101db1d50>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x101db1ed0>
DEBUG:root:perform_flag
DEBUG:root:to_unicode
DEBUG:root:3
DEBUG:root:3
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:3
DEBUG:root:3
DEBUG:root:to_unicode
DEBUG:root:MySqlApiQueryset read_one
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:escape_sql sql: SELECT `id`,`locationId`,`relatedId`,`parentId`,`userId`,`type`,`name`,`location`,`description`,`voteCount`,`voteNumber`,`votesUp`,`votesDown`,`flagCount`,`childCount`,`sortOrder`,`status`,`thumbnailSmall`,`thumbnailLarge`,`referer`,`changeDate`,`createDate` FROM `q_brooklyncode` WHERE ID = %s
DEBUG:root:escape_sql args: [3]
DEBUG:root:SELECT `id`,`locationId`,`relatedId`,`parentId`,`userId`,`type`,`name`,`location`,`description`,`voteCount`,`voteNumber`,`votesUp`,`votesDown`,`flagCount`,`childCount`,`sortOrder`,`status`,`thumbnailSmall`,`thumbnailLarge`,`referer`,`changeDate`,`createDate` FROM `q_brooklyncode` WHERE ID = 3
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x101dbc1d0>
DEBUG:root:_flag(Comment object)
DEBUG:root:to_unicode
DEBUG:root:4
DEBUG:root:4
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:4
DEBUG:root:4
DEBUG:root:to_unicode
DEBUG:root:MySqlApiQueryset read_one
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:escape_sql sql: SELECT `id`,`createDate`,`name`,`description` FROM `flag_type` WHERE ID = %s
DEBUG:root:escape_sql args: [4]
DEBUG:root:SELECT `id`,`createDate`,`name`,`description` FROM `flag_type` WHERE ID = 4
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x101dbc110>
DEBUG:root:flag_type found: 4
DEBUG:root:flag_type is authorized: 4
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`refTable`,`itemId`,`userId`,`flagTypeId`,`createDate` FROM `flag` WHERE `refTable` = %s and `itemId` = %s and `userId` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode', 3L, 392L]
DEBUG:root:
            SELECT `id`,`refTable`,`itemId`,`userId`,`flagTypeId`,`createDate` FROM `flag` WHERE `refTable` = 'q_brooklyncode' and `itemId` = 3 and `userId` = 392
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x101dbc310>
DEBUG:root:MySqlApiQueryset create_one
DEBUG:root:MySqlApiQueryset create_one sql: 
                INSERT INTO `flag` 
                set id=%s,refTable=%s,itemId=%s,userId=%s,flagTypeId=%s,createDate=%s 
                ON DUPLICATE KEY UPDATE
                flagTypeId=%s
                
DEBUG:root:execute
DEBUG:root:execute args: [2L, u'q_brooklyncode', 3L, 392L, 4L, datetime.datetime(2013, 7, 28, 22, 50, 4), 4L]
DEBUG:root:escape_sql sql: 
                INSERT INTO `flag` 
                set id=%s,refTable=%s,itemId=%s,userId=%s,flagTypeId=%s,createDate=%s 
                ON DUPLICATE KEY UPDATE
                flagTypeId=%s
                
DEBUG:root:escape_sql args: [2L, u'q_brooklyncode', 3L, 392L, 4L, datetime.datetime(2013, 7, 28, 22, 50, 4), 4L]
DEBUG:root:
                INSERT INTO `flag` 
                set id=2,refTable='q_brooklyncode',itemId=3,userId=392,flagTypeId=4,createDate='2013-07-28 22:50:04' 
                ON DUPLICATE KEY UPDATE
                flagTypeId=4
                
DEBUG:root:execute: 
                INSERT INTO `flag` 
                set id=2,refTable='q_brooklyncode',itemId=3,userId=392,flagTypeId=4,createDate='2013-07-28 22:50:04' 
                ON DUPLICATE KEY UPDATE
                flagTypeId=4
                
DEBUG:root:item_exists
DEBUG:root:escape_sql sql: SELECT count(*) FROM `flag`  WHERE id = %s
DEBUG:root:escape_sql args: [2L]
DEBUG:root:SELECT count(*) FROM `flag`  WHERE id = 2
DEBUG:root:MySqlApiQueryset create_one (status, affected_rows): (NO CHANGES, 0)
DEBUG:root:update_flag_count(Comment object)
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT count(*) as `flagCount`
            FROM `flag` `f`
            WHERE `f`.`refTable`= %s and `itemId`=%s
            
DEBUG:root:escape_sql args: [u'q_brooklyncode', 3L]
DEBUG:root:
            SELECT count(*) as `flagCount`
            FROM `flag` `f`
            WHERE `f`.`refTable`= 'q_brooklyncode' and `itemId`=3
            
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x101dbc910>
DEBUG:root:1
DEBUG:root:MySqlApiQueryset create_one
DEBUG:root:MySqlApiQueryset create_one sql: 
                INSERT INTO `q_brooklyncode` 
                set id=%s,locationId=%s,relatedId=%s,parentId=%s,userId=%s,type=%s,name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s,createDate=%s 
                ON DUPLICATE KEY UPDATE
                name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s
                
DEBUG:root:execute
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:execute args: [3L, 0L, 0L, 0L, 1L, 10L, 'Do you?', '5e13bbb73127b9fc424e3728c6500f28', None, 0L, 0L, 0L, 0L, 1L, 0L, 0L, '', None, None, 'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 22, 35, 14), datetime.datetime(2013, 7, 28, 22, 35, 14), 'Do you?', '5e13bbb73127b9fc424e3728c6500f28', None, 0L, 0L, 0L, 0L, 1L, 0L, 0L, '', None, None, 'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 22, 35, 14)]
DEBUG:root:escape_sql sql: 
                INSERT INTO `q_brooklyncode` 
                set id=%s,locationId=%s,relatedId=%s,parentId=%s,userId=%s,type=%s,name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s,createDate=%s 
                ON DUPLICATE KEY UPDATE
                name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s
                
DEBUG:root:escape_sql args: [3L, 0L, 0L, 0L, 1L, 10L, 'Do you?', '5e13bbb73127b9fc424e3728c6500f28', None, 0L, 0L, 0L, 0L, 1L, 0L, 0L, '', None, None, 'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 22, 35, 14), datetime.datetime(2013, 7, 28, 22, 35, 14), 'Do you?', '5e13bbb73127b9fc424e3728c6500f28', None, 0L, 0L, 0L, 0L, 1L, 0L, 0L, '', None, None, 'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 22, 35, 14)]
DEBUG:root:
                INSERT INTO `q_brooklyncode` 
                set id=3,locationId=0,relatedId=0,parentId=0,userId=1,type=10,name='Do you?',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=0,voteNumber=0,votesUp=0,votesDown=0,flagCount=1,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge=NULL,referer='http://localhost:8081/?p=1',changeDate='2013-07-28 22:35:14',createDate='2013-07-28 22:35:14' 
                ON DUPLICATE KEY UPDATE
                name='Do you?',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=0,voteNumber=0,votesUp=0,votesDown=0,flagCount=1,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge=NULL,referer='http://localhost:8081/?p=1',changeDate='2013-07-28 22:35:14'
                
DEBUG:root:execute: 
                INSERT INTO `q_brooklyncode` 
                set id=3,locationId=0,relatedId=0,parentId=0,userId=1,type=10,name='Do you?',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=0,voteNumber=0,votesUp=0,votesDown=0,flagCount=1,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge=NULL,referer='http://localhost:8081/?p=1',changeDate='2013-07-28 22:35:14',createDate='2013-07-28 22:35:14' 
                ON DUPLICATE KEY UPDATE
                name='Do you?',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=0,voteNumber=0,votesUp=0,votesDown=0,flagCount=1,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge=NULL,referer='http://localhost:8081/?p=1',changeDate='2013-07-28 22:35:14'
                
DEBUG:root:item_exists
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:escape_sql sql: SELECT count(*) FROM `q_brooklyncode`  WHERE id = %s
DEBUG:root:escape_sql args: [3L]
DEBUG:root:SELECT count(*) FROM `q_brooklyncode`  WHERE id = 3
DEBUG:root:MySqlApiQueryset create_one (status, affected_rows): (NO CHANGES, 0)
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:escape_sql sql: SELECT * FROM `flag` WHERE refTable = %s and itemId = %s and userId = %s
DEBUG:root:escape_sql args: [u'q_brooklyncode', 3L, 392L]
DEBUG:root:SELECT * FROM `flag` WHERE refTable = 'q_brooklyncode' and itemId = 3 and userId = 392
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x101dbcb10>
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:escape_sql sql: SELECT refTable FROM `flag` WHERE id = %s
DEBUG:root:escape_sql args: [2L]
DEBUG:root:SELECT refTable FROM `flag` WHERE id = 2
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x101db1ad0>
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `f`.*, `i`.name, `i`.`referer`, `ui`.`username`, `ui`.`email`,
            `uq`.`username` as `adminUsername`, `uq`.`email` as `adminEmail`,
            `ft`.`name` as `flagType`
            FROM `flag` `f`
            LEFT JOIN `q_brooklyncode` `i` on `i`.`id`=`f`.`id`
            LEFT JOIN `qoorates` `q` on `q`.`refTable`=`f`.`refTable`
            LEFT JOIN `user` `uq` on `uq`.`id`=`q`.`userId`
            LEFT JOIN `user` `ui` on `ui`.`id`=`i`.`userId`
            LEFT JOIN `flag_type` `ft` on `ft`.`id`=`f`.`flagTypeId`
            WHERE `f`.`id`= %s
            
DEBUG:root:escape_sql args: [2L]
DEBUG:root:
            SELECT `f`.*, `i`.name, `i`.`referer`, `ui`.`username`, `ui`.`email`,
            `uq`.`username` as `adminUsername`, `uq`.`email` as `adminEmail`,
            `ft`.`name` as `flagType`
            FROM `flag` `f`
            LEFT JOIN `q_brooklyncode` `i` on `i`.`id`=`f`.`id`
            LEFT JOIN `qoorates` `q` on `q`.`refTable`=`f`.`refTable`
            LEFT JOIN `user` `uq` on `uq`.`id`=`q`.`userId`
            LEFT JOIN `user` `ui` on `ui`.`id`=`i`.`userId`
            LEFT JOIN `flag_type` `ft` on `ft`.`id`=`f`.`flagTypeId`
            WHERE `f`.`id`= 2
            
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x101db1b50>
DEBUG:root:to_unicode
DEBUG:root:http://localhost:8081/?p=1
DEBUG:root:http://localhost:8081/?p=1
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:http://localhost:8081/?p=1
DEBUG:root:http://localhost:8081/?p=1
DEBUG:root:to_unicode
DEBUG:root:perform_flag adding to payload
DEBUG:root:flagCount: 1 
DEBUG:root:message:  
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:escape_sql sql: 
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:escape_sql args: []
DEBUG:root:
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x101dc8c50>
DEBUG:root:Number of contributions 8
INFO:root:200 POST /q/feed (127.0.0.1)
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:set_table has q_short_name (12345)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x101db1d50>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has q_short_name (12345)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x101db1ed0>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:feed.prepare, table: q_brooklyncode
DEBUG:root:FeedHandler post
DEBUG:root:Body -> 
 action=downVote&location=5e13bbb73127b9fc424e3728c6500f28&referer=http%3A%2F%2Flocalhost%3A8081%2F%3Fp%3D1&q_short_name=12345&QOOID=QOO51f460f57c582&QOOTID=QOOT51f460f57c593&relatedId=3
DEBUG:root:Arguments -> 
 {"QOOID": ["QOO51f460f57c582"], "QOOTID": ["QOOT51f460f57c593"], "q_short_name": ["12345"], "location": ["5e13bbb73127b9fc424e3728c6500f28"], "action": ["downVote"], "referer": ["http://localhost:8081/?p=1"], "relatedId": ["3"]}
DEBUG:root:to_unicode
DEBUG:root:downVote
DEBUG:root:downVote
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:downVote
DEBUG:root:downVote
DEBUG:root:to_unicode
DEBUG:root:action: downVote
DEBUG:root:perform_vote(-1)
DEBUG:root:to_unicode
DEBUG:root:3
DEBUG:root:3
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:3
DEBUG:root:3
DEBUG:root:to_unicode
DEBUG:root:MySqlApiQueryset read_one
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:escape_sql sql: SELECT `id`,`locationId`,`relatedId`,`parentId`,`userId`,`type`,`name`,`location`,`description`,`voteCount`,`voteNumber`,`votesUp`,`votesDown`,`flagCount`,`childCount`,`sortOrder`,`status`,`thumbnailSmall`,`thumbnailLarge`,`referer`,`changeDate`,`createDate` FROM `q_brooklyncode` WHERE ID = %s
DEBUG:root:escape_sql args: [3]
DEBUG:root:SELECT `id`,`locationId`,`relatedId`,`parentId`,`userId`,`type`,`name`,`location`,`description`,`voteCount`,`voteNumber`,`votesUp`,`votesDown`,`flagCount`,`childCount`,`sortOrder`,`status`,`thumbnailSmall`,`thumbnailLarge`,`referer`,`changeDate`,`createDate` FROM `q_brooklyncode` WHERE ID = 3
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x101dc85d0>
DEBUG:root:_vote(-1, Comment object)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x101dbc110>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x101dbc310>
DEBUG:root:user_id, item.userId: 392, 1
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`refTable`,`itemId`,`userId`,`qootid`,`up`,`down`,`createDate` FROM `vote` WHERE `refTable` = %s and `itemId` = %s and `userId` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode', 3L, 392L]
DEBUG:root:
            SELECT `id`,`refTable`,`itemId`,`userId`,`qootid`,`up`,`down`,`createDate` FROM `vote` WHERE `refTable` = 'q_brooklyncode' and `itemId` = 3 and `userId` = 392
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x101dbc510>
DEBUG:root:MySqlApiQueryset create_one
DEBUG:root:MySqlApiQueryset create_one sql: 
                INSERT INTO `vote` 
                set id=%s,refTable=%s,itemId=%s,userId=%s,qootid=%s,up=%s,down=%s,createDate=%s 
                ON DUPLICATE KEY UPDATE
                up=%s,down=%s
                
DEBUG:root:execute
DEBUG:root:execute args: [None, u'q_brooklyncode', 3L, 392L, 'QOOT51f460f57c593', 0, 1, datetime.datetime(2013, 7, 28, 22, 54, 2, 655711), 0, 1]
DEBUG:root:escape_sql sql: 
                INSERT INTO `vote` 
                set id=%s,refTable=%s,itemId=%s,userId=%s,qootid=%s,up=%s,down=%s,createDate=%s 
                ON DUPLICATE KEY UPDATE
                up=%s,down=%s
                
DEBUG:root:escape_sql args: [None, u'q_brooklyncode', 3L, 392L, 'QOOT51f460f57c593', 0, 1, datetime.datetime(2013, 7, 28, 22, 54, 2, 655711), 0, 1]
DEBUG:root:
                INSERT INTO `vote` 
                set id=NULL,refTable='q_brooklyncode',itemId=3,userId=392,qootid='QOOT51f460f57c593',up=0,down=1,createDate='2013-07-28 22:54:02' 
                ON DUPLICATE KEY UPDATE
                up=0,down=1
                
DEBUG:root:execute: 
                INSERT INTO `vote` 
                set id=NULL,refTable='q_brooklyncode',itemId=3,userId=392,qootid='QOOT51f460f57c593',up=0,down=1,createDate='2013-07-28 22:54:02' 
                ON DUPLICATE KEY UPDATE
                up=0,down=1
                
DEBUG:root:MySqlApiQueryset create_one (status, affected_rows): (Created, 1)
DEBUG:root:inserted_id: 4)
DEBUG:root:update_vote_counts(Comment object)
DEBUG:root:query
DEBUG:root:escape_sql sql:  SELECT id, SUM(down) AS votesDown, SUM(up) AS votesUp FROM(
        SELECT ifnull(id,0) as id, 'parent' AS type, SUM(down) AS down, SUM(up) AS up  FROM (
            SELECT ifnull(q.id,0) as id,
                (SELECT SUM(down) FROM vote WHERE itemId = q.id AND refTable=%s AND down > 0) AS down,
                (SELECT SUM(up) FROM vote WHERE itemId = q.id AND refTable=%s AND up > 0) AS up
            FROM `q_brooklyncode` q
            WHERE q.id=%s
            GROUP BY q.id) s1
        ) s3 WHERE NOT id IS NULL AND id  > 0 GROUP BY 1
DEBUG:root:escape_sql args: [u'q_brooklyncode', u'q_brooklyncode', 3L]
DEBUG:root: SELECT id, SUM(down) AS votesDown, SUM(up) AS votesUp FROM(
        SELECT ifnull(id,0) as id, 'parent' AS type, SUM(down) AS down, SUM(up) AS up  FROM (
            SELECT ifnull(q.id,0) as id,
                (SELECT SUM(down) FROM vote WHERE itemId = q.id AND refTable='q_brooklyncode' AND down > 0) AS down,
                (SELECT SUM(up) FROM vote WHERE itemId = q.id AND refTable='q_brooklyncode' AND up > 0) AS up
            FROM `q_brooklyncode` q
            WHERE q.id=3
            GROUP BY q.id) s1
        ) s3 WHERE NOT id IS NULL AND id  > 0 GROUP BY 1
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x101dbc910>
DEBUG:root:({u'id': 3L, u'votesDown': Decimal('1'), u'votesUp': None},)
DEBUG:root:MySqlApiQueryset create_one
DEBUG:root:MySqlApiQueryset create_one sql: 
                INSERT INTO `q_brooklyncode` 
                set id=%s,locationId=%s,relatedId=%s,parentId=%s,userId=%s,type=%s,name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s,createDate=%s 
                ON DUPLICATE KEY UPDATE
                name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s
                
DEBUG:root:execute
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:execute args: [3L, 0L, 0L, 0L, 1L, 10L, 'Do you?', '5e13bbb73127b9fc424e3728c6500f28', None, 1L, 1L, 0L, 1L, 1L, 0L, 0L, '', None, None, 'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 22, 35, 14), datetime.datetime(2013, 7, 28, 22, 35, 14), 'Do you?', '5e13bbb73127b9fc424e3728c6500f28', None, 1L, 1L, 0L, 1L, 1L, 0L, 0L, '', None, None, 'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 22, 35, 14)]
DEBUG:root:escape_sql sql: 
                INSERT INTO `q_brooklyncode` 
                set id=%s,locationId=%s,relatedId=%s,parentId=%s,userId=%s,type=%s,name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s,createDate=%s 
                ON DUPLICATE KEY UPDATE
                name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s
                
DEBUG:root:escape_sql args: [3L, 0L, 0L, 0L, 1L, 10L, 'Do you?', '5e13bbb73127b9fc424e3728c6500f28', None, 1L, 1L, 0L, 1L, 1L, 0L, 0L, '', None, None, 'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 22, 35, 14), datetime.datetime(2013, 7, 28, 22, 35, 14), 'Do you?', '5e13bbb73127b9fc424e3728c6500f28', None, 1L, 1L, 0L, 1L, 1L, 0L, 0L, '', None, None, 'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 22, 35, 14)]
DEBUG:root:
                INSERT INTO `q_brooklyncode` 
                set id=3,locationId=0,relatedId=0,parentId=0,userId=1,type=10,name='Do you?',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=1,voteNumber=1,votesUp=0,votesDown=1,flagCount=1,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge=NULL,referer='http://localhost:8081/?p=1',changeDate='2013-07-28 22:35:14',createDate='2013-07-28 22:35:14' 
                ON DUPLICATE KEY UPDATE
                name='Do you?',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=1,voteNumber=1,votesUp=0,votesDown=1,flagCount=1,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge=NULL,referer='http://localhost:8081/?p=1',changeDate='2013-07-28 22:35:14'
                
DEBUG:root:execute: 
                INSERT INTO `q_brooklyncode` 
                set id=3,locationId=0,relatedId=0,parentId=0,userId=1,type=10,name='Do you?',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=1,voteNumber=1,votesUp=0,votesDown=1,flagCount=1,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge=NULL,referer='http://localhost:8081/?p=1',changeDate='2013-07-28 22:35:14',createDate='2013-07-28 22:35:14' 
                ON DUPLICATE KEY UPDATE
                name='Do you?',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=1,voteNumber=1,votesUp=0,votesDown=1,flagCount=1,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge=NULL,referer='http://localhost:8081/?p=1',changeDate='2013-07-28 22:35:14'
                
DEBUG:root:MySqlApiQueryset create_one (status, affected_rows): (Updated, 2)
DEBUG:root:perform_vote adding to payload
DEBUG:root:voteCount: 1 
DEBUG:root:voteNumber: 1 
DEBUG:root:votesUp: 0 
DEBUG:root:votesDown: 1 
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:escape_sql sql: 
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:escape_sql args: []
DEBUG:root:
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x101dc8850>
DEBUG:root:Number of contributions 8
INFO:root:200 POST /q/feed (127.0.0.1)
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:set_table has q_short_name (12345)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x101dbcb10>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has q_short_name (12345)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x101db1ad0>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:feed.prepare, table: q_brooklyncode
DEBUG:root:FeedHandler post
DEBUG:root:Body -> 
 action=upVote&location=5e13bbb73127b9fc424e3728c6500f28&referer=http%3A%2F%2Flocalhost%3A8081%2F%3Fp%3D1&q_short_name=12345&QOOID=QOO51f460f57c582&QOOTID=QOOT51f460f57c593&relatedId=3
DEBUG:root:Arguments -> 
 {"QOOID": ["QOO51f460f57c582"], "QOOTID": ["QOOT51f460f57c593"], "q_short_name": ["12345"], "location": ["5e13bbb73127b9fc424e3728c6500f28"], "action": ["upVote"], "referer": ["http://localhost:8081/?p=1"], "relatedId": ["3"]}
DEBUG:root:to_unicode
DEBUG:root:upVote
DEBUG:root:upVote
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:upVote
DEBUG:root:upVote
DEBUG:root:to_unicode
DEBUG:root:action: upVote
DEBUG:root:perform_vote(1)
DEBUG:root:to_unicode
DEBUG:root:3
DEBUG:root:3
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:3
DEBUG:root:3
DEBUG:root:to_unicode
DEBUG:root:MySqlApiQueryset read_one
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:escape_sql sql: SELECT `id`,`locationId`,`relatedId`,`parentId`,`userId`,`type`,`name`,`location`,`description`,`voteCount`,`voteNumber`,`votesUp`,`votesDown`,`flagCount`,`childCount`,`sortOrder`,`status`,`thumbnailSmall`,`thumbnailLarge`,`referer`,`changeDate`,`createDate` FROM `q_brooklyncode` WHERE ID = %s
DEBUG:root:escape_sql args: [3]
DEBUG:root:SELECT `id`,`locationId`,`relatedId`,`parentId`,`userId`,`type`,`name`,`location`,`description`,`voteCount`,`voteNumber`,`votesUp`,`votesDown`,`flagCount`,`childCount`,`sortOrder`,`status`,`thumbnailSmall`,`thumbnailLarge`,`referer`,`changeDate`,`createDate` FROM `q_brooklyncode` WHERE ID = 3
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x101e5ebd0>
DEBUG:root:_vote(1, Comment object)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x101db1b50>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x101db1d50>
DEBUG:root:user_id, item.userId: 392, 1
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`refTable`,`itemId`,`userId`,`qootid`,`up`,`down`,`createDate` FROM `vote` WHERE `refTable` = %s and `itemId` = %s and `userId` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode', 3L, 392L]
DEBUG:root:
            SELECT `id`,`refTable`,`itemId`,`userId`,`qootid`,`up`,`down`,`createDate` FROM `vote` WHERE `refTable` = 'q_brooklyncode' and `itemId` = 3 and `userId` = 392
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x101db1ed0>
DEBUG:root:MySqlApiQueryset create_one
DEBUG:root:MySqlApiQueryset create_one sql: 
                INSERT INTO `vote` 
                set id=%s,refTable=%s,itemId=%s,userId=%s,qootid=%s,up=%s,down=%s,createDate=%s 
                ON DUPLICATE KEY UPDATE
                up=%s,down=%s
                
DEBUG:root:execute
DEBUG:root:execute args: [4L, u'q_brooklyncode', 3L, 392L, u'QOOT51f460f57c593', 1, 0, datetime.datetime(2013, 7, 28, 22, 54, 2), 1, 0]
DEBUG:root:escape_sql sql: 
                INSERT INTO `vote` 
                set id=%s,refTable=%s,itemId=%s,userId=%s,qootid=%s,up=%s,down=%s,createDate=%s 
                ON DUPLICATE KEY UPDATE
                up=%s,down=%s
                
DEBUG:root:escape_sql args: [4L, u'q_brooklyncode', 3L, 392L, u'QOOT51f460f57c593', 1, 0, datetime.datetime(2013, 7, 28, 22, 54, 2), 1, 0]
DEBUG:root:
                INSERT INTO `vote` 
                set id=4,refTable='q_brooklyncode',itemId=3,userId=392,qootid='QOOT51f460f57c593',up=1,down=0,createDate='2013-07-28 22:54:02' 
                ON DUPLICATE KEY UPDATE
                up=1,down=0
                
DEBUG:root:execute: 
                INSERT INTO `vote` 
                set id=4,refTable='q_brooklyncode',itemId=3,userId=392,qootid='QOOT51f460f57c593',up=1,down=0,createDate='2013-07-28 22:54:02' 
                ON DUPLICATE KEY UPDATE
                up=1,down=0
                
DEBUG:root:MySqlApiQueryset create_one (status, affected_rows): (Updated, 2)
DEBUG:root:update_vote_counts(Comment object)
DEBUG:root:query
DEBUG:root:escape_sql sql:  SELECT id, SUM(down) AS votesDown, SUM(up) AS votesUp FROM(
        SELECT ifnull(id,0) as id, 'parent' AS type, SUM(down) AS down, SUM(up) AS up  FROM (
            SELECT ifnull(q.id,0) as id,
                (SELECT SUM(down) FROM vote WHERE itemId = q.id AND refTable=%s AND down > 0) AS down,
                (SELECT SUM(up) FROM vote WHERE itemId = q.id AND refTable=%s AND up > 0) AS up
            FROM `q_brooklyncode` q
            WHERE q.id=%s
            GROUP BY q.id) s1
        ) s3 WHERE NOT id IS NULL AND id  > 0 GROUP BY 1
DEBUG:root:escape_sql args: [u'q_brooklyncode', u'q_brooklyncode', 3L]
DEBUG:root: SELECT id, SUM(down) AS votesDown, SUM(up) AS votesUp FROM(
        SELECT ifnull(id,0) as id, 'parent' AS type, SUM(down) AS down, SUM(up) AS up  FROM (
            SELECT ifnull(q.id,0) as id,
                (SELECT SUM(down) FROM vote WHERE itemId = q.id AND refTable='q_brooklyncode' AND down > 0) AS down,
                (SELECT SUM(up) FROM vote WHERE itemId = q.id AND refTable='q_brooklyncode' AND up > 0) AS up
            FROM `q_brooklyncode` q
            WHERE q.id=3
            GROUP BY q.id) s1
        ) s3 WHERE NOT id IS NULL AND id  > 0 GROUP BY 1
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x101dbc310>
DEBUG:root:({u'id': 3L, u'votesDown': None, u'votesUp': Decimal('1')},)
DEBUG:root:MySqlApiQueryset create_one
DEBUG:root:MySqlApiQueryset create_one sql: 
                INSERT INTO `q_brooklyncode` 
                set id=%s,locationId=%s,relatedId=%s,parentId=%s,userId=%s,type=%s,name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s,createDate=%s 
                ON DUPLICATE KEY UPDATE
                name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s
                
DEBUG:root:execute
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:execute args: [3L, 0L, 0L, 0L, 1L, 10L, 'Do you?', '5e13bbb73127b9fc424e3728c6500f28', None, 1L, 1L, 1L, 0L, 1L, 0L, 0L, '', None, None, 'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 22, 35, 14), datetime.datetime(2013, 7, 28, 22, 35, 14), 'Do you?', '5e13bbb73127b9fc424e3728c6500f28', None, 1L, 1L, 1L, 0L, 1L, 0L, 0L, '', None, None, 'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 22, 35, 14)]
DEBUG:root:escape_sql sql: 
                INSERT INTO `q_brooklyncode` 
                set id=%s,locationId=%s,relatedId=%s,parentId=%s,userId=%s,type=%s,name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s,createDate=%s 
                ON DUPLICATE KEY UPDATE
                name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s
                
DEBUG:root:escape_sql args: [3L, 0L, 0L, 0L, 1L, 10L, 'Do you?', '5e13bbb73127b9fc424e3728c6500f28', None, 1L, 1L, 1L, 0L, 1L, 0L, 0L, '', None, None, 'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 22, 35, 14), datetime.datetime(2013, 7, 28, 22, 35, 14), 'Do you?', '5e13bbb73127b9fc424e3728c6500f28', None, 1L, 1L, 1L, 0L, 1L, 0L, 0L, '', None, None, 'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 22, 35, 14)]
DEBUG:root:
                INSERT INTO `q_brooklyncode` 
                set id=3,locationId=0,relatedId=0,parentId=0,userId=1,type=10,name='Do you?',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=1,voteNumber=1,votesUp=1,votesDown=0,flagCount=1,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge=NULL,referer='http://localhost:8081/?p=1',changeDate='2013-07-28 22:35:14',createDate='2013-07-28 22:35:14' 
                ON DUPLICATE KEY UPDATE
                name='Do you?',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=1,voteNumber=1,votesUp=1,votesDown=0,flagCount=1,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge=NULL,referer='http://localhost:8081/?p=1',changeDate='2013-07-28 22:35:14'
                
DEBUG:root:execute: 
                INSERT INTO `q_brooklyncode` 
                set id=3,locationId=0,relatedId=0,parentId=0,userId=1,type=10,name='Do you?',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=1,voteNumber=1,votesUp=1,votesDown=0,flagCount=1,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge=NULL,referer='http://localhost:8081/?p=1',changeDate='2013-07-28 22:35:14',createDate='2013-07-28 22:35:14' 
                ON DUPLICATE KEY UPDATE
                name='Do you?',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=1,voteNumber=1,votesUp=1,votesDown=0,flagCount=1,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge=NULL,referer='http://localhost:8081/?p=1',changeDate='2013-07-28 22:35:14'
                
DEBUG:root:MySqlApiQueryset create_one (status, affected_rows): (Updated, 2)
DEBUG:root:perform_vote adding to payload
DEBUG:root:voteCount: 1 
DEBUG:root:voteNumber: 1 
DEBUG:root:votesUp: 1 
DEBUG:root:votesDown: 0 
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:escape_sql sql: 
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:escape_sql args: []
DEBUG:root:
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x101e5ee10>
DEBUG:root:Number of contributions 8
INFO:root:200 POST /q/feed (127.0.0.1)
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:set_table has q_short_name (12345)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x101dbc510>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has q_short_name (12345)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x101dbc710>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:feed.prepare, table: q_brooklyncode
DEBUG:root:FeedHandler post
DEBUG:root:Body -> 
 action=flag&location=5e13bbb73127b9fc424e3728c6500f28&referer=http%3A%2F%2Flocalhost%3A8081%2F%3Fp%3D1&q_short_name=12345&QOOID=QOO51f460f57c582&QOOTID=QOOT51f460f57c593&flagTypeId=1&itemId=3&relatedId=3
DEBUG:root:Arguments -> 
 {"itemId": ["3"], "QOOID": ["QOO51f460f57c582"], "QOOTID": ["QOOT51f460f57c593"], "q_short_name": ["12345"], "location": ["5e13bbb73127b9fc424e3728c6500f28"], "action": ["flag"], "referer": ["http://localhost:8081/?p=1"], "relatedId": ["3"], "flagTypeId": ["1"]}
DEBUG:root:to_unicode
DEBUG:root:flag
DEBUG:root:flag
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:flag
DEBUG:root:flag
DEBUG:root:to_unicode
DEBUG:root:action: flag
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x101dbc910>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x101dbcb10>
DEBUG:root:perform_flag
DEBUG:root:to_unicode
DEBUG:root:3
DEBUG:root:3
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:3
DEBUG:root:3
DEBUG:root:to_unicode
DEBUG:root:MySqlApiQueryset read_one
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:escape_sql sql: SELECT `id`,`locationId`,`relatedId`,`parentId`,`userId`,`type`,`name`,`location`,`description`,`voteCount`,`voteNumber`,`votesUp`,`votesDown`,`flagCount`,`childCount`,`sortOrder`,`status`,`thumbnailSmall`,`thumbnailLarge`,`referer`,`changeDate`,`createDate` FROM `q_brooklyncode` WHERE ID = %s
DEBUG:root:escape_sql args: [3]
DEBUG:root:SELECT `id`,`locationId`,`relatedId`,`parentId`,`userId`,`type`,`name`,`location`,`description`,`voteCount`,`voteNumber`,`votesUp`,`votesDown`,`flagCount`,`childCount`,`sortOrder`,`status`,`thumbnailSmall`,`thumbnailLarge`,`referer`,`changeDate`,`createDate` FROM `q_brooklyncode` WHERE ID = 3
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x101dc1850>
DEBUG:root:_flag(Comment object)
DEBUG:root:to_unicode
DEBUG:root:1
DEBUG:root:1
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:1
DEBUG:root:1
DEBUG:root:to_unicode
DEBUG:root:MySqlApiQueryset read_one
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:escape_sql sql: SELECT `id`,`createDate`,`name`,`description` FROM `flag_type` WHERE ID = %s
DEBUG:root:escape_sql args: [1]
DEBUG:root:SELECT `id`,`createDate`,`name`,`description` FROM `flag_type` WHERE ID = 1
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x101db1ad0>
DEBUG:root:flag_type found: 1
DEBUG:root:flag_type is authorized: 1
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`refTable`,`itemId`,`userId`,`flagTypeId`,`createDate` FROM `flag` WHERE `refTable` = %s and `itemId` = %s and `userId` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode', 3L, 392L]
DEBUG:root:
            SELECT `id`,`refTable`,`itemId`,`userId`,`flagTypeId`,`createDate` FROM `flag` WHERE `refTable` = 'q_brooklyncode' and `itemId` = 3 and `userId` = 392
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x101db1b50>
DEBUG:root:MySqlApiQueryset create_one
DEBUG:root:MySqlApiQueryset create_one sql: 
                INSERT INTO `flag` 
                set id=%s,refTable=%s,itemId=%s,userId=%s,flagTypeId=%s,createDate=%s 
                ON DUPLICATE KEY UPDATE
                flagTypeId=%s
                
DEBUG:root:execute
DEBUG:root:execute args: [2L, u'q_brooklyncode', 3L, 392L, 1L, datetime.datetime(2013, 7, 28, 22, 50, 4), 1L]
DEBUG:root:escape_sql sql: 
                INSERT INTO `flag` 
                set id=%s,refTable=%s,itemId=%s,userId=%s,flagTypeId=%s,createDate=%s 
                ON DUPLICATE KEY UPDATE
                flagTypeId=%s
                
DEBUG:root:escape_sql args: [2L, u'q_brooklyncode', 3L, 392L, 1L, datetime.datetime(2013, 7, 28, 22, 50, 4), 1L]
DEBUG:root:
                INSERT INTO `flag` 
                set id=2,refTable='q_brooklyncode',itemId=3,userId=392,flagTypeId=1,createDate='2013-07-28 22:50:04' 
                ON DUPLICATE KEY UPDATE
                flagTypeId=1
                
DEBUG:root:execute: 
                INSERT INTO `flag` 
                set id=2,refTable='q_brooklyncode',itemId=3,userId=392,flagTypeId=1,createDate='2013-07-28 22:50:04' 
                ON DUPLICATE KEY UPDATE
                flagTypeId=1
                
DEBUG:root:MySqlApiQueryset create_one (status, affected_rows): (Updated, 2)
DEBUG:root:update_flag_count(Comment object)
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT count(*) as `flagCount`
            FROM `flag` `f`
            WHERE `f`.`refTable`= %s and `itemId`=%s
            
DEBUG:root:escape_sql args: [u'q_brooklyncode', 3L]
DEBUG:root:
            SELECT count(*) as `flagCount`
            FROM `flag` `f`
            WHERE `f`.`refTable`= 'q_brooklyncode' and `itemId`=3
            
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x101db1ed0>
DEBUG:root:1
DEBUG:root:MySqlApiQueryset create_one
DEBUG:root:MySqlApiQueryset create_one sql: 
                INSERT INTO `q_brooklyncode` 
                set id=%s,locationId=%s,relatedId=%s,parentId=%s,userId=%s,type=%s,name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s,createDate=%s 
                ON DUPLICATE KEY UPDATE
                name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s
                
DEBUG:root:execute
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:execute args: [3L, 0L, 0L, 0L, 1L, 10L, 'Do you?', '5e13bbb73127b9fc424e3728c6500f28', None, 1L, 1L, 1L, 0L, 1L, 0L, 0L, '', None, None, 'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 22, 35, 14), datetime.datetime(2013, 7, 28, 22, 35, 14), 'Do you?', '5e13bbb73127b9fc424e3728c6500f28', None, 1L, 1L, 1L, 0L, 1L, 0L, 0L, '', None, None, 'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 22, 35, 14)]
DEBUG:root:escape_sql sql: 
                INSERT INTO `q_brooklyncode` 
                set id=%s,locationId=%s,relatedId=%s,parentId=%s,userId=%s,type=%s,name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s,createDate=%s 
                ON DUPLICATE KEY UPDATE
                name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s
                
DEBUG:root:escape_sql args: [3L, 0L, 0L, 0L, 1L, 10L, 'Do you?', '5e13bbb73127b9fc424e3728c6500f28', None, 1L, 1L, 1L, 0L, 1L, 0L, 0L, '', None, None, 'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 22, 35, 14), datetime.datetime(2013, 7, 28, 22, 35, 14), 'Do you?', '5e13bbb73127b9fc424e3728c6500f28', None, 1L, 1L, 1L, 0L, 1L, 0L, 0L, '', None, None, 'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 22, 35, 14)]
DEBUG:root:
                INSERT INTO `q_brooklyncode` 
                set id=3,locationId=0,relatedId=0,parentId=0,userId=1,type=10,name='Do you?',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=1,voteNumber=1,votesUp=1,votesDown=0,flagCount=1,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge=NULL,referer='http://localhost:8081/?p=1',changeDate='2013-07-28 22:35:14',createDate='2013-07-28 22:35:14' 
                ON DUPLICATE KEY UPDATE
                name='Do you?',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=1,voteNumber=1,votesUp=1,votesDown=0,flagCount=1,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge=NULL,referer='http://localhost:8081/?p=1',changeDate='2013-07-28 22:35:14'
                
DEBUG:root:execute: 
                INSERT INTO `q_brooklyncode` 
                set id=3,locationId=0,relatedId=0,parentId=0,userId=1,type=10,name='Do you?',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=1,voteNumber=1,votesUp=1,votesDown=0,flagCount=1,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge=NULL,referer='http://localhost:8081/?p=1',changeDate='2013-07-28 22:35:14',createDate='2013-07-28 22:35:14' 
                ON DUPLICATE KEY UPDATE
                name='Do you?',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=1,voteNumber=1,votesUp=1,votesDown=0,flagCount=1,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge=NULL,referer='http://localhost:8081/?p=1',changeDate='2013-07-28 22:35:14'
                
DEBUG:root:item_exists
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:escape_sql sql: SELECT count(*) FROM `q_brooklyncode`  WHERE id = %s
DEBUG:root:escape_sql args: [3L]
DEBUG:root:SELECT count(*) FROM `q_brooklyncode`  WHERE id = 3
DEBUG:root:MySqlApiQueryset create_one (status, affected_rows): (NO CHANGES, 0)
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:escape_sql sql: SELECT * FROM `flag` WHERE refTable = %s and itemId = %s and userId = %s
DEBUG:root:escape_sql args: [u'q_brooklyncode', 3L, 392L]
DEBUG:root:SELECT * FROM `flag` WHERE refTable = 'q_brooklyncode' and itemId = 3 and userId = 392
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x101dbc110>
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:escape_sql sql: SELECT refTable FROM `flag` WHERE id = %s
DEBUG:root:escape_sql args: [2L]
DEBUG:root:SELECT refTable FROM `flag` WHERE id = 2
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x101dbc310>
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `f`.*, `i`.name, `i`.`referer`, `ui`.`username`, `ui`.`email`,
            `uq`.`username` as `adminUsername`, `uq`.`email` as `adminEmail`,
            `ft`.`name` as `flagType`
            FROM `flag` `f`
            LEFT JOIN `q_brooklyncode` `i` on `i`.`id`=`f`.`id`
            LEFT JOIN `qoorates` `q` on `q`.`refTable`=`f`.`refTable`
            LEFT JOIN `user` `uq` on `uq`.`id`=`q`.`userId`
            LEFT JOIN `user` `ui` on `ui`.`id`=`i`.`userId`
            LEFT JOIN `flag_type` `ft` on `ft`.`id`=`f`.`flagTypeId`
            WHERE `f`.`id`= %s
            
DEBUG:root:escape_sql args: [2L]
DEBUG:root:
            SELECT `f`.*, `i`.name, `i`.`referer`, `ui`.`username`, `ui`.`email`,
            `uq`.`username` as `adminUsername`, `uq`.`email` as `adminEmail`,
            `ft`.`name` as `flagType`
            FROM `flag` `f`
            LEFT JOIN `q_brooklyncode` `i` on `i`.`id`=`f`.`id`
            LEFT JOIN `qoorates` `q` on `q`.`refTable`=`f`.`refTable`
            LEFT JOIN `user` `uq` on `uq`.`id`=`q`.`userId`
            LEFT JOIN `user` `ui` on `ui`.`id`=`i`.`userId`
            LEFT JOIN `flag_type` `ft` on `ft`.`id`=`f`.`flagTypeId`
            WHERE `f`.`id`= 2
            
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x101dbc510>
DEBUG:root:to_unicode
DEBUG:root:http://localhost:8081/?p=1
DEBUG:root:http://localhost:8081/?p=1
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:http://localhost:8081/?p=1
DEBUG:root:http://localhost:8081/?p=1
DEBUG:root:to_unicode
DEBUG:root:perform_flag adding to payload
DEBUG:root:flagCount: 1 
DEBUG:root:message:  
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:escape_sql sql: 
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:escape_sql args: []
DEBUG:root:
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x101e59050>
DEBUG:root:Number of contributions 8
INFO:root:200 POST /q/feed (127.0.0.1)
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:set_table has q_short_name (12345)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x101dbc710>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has q_short_name (12345)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x101dbc910>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:feed.prepare, table: q_brooklyncode
DEBUG:root:FeedHandler post
DEBUG:root:Body -> 
 action=flag&location=5e13bbb73127b9fc424e3728c6500f28&referer=http%3A%2F%2Flocalhost%3A8081%2F%3Fp%3D1&q_short_name=12345&QOOID=QOO51f460f57c582&QOOTID=QOOT51f460f57c593&flagTypeId=2&itemId=3&relatedId=3
DEBUG:root:Arguments -> 
 {"itemId": ["3"], "QOOID": ["QOO51f460f57c582"], "QOOTID": ["QOOT51f460f57c593"], "q_short_name": ["12345"], "location": ["5e13bbb73127b9fc424e3728c6500f28"], "action": ["flag"], "referer": ["http://localhost:8081/?p=1"], "relatedId": ["3"], "flagTypeId": ["2"]}
DEBUG:root:to_unicode
DEBUG:root:flag
DEBUG:root:flag
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:flag
DEBUG:root:flag
DEBUG:root:to_unicode
DEBUG:root:action: flag
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x101dbcb10>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x101db1ad0>
DEBUG:root:perform_flag
DEBUG:root:to_unicode
DEBUG:root:3
DEBUG:root:3
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:3
DEBUG:root:3
DEBUG:root:to_unicode
DEBUG:root:MySqlApiQueryset read_one
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:escape_sql sql: SELECT `id`,`locationId`,`relatedId`,`parentId`,`userId`,`type`,`name`,`location`,`description`,`voteCount`,`voteNumber`,`votesUp`,`votesDown`,`flagCount`,`childCount`,`sortOrder`,`status`,`thumbnailSmall`,`thumbnailLarge`,`referer`,`changeDate`,`createDate` FROM `q_brooklyncode` WHERE ID = %s
DEBUG:root:escape_sql args: [3]
DEBUG:root:SELECT `id`,`locationId`,`relatedId`,`parentId`,`userId`,`type`,`name`,`location`,`description`,`voteCount`,`voteNumber`,`votesUp`,`votesDown`,`flagCount`,`childCount`,`sortOrder`,`status`,`thumbnailSmall`,`thumbnailLarge`,`referer`,`changeDate`,`createDate` FROM `q_brooklyncode` WHERE ID = 3
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x101dc1b10>
DEBUG:root:_flag(Comment object)
DEBUG:root:to_unicode
DEBUG:root:2
DEBUG:root:2
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:2
DEBUG:root:2
DEBUG:root:to_unicode
DEBUG:root:MySqlApiQueryset read_one
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:escape_sql sql: SELECT `id`,`createDate`,`name`,`description` FROM `flag_type` WHERE ID = %s
DEBUG:root:escape_sql args: [2]
DEBUG:root:SELECT `id`,`createDate`,`name`,`description` FROM `flag_type` WHERE ID = 2
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x101db1b50>
DEBUG:root:flag_type found: 2
DEBUG:root:flag_type is authorized: 2
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`refTable`,`itemId`,`userId`,`flagTypeId`,`createDate` FROM `flag` WHERE `refTable` = %s and `itemId` = %s and `userId` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode', 3L, 392L]
DEBUG:root:
            SELECT `id`,`refTable`,`itemId`,`userId`,`flagTypeId`,`createDate` FROM `flag` WHERE `refTable` = 'q_brooklyncode' and `itemId` = 3 and `userId` = 392
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x101db1d50>
DEBUG:root:MySqlApiQueryset create_one
DEBUG:root:MySqlApiQueryset create_one sql: 
                INSERT INTO `flag` 
                set id=%s,refTable=%s,itemId=%s,userId=%s,flagTypeId=%s,createDate=%s 
                ON DUPLICATE KEY UPDATE
                flagTypeId=%s
                
DEBUG:root:execute
DEBUG:root:execute args: [2L, u'q_brooklyncode', 3L, 392L, 2L, datetime.datetime(2013, 7, 28, 22, 50, 4), 2L]
DEBUG:root:escape_sql sql: 
                INSERT INTO `flag` 
                set id=%s,refTable=%s,itemId=%s,userId=%s,flagTypeId=%s,createDate=%s 
                ON DUPLICATE KEY UPDATE
                flagTypeId=%s
                
DEBUG:root:escape_sql args: [2L, u'q_brooklyncode', 3L, 392L, 2L, datetime.datetime(2013, 7, 28, 22, 50, 4), 2L]
DEBUG:root:
                INSERT INTO `flag` 
                set id=2,refTable='q_brooklyncode',itemId=3,userId=392,flagTypeId=2,createDate='2013-07-28 22:50:04' 
                ON DUPLICATE KEY UPDATE
                flagTypeId=2
                
DEBUG:root:execute: 
                INSERT INTO `flag` 
                set id=2,refTable='q_brooklyncode',itemId=3,userId=392,flagTypeId=2,createDate='2013-07-28 22:50:04' 
                ON DUPLICATE KEY UPDATE
                flagTypeId=2
                
DEBUG:root:MySqlApiQueryset create_one (status, affected_rows): (Updated, 2)
DEBUG:root:update_flag_count(Comment object)
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT count(*) as `flagCount`
            FROM `flag` `f`
            WHERE `f`.`refTable`= %s and `itemId`=%s
            
DEBUG:root:escape_sql args: [u'q_brooklyncode', 3L]
DEBUG:root:
            SELECT count(*) as `flagCount`
            FROM `flag` `f`
            WHERE `f`.`refTable`= 'q_brooklyncode' and `itemId`=3
            
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x101dbc110>
DEBUG:root:1
DEBUG:root:MySqlApiQueryset create_one
DEBUG:root:MySqlApiQueryset create_one sql: 
                INSERT INTO `q_brooklyncode` 
                set id=%s,locationId=%s,relatedId=%s,parentId=%s,userId=%s,type=%s,name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s,createDate=%s 
                ON DUPLICATE KEY UPDATE
                name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s
                
DEBUG:root:execute
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:execute args: [3L, 0L, 0L, 0L, 1L, 10L, 'Do you?', '5e13bbb73127b9fc424e3728c6500f28', None, 1L, 1L, 1L, 0L, 1L, 0L, 0L, '', None, None, 'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 22, 35, 14), datetime.datetime(2013, 7, 28, 22, 35, 14), 'Do you?', '5e13bbb73127b9fc424e3728c6500f28', None, 1L, 1L, 1L, 0L, 1L, 0L, 0L, '', None, None, 'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 22, 35, 14)]
DEBUG:root:escape_sql sql: 
                INSERT INTO `q_brooklyncode` 
                set id=%s,locationId=%s,relatedId=%s,parentId=%s,userId=%s,type=%s,name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s,createDate=%s 
                ON DUPLICATE KEY UPDATE
                name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s
                
DEBUG:root:escape_sql args: [3L, 0L, 0L, 0L, 1L, 10L, 'Do you?', '5e13bbb73127b9fc424e3728c6500f28', None, 1L, 1L, 1L, 0L, 1L, 0L, 0L, '', None, None, 'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 22, 35, 14), datetime.datetime(2013, 7, 28, 22, 35, 14), 'Do you?', '5e13bbb73127b9fc424e3728c6500f28', None, 1L, 1L, 1L, 0L, 1L, 0L, 0L, '', None, None, 'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 22, 35, 14)]
DEBUG:root:
                INSERT INTO `q_brooklyncode` 
                set id=3,locationId=0,relatedId=0,parentId=0,userId=1,type=10,name='Do you?',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=1,voteNumber=1,votesUp=1,votesDown=0,flagCount=1,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge=NULL,referer='http://localhost:8081/?p=1',changeDate='2013-07-28 22:35:14',createDate='2013-07-28 22:35:14' 
                ON DUPLICATE KEY UPDATE
                name='Do you?',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=1,voteNumber=1,votesUp=1,votesDown=0,flagCount=1,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge=NULL,referer='http://localhost:8081/?p=1',changeDate='2013-07-28 22:35:14'
                
DEBUG:root:execute: 
                INSERT INTO `q_brooklyncode` 
                set id=3,locationId=0,relatedId=0,parentId=0,userId=1,type=10,name='Do you?',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=1,voteNumber=1,votesUp=1,votesDown=0,flagCount=1,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge=NULL,referer='http://localhost:8081/?p=1',changeDate='2013-07-28 22:35:14',createDate='2013-07-28 22:35:14' 
                ON DUPLICATE KEY UPDATE
                name='Do you?',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=1,voteNumber=1,votesUp=1,votesDown=0,flagCount=1,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge=NULL,referer='http://localhost:8081/?p=1',changeDate='2013-07-28 22:35:14'
                
DEBUG:root:item_exists
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:escape_sql sql: SELECT count(*) FROM `q_brooklyncode`  WHERE id = %s
DEBUG:root:escape_sql args: [3L]
DEBUG:root:SELECT count(*) FROM `q_brooklyncode`  WHERE id = 3
DEBUG:root:MySqlApiQueryset create_one (status, affected_rows): (NO CHANGES, 0)
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:escape_sql sql: SELECT * FROM `flag` WHERE refTable = %s and itemId = %s and userId = %s
DEBUG:root:escape_sql args: [u'q_brooklyncode', 3L, 392L]
DEBUG:root:SELECT * FROM `flag` WHERE refTable = 'q_brooklyncode' and itemId = 3 and userId = 392
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x101dbc310>
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:escape_sql sql: SELECT refTable FROM `flag` WHERE id = %s
DEBUG:root:escape_sql args: [2L]
DEBUG:root:SELECT refTable FROM `flag` WHERE id = 2
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x101dbc510>
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `f`.*, `i`.name, `i`.`referer`, `ui`.`username`, `ui`.`email`,
            `uq`.`username` as `adminUsername`, `uq`.`email` as `adminEmail`,
            `ft`.`name` as `flagType`
            FROM `flag` `f`
            LEFT JOIN `q_brooklyncode` `i` on `i`.`id`=`f`.`id`
            LEFT JOIN `qoorates` `q` on `q`.`refTable`=`f`.`refTable`
            LEFT JOIN `user` `uq` on `uq`.`id`=`q`.`userId`
            LEFT JOIN `user` `ui` on `ui`.`id`=`i`.`userId`
            LEFT JOIN `flag_type` `ft` on `ft`.`id`=`f`.`flagTypeId`
            WHERE `f`.`id`= %s
            
DEBUG:root:escape_sql args: [2L]
DEBUG:root:
            SELECT `f`.*, `i`.name, `i`.`referer`, `ui`.`username`, `ui`.`email`,
            `uq`.`username` as `adminUsername`, `uq`.`email` as `adminEmail`,
            `ft`.`name` as `flagType`
            FROM `flag` `f`
            LEFT JOIN `q_brooklyncode` `i` on `i`.`id`=`f`.`id`
            LEFT JOIN `qoorates` `q` on `q`.`refTable`=`f`.`refTable`
            LEFT JOIN `user` `uq` on `uq`.`id`=`q`.`userId`
            LEFT JOIN `user` `ui` on `ui`.`id`=`i`.`userId`
            LEFT JOIN `flag_type` `ft` on `ft`.`id`=`f`.`flagTypeId`
            WHERE `f`.`id`= 2
            
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x101dbc710>
DEBUG:root:to_unicode
DEBUG:root:http://localhost:8081/?p=1
DEBUG:root:http://localhost:8081/?p=1
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:http://localhost:8081/?p=1
DEBUG:root:http://localhost:8081/?p=1
DEBUG:root:to_unicode
DEBUG:root:perform_flag adding to payload
DEBUG:root:flagCount: 1 
DEBUG:root:message:  
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:escape_sql sql: 
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:escape_sql args: []
DEBUG:root:
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x101e5ea50>
DEBUG:root:Number of contributions 8
INFO:root:200 POST /q/feed (127.0.0.1)
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:set_table has q_short_name (12345)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x101dbc910>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has q_short_name (12345)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x101dbcb10>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:feed.prepare, table: q_brooklyncode
DEBUG:root:FeedHandler post
DEBUG:root:Body -> 
 action=flag&location=5e13bbb73127b9fc424e3728c6500f28&referer=http%3A%2F%2Flocalhost%3A8081%2F%3Fp%3D1&q_short_name=12345&QOOID=QOO51f460f57c582&QOOTID=QOOT51f460f57c593&flagTypeId=3&itemId=3&relatedId=3
DEBUG:root:Arguments -> 
 {"itemId": ["3"], "QOOID": ["QOO51f460f57c582"], "QOOTID": ["QOOT51f460f57c593"], "q_short_name": ["12345"], "location": ["5e13bbb73127b9fc424e3728c6500f28"], "action": ["flag"], "referer": ["http://localhost:8081/?p=1"], "relatedId": ["3"], "flagTypeId": ["3"]}
DEBUG:root:to_unicode
DEBUG:root:flag
DEBUG:root:flag
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:flag
DEBUG:root:flag
DEBUG:root:to_unicode
DEBUG:root:action: flag
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x101db1ad0>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x101db1b50>
DEBUG:root:perform_flag
DEBUG:root:to_unicode
DEBUG:root:3
DEBUG:root:3
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:3
DEBUG:root:3
DEBUG:root:to_unicode
DEBUG:root:MySqlApiQueryset read_one
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:escape_sql sql: SELECT `id`,`locationId`,`relatedId`,`parentId`,`userId`,`type`,`name`,`location`,`description`,`voteCount`,`voteNumber`,`votesUp`,`votesDown`,`flagCount`,`childCount`,`sortOrder`,`status`,`thumbnailSmall`,`thumbnailLarge`,`referer`,`changeDate`,`createDate` FROM `q_brooklyncode` WHERE ID = %s
DEBUG:root:escape_sql args: [3]
DEBUG:root:SELECT `id`,`locationId`,`relatedId`,`parentId`,`userId`,`type`,`name`,`location`,`description`,`voteCount`,`voteNumber`,`votesUp`,`votesDown`,`flagCount`,`childCount`,`sortOrder`,`status`,`thumbnailSmall`,`thumbnailLarge`,`referer`,`changeDate`,`createDate` FROM `q_brooklyncode` WHERE ID = 3
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x101e52610>
DEBUG:root:_flag(Comment object)
DEBUG:root:to_unicode
DEBUG:root:3
DEBUG:root:3
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:3
DEBUG:root:3
DEBUG:root:to_unicode
DEBUG:root:MySqlApiQueryset read_one
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:escape_sql sql: SELECT `id`,`createDate`,`name`,`description` FROM `flag_type` WHERE ID = %s
DEBUG:root:escape_sql args: [3]
DEBUG:root:SELECT `id`,`createDate`,`name`,`description` FROM `flag_type` WHERE ID = 3
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x101db1d50>
DEBUG:root:flag_type found: 3
DEBUG:root:flag_type is authorized: 3
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`refTable`,`itemId`,`userId`,`flagTypeId`,`createDate` FROM `flag` WHERE `refTable` = %s and `itemId` = %s and `userId` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode', 3L, 392L]
DEBUG:root:
            SELECT `id`,`refTable`,`itemId`,`userId`,`flagTypeId`,`createDate` FROM `flag` WHERE `refTable` = 'q_brooklyncode' and `itemId` = 3 and `userId` = 392
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x101db1ed0>
DEBUG:root:MySqlApiQueryset create_one
DEBUG:root:MySqlApiQueryset create_one sql: 
                INSERT INTO `flag` 
                set id=%s,refTable=%s,itemId=%s,userId=%s,flagTypeId=%s,createDate=%s 
                ON DUPLICATE KEY UPDATE
                flagTypeId=%s
                
DEBUG:root:execute
DEBUG:root:execute args: [2L, u'q_brooklyncode', 3L, 392L, 3L, datetime.datetime(2013, 7, 28, 22, 50, 4), 3L]
DEBUG:root:escape_sql sql: 
                INSERT INTO `flag` 
                set id=%s,refTable=%s,itemId=%s,userId=%s,flagTypeId=%s,createDate=%s 
                ON DUPLICATE KEY UPDATE
                flagTypeId=%s
                
DEBUG:root:escape_sql args: [2L, u'q_brooklyncode', 3L, 392L, 3L, datetime.datetime(2013, 7, 28, 22, 50, 4), 3L]
DEBUG:root:
                INSERT INTO `flag` 
                set id=2,refTable='q_brooklyncode',itemId=3,userId=392,flagTypeId=3,createDate='2013-07-28 22:50:04' 
                ON DUPLICATE KEY UPDATE
                flagTypeId=3
                
DEBUG:root:execute: 
                INSERT INTO `flag` 
                set id=2,refTable='q_brooklyncode',itemId=3,userId=392,flagTypeId=3,createDate='2013-07-28 22:50:04' 
                ON DUPLICATE KEY UPDATE
                flagTypeId=3
                
DEBUG:root:MySqlApiQueryset create_one (status, affected_rows): (Updated, 2)
DEBUG:root:update_flag_count(Comment object)
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT count(*) as `flagCount`
            FROM `flag` `f`
            WHERE `f`.`refTable`= %s and `itemId`=%s
            
DEBUG:root:escape_sql args: [u'q_brooklyncode', 3L]
DEBUG:root:
            SELECT count(*) as `flagCount`
            FROM `flag` `f`
            WHERE `f`.`refTable`= 'q_brooklyncode' and `itemId`=3
            
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x101dbc310>
DEBUG:root:1
DEBUG:root:MySqlApiQueryset create_one
DEBUG:root:MySqlApiQueryset create_one sql: 
                INSERT INTO `q_brooklyncode` 
                set id=%s,locationId=%s,relatedId=%s,parentId=%s,userId=%s,type=%s,name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s,createDate=%s 
                ON DUPLICATE KEY UPDATE
                name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s
                
DEBUG:root:execute
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:execute args: [3L, 0L, 0L, 0L, 1L, 10L, 'Do you?', '5e13bbb73127b9fc424e3728c6500f28', None, 1L, 1L, 1L, 0L, 1L, 0L, 0L, '', None, None, 'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 22, 35, 14), datetime.datetime(2013, 7, 28, 22, 35, 14), 'Do you?', '5e13bbb73127b9fc424e3728c6500f28', None, 1L, 1L, 1L, 0L, 1L, 0L, 0L, '', None, None, 'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 22, 35, 14)]
DEBUG:root:escape_sql sql: 
                INSERT INTO `q_brooklyncode` 
                set id=%s,locationId=%s,relatedId=%s,parentId=%s,userId=%s,type=%s,name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s,createDate=%s 
                ON DUPLICATE KEY UPDATE
                name=%s,location=%s,description=%s,voteCount=%s,voteNumber=%s,votesUp=%s,votesDown=%s,flagCount=%s,childCount=%s,sortOrder=%s,status=%s,thumbnailSmall=%s,thumbnailLarge=%s,referer=%s,changeDate=%s
                
DEBUG:root:escape_sql args: [3L, 0L, 0L, 0L, 1L, 10L, 'Do you?', '5e13bbb73127b9fc424e3728c6500f28', None, 1L, 1L, 1L, 0L, 1L, 0L, 0L, '', None, None, 'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 22, 35, 14), datetime.datetime(2013, 7, 28, 22, 35, 14), 'Do you?', '5e13bbb73127b9fc424e3728c6500f28', None, 1L, 1L, 1L, 0L, 1L, 0L, 0L, '', None, None, 'http://localhost:8081/?p=1', datetime.datetime(2013, 7, 28, 22, 35, 14)]
DEBUG:root:
                INSERT INTO `q_brooklyncode` 
                set id=3,locationId=0,relatedId=0,parentId=0,userId=1,type=10,name='Do you?',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=1,voteNumber=1,votesUp=1,votesDown=0,flagCount=1,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge=NULL,referer='http://localhost:8081/?p=1',changeDate='2013-07-28 22:35:14',createDate='2013-07-28 22:35:14' 
                ON DUPLICATE KEY UPDATE
                name='Do you?',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=1,voteNumber=1,votesUp=1,votesDown=0,flagCount=1,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge=NULL,referer='http://localhost:8081/?p=1',changeDate='2013-07-28 22:35:14'
                
DEBUG:root:execute: 
                INSERT INTO `q_brooklyncode` 
                set id=3,locationId=0,relatedId=0,parentId=0,userId=1,type=10,name='Do you?',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=1,voteNumber=1,votesUp=1,votesDown=0,flagCount=1,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge=NULL,referer='http://localhost:8081/?p=1',changeDate='2013-07-28 22:35:14',createDate='2013-07-28 22:35:14' 
                ON DUPLICATE KEY UPDATE
                name='Do you?',location='5e13bbb73127b9fc424e3728c6500f28',description=NULL,voteCount=1,voteNumber=1,votesUp=1,votesDown=0,flagCount=1,childCount=0,sortOrder=0,status='',thumbnailSmall=NULL,thumbnailLarge=NULL,referer='http://localhost:8081/?p=1',changeDate='2013-07-28 22:35:14'
                
DEBUG:root:item_exists
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:escape_sql sql: SELECT count(*) FROM `q_brooklyncode`  WHERE id = %s
DEBUG:root:escape_sql args: [3L]
DEBUG:root:SELECT count(*) FROM `q_brooklyncode`  WHERE id = 3
DEBUG:root:MySqlApiQueryset create_one (status, affected_rows): (NO CHANGES, 0)
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:escape_sql sql: SELECT * FROM `flag` WHERE refTable = %s and itemId = %s and userId = %s
DEBUG:root:escape_sql args: [u'q_brooklyncode', 3L, 392L]
DEBUG:root:SELECT * FROM `flag` WHERE refTable = 'q_brooklyncode' and itemId = 3 and userId = 392
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x101dbc510>
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:escape_sql sql: SELECT refTable FROM `flag` WHERE id = %s
DEBUG:root:escape_sql args: [2L]
DEBUG:root:SELECT refTable FROM `flag` WHERE id = 2
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x101dbc710>
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `f`.*, `i`.name, `i`.`referer`, `ui`.`username`, `ui`.`email`,
            `uq`.`username` as `adminUsername`, `uq`.`email` as `adminEmail`,
            `ft`.`name` as `flagType`
            FROM `flag` `f`
            LEFT JOIN `q_brooklyncode` `i` on `i`.`id`=`f`.`id`
            LEFT JOIN `qoorates` `q` on `q`.`refTable`=`f`.`refTable`
            LEFT JOIN `user` `uq` on `uq`.`id`=`q`.`userId`
            LEFT JOIN `user` `ui` on `ui`.`id`=`i`.`userId`
            LEFT JOIN `flag_type` `ft` on `ft`.`id`=`f`.`flagTypeId`
            WHERE `f`.`id`= %s
            
DEBUG:root:escape_sql args: [2L]
DEBUG:root:
            SELECT `f`.*, `i`.name, `i`.`referer`, `ui`.`username`, `ui`.`email`,
            `uq`.`username` as `adminUsername`, `uq`.`email` as `adminEmail`,
            `ft`.`name` as `flagType`
            FROM `flag` `f`
            LEFT JOIN `q_brooklyncode` `i` on `i`.`id`=`f`.`id`
            LEFT JOIN `qoorates` `q` on `q`.`refTable`=`f`.`refTable`
            LEFT JOIN `user` `uq` on `uq`.`id`=`q`.`userId`
            LEFT JOIN `user` `ui` on `ui`.`id`=`i`.`userId`
            LEFT JOIN `flag_type` `ft` on `ft`.`id`=`f`.`flagTypeId`
            WHERE `f`.`id`= 2
            
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x101dbc910>
DEBUG:root:to_unicode
DEBUG:root:http://localhost:8081/?p=1
DEBUG:root:http://localhost:8081/?p=1
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:http://localhost:8081/?p=1
DEBUG:root:http://localhost:8081/?p=1
DEBUG:root:to_unicode
DEBUG:root:perform_flag adding to payload
DEBUG:root:flagCount: 1 
DEBUG:root:message:  
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:escape_sql sql: 
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:escape_sql args: []
DEBUG:root:
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x101e64990>
DEBUG:root:Number of contributions 8
INFO:root:200 POST /q/feed (127.0.0.1)
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:set_table has q_short_name (12345)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x101dbcb10>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has q_short_name (12345)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x101db1ad0>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:feed.prepare, table: q_brooklyncode
DEBUG:root:FeedHandler post
DEBUG:root:Body -> 
 replyComment=test&post_to=&action=shareItem&location=5e13bbb73127b9fc424e3728c6500f28&referer=http%3A%2F%2Flocalhost%3A8081%2F%3Fp%3D1&q_short_name=12345&QOOID=QOO51f460f57c582&QOOTID=QOOT51f460f57c593&itemId=3&relatedId=3
DEBUG:root:Arguments -> 
 {"itemId": ["3"], "QOOID": ["QOO51f460f57c582"], "QOOTID": ["QOOT51f460f57c593"], "q_short_name": ["12345"], "location": ["5e13bbb73127b9fc424e3728c6500f28"], "replyComment": ["test"], "action": ["shareItem"], "referer": ["http://localhost:8081/?p=1"], "relatedId": ["3"]}
DEBUG:root:to_unicode
DEBUG:root:shareItem
DEBUG:root:shareItem
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:shareItem
DEBUG:root:shareItem
DEBUG:root:to_unicode
DEBUG:root:action: shareItem
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x101db1b50>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x101db1d50>
DEBUG:root:perform_share_item
DEBUG:root:to_unicode
DEBUG:root:3
DEBUG:root:3
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:3
DEBUG:root:3
DEBUG:root:to_unicode
DEBUG:root:MySqlApiQueryset read_one
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:Error pinging, building new connection
DEBUG:root:created db_conn to replace bad
DEBUG:root:escape_sql sql: SELECT `id`,`locationId`,`relatedId`,`parentId`,`userId`,`type`,`name`,`location`,`description`,`voteCount`,`voteNumber`,`votesUp`,`votesDown`,`flagCount`,`childCount`,`sortOrder`,`status`,`thumbnailSmall`,`thumbnailLarge`,`referer`,`changeDate`,`createDate` FROM `<Queue maxsize=None queue=deque([<pymysql.connections.Connection object at 0x101db1ed0>, <pymysql.connections.Connection object at 0x101dbc110>, <pymysql.connections.Connection object at 0x101dbc310>, <pymysql.connections.Connection object at 0x101dbc510>, <pymysql.connections.Connection object at 0x101dbc710>, <pymysql.connections.Connection object at 0x101dbc910>, <pymysql.connections.Connection object at 0x101dbcb10>, <pymysql.connections.Connection object at 0x101db1ad0>, <pymysql.connections.Connection object at 0x101db1b50>, <pymysql.connections.Connection object at 0x101db1d50>])>` WHERE ID = %s
DEBUG:root:escape_sql args: [3]
DEBUG:root:SELECT `id`,`locationId`,`relatedId`,`parentId`,`userId`,`type`,`name`,`location`,`description`,`voteCount`,`voteNumber`,`votesUp`,`votesDown`,`flagCount`,`childCount`,`sortOrder`,`status`,`thumbnailSmall`,`thumbnailLarge`,`referer`,`changeDate`,`createDate` FROM `<Queue maxsize=None queue=deque([<pymysql.connections.Connection object at 0x101db1ed0>, <pymysql.connections.Connection object at 0x101dbc110>, <pymysql.connections.Connection object at 0x101dbc310>, <pymysql.connections.Connection object at 0x101dbc510>, <pymysql.connections.Connection object at 0x101dbc710>, <pymysql.connections.Connection object at 0x101dbc910>, <pymysql.connections.Connection object at 0x101dbcb10>, <pymysql.connections.Connection object at 0x101db1ad0>, <pymysql.connections.Connection object at 0x101db1b50>, <pymysql.connections.Connection object at 0x101db1d50>])>` WHERE ID = 3
DEBUG:root:dict
DEBUG:root:ERROR!!!!!!!!!
INFO:root:ERROR: ()Traceback (most recent call last):
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 340, in post
    self.perform_share_item()
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck-0.4.0-py2.7.egg/brubeck/auth.py", line 65, in wrapper
    return method(self, *args, **kwargs)
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/feed.py", line 1341, in perform_share_item
    item = Comment(**self.comment_queryset.read_one(self.itemId)[1])
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_mysql-0.1.6-py2.7.egg/brubeckmysql/querysets.py", line 647, in read_one
    item = self.fetch(sql, [iid])
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_mysql-0.1.6-py2.7.egg/brubeckmysql/querysets.py", line 318, in fetch
    row = self.query(sql, args, format, True)
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck_mysql-0.1.6-py2.7.egg/brubeckmysql/querysets.py", line 296, in query
    cursor.execute(sql)
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/pymysql/cursors.py", line 262, in execute
    result = super(DictCursor, self).execute(query, args)
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/pymysql/cursors.py", line 117, in execute
    self.errorhandler(self, exc, value)
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/pymysql/connections.py", line 189, in defaulterrorhandler
    raise errorclass, errorvalue
ProgrammingError: (1103, u"Incorrect table name '<Queue maxsize=None queue=deque([<pymysql.connections.Connection object at 0x101db1ed0>, <pymysql.co'")

INFO:root:500 POST /q/feed (127.0.0.1)
Mon, 29 Jul 2013 02:57:43 GMT [ERROR] (errno: No such file or directory) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 02:57:43 GMT [ERROR] (errno: None) Failed to create target for route /q/static/
Mon, 29 Jul 2013 02:57:43 GMT [ERROR] (errno: None) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 02:57:43 GMT [ERROR] (errno: None) Failed to create target for route /q/robots.txt
Mon, 29 Jul 2013 02:57:43 GMT [ERROR] (errno: None) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 02:57:43 GMT [ERROR] (errno: None) Failed to create target for route /q/favicon.ico
Mon, 29 Jul 2013 02:57:43 GMT [INFO] (src/mime.c:49) MAX limits.mime_ext_len=128
Mon, 29 Jul 2013 02:57:43 GMT [INFO] (src/host.c:74) MAX limits.url_path=256, limits.host_name=256
Mon, 29 Jul 2013 02:57:43 GMT [INFO] (src/config/config.c:109) Loaded proxy 1:127.0.0.1:8081
Mon, 29 Jul 2013 02:57:43 GMT [INFO] (src/config/config.c:227) Loaded route 1:/:proxy for host 1:localhost
Mon, 29 Jul 2013 02:57:43 GMT [INFO] (src/handler.c:343) MAX limits.handler_stack=102400
Mon, 29 Jul 2013 02:57:43 GMT [INFO] (src/config/config.c:85) Loaded handler 1:ipc://run/qoorateserver/mongrel2_send:137b789e-b7eb-475a-8d5c-b16ab54493yu:ipc://run/qoorateserver/mongrel2_rcv:
Mon, 29 Jul 2013 02:57:43 GMT [INFO] (src/config/config.c:227) Loaded route 2:/q/:handler for host 1:localhost
Mon, 29 Jul 2013 02:57:43 GMT [INFO] (src/dir.c:195) MAX limits.dir_send_buffer=16384, limits.dir_max_path=256
Mon, 29 Jul 2013 02:57:43 GMT [INFO] (src/config/config.c:136) Loaded directory 1:static/qoorateserver/js/:index.html
Mon, 29 Jul 2013 02:57:43 GMT [INFO] (src/config/config.c:227) Loaded route 3:/q/js/:dir for host 1:localhost
Mon, 29 Jul 2013 02:57:43 GMT [INFO] (src/config/config.c:136) Loaded directory 2:static/qoorateserver/css/:index.html
Mon, 29 Jul 2013 02:57:43 GMT [INFO] (src/config/config.c:227) Loaded route 4:/q/css/:dir for host 1:localhost
Mon, 29 Jul 2013 02:57:43 GMT [INFO] (src/config/config.c:136) Loaded directory 3:static/qoorateserver/img/:index.html
Mon, 29 Jul 2013 02:57:43 GMT [INFO] (src/config/config.c:227) Loaded route 5:/q/img/:dir for host 1:localhost
Mon, 29 Jul 2013 02:57:43 GMT [INFO] (src/config/config.c:312) Loaded 1 hosts for server 1:fe76e442-da24-4708-b0ef-c4ahr2b7d131
Mon, 29 Jul 2013 02:57:43 GMT [INFO] (src/server.c:445) LOADING Handler ipc://run/qoorateserver/mongrel2_send
Mon, 29 Jul 2013 02:57:43 GMT [ERROR] (src/unixy.c:99: errno: No such file or directory) Failed to open PID file ../run/mongrel2.pid for reading.
Mon, 29 Jul 2013 02:57:43 GMT [INFO] (src/unixy.c:137) No previous mongrel2 running, continuing on.
Mon, 29 Jul 2013 02:57:43 GMT [INFO] (src/mongrel2.c:223) All loaded up, time to turn into a server.
Mon, 29 Jul 2013 02:57:43 GMT [INFO] (src/mongrel2.c:224) -- Starting Mongrel2/1.8.1. Copyright (C) Zed A. Shaw. Licensed BSD.

Mon, 29 Jul 2013 02:57:43 GMT [INFO] (src/mongrel2.c:225) -- Look in logs/error.log for startup messages and errors.
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
INFO:root:Using project directory: .
DEBUG:root:loading settings from ./conf/uploader/settings.py
INFO:root:Using coroutine library: gevent
DEBUG:root:******** START _service_registration *********
DEBUG:root:service_registration_passphrase: 137b789e-b7eb-475a-8d5a-b16ab544yurp
DEBUG:root:service_id: uploader
DEBUG:root:service_registration_addr: ipc://run/uploader/brubeck_svc_registration
DEBUG:root:service_passphrase: 137b789e-b7eb-475a-8d5a-b16ab544yurp
DEBUG:root:service_addr: ipc://run/uploader/brubeck_svc
DEBUG:root:service_response_addr: ipc://run/uploader/brubeck_svc_response
DEBUG:root:service_heartbeat_addr: None
DEBUG:root:service_heartbeat_timeout: 5
DEBUG:root:sender_id: 183ff8cc860c4f1691cac77dc3ca9eec
DEBUG:root:is_reregistration: 0
DEBUG:root:service_heartbeat_interval: 3
DEBUG:root:******** END _service_registration *********
DEBUG:root:register_service: (service_registration_addr, service_registration_passphrase,service_heartbeat_timeout,sender_id): (ipc://run/uploader/brubeck_svc_registration,137b789e-b7eb-475a-8d5a-b16ab544yurp, 5, 183ff8cc860c4f1691cac77dc3ca9eec)
DEBUG:root:service_registration sending request
DEBUG:root:service_registration waiting for response
INFO:root:Using project directory: .
DEBUG:root:loading settings from ./conf/qoorateserver/development.py
INFO:root:Using coroutine library: gevent
DEBUG:root:creating application db_conn pool
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:get EmbedHandler
DEBUG:root:to_unicode
DEBUG:root:embed_head
DEBUG:root:embed_head
DEBUG:root:to_unicode
DEBUG:root:action: embed_head 
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:set_table has key/secret
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = %s and `secret`= %s
        
DEBUG:root:escape_sql args: [u'12345', u'54321']
DEBUG:root:
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = '12345' and `secret`= '54321'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10a3829d0>
DEBUG:root:returning True from authencticate.
DEBUG:root:set_table authenticated
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10a382a50>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has key/secret
DEBUG:root:returning `True` from authenticate cached.
DEBUG:root:set_table authenticated
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10a382c50>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10a382dd0>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10a38a0d0>
DEBUG:root:qoorate preferences: {
    "THEME": "grid",
    "EMBED_CONF_JS": "
        var qoorateConfig = {
            QOORATE_URI: 'http://localhost',
            QOORATE_API_URI: 'http://localhost/q',
            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',
            XHR_PROXY_URI: '/q/feed',
            XHR_UPLOAD_URI: '/q/uploader',
            POST_MAX_LEN: 1000,
            PARENT_PAGE_SIZE: 10,
            CHILD_PAGE_SIZE: 10,
            AUTO_SCROLL: 1,
            THEME: 'grid',
            GRID_COLUMNS: 3,
            GRID_COLUMN_TRIM: 15,
            GRID_ROW_TRIM: 15
        };
        var qoorateLang = {
            FLAG_SUCCESS: 'Thanks for flagging this!',
            SHARE_SUCCESS: 'Thank you for sharing!',
            DELETE_SUCCESS: 'Thank you. This item has been deleted.',
            SIGNIN: 'Sign in using',
            SIGNEDIN: 'Signed in via',    
            OK: 'OK',
            CANCEL: 'Cancel',
            LOGOUT: 'Log Out',
            TOGGLE_ON: '+',
            TOGGLE_OFF: '-',
            CONTRIBUTION: 'Contribution',
            CONTRIBUTIONS: 'Contributions',
            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',
            REMOVE: 'Remove',
            LINK: 'Insert a link',
            TOPIC_COMMENT: 'Pose a Yes/No Question',
            COMMENT: 'Your Comment',
            IMAGE_COMMENT: 'Image Caption',
            POST_TO: 'Post to',
            POST_ANONYMOUS: 'Post anonymously',
            NICKNAME: 'Post as ',
            DEFAULT_NICKNAME: 'Anonymous',
            REPLY_LINK_COMMENT: 'Say something about your link',
            SHARE_COMMENT: 'comment about this share...',
            PUBLISH_BUTTON: 'Publish',
            POST_BUTTON: 'Post',
            POST_TO_BUTTON: 'Post To',
            REPLY_BUTTON: 'Reply',
            SHARE_BUTTON: 'Share',
            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',
            SELECT_IMAGE: 'Select an Image',
            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',
            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],
            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],
            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]
        };
    "
}

DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:preferences EMBED_CONF_JS:         var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    
DEBUG:root:embed_head called
INFO:root:200 GET /q/embed (127.0.0.1)
DEBUG:root:get EmbedHandler
DEBUG:root:to_unicode
DEBUG:root:embed_content
DEBUG:root:embed_content
DEBUG:root:to_unicode
DEBUG:root:action: embed_content 
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:set_table has key/secret
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = %s and `secret`= %s
        
DEBUG:root:escape_sql args: [u'12345', u'54321']
DEBUG:root:
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = '12345' and `secret`= '54321'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10a38a210>
DEBUG:root:returning True from authencticate.
DEBUG:root:set_table authenticated
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10a38a410>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has key/secret
DEBUG:root:returning `True` from authenticate cached.
DEBUG:root:set_table authenticated
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10a38a610>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10a38a810>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10a38aa10>
DEBUG:root:qoorate preferences: {
    "THEME": "grid",
    "EMBED_CONF_JS": "
        var qoorateConfig = {
            QOORATE_URI: 'http://localhost',
            QOORATE_API_URI: 'http://localhost/q',
            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',
            XHR_PROXY_URI: '/q/feed',
            XHR_UPLOAD_URI: '/q/uploader',
            POST_MAX_LEN: 1000,
            PARENT_PAGE_SIZE: 10,
            CHILD_PAGE_SIZE: 10,
            AUTO_SCROLL: 1,
            THEME: 'grid',
            GRID_COLUMNS: 3,
            GRID_COLUMN_TRIM: 15,
            GRID_ROW_TRIM: 15
        };
        var qoorateLang = {
            FLAG_SUCCESS: 'Thanks for flagging this!',
            SHARE_SUCCESS: 'Thank you for sharing!',
            DELETE_SUCCESS: 'Thank you. This item has been deleted.',
            SIGNIN: 'Sign in using',
            SIGNEDIN: 'Signed in via',    
            OK: 'OK',
            CANCEL: 'Cancel',
            LOGOUT: 'Log Out',
            TOGGLE_ON: '+',
            TOGGLE_OFF: '-',
            CONTRIBUTION: 'Contribution',
            CONTRIBUTIONS: 'Contributions',
            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',
            REMOVE: 'Remove',
            LINK: 'Insert a link',
            TOPIC_COMMENT: 'Pose a Yes/No Question',
            COMMENT: 'Your Comment',
            IMAGE_COMMENT: 'Image Caption',
            POST_TO: 'Post to',
            POST_ANONYMOUS: 'Post anonymously',
            NICKNAME: 'Post as ',
            DEFAULT_NICKNAME: 'Anonymous',
            REPLY_LINK_COMMENT: 'Say something about your link',
            SHARE_COMMENT: 'comment about this share...',
            PUBLISH_BUTTON: 'Publish',
            POST_BUTTON: 'Post',
            POST_TO_BUTTON: 'Post To',
            REPLY_BUTTON: 'Reply',
            SHARE_BUTTON: 'Share',
            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',
            SELECT_IMAGE: 'Select an Image',
            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',
            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],
            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],
            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]
        };
    "
}

DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:preferences EMBED_CONF_JS:         var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    
DEBUG:root:embed_content called (key,secret): (12345,54321)
DEBUG:root:returning `True` from authenticate cached.
DEBUG:root:get_content_context
DEBUG:root:table: q_brooklyncode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:init_db_conn
DEBUG:root:NOT creating db_conn
DEBUG:root:1
DEBUG:root:5
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT f.`parent_sequence` , f.`child_sequence` , f.`id` , f.`locationId` , f.`relatedId`,
                f.`parentId` , f.`userId` , `u`.`username`, u.`thumbnailLarge` as userThumbnailLarge,
                ur.`username` as relatedUsername, ur.`thumbnailLarge` as relatedUserThumbnailLarge, f.`type` as `type`,
                f.`is_anonymous` , r.`is_anonymous` as `related_is_anonymous`, f.`name` , f.`location` ,f.`description`,f.`referer`,
                f.`voteCount` , f.`voteNumber` , f.`votesUp` ,f.`votesDown` , f.`flagCount`,  f.`childCount`, f.`sortOrder` , f.`status`,
                f.`thumbnailSmall` ,f.`thumbnailLarge` , f.`changeDate` , f.`createDate`, f.`nickname`, r.`nickname` as `related_nickname`
            FROM (
                # this query adds the sequence fields to filter by for paging
                SELECT  s1.*, @parentrownum := convert( IF( ( parentId = 0), @parentrownum +1, @parentrownum ), UNSIGNED INTEGER) AS parent_sequence,
                @childrownum := IF( ( @lastparent = parentId), @childrownum + 1, 0 ) AS child_sequence,
                @lastparent := if( parentId=0, id, parentId ) AS dummy_used_for_last_parent
                FROM
                    # QUERY 2: this query sorts the results properly
                    (SELECT s0.* FROM
                        # QUERY 1: This query gets the results we need with calculated fields to sort by
                        # We should probably have these fields in the database so they are indexed
                        (SELECT
                        CONVERT( if( parentId = 0, @parentVoteNumber:=voteNumber,
                            @parentVoteNumber ), SIGNED INTEGER ) as groupVoteNumber,          # Will order groups using parent voteNumber
                        CONVERT( if( parentId = 0, @parentVoteCount:=voteCount,
                            @parentVoteCount ), SIGNED INTEGER ) as groupVoteCount,            # Will order groups using parent voteCount
                        CONVERT( if( parentId = 0, @parentCreateDate:=createDate,
                            @parentCreateDate ), DATETIME ) as groupCreateDate,                # Will order groups using parent createDate
                        CONVERT( if(parentId=0, id, parentId), UNSIGNED INTEGER) as groupId,   # will order groups together
                        CONVERT( if(parentId = 0, 0, 1), UNSIGNED INTEGER) as isChild,         # will order parent first in group
                        r.*
                        FROM (
                            # this just makes sure our groups are grouped in parent child order
                            SELECT * from q_brooklyncode o  WHERE o.location = '5e13bbb73127b9fc424e3728c6500f28' ORDER BY
                             if( o.relatedId = 0, o.id, o.relatedId),
                             if( o.relatedId = 0, 0, o.id )
                            ) r,
                        ( SELECT @parentVoteNumber := 0 ) pvn,
                        ( SELECT @parentVoteCount  := 0 ) pvc,
                        ( SELECT @parentCreateDate := 0 ) pcd
                         WHERE location = '5e13bbb73127b9fc424e3728c6500f28' 
                    ) s0
                    
                    
                    ORDER BY
                    
                s0.groupVoteNumber DESC,
                s0.groupVoteCount DESC,
                s0.groupCreateDate ASC,
                 
                    groupId  ASC, # first order by group
                    isChild ASC, # Then make sure the parent is first
                    
                s0.voteNumber DESC,
                s0.voteCount DESC,
                s0.createDate ASC
                
            ) s1,
            ( SELECT @parentrownum := 0 ) pr,
            ( SELECT @childrownum := 0 ) cr, 
            ( SELECT @lastparent := -1 ) lp) f
            LEFT JOIN user u on u.id = f.userId
            LEFT JOIN q_brooklyncode r on r.id = f.relatedId
            LEFT JOIN user ur on ur.id = r.userId
            WHERE
            ((0 = 6 and parent_sequence >= 1) or parent_sequence BETWEEN 1 AND 6)
            AND
            ((0 = 6 and child_sequence >= 1) or (child_sequence=0 or child_sequence BETWEEN 1 AND 6))
        
DEBUG:root:escape_sql args: None
DEBUG:root:
            SELECT f.`parent_sequence` , f.`child_sequence` , f.`id` , f.`locationId` , f.`relatedId`,
                f.`parentId` , f.`userId` , `u`.`username`, u.`thumbnailLarge` as userThumbnailLarge,
                ur.`username` as relatedUsername, ur.`thumbnailLarge` as relatedUserThumbnailLarge, f.`type` as `type`,
                f.`is_anonymous` , r.`is_anonymous` as `related_is_anonymous`, f.`name` , f.`location` ,f.`description`,f.`referer`,
                f.`voteCount` , f.`voteNumber` , f.`votesUp` ,f.`votesDown` , f.`flagCount`,  f.`childCount`, f.`sortOrder` , f.`status`,
                f.`thumbnailSmall` ,f.`thumbnailLarge` , f.`changeDate` , f.`createDate`, f.`nickname`, r.`nickname` as `related_nickname`
            FROM (
                # this query adds the sequence fields to filter by for paging
                SELECT  s1.*, @parentrownum := convert( IF( ( parentId = 0), @parentrownum +1, @parentrownum ), UNSIGNED INTEGER) AS parent_sequence,
                @childrownum := IF( ( @lastparent = parentId), @childrownum + 1, 0 ) AS child_sequence,
                @lastparent := if( parentId=0, id, parentId ) AS dummy_used_for_last_parent
                FROM
                    # QUERY 2: this query sorts the results properly
                    (SELECT s0.* FROM
                        # QUERY 1: This query gets the results we need with calculated fields to sort by
                        # We should probably have these fields in the database so they are indexed
                        (SELECT
                        CONVERT( if( parentId = 0, @parentVoteNumber:=voteNumber,
                            @parentVoteNumber ), SIGNED INTEGER ) as groupVoteNumber,          # Will order groups using parent voteNumber
                        CONVERT( if( parentId = 0, @parentVoteCount:=voteCount,
                            @parentVoteCount ), SIGNED INTEGER ) as groupVoteCount,            # Will order groups using parent voteCount
                        CONVERT( if( parentId = 0, @parentCreateDate:=createDate,
                            @parentCreateDate ), DATETIME ) as groupCreateDate,                # Will order groups using parent createDate
                        CONVERT( if(parentId=0, id, parentId), UNSIGNED INTEGER) as groupId,   # will order groups together
                        CONVERT( if(parentId = 0, 0, 1), UNSIGNED INTEGER) as isChild,         # will order parent first in group
                        r.*
                        FROM (
                            # this just makes sure our groups are grouped in parent child order
                            SELECT * from q_brooklyncode o  WHERE o.location = '5e13bbb73127b9fc424e3728c6500f28' ORDER BY
                             if( o.relatedId = 0, o.id, o.relatedId),
                             if( o.relatedId = 0, 0, o.id )
                            ) r,
                        ( SELECT @parentVoteNumber := 0 ) pvn,
                        ( SELECT @parentVoteCount  := 0 ) pvc,
                        ( SELECT @parentCreateDate := 0 ) pcd
                         WHERE location = '5e13bbb73127b9fc424e3728c6500f28' 
                    ) s0
                    
                    
                    ORDER BY
                    
                s0.groupVoteNumber DESC,
                s0.groupVoteCount DESC,
                s0.groupCreateDate ASC,
                 
                    groupId  ASC, # first order by group
                    isChild ASC, # Then make sure the parent is first
                    
                s0.voteNumber DESC,
                s0.voteCount DESC,
                s0.createDate ASC
                
            ) s1,
            ( SELECT @parentrownum := 0 ) pr,
            ( SELECT @childrownum := 0 ) cr, 
            ( SELECT @lastparent := -1 ) lp) f
            LEFT JOIN user u on u.id = f.userId
            LEFT JOIN q_brooklyncode r on r.id = f.relatedId
            LEFT JOIN user ur on ur.id = r.userId
            WHERE
            ((0 = 6 and parent_sequence >= 1) or parent_sequence BETWEEN 1 AND 6)
            AND
            ((0 = 6 and child_sequence >= 1) or (child_sequence=0 or child_sequence BETWEEN 1 AND 6))
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10a3829d0>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = %s
        
DEBUG:root:escape_sql args: [2L]
DEBUG:root:
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = 2
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10a382a50>
DEBUG:root:dictlist: {u'itemId': 2L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'cfbb12022f81667e3c2746e3c80b2e1e', u'id': 2L}
DEBUG:root:dictItem: {u'itemId': 2L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'cfbb12022f81667e3c2746e3c80b2e1e', u'id': 2L}
DEBUG:root:items: [<ImageItem: ImageItem object>]
DEBUG:root:im: [<ImageItem: ImageItem object>]
DEBUG:root:comment.images: [<ImageItem: ImageItem object>]
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = %s
        
DEBUG:root:escape_sql args: [4L]
DEBUG:root:
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = 4
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10a382c50>
DEBUG:root:dictlist: {u'itemId': 4L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'afdaf6b1c369d65535041c375356f03f', u'id': 3L}
DEBUG:root:dictItem: {u'itemId': 4L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'afdaf6b1c369d65535041c375356f03f', u'id': 3L}
DEBUG:root:items: [<ImageItem: ImageItem object>]
DEBUG:root:im: [<ImageItem: ImageItem object>]
DEBUG:root:comment.images: [<ImageItem: ImageItem object>]
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = %s
        
DEBUG:root:escape_sql args: [5L]
DEBUG:root:
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = 5
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10a382dd0>
DEBUG:root:dictlist: {u'itemId': 5L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'dffa39e6d8f1b616cfab3be4e93e47c6', u'id': 4L}
DEBUG:root:dictItem: {u'itemId': 5L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'dffa39e6d8f1b616cfab3be4e93e47c6', u'id': 4L}
DEBUG:root:items: [<ImageItem: ImageItem object>]
DEBUG:root:im: [<ImageItem: ImageItem object>]
DEBUG:root:comment.images: [<ImageItem: ImageItem object>]
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = %s
        
DEBUG:root:escape_sql args: [6L]
DEBUG:root:
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = 6
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10a38a0d0>
DEBUG:root:dictlist: {u'itemId': 6L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'8aa464876cd5bfe7e00f3fab7e2a2870', u'id': 5L}
DEBUG:root:dictItem: {u'itemId': 6L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'8aa464876cd5bfe7e00f3fab7e2a2870', u'id': 5L}
DEBUG:root:items: [<ImageItem: ImageItem object>]
DEBUG:root:im: [<ImageItem: ImageItem object>]
DEBUG:root:comment.images: [<ImageItem: ImageItem object>]
DEBUG:root:Number of comments returned: 6
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:escape_sql args: []
DEBUG:root:
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10a38a210>
DEBUG:root:Number of contributions 8
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10a38a410>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10a38a610>
DEBUG:root:to_unicode
DEBUG:root:embed_content
DEBUG:root:embed_content
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:embed_content
DEBUG:root:embed_content
DEBUG:root:to_unicode
DEBUG:root:unsanitizing: Do you?
DEBUG:root:unsanitizing encoded ascii: Do you?
DEBUG:root:unsanitizing encoded utf8: Do you?
DEBUG:root: unsanitized: Do you?
DEBUG:root:unsanitizing: test?
DEBUG:root:unsanitizing encoded ascii: test?
DEBUG:root:unsanitizing encoded utf8: test?
DEBUG:root: unsanitized: test?
DEBUG:root:unsanitizing: tester
DEBUG:root:unsanitizing encoded ascii: tester
DEBUG:root:unsanitizing encoded utf8: tester
DEBUG:root: unsanitized: tester
DEBUG:root:unsanitizing: me
DEBUG:root:unsanitizing encoded ascii: me
DEBUG:root:unsanitizing encoded utf8: me
DEBUG:root: unsanitized: me
DEBUG:root:unsanitizing: must
DEBUG:root:unsanitizing encoded ascii: must
DEBUG:root:unsanitizing encoded utf8: must
DEBUG:root: unsanitized: must
INFO:root:200 GET /q/embed (127.0.0.1)
BUG: gevent missed a libzmq recv event on 18!
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:set_table has q_short_name (12345)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10a38a810>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has q_short_name (12345)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10a38aa10>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:feed.prepare, table: q_brooklyncode
DEBUG:root:FeedHandler post
DEBUG:root:Body -> 
 action=getMore&location=5e13bbb73127b9fc424e3728c6500f28&referer=http%3A%2F%2Flocalhost%3A8081%2F%3Fp%3D1&q_short_name=12345&QOOID=QOO51f460f57c582&QOOTID=QOOT51f460f57c593&relatedId=6&moreIndex=11&sort=voting
DEBUG:root:Arguments -> 
 {"sort": ["voting"], "moreIndex": ["11"], "QOOID": ["QOO51f460f57c582"], "QOOTID": ["QOOT51f460f57c593"], "q_short_name": ["12345"], "location": ["5e13bbb73127b9fc424e3728c6500f28"], "action": ["getMore"], "referer": ["http://localhost:8081/?p=1"], "relatedId": ["6"]}
DEBUG:root:to_unicode
DEBUG:root:getMore
DEBUG:root:getMore
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:getMore
DEBUG:root:getMore
DEBUG:root:to_unicode
DEBUG:root:action: getMore
DEBUG:root:to_unicode
DEBUG:root:voting
DEBUG:root:voting
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:voting
DEBUG:root:voting
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:11
DEBUG:root:11
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:11
DEBUG:root:11
DEBUG:root:to_unicode
DEBUG:root:init_db_conn
DEBUG:root:NOT creating db_conn
DEBUG:root:11
DEBUG:root:5
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT f.`parent_sequence` , f.`child_sequence` , f.`id` , f.`locationId` , f.`relatedId`,
                f.`parentId` , f.`userId` , `u`.`username`, u.`thumbnailLarge` as userThumbnailLarge,
                ur.`username` as relatedUsername, ur.`thumbnailLarge` as relatedUserThumbnailLarge, f.`type` as `type`,
                f.`is_anonymous` , r.`is_anonymous` as `related_is_anonymous`, f.`name` , f.`location` ,f.`description`,f.`referer`,
                f.`voteCount` , f.`voteNumber` , f.`votesUp` ,f.`votesDown` , f.`flagCount`,  f.`childCount`, f.`sortOrder` , f.`status`,
                f.`thumbnailSmall` ,f.`thumbnailLarge` , f.`changeDate` , f.`createDate`, f.`nickname`, r.`nickname` as `related_nickname`
            FROM (
                # this query adds the sequence fields to filter by for paging
                SELECT  s1.*, @parentrownum := convert( IF( ( parentId = 0), @parentrownum +1, @parentrownum ), UNSIGNED INTEGER) AS parent_sequence,
                @childrownum := IF( ( @lastparent = parentId), @childrownum + 1, 0 ) AS child_sequence,
                @lastparent := if( parentId=0, id, parentId ) AS dummy_used_for_last_parent
                FROM
                    # QUERY 2: this query sorts the results properly
                    (SELECT s0.* FROM
                        # QUERY 1: This query gets the results we need with calculated fields to sort by
                        # We should probably have these fields in the database so they are indexed
                        (SELECT
                        CONVERT( if( parentId = 0, @parentVoteNumber:=voteNumber,
                            @parentVoteNumber ), SIGNED INTEGER ) as groupVoteNumber,          # Will order groups using parent voteNumber
                        CONVERT( if( parentId = 0, @parentVoteCount:=voteCount,
                            @parentVoteCount ), SIGNED INTEGER ) as groupVoteCount,            # Will order groups using parent voteCount
                        CONVERT( if( parentId = 0, @parentCreateDate:=createDate,
                            @parentCreateDate ), DATETIME ) as groupCreateDate,                # Will order groups using parent createDate
                        CONVERT( if(parentId=0, id, parentId), UNSIGNED INTEGER) as groupId,   # will order groups together
                        CONVERT( if(parentId = 0, 0, 1), UNSIGNED INTEGER) as isChild,         # will order parent first in group
                        r.*
                        FROM (
                            # this just makes sure our groups are grouped in parent child order
                            SELECT * from q_brooklyncode o  WHERE o.location = '5e13bbb73127b9fc424e3728c6500f28' ORDER BY
                             if( o.relatedId = 0, o.id, o.relatedId),
                             if( o.relatedId = 0, 0, o.id )
                            ) r,
                        ( SELECT @parentVoteNumber := 0 ) pvn,
                        ( SELECT @parentVoteCount  := 0 ) pvc,
                        ( SELECT @parentCreateDate := 0 ) pcd
                         WHERE location = '5e13bbb73127b9fc424e3728c6500f28' 
                    ) s0
                    
                    
                    ORDER BY
                    
                s0.groupVoteNumber DESC,
                s0.groupVoteCount DESC,
                s0.groupCreateDate ASC,
                 
                    groupId  ASC, # first order by group
                    isChild ASC, # Then make sure the parent is first
                    
                s0.voteNumber DESC,
                s0.voteCount DESC,
                s0.createDate ASC
                
            ) s1,
            ( SELECT @parentrownum := 0 ) pr,
            ( SELECT @childrownum := 0 ) cr, 
            ( SELECT @lastparent := -1 ) lp) f
            LEFT JOIN user u on u.id = f.userId
            LEFT JOIN q_brooklyncode r on r.id = f.relatedId
            LEFT JOIN user ur on ur.id = r.userId
            WHERE
            ((0 = 16 and parent_sequence >= 11) or parent_sequence BETWEEN 11 AND 16)
            AND
            ((0 = 6 and child_sequence >= 1) or (child_sequence=0 or child_sequence BETWEEN 1 AND 6))
        
DEBUG:root:escape_sql args: None
DEBUG:root:
            SELECT f.`parent_sequence` , f.`child_sequence` , f.`id` , f.`locationId` , f.`relatedId`,
                f.`parentId` , f.`userId` , `u`.`username`, u.`thumbnailLarge` as userThumbnailLarge,
                ur.`username` as relatedUsername, ur.`thumbnailLarge` as relatedUserThumbnailLarge, f.`type` as `type`,
                f.`is_anonymous` , r.`is_anonymous` as `related_is_anonymous`, f.`name` , f.`location` ,f.`description`,f.`referer`,
                f.`voteCount` , f.`voteNumber` , f.`votesUp` ,f.`votesDown` , f.`flagCount`,  f.`childCount`, f.`sortOrder` , f.`status`,
                f.`thumbnailSmall` ,f.`thumbnailLarge` , f.`changeDate` , f.`createDate`, f.`nickname`, r.`nickname` as `related_nickname`
            FROM (
                # this query adds the sequence fields to filter by for paging
                SELECT  s1.*, @parentrownum := convert( IF( ( parentId = 0), @parentrownum +1, @parentrownum ), UNSIGNED INTEGER) AS parent_sequence,
                @childrownum := IF( ( @lastparent = parentId), @childrownum + 1, 0 ) AS child_sequence,
                @lastparent := if( parentId=0, id, parentId ) AS dummy_used_for_last_parent
                FROM
                    # QUERY 2: this query sorts the results properly
                    (SELECT s0.* FROM
                        # QUERY 1: This query gets the results we need with calculated fields to sort by
                        # We should probably have these fields in the database so they are indexed
                        (SELECT
                        CONVERT( if( parentId = 0, @parentVoteNumber:=voteNumber,
                            @parentVoteNumber ), SIGNED INTEGER ) as groupVoteNumber,          # Will order groups using parent voteNumber
                        CONVERT( if( parentId = 0, @parentVoteCount:=voteCount,
                            @parentVoteCount ), SIGNED INTEGER ) as groupVoteCount,            # Will order groups using parent voteCount
                        CONVERT( if( parentId = 0, @parentCreateDate:=createDate,
                            @parentCreateDate ), DATETIME ) as groupCreateDate,                # Will order groups using parent createDate
                        CONVERT( if(parentId=0, id, parentId), UNSIGNED INTEGER) as groupId,   # will order groups together
                        CONVERT( if(parentId = 0, 0, 1), UNSIGNED INTEGER) as isChild,         # will order parent first in group
                        r.*
                        FROM (
                            # this just makes sure our groups are grouped in parent child order
                            SELECT * from q_brooklyncode o  WHERE o.location = '5e13bbb73127b9fc424e3728c6500f28' ORDER BY
                             if( o.relatedId = 0, o.id, o.relatedId),
                             if( o.relatedId = 0, 0, o.id )
                            ) r,
                        ( SELECT @parentVoteNumber := 0 ) pvn,
                        ( SELECT @parentVoteCount  := 0 ) pvc,
                        ( SELECT @parentCreateDate := 0 ) pcd
                         WHERE location = '5e13bbb73127b9fc424e3728c6500f28' 
                    ) s0
                    
                    
                    ORDER BY
                    
                s0.groupVoteNumber DESC,
                s0.groupVoteCount DESC,
                s0.groupCreateDate ASC,
                 
                    groupId  ASC, # first order by group
                    isChild ASC, # Then make sure the parent is first
                    
                s0.voteNumber DESC,
                s0.voteCount DESC,
                s0.createDate ASC
                
            ) s1,
            ( SELECT @parentrownum := 0 ) pr,
            ( SELECT @childrownum := 0 ) cr, 
            ( SELECT @lastparent := -1 ) lp) f
            LEFT JOIN user u on u.id = f.userId
            LEFT JOIN q_brooklyncode r on r.id = f.relatedId
            LEFT JOIN user ur on ur.id = r.userId
            WHERE
            ((0 = 16 and parent_sequence >= 11) or parent_sequence BETWEEN 11 AND 16)
            AND
            ((0 = 6 and child_sequence >= 1) or (child_sequence=0 or child_sequence BETWEEN 1 AND 6))
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10a3829d0>
DEBUG:root:Number of comments returned: 0
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10a382a50>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10a382c50>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10a382dd0>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10a38a0d0>
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:escape_sql args: []
DEBUG:root:
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10a38a210>
DEBUG:root:Number of contributions 8
INFO:root:200 POST /q/feed (127.0.0.1)
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:set_table has q_short_name (12345)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10a38a410>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has q_short_name (12345)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10a38a610>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:feed.prepare, table: q_brooklyncode
DEBUG:root:FeedHandler post
DEBUG:root:Body -> 
 replyComment=test&post_to=&action=shareItem&location=5e13bbb73127b9fc424e3728c6500f28&referer=http%3A%2F%2Flocalhost%3A8081%2F%3Fp%3D1&q_short_name=12345&QOOID=QOO51f460f57c582&QOOTID=QOOT51f460f57c593&itemId=2&relatedId=2
DEBUG:root:Arguments -> 
 {"itemId": ["2"], "QOOID": ["QOO51f460f57c582"], "QOOTID": ["QOOT51f460f57c593"], "q_short_name": ["12345"], "location": ["5e13bbb73127b9fc424e3728c6500f28"], "replyComment": ["test"], "action": ["shareItem"], "referer": ["http://localhost:8081/?p=1"], "relatedId": ["2"]}
DEBUG:root:to_unicode
DEBUG:root:shareItem
DEBUG:root:shareItem
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:shareItem
DEBUG:root:shareItem
DEBUG:root:to_unicode
DEBUG:root:action: shareItem
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10a38a810>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10a38aa10>
DEBUG:root:perform_share_item
DEBUG:root:to_unicode
DEBUG:root:2
DEBUG:root:2
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:2
DEBUG:root:2
DEBUG:root:to_unicode
DEBUG:root:MySqlApiQueryset read_one
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:escape_sql sql: SELECT `id`,`locationId`,`relatedId`,`parentId`,`userId`,`type`,`name`,`location`,`description`,`voteCount`,`voteNumber`,`votesUp`,`votesDown`,`flagCount`,`childCount`,`sortOrder`,`status`,`thumbnailSmall`,`thumbnailLarge`,`referer`,`changeDate`,`createDate` FROM `q_brooklyncode` WHERE ID = %s
DEBUG:root:escape_sql args: [2]
DEBUG:root:SELECT `id`,`locationId`,`relatedId`,`parentId`,`userId`,`type`,`name`,`location`,`description`,`voteCount`,`voteNumber`,`votesUp`,`votesDown`,`flagCount`,`childCount`,`sortOrder`,`status`,`thumbnailSmall`,`thumbnailLarge`,`referer`,`changeDate`,`createDate` FROM `q_brooklyncode` WHERE ID = 2
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10a3829d0>
DEBUG:root:provider: twitter
DEBUG:root:{"username": "sethdroid", "follow_request_sent": false, "thumbnailLarge": "http://a0.twimg.com/sticky/default_profile_images/default_profile_6_normal.png", "oauth_token_secret": "BM9GwN5hxMuRsuzQ3ktGnFkrjPvoNgWlQKtNdVp0K0", "contributors_enabled": false, "profile_use_background_image": true, "id": 130129446, "oauth_access_token": "130129446-PCcEAgHSZlt6TBwn18MRxICxBcrubk1vPmKrzOjA", "user_id": "130129446", "entities": {"description": {"urls": []}}, "profile_image_url_https": "https://si0.twimg.com/sticky/default_profile_images/default_profile_6_normal.png", "profile_sidebar_fill_color": "DDEEF6", "profile_text_color": "333333", "followers_count": 5, "profile_sidebar_border_color": "C0DEED", "id_str": "130129446", "default_profile_image": true, "email": "sethdroid", "listed_count": 0, "status": {"lang": "en", "favorited": false, "in_reply_to_user_id": null, "contributors": null, "truncated": false, "text": "#brooklynshould #getontheleaderboard", "created_at": "Wed Jun 29 11:42:39 +0000 2011", "retweeted": false, "in_reply_to_status_id": null, "coordinates": null, "id": 86036855472128000, "entities": {"symbols": [], "user_mentions": [], "hashtags": [{"indices": [0, 15], "text": "brooklynshould"}, {"indices": [16, 36], "text": "getontheleaderboard"}], "urls": []}, "in_reply_to_status_id_str": null, "in_reply_to_screen_name": null, "source": "web", "place": null, "retweet_count": 0, "geo": null, "in_reply_to_user_id_str": null, "favorite_count": 0, "id_str": "86036855472128000"}, "utc_offset": null, "statuses_count": 10, "description": "", "friends_count": 4, "location": "", "profile_link_color": "0084B4", "profile_image_url": "http://a0.twimg.com/sticky/default_profile_images/default_profile_6_normal.png", "notifications": false, "verified": false, "geo_enabled": false, "profile_background_color": "C0DEED", "profile_background_image_url": "http://a0.twimg.com/images/themes/theme1/bg.png", "screen_name": "sethdroid", "lang": "en", "following": false, "profile_background_tile": false, "favourites_count": 0, "name": "Seth Droid", "url": null, "created_at": "Tue Apr 06 11:50:01 +0000 2010", "oauth_uid": "130129446", "profile_background_image_url_https": "https://si0.twimg.com/images/themes/theme1/bg.png", "time_zone": null, "protected": false, "oauth_token": "130129446-PCcEAgHSZlt6TBwn18MRxICxBcrubk1vPmKrzOjA", "default_profile": true, "is_translator": false, "fullname": "Seth Droid"}
DEBUG:root:MySqlApiQueryset read_one
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:escape_sql sql: SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE ID = %s
DEBUG:root:escape_sql args: [1]
DEBUG:root:SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE ID = 1
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10a382a50>
DEBUG:root:to_unicode
DEBUG:root:test
DEBUG:root:test
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:test
DEBUG:root:test
DEBUG:root:to_unicode
DEBUG:root:_share, provider_tag: tw
DEBUG:root:_share, item.type: 1
DEBUG:root:_share, item.name: tester
DEBUG:root:_share, item.description: None
DEBUG:root:to_unicode
DEBUG:root:http://localhost:8081/?p=1
DEBUG:root:http://localhost:8081/?p=1
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:http://localhost:8081/?p=1
DEBUG:root:http://localhost:8081/?p=1
DEBUG:root:to_unicode
DEBUG:root:_share, self.referer: http://localhost:8081/?p=1
DEBUG:root:_share, self.itemId: 2
DEBUG:root:_share, self.replyComment: test
DEBUG:root:_request oauth_secret: BM9GwN5hxMuRsuzQ3ktGnFkrjPvoNgWlQKtNdVp0K0
DEBUG:root:oauth_token: 130129446-PCcEAgHSZlt6TBwn18MRxICxBcrubk1vPmKrzOjA
DEBUG:root:query_params -> 
{'status': u'test:\n\n"tester"\nhttp://localhost:8081/?p=1#q_brooklyncode-2', 'oauth_nonce': 'f4ad1f37005e723417be24a8f5e3caa6', 'oauth_timestamp': '1375066687', 'oauth_consumer_key': 'Rx5YrdsnGslwNEpALTowYA', 'oauth_signature_method': 'HMAC-SHA1', 'oauth_version': '1.0', 'oauth_token': u'130129446-PCcEAgHSZlt6TBwn18MRxICxBcrubk1vPmKrzOjA'}
DEBUG:root:signature_base_string: POST&https%3A%2F%2Fapi.twitter.com%2F1%2Fstatuses%2Fupdate.json&oauth_consumer_key%3DRx5YrdsnGslwNEpALTowYA%26oauth_nonce%3Df4ad1f37005e723417be24a8f5e3caa6%26oauth_signature_method%3DHMAC-SHA1%26oauth_timestamp%3D1375066687%26oauth_token%3D130129446-PCcEAgHSZlt6TBwn18MRxICxBcrubk1vPmKrzOjA%26oauth_version%3D1.0%26status%3Dtest%253A%250A%250A%2522tester%2522%250Ahttp%253A%252F%252Flocalhost%253A8081%252F%253Fp%253D1%2523q_brooklyncode-2
DEBUG:root:signature_key: rJ5KZuTfumapW19O4IOdyKq0B5EIyFydGORkCas6Qg&BM9GwN5hxMuRsuzQ3ktGnFkrjPvoNgWlQKtNdVp0K0
DEBUG:root:oauth_signature: DTW9uscXZeo8zbw8AOBDrCQxXeg=
DEBUG:root:Authorization: OAuth oauth_consumer_key="Rx5YrdsnGslwNEpALTowYA", oauth_nonce="f4ad1f37005e723417be24a8f5e3caa6", oauth_signature="DTW9uscXZeo8zbw8AOBDrCQxXeg%3D", oauth_signature_method="HMAC-SHA1", oauth_timestamp="1375066687", oauth_token="130129446-PCcEAgHSZlt6TBwn18MRxICxBcrubk1vPmKrzOjA", oauth_version="1.0", status="test%3A%0A%0A%22tester%22%0Ahttp%3A%2F%2Flocalhost%3A8081%2F%3Fp%3D1%23q_brooklyncode-2"


INFO:requests.packages.urllib3.connectionpool:Starting new HTTPS connection (1): api.twitter.com
DEBUG:requests.packages.urllib3.connectionpool:"POST /1/statuses/update.json HTTP/1.1" 410 None
DEBUG:root:content -> 
{"errors": [{"message": "The Twitter REST API v1 is no longer active. Please migrate to API v1.1. https://dev.twitter.com/docs/api/1.1/overview.", "code": 68}]}
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:escape_sql args: []
DEBUG:root:
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10a382c50>
DEBUG:root:Number of contributions 8
INFO:root:200 POST /q/feed (127.0.0.1)
Mon, 29 Jul 2013 03:02:26 GMT [ERROR] (errno: No such file or directory) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 03:02:26 GMT [ERROR] (errno: None) Failed to create target for route /q/static/
Mon, 29 Jul 2013 03:02:26 GMT [ERROR] (errno: None) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 03:02:26 GMT [ERROR] (errno: None) Failed to create target for route /q/robots.txt
Mon, 29 Jul 2013 03:02:26 GMT [ERROR] (errno: None) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 03:02:26 GMT [ERROR] (errno: None) Failed to create target for route /q/favicon.ico
Mon, 29 Jul 2013 03:02:26 GMT [INFO] (src/mime.c:49) MAX limits.mime_ext_len=128
Mon, 29 Jul 2013 03:02:26 GMT [INFO] (src/host.c:74) MAX limits.url_path=256, limits.host_name=256
Mon, 29 Jul 2013 03:02:26 GMT [INFO] (src/config/config.c:109) Loaded proxy 1:127.0.0.1:8081
Mon, 29 Jul 2013 03:02:26 GMT [INFO] (src/config/config.c:227) Loaded route 1:/:proxy for host 1:localhost
Mon, 29 Jul 2013 03:02:26 GMT [INFO] (src/handler.c:343) MAX limits.handler_stack=102400
Mon, 29 Jul 2013 03:02:26 GMT [INFO] (src/config/config.c:85) Loaded handler 1:ipc://run/qoorateserver/mongrel2_send:137b789e-b7eb-475a-8d5c-b16ab54493yu:ipc://run/qoorateserver/mongrel2_rcv:
Mon, 29 Jul 2013 03:02:26 GMT [INFO] (src/config/config.c:227) Loaded route 2:/q/:handler for host 1:localhost
Mon, 29 Jul 2013 03:02:26 GMT [INFO] (src/dir.c:195) MAX limits.dir_send_buffer=16384, limits.dir_max_path=256
Mon, 29 Jul 2013 03:02:26 GMT [INFO] (src/config/config.c:136) Loaded directory 1:static/qoorateserver/js/:index.html
Mon, 29 Jul 2013 03:02:26 GMT [INFO] (src/config/config.c:227) Loaded route 3:/q/js/:dir for host 1:localhost
Mon, 29 Jul 2013 03:02:26 GMT [INFO] (src/config/config.c:136) Loaded directory 2:static/qoorateserver/css/:index.html
Mon, 29 Jul 2013 03:02:26 GMT [INFO] (src/config/config.c:227) Loaded route 4:/q/css/:dir for host 1:localhost
Mon, 29 Jul 2013 03:02:26 GMT [INFO] (src/config/config.c:136) Loaded directory 3:static/qoorateserver/img/:index.html
Mon, 29 Jul 2013 03:02:26 GMT [INFO] (src/config/config.c:227) Loaded route 5:/q/img/:dir for host 1:localhost
Mon, 29 Jul 2013 03:02:26 GMT [INFO] (src/config/config.c:312) Loaded 1 hosts for server 1:fe76e442-da24-4708-b0ef-c4ahr2b7d131
Mon, 29 Jul 2013 03:02:26 GMT [INFO] (src/server.c:445) LOADING Handler ipc://run/qoorateserver/mongrel2_send
Mon, 29 Jul 2013 03:02:26 GMT [ERROR] (src/unixy.c:99: errno: No such file or directory) Failed to open PID file ../run/mongrel2.pid for reading.
Mon, 29 Jul 2013 03:02:26 GMT [INFO] (src/unixy.c:137) No previous mongrel2 running, continuing on.
Mon, 29 Jul 2013 03:02:26 GMT [INFO] (src/mongrel2.c:223) All loaded up, time to turn into a server.
Mon, 29 Jul 2013 03:02:26 GMT [INFO] (src/mongrel2.c:224) -- Starting Mongrel2/1.8.1. Copyright (C) Zed A. Shaw. Licensed BSD.

Mon, 29 Jul 2013 03:02:26 GMT [INFO] (src/mongrel2.c:225) -- Look in logs/error.log for startup messages and errors.
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
INFO:root:Using project directory: .
DEBUG:root:loading settings from ./conf/uploader/settings.py
INFO:root:Using coroutine library: gevent
DEBUG:root:******** START _service_registration *********
DEBUG:root:service_registration_passphrase: 137b789e-b7eb-475a-8d5a-b16ab544yurp
DEBUG:root:service_id: uploader
DEBUG:root:service_registration_addr: ipc://run/uploader/brubeck_svc_registration
DEBUG:root:service_passphrase: 137b789e-b7eb-475a-8d5a-b16ab544yurp
DEBUG:root:service_addr: ipc://run/uploader/brubeck_svc
DEBUG:root:service_response_addr: ipc://run/uploader/brubeck_svc_response
DEBUG:root:service_heartbeat_addr: None
DEBUG:root:service_heartbeat_timeout: 5
DEBUG:root:sender_id: a5f21abc60824fdfac0f0ee962fcd413
DEBUG:root:is_reregistration: 0
DEBUG:root:service_heartbeat_interval: 3
DEBUG:root:******** END _service_registration *********
DEBUG:root:register_service: (service_registration_addr, service_registration_passphrase,service_heartbeat_timeout,sender_id): (ipc://run/uploader/brubeck_svc_registration,137b789e-b7eb-475a-8d5a-b16ab544yurp, 5, a5f21abc60824fdfac0f0ee962fcd413)
DEBUG:root:service_registration sending request
DEBUG:root:service_registration waiting for response
INFO:root:Using project directory: .
DEBUG:root:loading settings from ./conf/qoorateserver/development.py
INFO:root:Using coroutine library: gevent
DEBUG:root:creating application db_conn pool
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:oauth GET twitter login
DEBUG:root:provider_settings -> 
{'REQUEST_TOKEN_URL_PATH': '/oauth/request_token', 'PROVIDER_TAG': 'tw', 'CONSUMER_SECRET': 'rJ5KZuTfumapW19O4IOdyKq0B5EIyFydGORkCas6Qg', 'OAUTH_VERSION': '1.0a', 'CALLBACK_URL': 'http://127.0.0.1/q/oauth/twitter/callback', 'CONSUMER_KEY': 'Rx5YrdsnGslwNEpALTowYA', 'REQUEST_TOKEN_URL': 'https://api.twitter.com/oauth/request_token', 'ACCESS_TOKEN_URL': 'https://api.twitter.com/oauth/access_token', 'AUTHORIZE_URL': 'https://api.twitter.com/oauth/authorize', 'USER_INFO': [['https://api.twitter.com/1.1/account/verify_credentials.json', [['username', ['screen_name']], ['email', ['screen_name']], ['oauth_uid', ['id']], ['thumbnailLarge', ['profile_image_url']]]]], 'PROVIDER_NAME': 'twitter', 'REQUEST_TOKEN_URL_HOST': 'https://api.twitter.com', 'ALIASES': [['fullname', ['name']], ['oauth_access_token', ['oauth_token']]]}
DEBUG:root:onBeforeRedirect hook empty.
DEBUG:root:Redis server connected (127.0.0.1:6379)
DEBUG:root:Redis server connected (127.0.0.1:6379)
DEBUG:root:to_unicode
DEBUG:root:QOO51f460f57c582
DEBUG:root:QOO51f460f57c582
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:QOO51f460f57c582
DEBUG:root:QOO51f460f57c582
DEBUG:root:to_unicode
DEBUG:root:oauth_callback: http://127.0.0.1/q/oauth/twitter/callback
DEBUG:root:_request oauth_secret: 
DEBUG:root:query_params -> 
{'oauth_version': '1.0', 'oauth_nonce': 'be8020b148f4f1de7342be29bc0b16b4', 'oauth_timestamp': '1375066959', 'oauth_consumer_key': 'Rx5YrdsnGslwNEpALTowYA', 'oauth_signature_method': 'HMAC-SHA1', 'oauth_callback': 'http://127.0.0.1/q/oauth/twitter/callback'}
DEBUG:root:signature_base_string: POST&https%3A%2F%2Fapi.twitter.com%2Foauth%2Frequest_token&oauth_callback%3Dhttp%253A%252F%252F127.0.0.1%252Fq%252Foauth%252Ftwitter%252Fcallback%26oauth_consumer_key%3DRx5YrdsnGslwNEpALTowYA%26oauth_nonce%3Dbe8020b148f4f1de7342be29bc0b16b4%26oauth_signature_method%3DHMAC-SHA1%26oauth_timestamp%3D1375066959%26oauth_version%3D1.0
DEBUG:root:signature_key: rJ5KZuTfumapW19O4IOdyKq0B5EIyFydGORkCas6Qg&
DEBUG:root:oauth_signature: fjHcPwi6NbvmOGREMSQey375Nio=
DEBUG:root:Authorization: OAuth oauth_callback="http%3A%2F%2F127.0.0.1%2Fq%2Foauth%2Ftwitter%2Fcallback", oauth_consumer_key="Rx5YrdsnGslwNEpALTowYA", oauth_nonce="be8020b148f4f1de7342be29bc0b16b4", oauth_signature="fjHcPwi6NbvmOGREMSQey375Nio%3D", oauth_signature_method="HMAC-SHA1", oauth_timestamp="1375066959", oauth_version="1.0"


INFO:requests.packages.urllib3.connectionpool:Starting new HTTPS connection (1): api.twitter.com
DEBUG:requests.packages.urllib3.connectionpool:"POST /oauth/request_token HTTP/1.1" 200 149
DEBUG:root:content -> 
oauth_token=7ZxXUsaM3vTTJLBsk1dcIxhdOyEQHfWDaD6UcqAzmE&oauth_token_secret=98VGL96lV9YAVmHiObAenFDgDYQu1zVvY95gBYI&oauth_callback_confirmed=true
DEBUG:root:token_secret: 98VGL96lV9YAVmHiObAenFDgDYQu1zVvY95gBYI
DEBUG:root:data -> 
{'token': '7ZxXUsaM3vTTJLBsk1dcIxhdOyEQHfWDaD6UcqAzmE', 'provider_tag': 'tw', 'token_secret': '98VGL96lV9YAVmHiObAenFDgDYQu1zVvY95gBYI', 'provider': 'twitter', 'session_id': u'QOO51f460f57c582', 'data': '{"oauth_token_secret": "98VGL96lV9YAVmHiObAenFDgDYQu1zVvY95gBYI", "oauth_token": "7ZxXUsaM3vTTJLBsk1dcIxhdOyEQHfWDaD6UcqAzmE", "oauth_callback_confirmed": "true"}', 'id': '7ZxXUsaM3vTTJLBsk1dcIxhdOyEQHfWDaD6UcqAzmE', 'api_id': '7ZxXUsaM3vTTJLBsk1dcIxhdOyEQHfWDaD6UcqAzmE', 'initial_request_args': '{"QOOTID": ["QOOT51f460f57c593"], "QOOID": ["QOO51f460f57c582"], "q_short_name": ["12345"]}'}
DEBUG:root:shield_value: {"api_id":"7ZxXUsaM3vTTJLBsk1dcIxhdOyEQHfWDaD6UcqAzmE","data":"{\"oauth_token_secret\": \"98VGL96lV9YAVmHiObAenFDgDYQu1zVvY95gBYI\", \"oauth_token\": \"7ZxXUsaM3vTTJLBsk1dcIxhdOyEQHfWDaD6UcqAzmE\", \"oauth_callback_confirmed\": \"true\"}","error_message":null,"id":"7ZxXUsaM3vTTJLBsk1dcIxhdOyEQHfWDaD6UcqAzmE","initial_request_args":"{\"QOOTID\": [\"QOOT51f460f57c593\"], \"QOOID\": [\"QOO51f460f57c582\"], \"q_short_name\": [\"12345\"]}","provider":"twitter","provider_tag":"tw","session_id":"QOO51f460f57c582","token":"7ZxXUsaM3vTTJLBsk1dcIxhdOyEQHfWDaD6UcqAzmE","token_secret":"98VGL96lV9YAVmHiObAenFDgDYQu1zVvY95gBYI"}
DEBUG:root:shield_key: 7ZxXUsaM3vTTJLBsk1dcIxhdOyEQHfWDaD6UcqAzmE
DEBUG:root:result: 1
DEBUG:root:Redirecting to url: https://api.twitter.com/oauth/authorize?oauth_token=7ZxXUsaM3vTTJLBsk1dcIxhdOyEQHfWDaD6UcqAzmE
INFO:root:302 GET /q/oauth/twitter/login (127.0.0.1)
DEBUG:root:oauth GET twitter callback
DEBUG:root:provider_settings -> 
{'REQUEST_TOKEN_URL_PATH': '/oauth/request_token', 'PROVIDER_TAG': 'tw', 'CONSUMER_SECRET': 'rJ5KZuTfumapW19O4IOdyKq0B5EIyFydGORkCas6Qg', 'OAUTH_VERSION': '1.0a', 'CALLBACK_URL': 'http://127.0.0.1/q/oauth/twitter/callback', 'CONSUMER_KEY': 'Rx5YrdsnGslwNEpALTowYA', 'REQUEST_TOKEN_URL': 'https://api.twitter.com/oauth/request_token', 'ACCESS_TOKEN_URL': 'https://api.twitter.com/oauth/access_token', 'AUTHORIZE_URL': 'https://api.twitter.com/oauth/authorize', 'USER_INFO': [['https://api.twitter.com/1.1/account/verify_credentials.json', [['username', ['screen_name']], ['email', ['screen_name']], ['oauth_uid', ['id']], ['thumbnailLarge', ['profile_image_url']]]]], 'PROVIDER_NAME': 'twitter', 'REQUEST_TOKEN_URL_HOST': 'https://api.twitter.com', 'ALIASES': [['fullname', ['name']], ['oauth_access_token', ['oauth_token']]]}
DEBUG:root:to_unicode
DEBUG:root:7ZxXUsaM3vTTJLBsk1dcIxhdOyEQHfWDaD6UcqAzmE
DEBUG:root:7ZxXUsaM3vTTJLBsk1dcIxhdOyEQHfWDaD6UcqAzmE
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:7ZxXUsaM3vTTJLBsk1dcIxhdOyEQHfWDaD6UcqAzmE
DEBUG:root:7ZxXUsaM3vTTJLBsk1dcIxhdOyEQHfWDaD6UcqAzmE
DEBUG:root:to_unicode
DEBUG:root:self.oauth_token: 7ZxXUsaM3vTTJLBsk1dcIxhdOyEQHfWDaD6UcqAzmE
DEBUG:root:Redis server connected (127.0.0.1:6379)
DEBUG:root:Redis server connected (127.0.0.1:6379)
DEBUG:root:results: 2
DEBUG:root:results[0]: OK
DEBUG:root:results[1]: {u'session_id': u'QOO51f460f57c582', u'token_secret': u'98VGL96lV9YAVmHiObAenFDgDYQu1zVvY95gBYI', u'error_message': None, u'api_id': u'7ZxXUsaM3vTTJLBsk1dcIxhdOyEQHfWDaD6UcqAzmE', u'token': u'7ZxXUsaM3vTTJLBsk1dcIxhdOyEQHfWDaD6UcqAzmE', u'provider_tag': u'tw', u'provider': u'twitter', u'data': u'{"oauth_token_secret": "98VGL96lV9YAVmHiObAenFDgDYQu1zVvY95gBYI", "oauth_token": "7ZxXUsaM3vTTJLBsk1dcIxhdOyEQHfWDaD6UcqAzmE", "oauth_callback_confirmed": "true"}', u'id': u'7ZxXUsaM3vTTJLBsk1dcIxhdOyEQHfWDaD6UcqAzmE', u'initial_request_args': u'{"QOOTID": ["QOOT51f460f57c593"], "QOOID": ["QOO51f460f57c582"], "q_short_name": ["12345"]}'}
DEBUG:root:data: {u'session_id': u'QOO51f460f57c582', u'token_secret': u'98VGL96lV9YAVmHiObAenFDgDYQu1zVvY95gBYI', u'error_message': None, u'api_id': u'7ZxXUsaM3vTTJLBsk1dcIxhdOyEQHfWDaD6UcqAzmE', u'token': u'7ZxXUsaM3vTTJLBsk1dcIxhdOyEQHfWDaD6UcqAzmE', u'provider_tag': u'tw', u'provider': u'twitter', u'data': u'{"oauth_token_secret": "98VGL96lV9YAVmHiObAenFDgDYQu1zVvY95gBYI", "oauth_token": "7ZxXUsaM3vTTJLBsk1dcIxhdOyEQHfWDaD6UcqAzmE", "oauth_callback_confirmed": "true"}', u'id': u'7ZxXUsaM3vTTJLBsk1dcIxhdOyEQHfWDaD6UcqAzmE', u'initial_request_args': u'{"QOOTID": ["QOOT51f460f57c593"], "QOOID": ["QOO51f460f57c582"], "q_short_name": ["12345"]}'}
DEBUG:root:self.oauth_token: 7ZxXUsaM3vTTJLBsk1dcIxhdOyEQHfWDaD6UcqAzmE
DEBUG:root:results: 2
DEBUG:root:results[0]: OK
DEBUG:root:results[1]: {u'session_id': u'QOO51f460f57c582', u'token_secret': u'98VGL96lV9YAVmHiObAenFDgDYQu1zVvY95gBYI', u'error_message': None, u'api_id': u'7ZxXUsaM3vTTJLBsk1dcIxhdOyEQHfWDaD6UcqAzmE', u'token': u'7ZxXUsaM3vTTJLBsk1dcIxhdOyEQHfWDaD6UcqAzmE', u'provider_tag': u'tw', u'provider': u'twitter', u'data': u'{"oauth_token_secret": "98VGL96lV9YAVmHiObAenFDgDYQu1zVvY95gBYI", "oauth_token": "7ZxXUsaM3vTTJLBsk1dcIxhdOyEQHfWDaD6UcqAzmE", "oauth_callback_confirmed": "true"}', u'id': u'7ZxXUsaM3vTTJLBsk1dcIxhdOyEQHfWDaD6UcqAzmE', u'initial_request_args': u'{"QOOTID": ["QOOT51f460f57c593"], "QOOID": ["QOO51f460f57c582"], "q_short_name": ["12345"]}'}
DEBUG:root:data: {u'session_id': u'QOO51f460f57c582', u'token_secret': u'98VGL96lV9YAVmHiObAenFDgDYQu1zVvY95gBYI', u'error_message': None, u'api_id': u'7ZxXUsaM3vTTJLBsk1dcIxhdOyEQHfWDaD6UcqAzmE', u'token': u'7ZxXUsaM3vTTJLBsk1dcIxhdOyEQHfWDaD6UcqAzmE', u'provider_tag': u'tw', u'provider': u'twitter', u'data': u'{"oauth_token_secret": "98VGL96lV9YAVmHiObAenFDgDYQu1zVvY95gBYI", "oauth_token": "7ZxXUsaM3vTTJLBsk1dcIxhdOyEQHfWDaD6UcqAzmE", "oauth_callback_confirmed": "true"}', u'id': u'7ZxXUsaM3vTTJLBsk1dcIxhdOyEQHfWDaD6UcqAzmE', u'initial_request_args': u'{"QOOTID": ["QOOT51f460f57c593"], "QOOID": ["QOO51f460f57c582"], "q_short_name": ["12345"]}'}
DEBUG:root:Merged arguments: {"QOOTID": ["QOOT51f460f57c593"], "oauth_token": ["7ZxXUsaM3vTTJLBsk1dcIxhdOyEQHfWDaD6UcqAzmE"], "oauth_verifier": ["Tw17aqDMjsxJ8XOZtwbbMlXTCgiDDnniH1HcV84JE4"], "q_short_name": ["12345"], "QOOID": ["QOO51f460f57c582"]}
DEBUG:root:to_unicode
DEBUG:root:Tw17aqDMjsxJ8XOZtwbbMlXTCgiDDnniH1HcV84JE4
DEBUG:root:Tw17aqDMjsxJ8XOZtwbbMlXTCgiDDnniH1HcV84JE4
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:Tw17aqDMjsxJ8XOZtwbbMlXTCgiDDnniH1HcV84JE4
DEBUG:root:Tw17aqDMjsxJ8XOZtwbbMlXTCgiDDnniH1HcV84JE4
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:QOO51f460f57c582
DEBUG:root:QOO51f460f57c582
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:QOO51f460f57c582
DEBUG:root:QOO51f460f57c582
DEBUG:root:to_unicode
DEBUG:root:oauth_token: 7ZxXUsaM3vTTJLBsk1dcIxhdOyEQHfWDaD6UcqAzmE
DEBUG:root:oauth_verifier: Tw17aqDMjsxJ8XOZtwbbMlXTCgiDDnniH1HcV84JE4
DEBUG:root:_request oauth_secret: 98VGL96lV9YAVmHiObAenFDgDYQu1zVvY95gBYI
DEBUG:root:oauth_token: 7ZxXUsaM3vTTJLBsk1dcIxhdOyEQHfWDaD6UcqAzmE
DEBUG:root:query_params -> 
{'oauth_nonce': '03a4b524bcf40c0790d2134b90bb27be', 'oauth_timestamp': '1375066962', 'oauth_verifier': u'Tw17aqDMjsxJ8XOZtwbbMlXTCgiDDnniH1HcV84JE4', 'oauth_consumer_key': 'Rx5YrdsnGslwNEpALTowYA', 'oauth_signature_method': 'HMAC-SHA1', 'oauth_version': '1.0', 'oauth_token': u'7ZxXUsaM3vTTJLBsk1dcIxhdOyEQHfWDaD6UcqAzmE'}
DEBUG:root:signature_base_string: POST&https%3A%2F%2Fapi.twitter.com%2Foauth%2Faccess_token&oauth_consumer_key%3DRx5YrdsnGslwNEpALTowYA%26oauth_nonce%3D03a4b524bcf40c0790d2134b90bb27be%26oauth_signature_method%3DHMAC-SHA1%26oauth_timestamp%3D1375066962%26oauth_token%3D7ZxXUsaM3vTTJLBsk1dcIxhdOyEQHfWDaD6UcqAzmE%26oauth_verifier%3DTw17aqDMjsxJ8XOZtwbbMlXTCgiDDnniH1HcV84JE4%26oauth_version%3D1.0
DEBUG:root:signature_key: rJ5KZuTfumapW19O4IOdyKq0B5EIyFydGORkCas6Qg&98VGL96lV9YAVmHiObAenFDgDYQu1zVvY95gBYI
DEBUG:root:oauth_signature: zmFnY5p+29ash7a2JLXFte4PsLg=
DEBUG:root:Authorization: OAuth oauth_consumer_key="Rx5YrdsnGslwNEpALTowYA", oauth_nonce="03a4b524bcf40c0790d2134b90bb27be", oauth_signature="zmFnY5p%2B29ash7a2JLXFte4PsLg%3D", oauth_signature_method="HMAC-SHA1", oauth_timestamp="1375066962", oauth_token="7ZxXUsaM3vTTJLBsk1dcIxhdOyEQHfWDaD6UcqAzmE", oauth_verifier="Tw17aqDMjsxJ8XOZtwbbMlXTCgiDDnniH1HcV84JE4", oauth_version="1.0"


INFO:requests.packages.urllib3.connectionpool:Starting new HTTPS connection (1): api.twitter.com
DEBUG:requests.packages.urllib3.connectionpool:"POST /oauth/access_token HTTP/1.1" 200 164
DEBUG:root:content -> 
oauth_token=130129446-PCcEAgHSZlt6TBwn18MRxICxBcrubk1vPmKrzOjA&oauth_token_secret=BM9GwN5hxMuRsuzQ3ktGnFkrjPvoNgWlQKtNdVp0K0&user_id=130129446&screen_name=sethdroid
DEBUG:root:provider_settings: {'REQUEST_TOKEN_URL_PATH': '/oauth/request_token', 'PROVIDER_TAG': 'tw', 'CONSUMER_SECRET': 'rJ5KZuTfumapW19O4IOdyKq0B5EIyFydGORkCas6Qg', 'OAUTH_VERSION': '1.0a', 'CALLBACK_URL': 'http://127.0.0.1/q/oauth/twitter/callback', 'CONSUMER_KEY': 'Rx5YrdsnGslwNEpALTowYA', 'REQUEST_TOKEN_URL': 'https://api.twitter.com/oauth/request_token', 'ACCESS_TOKEN_URL': 'https://api.twitter.com/oauth/access_token', 'AUTHORIZE_URL': 'https://api.twitter.com/oauth/authorize', 'USER_INFO': [['https://api.twitter.com/1.1/account/verify_credentials.json', [['username', ['screen_name']], ['email', ['screen_name']], ['oauth_uid', ['id']], ['thumbnailLarge', ['profile_image_url']]]]], 'PROVIDER_NAME': 'twitter', 'REQUEST_TOKEN_URL_HOST': 'https://api.twitter.com', 'ALIASES': [['fullname', ['name']], ['oauth_access_token', ['oauth_token']]]}
DEBUG:root:oauth_token: 130129446-PCcEAgHSZlt6TBwn18MRxICxBcrubk1vPmKrzOjA
DEBUG:root:_request oauth_secret: BM9GwN5hxMuRsuzQ3ktGnFkrjPvoNgWlQKtNdVp0K0
DEBUG:root:oauth_token: 130129446-PCcEAgHSZlt6TBwn18MRxICxBcrubk1vPmKrzOjA
DEBUG:root:query_params -> 
{'oauth_nonce': 'f8c2af79880e9da7aba2e78d1f3b7902', 'oauth_timestamp': '1375066963', 'oauth_consumer_key': 'Rx5YrdsnGslwNEpALTowYA', 'oauth_signature_method': 'HMAC-SHA1', 'oauth_version': '1.0', 'oauth_token': '130129446-PCcEAgHSZlt6TBwn18MRxICxBcrubk1vPmKrzOjA'}
DEBUG:root:signature_base_string: GET&https%3A%2F%2Fapi.twitter.com%2F1.1%2Faccount%2Fverify_credentials.json&oauth_consumer_key%3DRx5YrdsnGslwNEpALTowYA%26oauth_nonce%3Df8c2af79880e9da7aba2e78d1f3b7902%26oauth_signature_method%3DHMAC-SHA1%26oauth_timestamp%3D1375066963%26oauth_token%3D130129446-PCcEAgHSZlt6TBwn18MRxICxBcrubk1vPmKrzOjA%26oauth_version%3D1.0
DEBUG:root:signature_key: rJ5KZuTfumapW19O4IOdyKq0B5EIyFydGORkCas6Qg&BM9GwN5hxMuRsuzQ3ktGnFkrjPvoNgWlQKtNdVp0K0
DEBUG:root:oauth_signature: sriXg7iqjeOi1ZZ4iQuB8Xxqvjo=
DEBUG:root:Authorization: OAuth oauth_consumer_key="Rx5YrdsnGslwNEpALTowYA", oauth_nonce="f8c2af79880e9da7aba2e78d1f3b7902", oauth_signature="sriXg7iqjeOi1ZZ4iQuB8Xxqvjo%3D", oauth_signature_method="HMAC-SHA1", oauth_timestamp="1375066963", oauth_token="130129446-PCcEAgHSZlt6TBwn18MRxICxBcrubk1vPmKrzOjA", oauth_version="1.0"


INFO:requests.packages.urllib3.connectionpool:Starting new HTTPS connection (1): api.twitter.com
DEBUG:requests.packages.urllib3.connectionpool:"GET /1.1/account/verify_credentials.json HTTP/1.1" 200 731
DEBUG:root:content -> 
{"id":130129446,"id_str":"130129446","name":"Seth Droid","screen_name":"sethdroid","location":"","description":"","url":null,"entities":{"description":{"urls":[]}},"protected":false,"followers_count":5,"friends_count":4,"listed_count":0,"created_at":"Tue Apr 06 11:50:01 +0000 2010","favourites_count":0,"utc_offset":null,"time_zone":null,"geo_enabled":false,"verified":false,"statuses_count":10,"lang":"en","status":{"created_at":"Wed Jun 29 11:42:39 +0000 2011","id":86036855472128000,"id_str":"86036855472128000","text":"#brooklynshould #getontheleaderboard","source":"web","truncated":false,"in_reply_to_status_id":null,"in_reply_to_status_id_str":null,"in_reply_to_user_id":null,"in_reply_to_user_id_str":null,"in_reply_to_screen_name":null,"geo":null,"coordinates":null,"place":null,"contributors":null,"retweet_count":0,"favorite_count":0,"entities":{"hashtags":[{"text":"brooklynshould","indices":[0,15]},{"text":"getontheleaderboard","indices":[16,36]}],"symbols":[],"urls":[],"user_mentions":[]},"favorited":false,"retweeted":false,"lang":"en"},"contributors_enabled":false,"is_translator":false,"profile_background_color":"C0DEED","profile_background_image_url":"http:\/\/a0.twimg.com\/images\/themes\/theme1\/bg.png","profile_background_image_url_https":"https:\/\/si0.twimg.com\/images\/themes\/theme1\/bg.png","profile_background_tile":false,"profile_image_url":"http:\/\/a0.twimg.com\/sticky\/default_profile_images\/default_profile_6_normal.png","profile_image_url_https":"https:\/\/si0.twimg.com\/sticky\/default_profile_images\/default_profile_6_normal.png","profile_link_color":"0084B4","profile_sidebar_border_color":"C0DEED","profile_sidebar_fill_color":"DDEEF6","profile_text_color":"333333","profile_use_background_image":true,"default_profile":true,"default_profile_image":true,"following":false,"follow_request_sent":false,"notifications":false}
DEBUG:root:user_info field: username
DEBUG:root:user_info simple field value
DEBUG:root:user_info joining [u'sethdroid']
DEBUG:root:user_info field[0], value: username, sethdroid
DEBUG:root:user_info field: email
DEBUG:root:user_info simple field value
DEBUG:root:user_info joining [u'sethdroid']
DEBUG:root:user_info field[0], value: email, sethdroid
DEBUG:root:user_info field: oauth_uid
DEBUG:root:user_info simple field value
DEBUG:root:user_info joining [130129446]
DEBUG:root:user_info field[0], value: oauth_uid, 130129446
DEBUG:root:user_info field: thumbnailLarge
DEBUG:root:user_info simple field value
DEBUG:root:user_info joining [u'http://a0.twimg.com/sticky/default_profile_images/default_profile_6_normal.png']
DEBUG:root:user_info field[0], value: thumbnailLarge, http://a0.twimg.com/sticky/default_profile_images/default_profile_6_normal.png
DEBUG:root:user_info field: fullname
DEBUG:root:user_info simple field value
DEBUG:root:user_info joining [u'Seth Droid']
DEBUG:root:user_info field[0], value: fullname, Seth Droid
DEBUG:root:user_info field: oauth_access_token
DEBUG:root:user_info simple field value
DEBUG:root:user_info joining ['130129446-PCcEAgHSZlt6TBwn18MRxICxBcrubk1vPmKrzOjA']
DEBUG:root:user_info field[0], value: oauth_access_token, 130129446-PCcEAgHSZlt6TBwn18MRxICxBcrubk1vPmKrzOjA
DEBUG:root:data -> 
{u'status': {u'lang': u'en', u'favorited': False, u'entities': {u'symbols': [], u'user_mentions': [], u'hashtags': [{u'indices': [0, 15], u'text': u'brooklynshould'}, {u'indices': [16, 36], u'text': u'getontheleaderboard'}], u'urls': []}, u'contributors': None, u'truncated': False, u'text': u'#brooklynshould #getontheleaderboard', u'created_at': u'Wed Jun 29 11:42:39 +0000 2011', u'retweeted': False, u'in_reply_to_status_id_str': None, u'coordinates': None, u'in_reply_to_user_id_str': None, u'source': u'web', u'in_reply_to_status_id': None, u'in_reply_to_screen_name': None, u'id_str': u'86036855472128000', u'place': None, u'retweet_count': 0, u'geo': None, u'id': 86036855472128000, u'favorite_count': 0, u'in_reply_to_user_id': None}, u'follow_request_sent': False, 'thumbnailLarge': 'http://a0.twimg.com/sticky/default_profile_images/default_profile_6_normal.png', 'oauth_token_secret': 'BM9GwN5hxMuRsuzQ3ktGnFkrjPvoNgWlQKtNdVp0K0', u'time_zone': None, u'id': 130129446, 'oauth_access_token': '130129446-PCcEAgHSZlt6TBwn18MRxICxBcrubk1vPmKrzOjA', u'description': u'', 'user_id': '130129446', u'entities': {u'description': {u'urls': []}}, u'profile_text_color': u'333333', u'profile_image_url_https': u'https://si0.twimg.com/sticky/default_profile_images/default_profile_6_normal.png', u'profile_sidebar_fill_color': u'DDEEF6', u'is_translator': False, u'geo_enabled': False, u'profile_use_background_image': True, u'followers_count': 5, u'protected': False, u'id_str': u'130129446', u'default_profile_image': True, 'email': 'sethdroid', u'listed_count': 0, 'username': 'sethdroid', u'utc_offset': None, u'statuses_count': 10, u'profile_background_color': u'C0DEED', u'friends_count': 4, u'profile_link_color': u'0084B4', u'profile_image_url': u'http://a0.twimg.com/sticky/default_profile_images/default_profile_6_normal.png', u'notifications': False, u'verified': False, u'profile_background_image_url_https': u'https://si0.twimg.com/images/themes/theme1/bg.png', u'profile_background_image_url': u'http://a0.twimg.com/images/themes/theme1/bg.png', u'name': u'Seth Droid', u'lang': u'en', u'profile_background_tile': False, u'favourites_count': 0, 'screen_name': u'sethdroid', u'url': None, u'created_at': u'Tue Apr 06 11:50:01 +0000 2010', 'oauth_uid': '130129446', u'contributors_enabled': False, u'location': u'', u'profile_sidebar_border_color': u'C0DEED', 'oauth_token': '130129446-PCcEAgHSZlt6TBwn18MRxICxBcrubk1vPmKrzOjA', u'default_profile': True, u'following': False, 'fullname': 'Seth Droid'} 
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:set_table has q_short_name (12345)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x103d3a9d0>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:User authenticated -> 
 {'username': u'sethdroid', 'thumbnailLarge': u'http://a0.twimg.com/sticky/default_profile_images/default_profile_6_normal.png', 'oauth_data': '{"username": "sethdroid", "follow_request_sent": false, "thumbnailLarge": "http://a0.twimg.com/sticky/default_profile_images/default_profile_6_normal.png", "oauth_token_secret": "BM9GwN5hxMuRsuzQ3ktGnFkrjPvoNgWlQKtNdVp0K0", "contributors_enabled": false, "profile_use_background_image": true, "id": 130129446, "oauth_access_token": "130129446-PCcEAgHSZlt6TBwn18MRxICxBcrubk1vPmKrzOjA", "user_id": "130129446", "entities": {"description": {"urls": []}}, "profile_image_url_https": "https://si0.twimg.com/sticky/default_profile_images/default_profile_6_normal.png", "profile_sidebar_fill_color": "DDEEF6", "profile_text_color": "333333", "followers_count": 5, "profile_sidebar_border_color": "C0DEED", "id_str": "130129446", "default_profile_image": true, "email": "sethdroid", "listed_count": 0, "status": {"lang": "en", "favorited": false, "in_reply_to_user_id": null, "contributors": null, "truncated": false, "text": "#brooklynshould #getontheleaderboard", "created_at": "Wed Jun 29 11:42:39 +0000 2011", "retweeted": false, "in_reply_to_status_id": null, "coordinates": null, "id": 86036855472128000, "entities": {"symbols": [], "user_mentions": [], "hashtags": [{"indices": [0, 15], "text": "brooklynshould"}, {"indices": [16, 36], "text": "getontheleaderboard"}], "urls": []}, "in_reply_to_status_id_str": null, "in_reply_to_screen_name": null, "source": "web", "place": null, "retweet_count": 0, "geo": null, "in_reply_to_user_id_str": null, "favorite_count": 0, "id_str": "86036855472128000"}, "utc_offset": null, "statuses_count": 10, "description": "", "friends_count": 4, "location": "", "profile_link_color": "0084B4", "profile_image_url": "http://a0.twimg.com/sticky/default_profile_images/default_profile_6_normal.png", "notifications": false, "verified": false, "geo_enabled": false, "profile_background_color": "C0DEED", "profile_background_image_url": "http://a0.twimg.com/images/themes/theme1/bg.png", "screen_name": "sethdroid", "lang": "en", "following": false, "profile_background_tile": false, "favourites_count": 0, "name": "Seth Droid", "url": null, "created_at": "Tue Apr 06 11:50:01 +0000 2010", "oauth_uid": "130129446", "profile_background_image_url_https": "https://si0.twimg.com/images/themes/theme1/bg.png", "time_zone": null, "protected": false, "oauth_token": "130129446-PCcEAgHSZlt6TBwn18MRxICxBcrubk1vPmKrzOjA", "default_profile": true, "is_translator": false, "fullname": "Seth Droid"}', 'oauth_session_id': u'QOO51f460f57c582', 'password': None, 'changeDate': datetime.datetime(2013, 7, 28, 23, 2, 43, 377108), 'oauth_uid': u'130129446', 'oauth_provider': u'tw', 'createDate': datetime.datetime(2013, 7, 28, 23, 2, 43, 377108), 'oauth_access_token': u'130129446-PCcEAgHSZlt6TBwn18MRxICxBcrubk1vPmKrzOjA', 'email': u'sethdroid'}
DEBUG:root:initial_request_args:{u'QOOTID': [u'QOOT51f460f57c593'], u'QOOID': [u'QOO51f460f57c582'], u'q_short_name': [u'12345']}
DEBUG:root:execute
DEBUG:root:execute args: [u'QOO51f460f57c582']
DEBUG:root:escape_sql sql: 
            UPDATE `user` SET `oauth_session_id`= null WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: [u'QOO51f460f57c582']
DEBUG:root:
            UPDATE `user` SET `oauth_session_id`= null WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:execute: 
            UPDATE `user` SET `oauth_session_id`= null WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:MySqlApiQueryset create_one
DEBUG:root:MySqlApiQueryset create_one sql: 
                INSERT INTO `user` 
                set id=%s,role=%s,email=%s,password=%s,oauth_provider=%s,oauth_uid=%s,username=%s,location=%s,changeDate=%s,createDate=%s,thumbnailSmall=%s,thumbnailLarge=%s,oauth_session_id=%s,oauth_access_token=%s,oauth_data=%s,admin_role_qoorates=%s 
                ON DUPLICATE KEY UPDATE
                role=%s,email=%s,password=%s,oauth_provider=%s,oauth_uid=%s,username=%s,location=%s,changeDate=%s,thumbnailSmall=%s,thumbnailLarge=%s,oauth_session_id=%s,oauth_access_token=%s,oauth_data=%s
                
DEBUG:root:execute
DEBUG:root:execute args: [None, None, u'sethdroid', None, u'tw', u'130129446', u'sethdroid', None, datetime.datetime(2013, 7, 28, 23, 2, 43, 377108), datetime.datetime(2013, 7, 28, 23, 2, 43, 377108), None, u'http://a0.twimg.com/sticky/default_profile_images/default_profile_6_normal.png', u'QOO51f460f57c582', u'130129446-PCcEAgHSZlt6TBwn18MRxICxBcrubk1vPmKrzOjA', '{"username": "sethdroid", "follow_request_sent": false, "thumbnailLarge": "http://a0.twimg.com/sticky/default_profile_images/default_profile_6_normal.png", "oauth_token_secret": "BM9GwN5hxMuRsuzQ3ktGnFkrjPvoNgWlQKtNdVp0K0", "contributors_enabled": false, "profile_use_background_image": true, "id": 130129446, "oauth_access_token": "130129446-PCcEAgHSZlt6TBwn18MRxICxBcrubk1vPmKrzOjA", "user_id": "130129446", "entities": {"description": {"urls": []}}, "profile_image_url_https": "https://si0.twimg.com/sticky/default_profile_images/default_profile_6_normal.png", "profile_sidebar_fill_color": "DDEEF6", "profile_text_color": "333333", "followers_count": 5, "profile_sidebar_border_color": "C0DEED", "id_str": "130129446", "default_profile_image": true, "email": "sethdroid", "listed_count": 0, "status": {"lang": "en", "favorited": false, "in_reply_to_user_id": null, "contributors": null, "truncated": false, "text": "#brooklynshould #getontheleaderboard", "created_at": "Wed Jun 29 11:42:39 +0000 2011", "retweeted": false, "in_reply_to_status_id": null, "coordinates": null, "id": 86036855472128000, "entities": {"symbols": [], "user_mentions": [], "hashtags": [{"indices": [0, 15], "text": "brooklynshould"}, {"indices": [16, 36], "text": "getontheleaderboard"}], "urls": []}, "in_reply_to_status_id_str": null, "in_reply_to_screen_name": null, "source": "web", "place": null, "retweet_count": 0, "geo": null, "in_reply_to_user_id_str": null, "favorite_count": 0, "id_str": "86036855472128000"}, "utc_offset": null, "statuses_count": 10, "description": "", "friends_count": 4, "location": "", "profile_link_color": "0084B4", "profile_image_url": "http://a0.twimg.com/sticky/default_profile_images/default_profile_6_normal.png", "notifications": false, "verified": false, "geo_enabled": false, "profile_background_color": "C0DEED", "profile_background_image_url": "http://a0.twimg.com/images/themes/theme1/bg.png", "screen_name": "sethdroid", "lang": "en", "following": false, "profile_background_tile": false, "favourites_count": 0, "name": "Seth Droid", "url": null, "created_at": "Tue Apr 06 11:50:01 +0000 2010", "oauth_uid": "130129446", "profile_background_image_url_https": "https://si0.twimg.com/images/themes/theme1/bg.png", "time_zone": null, "protected": false, "oauth_token": "130129446-PCcEAgHSZlt6TBwn18MRxICxBcrubk1vPmKrzOjA", "default_profile": true, "is_translator": false, "fullname": "Seth Droid"}', None, None, u'sethdroid', None, u'tw', u'130129446', u'sethdroid', None, datetime.datetime(2013, 7, 28, 23, 2, 43, 377108), None, u'http://a0.twimg.com/sticky/default_profile_images/default_profile_6_normal.png', u'QOO51f460f57c582', u'130129446-PCcEAgHSZlt6TBwn18MRxICxBcrubk1vPmKrzOjA', '{"username": "sethdroid", "follow_request_sent": false, "thumbnailLarge": "http://a0.twimg.com/sticky/default_profile_images/default_profile_6_normal.png", "oauth_token_secret": "BM9GwN5hxMuRsuzQ3ktGnFkrjPvoNgWlQKtNdVp0K0", "contributors_enabled": false, "profile_use_background_image": true, "id": 130129446, "oauth_access_token": "130129446-PCcEAgHSZlt6TBwn18MRxICxBcrubk1vPmKrzOjA", "user_id": "130129446", "entities": {"description": {"urls": []}}, "profile_image_url_https": "https://si0.twimg.com/sticky/default_profile_images/default_profile_6_normal.png", "profile_sidebar_fill_color": "DDEEF6", "profile_text_color": "333333", "followers_count": 5, "profile_sidebar_border_color": "C0DEED", "id_str": "130129446", "default_profile_image": true, "email": "sethdroid", "listed_count": 0, "status": {"lang": "en", "favorited": false, "in_reply_to_user_id": null, "contributors": null, "truncated": false, "text": "#brooklynshould #getontheleaderboard", "created_at": "Wed Jun 29 11:42:39 +0000 2011", "retweeted": false, "in_reply_to_status_id": null, "coordinates": null, "id": 86036855472128000, "entities": {"symbols": [], "user_mentions": [], "hashtags": [{"indices": [0, 15], "text": "brooklynshould"}, {"indices": [16, 36], "text": "getontheleaderboard"}], "urls": []}, "in_reply_to_status_id_str": null, "in_reply_to_screen_name": null, "source": "web", "place": null, "retweet_count": 0, "geo": null, "in_reply_to_user_id_str": null, "favorite_count": 0, "id_str": "86036855472128000"}, "utc_offset": null, "statuses_count": 10, "description": "", "friends_count": 4, "location": "", "profile_link_color": "0084B4", "profile_image_url": "http://a0.twimg.com/sticky/default_profile_images/default_profile_6_normal.png", "notifications": false, "verified": false, "geo_enabled": false, "profile_background_color": "C0DEED", "profile_background_image_url": "http://a0.twimg.com/images/themes/theme1/bg.png", "screen_name": "sethdroid", "lang": "en", "following": false, "profile_background_tile": false, "favourites_count": 0, "name": "Seth Droid", "url": null, "created_at": "Tue Apr 06 11:50:01 +0000 2010", "oauth_uid": "130129446", "profile_background_image_url_https": "https://si0.twimg.com/images/themes/theme1/bg.png", "time_zone": null, "protected": false, "oauth_token": "130129446-PCcEAgHSZlt6TBwn18MRxICxBcrubk1vPmKrzOjA", "default_profile": true, "is_translator": false, "fullname": "Seth Droid"}']
DEBUG:root:escape_sql sql: 
                INSERT INTO `user` 
                set id=%s,role=%s,email=%s,password=%s,oauth_provider=%s,oauth_uid=%s,username=%s,location=%s,changeDate=%s,createDate=%s,thumbnailSmall=%s,thumbnailLarge=%s,oauth_session_id=%s,oauth_access_token=%s,oauth_data=%s,admin_role_qoorates=%s 
                ON DUPLICATE KEY UPDATE
                role=%s,email=%s,password=%s,oauth_provider=%s,oauth_uid=%s,username=%s,location=%s,changeDate=%s,thumbnailSmall=%s,thumbnailLarge=%s,oauth_session_id=%s,oauth_access_token=%s,oauth_data=%s
                
DEBUG:root:escape_sql args: [None, None, u'sethdroid', None, u'tw', u'130129446', u'sethdroid', None, datetime.datetime(2013, 7, 28, 23, 2, 43, 377108), datetime.datetime(2013, 7, 28, 23, 2, 43, 377108), None, u'http://a0.twimg.com/sticky/default_profile_images/default_profile_6_normal.png', u'QOO51f460f57c582', u'130129446-PCcEAgHSZlt6TBwn18MRxICxBcrubk1vPmKrzOjA', '{"username": "sethdroid", "follow_request_sent": false, "thumbnailLarge": "http://a0.twimg.com/sticky/default_profile_images/default_profile_6_normal.png", "oauth_token_secret": "BM9GwN5hxMuRsuzQ3ktGnFkrjPvoNgWlQKtNdVp0K0", "contributors_enabled": false, "profile_use_background_image": true, "id": 130129446, "oauth_access_token": "130129446-PCcEAgHSZlt6TBwn18MRxICxBcrubk1vPmKrzOjA", "user_id": "130129446", "entities": {"description": {"urls": []}}, "profile_image_url_https": "https://si0.twimg.com/sticky/default_profile_images/default_profile_6_normal.png", "profile_sidebar_fill_color": "DDEEF6", "profile_text_color": "333333", "followers_count": 5, "profile_sidebar_border_color": "C0DEED", "id_str": "130129446", "default_profile_image": true, "email": "sethdroid", "listed_count": 0, "status": {"lang": "en", "favorited": false, "in_reply_to_user_id": null, "contributors": null, "truncated": false, "text": "#brooklynshould #getontheleaderboard", "created_at": "Wed Jun 29 11:42:39 +0000 2011", "retweeted": false, "in_reply_to_status_id": null, "coordinates": null, "id": 86036855472128000, "entities": {"symbols": [], "user_mentions": [], "hashtags": [{"indices": [0, 15], "text": "brooklynshould"}, {"indices": [16, 36], "text": "getontheleaderboard"}], "urls": []}, "in_reply_to_status_id_str": null, "in_reply_to_screen_name": null, "source": "web", "place": null, "retweet_count": 0, "geo": null, "in_reply_to_user_id_str": null, "favorite_count": 0, "id_str": "86036855472128000"}, "utc_offset": null, "statuses_count": 10, "description": "", "friends_count": 4, "location": "", "profile_link_color": "0084B4", "profile_image_url": "http://a0.twimg.com/sticky/default_profile_images/default_profile_6_normal.png", "notifications": false, "verified": false, "geo_enabled": false, "profile_background_color": "C0DEED", "profile_background_image_url": "http://a0.twimg.com/images/themes/theme1/bg.png", "screen_name": "sethdroid", "lang": "en", "following": false, "profile_background_tile": false, "favourites_count": 0, "name": "Seth Droid", "url": null, "created_at": "Tue Apr 06 11:50:01 +0000 2010", "oauth_uid": "130129446", "profile_background_image_url_https": "https://si0.twimg.com/images/themes/theme1/bg.png", "time_zone": null, "protected": false, "oauth_token": "130129446-PCcEAgHSZlt6TBwn18MRxICxBcrubk1vPmKrzOjA", "default_profile": true, "is_translator": false, "fullname": "Seth Droid"}', None, None, u'sethdroid', None, u'tw', u'130129446', u'sethdroid', None, datetime.datetime(2013, 7, 28, 23, 2, 43, 377108), None, u'http://a0.twimg.com/sticky/default_profile_images/default_profile_6_normal.png', u'QOO51f460f57c582', u'130129446-PCcEAgHSZlt6TBwn18MRxICxBcrubk1vPmKrzOjA', '{"username": "sethdroid", "follow_request_sent": false, "thumbnailLarge": "http://a0.twimg.com/sticky/default_profile_images/default_profile_6_normal.png", "oauth_token_secret": "BM9GwN5hxMuRsuzQ3ktGnFkrjPvoNgWlQKtNdVp0K0", "contributors_enabled": false, "profile_use_background_image": true, "id": 130129446, "oauth_access_token": "130129446-PCcEAgHSZlt6TBwn18MRxICxBcrubk1vPmKrzOjA", "user_id": "130129446", "entities": {"description": {"urls": []}}, "profile_image_url_https": "https://si0.twimg.com/sticky/default_profile_images/default_profile_6_normal.png", "profile_sidebar_fill_color": "DDEEF6", "profile_text_color": "333333", "followers_count": 5, "profile_sidebar_border_color": "C0DEED", "id_str": "130129446", "default_profile_image": true, "email": "sethdroid", "listed_count": 0, "status": {"lang": "en", "favorited": false, "in_reply_to_user_id": null, "contributors": null, "truncated": false, "text": "#brooklynshould #getontheleaderboard", "created_at": "Wed Jun 29 11:42:39 +0000 2011", "retweeted": false, "in_reply_to_status_id": null, "coordinates": null, "id": 86036855472128000, "entities": {"symbols": [], "user_mentions": [], "hashtags": [{"indices": [0, 15], "text": "brooklynshould"}, {"indices": [16, 36], "text": "getontheleaderboard"}], "urls": []}, "in_reply_to_status_id_str": null, "in_reply_to_screen_name": null, "source": "web", "place": null, "retweet_count": 0, "geo": null, "in_reply_to_user_id_str": null, "favorite_count": 0, "id_str": "86036855472128000"}, "utc_offset": null, "statuses_count": 10, "description": "", "friends_count": 4, "location": "", "profile_link_color": "0084B4", "profile_image_url": "http://a0.twimg.com/sticky/default_profile_images/default_profile_6_normal.png", "notifications": false, "verified": false, "geo_enabled": false, "profile_background_color": "C0DEED", "profile_background_image_url": "http://a0.twimg.com/images/themes/theme1/bg.png", "screen_name": "sethdroid", "lang": "en", "following": false, "profile_background_tile": false, "favourites_count": 0, "name": "Seth Droid", "url": null, "created_at": "Tue Apr 06 11:50:01 +0000 2010", "oauth_uid": "130129446", "profile_background_image_url_https": "https://si0.twimg.com/images/themes/theme1/bg.png", "time_zone": null, "protected": false, "oauth_token": "130129446-PCcEAgHSZlt6TBwn18MRxICxBcrubk1vPmKrzOjA", "default_profile": true, "is_translator": false, "fullname": "Seth Droid"}']
DEBUG:root:
                INSERT INTO `user` 
                set id=NULL,role=NULL,email='sethdroid',password=NULL,oauth_provider='tw',oauth_uid='130129446',username='sethdroid',location=NULL,changeDate='2013-07-28 23:02:43',createDate='2013-07-28 23:02:43',thumbnailSmall=NULL,thumbnailLarge='http://a0.twimg.com/sticky/default_profile_images/default_profile_6_normal.png',oauth_session_id='QOO51f460f57c582',oauth_access_token='130129446-PCcEAgHSZlt6TBwn18MRxICxBcrubk1vPmKrzOjA',oauth_data='{\"username\": \"sethdroid\", \"follow_request_sent\": false, \"thumbnailLarge\": \"http://a0.twimg.com/sticky/default_profile_images/default_profile_6_normal.png\", \"oauth_token_secret\": \"BM9GwN5hxMuRsuzQ3ktGnFkrjPvoNgWlQKtNdVp0K0\", \"contributors_enabled\": false, \"profile_use_background_image\": true, \"id\": 130129446, \"oauth_access_token\": \"130129446-PCcEAgHSZlt6TBwn18MRxICxBcrubk1vPmKrzOjA\", \"user_id\": \"130129446\", \"entities\": {\"description\": {\"urls\": []}}, \"profile_image_url_https\": \"https://si0.twimg.com/sticky/default_profile_images/default_profile_6_normal.png\", \"profile_sidebar_fill_color\": \"DDEEF6\", \"profile_text_color\": \"333333\", \"followers_count\": 5, \"profile_sidebar_border_color\": \"C0DEED\", \"id_str\": \"130129446\", \"default_profile_image\": true, \"email\": \"sethdroid\", \"listed_count\": 0, \"status\": {\"lang\": \"en\", \"favorited\": false, \"in_reply_to_user_id\": null, \"contributors\": null, \"truncated\": false, \"text\": \"#brooklynshould #getontheleaderboard\", \"created_at\": \"Wed Jun 29 11:42:39 +0000 2011\", \"retweeted\": false, \"in_reply_to_status_id\": null, \"coordinates\": null, \"id\": 86036855472128000, \"entities\": {\"symbols\": [], \"user_mentions\": [], \"hashtags\": [{\"indices\": [0, 15], \"text\": \"brooklynshould\"}, {\"indices\": [16, 36], \"text\": \"getontheleaderboard\"}], \"urls\": []}, \"in_reply_to_status_id_str\": null, \"in_reply_to_screen_name\": null, \"source\": \"web\", \"place\": null, \"retweet_count\": 0, \"geo\": null, \"in_reply_to_user_id_str\": null, \"favorite_count\": 0, \"id_str\": \"86036855472128000\"}, \"utc_offset\": null, \"statuses_count\": 10, \"description\": \"\", \"friends_count\": 4, \"location\": \"\", \"profile_link_color\": \"0084B4\", \"profile_image_url\": \"http://a0.twimg.com/sticky/default_profile_images/default_profile_6_normal.png\", \"notifications\": false, \"verified\": false, \"geo_enabled\": false, \"profile_background_color\": \"C0DEED\", \"profile_background_image_url\": \"http://a0.twimg.com/images/themes/theme1/bg.png\", \"screen_name\": \"sethdroid\", \"lang\": \"en\", \"following\": false, \"profile_background_tile\": false, \"favourites_count\": 0, \"name\": \"Seth Droid\", \"url\": null, \"created_at\": \"Tue Apr 06 11:50:01 +0000 2010\", \"oauth_uid\": \"130129446\", \"profile_background_image_url_https\": \"https://si0.twimg.com/images/themes/theme1/bg.png\", \"time_zone\": null, \"protected\": false, \"oauth_token\": \"130129446-PCcEAgHSZlt6TBwn18MRxICxBcrubk1vPmKrzOjA\", \"default_profile\": true, \"is_translator\": false, \"fullname\": \"Seth Droid\"}',admin_role_qoorates=NULL 
                ON DUPLICATE KEY UPDATE
                role=NULL,email='sethdroid',password=NULL,oauth_provider='tw',oauth_uid='130129446',username='sethdroid',location=NULL,changeDate='2013-07-28 23:02:43',thumbnailSmall=NULL,thumbnailLarge='http://a0.twimg.com/sticky/default_profile_images/default_profile_6_normal.png',oauth_session_id='QOO51f460f57c582',oauth_access_token='130129446-PCcEAgHSZlt6TBwn18MRxICxBcrubk1vPmKrzOjA',oauth_data='{\"username\": \"sethdroid\", \"follow_request_sent\": false, \"thumbnailLarge\": \"http://a0.twimg.com/sticky/default_profile_images/default_profile_6_normal.png\", \"oauth_token_secret\": \"BM9GwN5hxMuRsuzQ3ktGnFkrjPvoNgWlQKtNdVp0K0\", \"contributors_enabled\": false, \"profile_use_background_image\": true, \"id\": 130129446, \"oauth_access_token\": \"130129446-PCcEAgHSZlt6TBwn18MRxICxBcrubk1vPmKrzOjA\", \"user_id\": \"130129446\", \"entities\": {\"description\": {\"urls\": []}}, \"profile_image_url_https\": \"https://si0.twimg.com/sticky/default_profile_images/default_profile_6_normal.png\", \"profile_sidebar_fill_color\": \"DDEEF6\", \"profile_text_color\": \"333333\", \"followers_count\": 5, \"profile_sidebar_border_color\": \"C0DEED\", \"id_str\": \"130129446\", \"default_profile_image\": true, \"email\": \"sethdroid\", \"listed_count\": 0, \"status\": {\"lang\": \"en\", \"favorited\": false, \"in_reply_to_user_id\": null, \"contributors\": null, \"truncated\": false, \"text\": \"#brooklynshould #getontheleaderboard\", \"created_at\": \"Wed Jun 29 11:42:39 +0000 2011\", \"retweeted\": false, \"in_reply_to_status_id\": null, \"coordinates\": null, \"id\": 86036855472128000, \"entities\": {\"symbols\": [], \"user_mentions\": [], \"hashtags\": [{\"indices\": [0, 15], \"text\": \"brooklynshould\"}, {\"indices\": [16, 36], \"text\": \"getontheleaderboard\"}], \"urls\": []}, \"in_reply_to_status_id_str\": null, \"in_reply_to_screen_name\": null, \"source\": \"web\", \"place\": null, \"retweet_count\": 0, \"geo\": null, \"in_reply_to_user_id_str\": null, \"favorite_count\": 0, \"id_str\": \"86036855472128000\"}, \"utc_offset\": null, \"statuses_count\": 10, \"description\": \"\", \"friends_count\": 4, \"location\": \"\", \"profile_link_color\": \"0084B4\", \"profile_image_url\": \"http://a0.twimg.com/sticky/default_profile_images/default_profile_6_normal.png\", \"notifications\": false, \"verified\": false, \"geo_enabled\": false, \"profile_background_color\": \"C0DEED\", \"profile_background_image_url\": \"http://a0.twimg.com/images/themes/theme1/bg.png\", \"screen_name\": \"sethdroid\", \"lang\": \"en\", \"following\": false, \"profile_background_tile\": false, \"favourites_count\": 0, \"name\": \"Seth Droid\", \"url\": null, \"created_at\": \"Tue Apr 06 11:50:01 +0000 2010\", \"oauth_uid\": \"130129446\", \"profile_background_image_url_https\": \"https://si0.twimg.com/images/themes/theme1/bg.png\", \"time_zone\": null, \"protected\": false, \"oauth_token\": \"130129446-PCcEAgHSZlt6TBwn18MRxICxBcrubk1vPmKrzOjA\", \"default_profile\": true, \"is_translator\": false, \"fullname\": \"Seth Droid\"}'
                
DEBUG:root:execute: 
                INSERT INTO `user` 
                set id=NULL,role=NULL,email='sethdroid',password=NULL,oauth_provider='tw',oauth_uid='130129446',username='sethdroid',location=NULL,changeDate='2013-07-28 23:02:43',createDate='2013-07-28 23:02:43',thumbnailSmall=NULL,thumbnailLarge='http://a0.twimg.com/sticky/default_profile_images/default_profile_6_normal.png',oauth_session_id='QOO51f460f57c582',oauth_access_token='130129446-PCcEAgHSZlt6TBwn18MRxICxBcrubk1vPmKrzOjA',oauth_data='{\"username\": \"sethdroid\", \"follow_request_sent\": false, \"thumbnailLarge\": \"http://a0.twimg.com/sticky/default_profile_images/default_profile_6_normal.png\", \"oauth_token_secret\": \"BM9GwN5hxMuRsuzQ3ktGnFkrjPvoNgWlQKtNdVp0K0\", \"contributors_enabled\": false, \"profile_use_background_image\": true, \"id\": 130129446, \"oauth_access_token\": \"130129446-PCcEAgHSZlt6TBwn18MRxICxBcrubk1vPmKrzOjA\", \"user_id\": \"130129446\", \"entities\": {\"description\": {\"urls\": []}}, \"profile_image_url_https\": \"https://si0.twimg.com/sticky/default_profile_images/default_profile_6_normal.png\", \"profile_sidebar_fill_color\": \"DDEEF6\", \"profile_text_color\": \"333333\", \"followers_count\": 5, \"profile_sidebar_border_color\": \"C0DEED\", \"id_str\": \"130129446\", \"default_profile_image\": true, \"email\": \"sethdroid\", \"listed_count\": 0, \"status\": {\"lang\": \"en\", \"favorited\": false, \"in_reply_to_user_id\": null, \"contributors\": null, \"truncated\": false, \"text\": \"#brooklynshould #getontheleaderboard\", \"created_at\": \"Wed Jun 29 11:42:39 +0000 2011\", \"retweeted\": false, \"in_reply_to_status_id\": null, \"coordinates\": null, \"id\": 86036855472128000, \"entities\": {\"symbols\": [], \"user_mentions\": [], \"hashtags\": [{\"indices\": [0, 15], \"text\": \"brooklynshould\"}, {\"indices\": [16, 36], \"text\": \"getontheleaderboard\"}], \"urls\": []}, \"in_reply_to_status_id_str\": null, \"in_reply_to_screen_name\": null, \"source\": \"web\", \"place\": null, \"retweet_count\": 0, \"geo\": null, \"in_reply_to_user_id_str\": null, \"favorite_count\": 0, \"id_str\": \"86036855472128000\"}, \"utc_offset\": null, \"statuses_count\": 10, \"description\": \"\", \"friends_count\": 4, \"location\": \"\", \"profile_link_color\": \"0084B4\", \"profile_image_url\": \"http://a0.twimg.com/sticky/default_profile_images/default_profile_6_normal.png\", \"notifications\": false, \"verified\": false, \"geo_enabled\": false, \"profile_background_color\": \"C0DEED\", \"profile_background_image_url\": \"http://a0.twimg.com/images/themes/theme1/bg.png\", \"screen_name\": \"sethdroid\", \"lang\": \"en\", \"following\": false, \"profile_background_tile\": false, \"favourites_count\": 0, \"name\": \"Seth Droid\", \"url\": null, \"created_at\": \"Tue Apr 06 11:50:01 +0000 2010\", \"oauth_uid\": \"130129446\", \"profile_background_image_url_https\": \"https://si0.twimg.com/images/themes/theme1/bg.png\", \"time_zone\": null, \"protected\": false, \"oauth_token\": \"130129446-PCcEAgHSZlt6TBwn18MRxICxBcrubk1vPmKrzOjA\", \"default_profile\": true, \"is_translator\": false, \"fullname\": \"Seth Droid\"}',admin_role_qoorates=NULL 
                ON DUPLICATE KEY UPDATE
                role=NULL,email='sethdroid',password=NULL,oauth_provider='tw',oauth_uid='130129446',username='sethdroid',location=NULL,changeDate='2013-07-28 23:02:43',thumbnailSmall=NULL,thumbnailLarge='http://a0.twimg.com/sticky/default_profile_images/default_profile_6_normal.png',oauth_session_id='QOO51f460f57c582',oauth_access_token='130129446-PCcEAgHSZlt6TBwn18MRxICxBcrubk1vPmKrzOjA',oauth_data='{\"username\": \"sethdroid\", \"follow_request_sent\": false, \"thumbnailLarge\": \"http://a0.twimg.com/sticky/default_profile_images/default_profile_6_normal.png\", \"oauth_token_secret\": \"BM9GwN5hxMuRsuzQ3ktGnFkrjPvoNgWlQKtNdVp0K0\", \"contributors_enabled\": false, \"profile_use_background_image\": true, \"id\": 130129446, \"oauth_access_token\": \"130129446-PCcEAgHSZlt6TBwn18MRxICxBcrubk1vPmKrzOjA\", \"user_id\": \"130129446\", \"entities\": {\"description\": {\"urls\": []}}, \"profile_image_url_https\": \"https://si0.twimg.com/sticky/default_profile_images/default_profile_6_normal.png\", \"profile_sidebar_fill_color\": \"DDEEF6\", \"profile_text_color\": \"333333\", \"followers_count\": 5, \"profile_sidebar_border_color\": \"C0DEED\", \"id_str\": \"130129446\", \"default_profile_image\": true, \"email\": \"sethdroid\", \"listed_count\": 0, \"status\": {\"lang\": \"en\", \"favorited\": false, \"in_reply_to_user_id\": null, \"contributors\": null, \"truncated\": false, \"text\": \"#brooklynshould #getontheleaderboard\", \"created_at\": \"Wed Jun 29 11:42:39 +0000 2011\", \"retweeted\": false, \"in_reply_to_status_id\": null, \"coordinates\": null, \"id\": 86036855472128000, \"entities\": {\"symbols\": [], \"user_mentions\": [], \"hashtags\": [{\"indices\": [0, 15], \"text\": \"brooklynshould\"}, {\"indices\": [16, 36], \"text\": \"getontheleaderboard\"}], \"urls\": []}, \"in_reply_to_status_id_str\": null, \"in_reply_to_screen_name\": null, \"source\": \"web\", \"place\": null, \"retweet_count\": 0, \"geo\": null, \"in_reply_to_user_id_str\": null, \"favorite_count\": 0, \"id_str\": \"86036855472128000\"}, \"utc_offset\": null, \"statuses_count\": 10, \"description\": \"\", \"friends_count\": 4, \"location\": \"\", \"profile_link_color\": \"0084B4\", \"profile_image_url\": \"http://a0.twimg.com/sticky/default_profile_images/default_profile_6_normal.png\", \"notifications\": false, \"verified\": false, \"geo_enabled\": false, \"profile_background_color\": \"C0DEED\", \"profile_background_image_url\": \"http://a0.twimg.com/images/themes/theme1/bg.png\", \"screen_name\": \"sethdroid\", \"lang\": \"en\", \"following\": false, \"profile_background_tile\": false, \"favourites_count\": 0, \"name\": \"Seth Droid\", \"url\": null, \"created_at\": \"Tue Apr 06 11:50:01 +0000 2010\", \"oauth_uid\": \"130129446\", \"profile_background_image_url_https\": \"https://si0.twimg.com/images/themes/theme1/bg.png\", \"time_zone\": null, \"protected\": false, \"oauth_token\": \"130129446-PCcEAgHSZlt6TBwn18MRxICxBcrubk1vPmKrzOjA\", \"default_profile\": true, \"is_translator\": false, \"fullname\": \"Seth Droid\"}'
                
DEBUG:root:MySqlApiQueryset create_one (status, affected_rows): (Updated, 2)
DEBUG:root:User persisted Updated -> User object
INFO:root:200 GET /q/oauth/twitter/callback (127.0.0.1)
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:set_table has q_short_name (12345)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x103d3add0>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has q_short_name (12345)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x103d420d0>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:feed.prepare, table: q_brooklyncode
DEBUG:root:FeedHandler post
DEBUG:root:Body -> 
 action=validateLogin&QOOID=QOO51f460f57c582&QOOTID=QOOT51f460f57c593&q_short_name=12345
DEBUG:root:Arguments -> 
 {"action": ["validateLogin"], "QOOID": ["QOO51f460f57c582"], "q_short_name": ["12345"], "QOOTID": ["QOOT51f460f57c593"]}
DEBUG:root:to_unicode
DEBUG:root:validateLogin
DEBUG:root:validateLogin
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:validateLogin
DEBUG:root:validateLogin
DEBUG:root:to_unicode
DEBUG:root:action: validateLogin
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x103d42210>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x103d42410>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x103d42610>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x103d42810>
INFO:root:200 POST /q/feed (127.0.0.1)
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:set_table has q_short_name (12345)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x103d42a10>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has q_short_name (12345)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x103d3a9d0>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:feed.prepare, table: q_brooklyncode
DEBUG:root:FeedHandler post
DEBUG:root:Body -> 
 replyComment=test&post_to=&action=shareItem&location=5e13bbb73127b9fc424e3728c6500f28&referer=http%3A%2F%2Flocalhost%3A8081%2F%3Fp%3D1&q_short_name=12345&QOOID=QOO51f460f57c582&QOOTID=QOOT51f460f57c593&itemId=2&relatedId=2
DEBUG:root:Arguments -> 
 {"itemId": ["2"], "QOOID": ["QOO51f460f57c582"], "QOOTID": ["QOOT51f460f57c593"], "q_short_name": ["12345"], "location": ["5e13bbb73127b9fc424e3728c6500f28"], "replyComment": ["test"], "action": ["shareItem"], "referer": ["http://localhost:8081/?p=1"], "relatedId": ["2"]}
DEBUG:root:to_unicode
DEBUG:root:shareItem
DEBUG:root:shareItem
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:shareItem
DEBUG:root:shareItem
DEBUG:root:to_unicode
DEBUG:root:action: shareItem
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x103d3aa50>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x103d3ac50>
DEBUG:root:perform_share_item
DEBUG:root:to_unicode
DEBUG:root:2
DEBUG:root:2
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:2
DEBUG:root:2
DEBUG:root:to_unicode
DEBUG:root:MySqlApiQueryset read_one
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:escape_sql sql: SELECT `id`,`locationId`,`relatedId`,`parentId`,`userId`,`type`,`name`,`location`,`description`,`voteCount`,`voteNumber`,`votesUp`,`votesDown`,`flagCount`,`childCount`,`sortOrder`,`status`,`thumbnailSmall`,`thumbnailLarge`,`referer`,`changeDate`,`createDate` FROM `q_brooklyncode` WHERE ID = %s
DEBUG:root:escape_sql args: [2]
DEBUG:root:SELECT `id`,`locationId`,`relatedId`,`parentId`,`userId`,`type`,`name`,`location`,`description`,`voteCount`,`voteNumber`,`votesUp`,`votesDown`,`flagCount`,`childCount`,`sortOrder`,`status`,`thumbnailSmall`,`thumbnailLarge`,`referer`,`changeDate`,`createDate` FROM `q_brooklyncode` WHERE ID = 2
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x103d3add0>
DEBUG:root:provider: twitter
DEBUG:root:{"username": "sethdroid", "follow_request_sent": false, "thumbnailLarge": "http://a0.twimg.com/sticky/default_profile_images/default_profile_6_normal.png", "oauth_token_secret": "BM9GwN5hxMuRsuzQ3ktGnFkrjPvoNgWlQKtNdVp0K0", "contributors_enabled": false, "profile_use_background_image": true, "id": 130129446, "oauth_access_token": "130129446-PCcEAgHSZlt6TBwn18MRxICxBcrubk1vPmKrzOjA", "user_id": "130129446", "entities": {"description": {"urls": []}}, "profile_image_url_https": "https://si0.twimg.com/sticky/default_profile_images/default_profile_6_normal.png", "profile_sidebar_fill_color": "DDEEF6", "profile_text_color": "333333", "followers_count": 5, "profile_sidebar_border_color": "C0DEED", "id_str": "130129446", "default_profile_image": true, "email": "sethdroid", "listed_count": 0, "status": {"lang": "en", "favorited": false, "in_reply_to_user_id": null, "contributors": null, "truncated": false, "text": "#brooklynshould #getontheleaderboard", "created_at": "Wed Jun 29 11:42:39 +0000 2011", "retweeted": false, "in_reply_to_status_id": null, "coordinates": null, "id": 86036855472128000, "entities": {"symbols": [], "user_mentions": [], "hashtags": [{"indices": [0, 15], "text": "brooklynshould"}, {"indices": [16, 36], "text": "getontheleaderboard"}], "urls": []}, "in_reply_to_status_id_str": null, "in_reply_to_screen_name": null, "source": "web", "place": null, "retweet_count": 0, "geo": null, "in_reply_to_user_id_str": null, "favorite_count": 0, "id_str": "86036855472128000"}, "utc_offset": null, "statuses_count": 10, "description": "", "friends_count": 4, "location": "", "profile_link_color": "0084B4", "profile_image_url": "http://a0.twimg.com/sticky/default_profile_images/default_profile_6_normal.png", "notifications": false, "verified": false, "geo_enabled": false, "profile_background_color": "C0DEED", "profile_background_image_url": "http://a0.twimg.com/images/themes/theme1/bg.png", "screen_name": "sethdroid", "lang": "en", "following": false, "profile_background_tile": false, "favourites_count": 0, "name": "Seth Droid", "url": null, "created_at": "Tue Apr 06 11:50:01 +0000 2010", "oauth_uid": "130129446", "profile_background_image_url_https": "https://si0.twimg.com/images/themes/theme1/bg.png", "time_zone": null, "protected": false, "oauth_token": "130129446-PCcEAgHSZlt6TBwn18MRxICxBcrubk1vPmKrzOjA", "default_profile": true, "is_translator": false, "fullname": "Seth Droid"}
DEBUG:root:MySqlApiQueryset read_one
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:escape_sql sql: SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE ID = %s
DEBUG:root:escape_sql args: [1]
DEBUG:root:SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE ID = 1
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x103d420d0>
DEBUG:root:to_unicode
DEBUG:root:test
DEBUG:root:test
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:test
DEBUG:root:test
DEBUG:root:to_unicode
DEBUG:root:_share, provider_tag: tw
DEBUG:root:_share, item.type: 1
DEBUG:root:_share, item.name: tester
DEBUG:root:_share, item.description: None
DEBUG:root:to_unicode
DEBUG:root:http://localhost:8081/?p=1
DEBUG:root:http://localhost:8081/?p=1
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:http://localhost:8081/?p=1
DEBUG:root:http://localhost:8081/?p=1
DEBUG:root:to_unicode
DEBUG:root:_share, self.referer: http://localhost:8081/?p=1
DEBUG:root:_share, self.itemId: 2
DEBUG:root:_share, self.replyComment: test
DEBUG:root:_request oauth_secret: BM9GwN5hxMuRsuzQ3ktGnFkrjPvoNgWlQKtNdVp0K0
DEBUG:root:oauth_token: 130129446-PCcEAgHSZlt6TBwn18MRxICxBcrubk1vPmKrzOjA
DEBUG:root:query_params -> 
{'status': u'test:\n\n"tester"\nhttp://localhost:8081/?p=1#q_brooklyncode-2', 'oauth_nonce': '61c730cc428464c09869fe136baca4cc', 'oauth_timestamp': '1375066971', 'oauth_consumer_key': 'Rx5YrdsnGslwNEpALTowYA', 'oauth_signature_method': 'HMAC-SHA1', 'oauth_version': '1.0', 'oauth_token': u'130129446-PCcEAgHSZlt6TBwn18MRxICxBcrubk1vPmKrzOjA'}
DEBUG:root:signature_base_string: POST&https%3A%2F%2Fapi.twitter.com%2F1.1%2Fstatuses%2Fupdate.json&oauth_consumer_key%3DRx5YrdsnGslwNEpALTowYA%26oauth_nonce%3D61c730cc428464c09869fe136baca4cc%26oauth_signature_method%3DHMAC-SHA1%26oauth_timestamp%3D1375066971%26oauth_token%3D130129446-PCcEAgHSZlt6TBwn18MRxICxBcrubk1vPmKrzOjA%26oauth_version%3D1.0%26status%3Dtest%253A%250A%250A%2522tester%2522%250Ahttp%253A%252F%252Flocalhost%253A8081%252F%253Fp%253D1%2523q_brooklyncode-2
DEBUG:root:signature_key: rJ5KZuTfumapW19O4IOdyKq0B5EIyFydGORkCas6Qg&BM9GwN5hxMuRsuzQ3ktGnFkrjPvoNgWlQKtNdVp0K0
DEBUG:root:oauth_signature: BP7SR4tbqfQpsfNrLK5+ve0W/T0=
DEBUG:root:Authorization: OAuth oauth_consumer_key="Rx5YrdsnGslwNEpALTowYA", oauth_nonce="61c730cc428464c09869fe136baca4cc", oauth_signature="BP7SR4tbqfQpsfNrLK5%2Bve0W%2FT0%3D", oauth_signature_method="HMAC-SHA1", oauth_timestamp="1375066971", oauth_token="130129446-PCcEAgHSZlt6TBwn18MRxICxBcrubk1vPmKrzOjA", oauth_version="1.0", status="test%3A%0A%0A%22tester%22%0Ahttp%3A%2F%2Flocalhost%3A8081%2F%3Fp%3D1%23q_brooklyncode-2"


INFO:requests.packages.urllib3.connectionpool:Starting new HTTPS connection (1): api.twitter.com
DEBUG:requests.packages.urllib3.connectionpool:"POST /1.1/statuses/update.json HTTP/1.1" 200 784
DEBUG:root:content -> 
{"in_reply_to_user_id_str":null,"contributors":null,"user":{"screen_name":"sethdroid","listed_count":0,"name":"Seth Droid","profile_background_tile":false,"geo_enabled":false,"following":false,"created_at":"Tue Apr 06 11:50:01 +0000 2010","profile_sidebar_fill_color":"DDEEF6","notifications":false,"statuses_count":11,"id":130129446,"profile_image_url":"http:\/\/a0.twimg.com\/sticky\/default_profile_images\/default_profile_6_normal.png","followers_count":5,"profile_background_color":"C0DEED","profile_background_image_url_https":"https:\/\/si0.twimg.com\/images\/themes\/theme1\/bg.png","default_profile_image":true,"favourites_count":0,"entities":{"description":{"urls":[]}},"profile_background_image_url":"http:\/\/a0.twimg.com\/images\/themes\/theme1\/bg.png","url":null,"friends_count":4,"utc_offset":null,"contributors_enabled":false,"is_translator":false,"profile_image_url_https":"https:\/\/si0.twimg.com\/sticky\/default_profile_images\/default_profile_6_normal.png","profile_link_color":"0084B4","location":null,"id_str":"130129446","protected":false,"description":null,"profile_use_background_image":true,"lang":"en","profile_text_color":"333333","time_zone":null,"follow_request_sent":false,"default_profile":true,"profile_sidebar_border_color":"C0DEED","verified":false},"in_reply_to_status_id":null,"in_reply_to_screen_name":null,"truncated":false,"source":"\u003Ca href=\"http:\/\/qoorate.sethmurphy.com\" rel=\"nofollow\"\u003EQoorate Test\u003C\/a\u003E","geo":null,"favorited":false,"id":361683189221179392,"created_at":"Mon Jul 29 03:02:46 +0000 2013","id_str":"361683189221179392","in_reply_to_user_id":null,"entities":{"hashtags":[],"user_mentions":[],"urls":[]},"coordinates":null,"retweet_count":0,"text":"test:\n\n\"tester\"\nhttp:\/\/localhost:8081\/?p=1#q_brooklyncode-2","place":null,"in_reply_to_status_id_str":null,"retweeted":false}
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:escape_sql args: []
DEBUG:root:
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x103d42210>
DEBUG:root:Number of contributions 8
INFO:root:200 POST /q/feed (127.0.0.1)
Mon, 29 Jul 2013 03:10:44 GMT [ERROR] (errno: No such file or directory) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 03:10:44 GMT [ERROR] (errno: None) Failed to create target for route /q/static/
Mon, 29 Jul 2013 03:10:44 GMT [ERROR] (errno: None) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 03:10:44 GMT [ERROR] (errno: None) Failed to create target for route /q/robots.txt
Mon, 29 Jul 2013 03:10:44 GMT [ERROR] (errno: None) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 03:10:44 GMT [ERROR] (errno: None) Failed to create target for route /q/favicon.ico
Mon, 29 Jul 2013 03:10:44 GMT [INFO] (src/mime.c:49) MAX limits.mime_ext_len=128
Mon, 29 Jul 2013 03:10:44 GMT [INFO] (src/host.c:74) MAX limits.url_path=256, limits.host_name=256
Mon, 29 Jul 2013 03:10:44 GMT [INFO] (src/config/config.c:109) Loaded proxy 1:127.0.0.1:8081
Mon, 29 Jul 2013 03:10:44 GMT [INFO] (src/config/config.c:227) Loaded route 1:/:proxy for host 1:localhost
Mon, 29 Jul 2013 03:10:44 GMT [INFO] (src/handler.c:343) MAX limits.handler_stack=102400
Mon, 29 Jul 2013 03:10:44 GMT [INFO] (src/config/config.c:85) Loaded handler 1:ipc://run/qoorateserver/mongrel2_send:137b789e-b7eb-475a-8d5c-b16ab54493yu:ipc://run/qoorateserver/mongrel2_rcv:
Mon, 29 Jul 2013 03:10:44 GMT [INFO] (src/config/config.c:227) Loaded route 2:/q/:handler for host 1:localhost
Mon, 29 Jul 2013 03:10:44 GMT [INFO] (src/dir.c:195) MAX limits.dir_send_buffer=16384, limits.dir_max_path=256
Mon, 29 Jul 2013 03:10:44 GMT [INFO] (src/config/config.c:136) Loaded directory 1:static/qoorateserver/js/:index.html
Mon, 29 Jul 2013 03:10:44 GMT [INFO] (src/config/config.c:227) Loaded route 3:/q/js/:dir for host 1:localhost
Mon, 29 Jul 2013 03:10:44 GMT [INFO] (src/config/config.c:136) Loaded directory 2:static/qoorateserver/css/:index.html
Mon, 29 Jul 2013 03:10:44 GMT [INFO] (src/config/config.c:227) Loaded route 4:/q/css/:dir for host 1:localhost
Mon, 29 Jul 2013 03:10:44 GMT [INFO] (src/config/config.c:136) Loaded directory 3:static/qoorateserver/img/:index.html
Mon, 29 Jul 2013 03:10:44 GMT [INFO] (src/config/config.c:227) Loaded route 5:/q/img/:dir for host 1:localhost
Mon, 29 Jul 2013 03:10:44 GMT [INFO] (src/config/config.c:312) Loaded 1 hosts for server 1:fe76e442-da24-4708-b0ef-c4ahr2b7d131
Mon, 29 Jul 2013 03:10:44 GMT [INFO] (src/server.c:445) LOADING Handler ipc://run/qoorateserver/mongrel2_send
Mon, 29 Jul 2013 03:10:44 GMT [ERROR] (src/unixy.c:99: errno: No such file or directory) Failed to open PID file ../run/mongrel2.pid for reading.
Mon, 29 Jul 2013 03:10:44 GMT [INFO] (src/unixy.c:137) No previous mongrel2 running, continuing on.
Mon, 29 Jul 2013 03:10:44 GMT [INFO] (src/mongrel2.c:223) All loaded up, time to turn into a server.
Mon, 29 Jul 2013 03:10:44 GMT [INFO] (src/mongrel2.c:224) -- Starting Mongrel2/1.8.1. Copyright (C) Zed A. Shaw. Licensed BSD.

Mon, 29 Jul 2013 03:10:44 GMT [INFO] (src/mongrel2.c:225) -- Look in logs/error.log for startup messages and errors.
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
INFO:root:Using project directory: .
DEBUG:root:loading settings from ./conf/uploader/settings.py
INFO:root:Using coroutine library: gevent
DEBUG:root:******** START _service_registration *********
DEBUG:root:service_registration_passphrase: 137b789e-b7eb-475a-8d5a-b16ab544yurp
DEBUG:root:service_id: uploader
DEBUG:root:service_registration_addr: ipc://run/uploader/brubeck_svc_registration
DEBUG:root:service_passphrase: 137b789e-b7eb-475a-8d5a-b16ab544yurp
DEBUG:root:service_addr: ipc://run/uploader/brubeck_svc
DEBUG:root:service_response_addr: ipc://run/uploader/brubeck_svc_response
DEBUG:root:service_heartbeat_addr: None
DEBUG:root:service_heartbeat_timeout: 5
DEBUG:root:sender_id: bd4eb5279eb74103a64ac8554c78817f
DEBUG:root:is_reregistration: 0
DEBUG:root:service_heartbeat_interval: 3
DEBUG:root:******** END _service_registration *********
DEBUG:root:register_service: (service_registration_addr, service_registration_passphrase,service_heartbeat_timeout,sender_id): (ipc://run/uploader/brubeck_svc_registration,137b789e-b7eb-475a-8d5a-b16ab544yurp, 5, bd4eb5279eb74103a64ac8554c78817f)
DEBUG:root:service_registration sending request
DEBUG:root:service_registration waiting for response
INFO:root:Using project directory: .
DEBUG:root:loading settings from ./conf/qoorateserver/development.py
INFO:root:Using coroutine library: gevent
DEBUG:root:creating application db_conn pool
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:get EmbedHandler
DEBUG:root:action: None 
DEBUG:root:set_table
DEBUG:root:unable to set_table
DEBUG:root:set_table
DEBUG:root:unable to set_table
DEBUG:root:set_table
DEBUG:root:unable to set_table
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [None]
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = NULL
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10c30e950>
DEBUG:root:set_table
DEBUG:root:unable to set_table
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [None]
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = NULL
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10c30e9d0>
DEBUG:root:qoorate missing
DEBUG:root:embed_content called (key,secret): (None,None)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = %s and `secret`= %s
        
DEBUG:root:escape_sql args: [None, None]
DEBUG:root:
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = NULL and `secret`= NULL
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10c30ebd0>
DEBUG:root:returning True from authencticate.
DEBUG:root:get_content_context
DEBUG:root:table: None
ERROR:root:table_name required parameter for CommentItemQueryset
Traceback (most recent call last):
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck-0.4.0-py2.7.egg/brubeck/request_handling.py", line 339, in __call__
    rendered = fun(*self._url_args)
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/embed.py", line 195, in get
    context = self.get_content_context()
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/embed.py", line 125, in get_content_context
    comments = self.comment_item_queryset.load_comments_by_table_and_location(self.table,
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/modules/brooklyncodebrubeck/application.py", line 22, in _lazyprop
    attr = method(self)
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/handlers/base.py", line 246, in comment_item_queryset
    self.table
  File "/Users/sethmurphy/src/qoorateserver/src/qoorateserver/querysets/querysets.py", line 35, in __init__
    raise Exception('table_name required parameter for CommentItemQueryset')
Exception: table_name required parameter for CommentItemQueryset
INFO:root:500 GET /q/embed (127.0.0.1)
Mon, 29 Jul 2013 03:13:53 GMT [ERROR] (errno: No such file or directory) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 03:13:53 GMT [ERROR] (errno: None) Failed to create target for route /q/static/
Mon, 29 Jul 2013 03:13:53 GMT [ERROR] (errno: None) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 03:13:53 GMT [ERROR] (errno: None) Failed to create target for route /q/robots.txt
Mon, 29 Jul 2013 03:13:53 GMT [ERROR] (errno: None) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 03:13:53 GMT [ERROR] (errno: None) Failed to create target for route /q/favicon.ico
Mon, 29 Jul 2013 03:13:54 GMT [INFO] (src/mime.c:49) MAX limits.mime_ext_len=128
Mon, 29 Jul 2013 03:13:54 GMT [INFO] (src/host.c:74) MAX limits.url_path=256, limits.host_name=256
Mon, 29 Jul 2013 03:13:54 GMT [INFO] (src/config/config.c:109) Loaded proxy 1:127.0.0.1:8081
Mon, 29 Jul 2013 03:13:54 GMT [INFO] (src/config/config.c:227) Loaded route 1:/:proxy for host 1:localhost
Mon, 29 Jul 2013 03:13:54 GMT [INFO] (src/handler.c:343) MAX limits.handler_stack=102400
Mon, 29 Jul 2013 03:13:54 GMT [INFO] (src/config/config.c:85) Loaded handler 1:ipc://run/qoorateserver/mongrel2_send:137b789e-b7eb-475a-8d5c-b16ab54493yu:ipc://run/qoorateserver/mongrel2_rcv:
Mon, 29 Jul 2013 03:13:54 GMT [INFO] (src/config/config.c:227) Loaded route 2:/q/:handler for host 1:localhost
Mon, 29 Jul 2013 03:13:54 GMT [INFO] (src/dir.c:195) MAX limits.dir_send_buffer=16384, limits.dir_max_path=256
Mon, 29 Jul 2013 03:13:54 GMT [INFO] (src/config/config.c:136) Loaded directory 1:static/qoorateserver/js/:index.html
Mon, 29 Jul 2013 03:13:54 GMT [INFO] (src/config/config.c:227) Loaded route 3:/q/js/:dir for host 1:localhost
Mon, 29 Jul 2013 03:13:54 GMT [INFO] (src/config/config.c:136) Loaded directory 2:static/qoorateserver/css/:index.html
Mon, 29 Jul 2013 03:13:54 GMT [INFO] (src/config/config.c:227) Loaded route 4:/q/css/:dir for host 1:localhost
Mon, 29 Jul 2013 03:13:54 GMT [INFO] (src/config/config.c:136) Loaded directory 3:static/qoorateserver/img/:index.html
Mon, 29 Jul 2013 03:13:54 GMT [INFO] (src/config/config.c:227) Loaded route 5:/q/img/:dir for host 1:localhost
Mon, 29 Jul 2013 03:13:54 GMT [INFO] (src/config/config.c:312) Loaded 1 hosts for server 1:fe76e442-da24-4708-b0ef-c4ahr2b7d131
Mon, 29 Jul 2013 03:13:54 GMT [INFO] (src/server.c:445) LOADING Handler ipc://run/qoorateserver/mongrel2_send
Mon, 29 Jul 2013 03:13:54 GMT [ERROR] (src/unixy.c:99: errno: No such file or directory) Failed to open PID file ../run/mongrel2.pid for reading.
Mon, 29 Jul 2013 03:13:54 GMT [INFO] (src/unixy.c:137) No previous mongrel2 running, continuing on.
Mon, 29 Jul 2013 03:13:54 GMT [INFO] (src/mongrel2.c:223) All loaded up, time to turn into a server.
Mon, 29 Jul 2013 03:13:54 GMT [INFO] (src/mongrel2.c:224) -- Starting Mongrel2/1.8.1. Copyright (C) Zed A. Shaw. Licensed BSD.

Mon, 29 Jul 2013 03:13:54 GMT [INFO] (src/mongrel2.c:225) -- Look in logs/error.log for startup messages and errors.
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
INFO:root:Using project directory: .
DEBUG:root:loading settings from ./conf/uploader/settings.py
INFO:root:Using coroutine library: gevent
DEBUG:root:******** START _service_registration *********
DEBUG:root:service_registration_passphrase: 137b789e-b7eb-475a-8d5a-b16ab544yurp
DEBUG:root:service_id: uploader
DEBUG:root:service_registration_addr: ipc://run/uploader/brubeck_svc_registration
DEBUG:root:service_passphrase: 137b789e-b7eb-475a-8d5a-b16ab544yurp
DEBUG:root:service_addr: ipc://run/uploader/brubeck_svc
DEBUG:root:service_response_addr: ipc://run/uploader/brubeck_svc_response
DEBUG:root:service_heartbeat_addr: None
DEBUG:root:service_heartbeat_timeout: 5
DEBUG:root:sender_id: f386af9f9d5a4ae99778300e8b634d2a
DEBUG:root:is_reregistration: 0
DEBUG:root:service_heartbeat_interval: 3
DEBUG:root:******** END _service_registration *********
DEBUG:root:register_service: (service_registration_addr, service_registration_passphrase,service_heartbeat_timeout,sender_id): (ipc://run/uploader/brubeck_svc_registration,137b789e-b7eb-475a-8d5a-b16ab544yurp, 5, f386af9f9d5a4ae99778300e8b634d2a)
DEBUG:root:service_registration sending request
DEBUG:root:service_registration waiting for response
INFO:root:Using project directory: .
DEBUG:root:loading settings from ./conf/qoorateserver/development.py
INFO:root:Using coroutine library: gevent
DEBUG:root:creating application db_conn pool
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:get EmbedHandler
DEBUG:root:action: None 
DEBUG:root:set_table
DEBUG:root:unable to set_table
DEBUG:root:set_table
DEBUG:root:unable to set_table
DEBUG:root:set_table
DEBUG:root:unable to set_table
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [None]
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = NULL
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10e4f6a50>
DEBUG:root:set_table
DEBUG:root:unable to set_table
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [None]
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = NULL
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10e4f6ad0>
DEBUG:root:qoorate missing
DEBUG:root:embed_content called (key,secret): (None,None)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = %s and `secret`= %s
        
DEBUG:root:escape_sql args: [None, None]
DEBUG:root:
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = NULL and `secret`= NULL
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10e4f6cd0>
DEBUG:root:returning True from authencticate.
DEBUG:root:get_content_context
DEBUG:root:table: None
INFO:root:-1 GET /q/embed (127.0.0.1)
DEBUG:root:Handler had no return value: <bound method EmbedHandler.get of <qoorateserver.handlers.embed.EmbedHandler object at 0x10e501fd0>>
DEBUG:root:get EmbedHandler
DEBUG:root:action: None 
DEBUG:root:set_table
DEBUG:root:unable to set_table
DEBUG:root:set_table
DEBUG:root:unable to set_table
DEBUG:root:set_table
DEBUG:root:unable to set_table
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [None]
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = NULL
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10e4f6e50>
DEBUG:root:set_table
DEBUG:root:unable to set_table
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [None]
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = NULL
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10e501090>
DEBUG:root:qoorate missing
DEBUG:root:embed_content called (key,secret): (None,None)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = %s and `secret`= %s
        
DEBUG:root:escape_sql args: [None, None]
DEBUG:root:
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = NULL and `secret`= NULL
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10e501290>
DEBUG:root:returning True from authencticate.
DEBUG:root:get_content_context
DEBUG:root:table: None
INFO:root:-1 GET /q/embed (127.0.0.1)
DEBUG:root:Handler had no return value: <bound method EmbedHandler.get of <qoorateserver.handlers.embed.EmbedHandler object at 0x10e562bd0>>
Mon, 29 Jul 2013 03:25:18 GMT [ERROR] (errno: No such file or directory) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 03:25:18 GMT [ERROR] (errno: None) Failed to create target for route /q/static/
Mon, 29 Jul 2013 03:25:18 GMT [ERROR] (errno: None) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 03:25:18 GMT [ERROR] (errno: None) Failed to create target for route /q/robots.txt
Mon, 29 Jul 2013 03:25:18 GMT [ERROR] (errno: None) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 03:25:18 GMT [ERROR] (errno: None) Failed to create target for route /q/favicon.ico
Mon, 29 Jul 2013 03:25:18 GMT [INFO] (src/mime.c:49) MAX limits.mime_ext_len=128
Mon, 29 Jul 2013 03:25:18 GMT [INFO] (src/host.c:74) MAX limits.url_path=256, limits.host_name=256
Mon, 29 Jul 2013 03:25:18 GMT [INFO] (src/config/config.c:109) Loaded proxy 1:127.0.0.1:8081
Mon, 29 Jul 2013 03:25:18 GMT [INFO] (src/config/config.c:227) Loaded route 1:/:proxy for host 1:localhost
Mon, 29 Jul 2013 03:25:18 GMT [INFO] (src/handler.c:343) MAX limits.handler_stack=102400
Mon, 29 Jul 2013 03:25:18 GMT [INFO] (src/config/config.c:85) Loaded handler 1:ipc://run/qoorateserver/mongrel2_send:137b789e-b7eb-475a-8d5c-b16ab54493yu:ipc://run/qoorateserver/mongrel2_rcv:
Mon, 29 Jul 2013 03:25:18 GMT [INFO] (src/config/config.c:227) Loaded route 2:/q/:handler for host 1:localhost
Mon, 29 Jul 2013 03:25:18 GMT [INFO] (src/dir.c:195) MAX limits.dir_send_buffer=16384, limits.dir_max_path=256
Mon, 29 Jul 2013 03:25:18 GMT [INFO] (src/config/config.c:136) Loaded directory 1:static/qoorateserver/js/:index.html
Mon, 29 Jul 2013 03:25:18 GMT [INFO] (src/config/config.c:227) Loaded route 3:/q/js/:dir for host 1:localhost
Mon, 29 Jul 2013 03:25:18 GMT [INFO] (src/config/config.c:136) Loaded directory 2:static/qoorateserver/css/:index.html
Mon, 29 Jul 2013 03:25:18 GMT [INFO] (src/config/config.c:227) Loaded route 4:/q/css/:dir for host 1:localhost
Mon, 29 Jul 2013 03:25:18 GMT [INFO] (src/config/config.c:136) Loaded directory 3:static/qoorateserver/img/:index.html
Mon, 29 Jul 2013 03:25:18 GMT [INFO] (src/config/config.c:227) Loaded route 5:/q/img/:dir for host 1:localhost
Mon, 29 Jul 2013 03:25:18 GMT [INFO] (src/config/config.c:312) Loaded 1 hosts for server 1:fe76e442-da24-4708-b0ef-c4ahr2b7d131
Mon, 29 Jul 2013 03:25:18 GMT [INFO] (src/server.c:445) LOADING Handler ipc://run/qoorateserver/mongrel2_send
Mon, 29 Jul 2013 03:25:18 GMT [ERROR] (src/unixy.c:99: errno: No such file or directory) Failed to open PID file ../run/mongrel2.pid for reading.
Mon, 29 Jul 2013 03:25:18 GMT [INFO] (src/unixy.c:137) No previous mongrel2 running, continuing on.
Mon, 29 Jul 2013 03:25:18 GMT [INFO] (src/mongrel2.c:223) All loaded up, time to turn into a server.
Mon, 29 Jul 2013 03:25:18 GMT [INFO] (src/mongrel2.c:224) -- Starting Mongrel2/1.8.1. Copyright (C) Zed A. Shaw. Licensed BSD.

Mon, 29 Jul 2013 03:25:18 GMT [INFO] (src/mongrel2.c:225) -- Look in logs/error.log for startup messages and errors.
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
INFO:root:Using project directory: .
DEBUG:root:loading settings from ./conf/uploader/settings.py
INFO:root:Using coroutine library: gevent
DEBUG:root:******** START _service_registration *********
DEBUG:root:service_registration_passphrase: 137b789e-b7eb-475a-8d5a-b16ab544yurp
DEBUG:root:service_id: uploader
DEBUG:root:service_registration_addr: ipc://run/uploader/brubeck_svc_registration
DEBUG:root:service_passphrase: 137b789e-b7eb-475a-8d5a-b16ab544yurp
DEBUG:root:service_addr: ipc://run/uploader/brubeck_svc
DEBUG:root:service_response_addr: ipc://run/uploader/brubeck_svc_response
DEBUG:root:service_heartbeat_addr: None
DEBUG:root:service_heartbeat_timeout: 5
DEBUG:root:sender_id: a936c84ed6874af080f1c4480da02022
DEBUG:root:is_reregistration: 0
DEBUG:root:service_heartbeat_interval: 3
DEBUG:root:******** END _service_registration *********
DEBUG:root:register_service: (service_registration_addr, service_registration_passphrase,service_heartbeat_timeout,sender_id): (ipc://run/uploader/brubeck_svc_registration,137b789e-b7eb-475a-8d5a-b16ab544yurp, 5, a936c84ed6874af080f1c4480da02022)
DEBUG:root:service_registration sending request
DEBUG:root:service_registration waiting for response
INFO:root:Using project directory: .
DEBUG:root:loading settings from ./conf/qoorateserver/development.py
INFO:root:Using coroutine library: gevent
DEBUG:root:creating application db_conn pool
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:get EmbedHandler
DEBUG:root:action: None 
DEBUG:root:set_table
DEBUG:root:unable to set_table
DEBUG:root:set_table
DEBUG:root:unable to set_table
DEBUG:root:set_table
DEBUG:root:unable to set_table
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [None]
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = NULL
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x102749a10>
DEBUG:root:set_table
DEBUG:root:unable to set_table
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [None]
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = NULL
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x102749a90>
DEBUG:root:qoorate missing
DEBUG:root:embed_content called (key,secret): (None,None)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = %s and `secret`= %s
        
DEBUG:root:escape_sql args: [None, None]
DEBUG:root:
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = NULL and `secret`= NULL
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x102749c90>
DEBUG:root:returning True from authencticate.
DEBUG:root:get_content_context
DEBUG:root:table: None
INFO:root:-1 GET /q/embed (127.0.0.1)
DEBUG:root:Handler had no return value: <bound method EmbedHandler.get of <qoorateserver.handlers.embed.EmbedHandler object at 0x102752f90>>
Mon, 29 Jul 2013 03:26:07 GMT [ERROR] (errno: No such file or directory) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 03:26:07 GMT [ERROR] (errno: None) Failed to create target for route /q/static/
Mon, 29 Jul 2013 03:26:07 GMT [ERROR] (errno: None) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 03:26:07 GMT [ERROR] (errno: None) Failed to create target for route /q/robots.txt
Mon, 29 Jul 2013 03:26:07 GMT [ERROR] (errno: None) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 03:26:07 GMT [ERROR] (errno: None) Failed to create target for route /q/favicon.ico
Mon, 29 Jul 2013 03:26:07 GMT [INFO] (src/mime.c:49) MAX limits.mime_ext_len=128
Mon, 29 Jul 2013 03:26:07 GMT [INFO] (src/host.c:74) MAX limits.url_path=256, limits.host_name=256
Mon, 29 Jul 2013 03:26:07 GMT [INFO] (src/config/config.c:109) Loaded proxy 1:127.0.0.1:8081
Mon, 29 Jul 2013 03:26:07 GMT [INFO] (src/config/config.c:227) Loaded route 1:/:proxy for host 1:localhost
Mon, 29 Jul 2013 03:26:07 GMT [INFO] (src/handler.c:343) MAX limits.handler_stack=102400
Mon, 29 Jul 2013 03:26:07 GMT [INFO] (src/config/config.c:85) Loaded handler 1:ipc://run/qoorateserver/mongrel2_send:137b789e-b7eb-475a-8d5c-b16ab54493yu:ipc://run/qoorateserver/mongrel2_rcv:
Mon, 29 Jul 2013 03:26:07 GMT [INFO] (src/config/config.c:227) Loaded route 2:/q/:handler for host 1:localhost
Mon, 29 Jul 2013 03:26:07 GMT [INFO] (src/dir.c:195) MAX limits.dir_send_buffer=16384, limits.dir_max_path=256
Mon, 29 Jul 2013 03:26:07 GMT [INFO] (src/config/config.c:136) Loaded directory 1:static/qoorateserver/js/:index.html
Mon, 29 Jul 2013 03:26:07 GMT [INFO] (src/config/config.c:227) Loaded route 3:/q/js/:dir for host 1:localhost
Mon, 29 Jul 2013 03:26:07 GMT [INFO] (src/config/config.c:136) Loaded directory 2:static/qoorateserver/css/:index.html
Mon, 29 Jul 2013 03:26:07 GMT [INFO] (src/config/config.c:227) Loaded route 4:/q/css/:dir for host 1:localhost
Mon, 29 Jul 2013 03:26:07 GMT [INFO] (src/config/config.c:136) Loaded directory 3:static/qoorateserver/img/:index.html
Mon, 29 Jul 2013 03:26:07 GMT [INFO] (src/config/config.c:227) Loaded route 5:/q/img/:dir for host 1:localhost
Mon, 29 Jul 2013 03:26:07 GMT [INFO] (src/config/config.c:312) Loaded 1 hosts for server 1:fe76e442-da24-4708-b0ef-c4ahr2b7d131
Mon, 29 Jul 2013 03:26:07 GMT [INFO] (src/server.c:445) LOADING Handler ipc://run/qoorateserver/mongrel2_send
Mon, 29 Jul 2013 03:26:07 GMT [ERROR] (src/unixy.c:99: errno: No such file or directory) Failed to open PID file ../run/mongrel2.pid for reading.
Mon, 29 Jul 2013 03:26:07 GMT [INFO] (src/unixy.c:137) No previous mongrel2 running, continuing on.
Mon, 29 Jul 2013 03:26:07 GMT [INFO] (src/mongrel2.c:223) All loaded up, time to turn into a server.
Mon, 29 Jul 2013 03:26:07 GMT [INFO] (src/mongrel2.c:224) -- Starting Mongrel2/1.8.1. Copyright (C) Zed A. Shaw. Licensed BSD.

Mon, 29 Jul 2013 03:26:07 GMT [INFO] (src/mongrel2.c:225) -- Look in logs/error.log for startup messages and errors.
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
INFO:root:Using project directory: .
DEBUG:root:loading settings from ./conf/uploader/settings.py
INFO:root:Using coroutine library: gevent
DEBUG:root:******** START _service_registration *********
DEBUG:root:service_registration_passphrase: 137b789e-b7eb-475a-8d5a-b16ab544yurp
DEBUG:root:service_id: uploader
DEBUG:root:service_registration_addr: ipc://run/uploader/brubeck_svc_registration
DEBUG:root:service_passphrase: 137b789e-b7eb-475a-8d5a-b16ab544yurp
DEBUG:root:service_addr: ipc://run/uploader/brubeck_svc
DEBUG:root:service_response_addr: ipc://run/uploader/brubeck_svc_response
DEBUG:root:service_heartbeat_addr: None
DEBUG:root:service_heartbeat_timeout: 5
DEBUG:root:sender_id: 00ea74ad002b4282ba0949ff0ccf0794
DEBUG:root:is_reregistration: 0
DEBUG:root:service_heartbeat_interval: 3
DEBUG:root:******** END _service_registration *********
DEBUG:root:register_service: (service_registration_addr, service_registration_passphrase,service_heartbeat_timeout,sender_id): (ipc://run/uploader/brubeck_svc_registration,137b789e-b7eb-475a-8d5a-b16ab544yurp, 5, 00ea74ad002b4282ba0949ff0ccf0794)
DEBUG:root:service_registration sending request
DEBUG:root:service_registration waiting for response
INFO:root:Using project directory: .
DEBUG:root:loading settings from ./conf/qoorateserver/development.py
INFO:root:Using coroutine library: gevent
DEBUG:root:creating application db_conn pool
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:get EmbedHandler
DEBUG:root:action: None 
DEBUG:root:set_table
DEBUG:root:unable to set_table
DEBUG:root:set_table
DEBUG:root:unable to set_table
DEBUG:root:set_table
DEBUG:root:unable to set_table
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [None]
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = NULL
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10d48da50>
DEBUG:root:set_table
DEBUG:root:unable to set_table
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [None]
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = NULL
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10d48dad0>
DEBUG:root:qoorate missing
DEBUG:root:embed_content called (key,secret): (None,None)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = %s and `secret`= %s
        
DEBUG:root:escape_sql args: [None, None]
DEBUG:root:
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = NULL and `secret`= NULL
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x10d48dcd0>
DEBUG:root:returning True from authencticate.
DEBUG:root:get_content_context
DEBUG:root:table: None
INFO:root:-1 GET /q/embed (127.0.0.1)
INFO:root:200 GET /q/ (127.0.0.1)
INFO:root:200 GET /q/sss (127.0.0.1)
DEBUG:root:set_table
DEBUG:root:unable to set_table
DEBUG:root:set_table
DEBUG:root:unable to set_table
DEBUG:root:set_table
DEBUG:root:unable to set_table
ERROR:root:render_error() got an unexpected keyword argument 'error_handler'
Traceback (most recent call last):
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck-0.4.0-py2.7.egg/brubeck/request_handling.py", line 339, in __call__
    rendered = fun(*self._url_args)
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck-0.4.0-py2.7.egg/brubeck/request_handling.py", line 419, in unsupported
    return self.render_error(self._NOT_ALLOWED, error_handler=allow_header)
TypeError: render_error() got an unexpected keyword argument 'error_handler'
INFO:root:500 GET /q/feed (127.0.0.1)
Mon, 29 Jul 2013 03:29:16 GMT [ERROR] (errno: No such file or directory) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 03:29:16 GMT [ERROR] (errno: None) Failed to create target for route /q/static/
Mon, 29 Jul 2013 03:29:16 GMT [ERROR] (errno: None) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 03:29:16 GMT [ERROR] (errno: None) Failed to create target for route /q/robots.txt
Mon, 29 Jul 2013 03:29:16 GMT [ERROR] (errno: None) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 03:29:16 GMT [ERROR] (errno: None) Failed to create target for route /q/favicon.ico
Mon, 29 Jul 2013 03:29:16 GMT [INFO] (src/mime.c:49) MAX limits.mime_ext_len=128
Mon, 29 Jul 2013 03:29:16 GMT [INFO] (src/host.c:74) MAX limits.url_path=256, limits.host_name=256
Mon, 29 Jul 2013 03:29:16 GMT [INFO] (src/config/config.c:109) Loaded proxy 1:127.0.0.1:8081
Mon, 29 Jul 2013 03:29:16 GMT [INFO] (src/config/config.c:227) Loaded route 1:/:proxy for host 1:localhost
Mon, 29 Jul 2013 03:29:16 GMT [INFO] (src/handler.c:343) MAX limits.handler_stack=102400
Mon, 29 Jul 2013 03:29:16 GMT [INFO] (src/config/config.c:85) Loaded handler 1:ipc://run/qoorateserver/mongrel2_send:137b789e-b7eb-475a-8d5c-b16ab54493yu:ipc://run/qoorateserver/mongrel2_rcv:
Mon, 29 Jul 2013 03:29:16 GMT [INFO] (src/config/config.c:227) Loaded route 2:/q/:handler for host 1:localhost
Mon, 29 Jul 2013 03:29:16 GMT [INFO] (src/dir.c:195) MAX limits.dir_send_buffer=16384, limits.dir_max_path=256
Mon, 29 Jul 2013 03:29:16 GMT [INFO] (src/config/config.c:136) Loaded directory 1:static/qoorateserver/js/:index.html
Mon, 29 Jul 2013 03:29:16 GMT [INFO] (src/config/config.c:227) Loaded route 3:/q/js/:dir for host 1:localhost
Mon, 29 Jul 2013 03:29:16 GMT [INFO] (src/config/config.c:136) Loaded directory 2:static/qoorateserver/css/:index.html
Mon, 29 Jul 2013 03:29:16 GMT [INFO] (src/config/config.c:227) Loaded route 4:/q/css/:dir for host 1:localhost
Mon, 29 Jul 2013 03:29:16 GMT [INFO] (src/config/config.c:136) Loaded directory 3:static/qoorateserver/img/:index.html
Mon, 29 Jul 2013 03:29:16 GMT [INFO] (src/config/config.c:227) Loaded route 5:/q/img/:dir for host 1:localhost
Mon, 29 Jul 2013 03:29:16 GMT [INFO] (src/config/config.c:312) Loaded 1 hosts for server 1:fe76e442-da24-4708-b0ef-c4ahr2b7d131
Mon, 29 Jul 2013 03:29:16 GMT [INFO] (src/server.c:445) LOADING Handler ipc://run/qoorateserver/mongrel2_send
Mon, 29 Jul 2013 03:29:16 GMT [ERROR] (src/unixy.c:99: errno: No such file or directory) Failed to open PID file ../run/mongrel2.pid for reading.
Mon, 29 Jul 2013 03:29:16 GMT [INFO] (src/unixy.c:137) No previous mongrel2 running, continuing on.
Mon, 29 Jul 2013 03:29:16 GMT [INFO] (src/mongrel2.c:223) All loaded up, time to turn into a server.
Mon, 29 Jul 2013 03:29:16 GMT [INFO] (src/mongrel2.c:224) -- Starting Mongrel2/1.8.1. Copyright (C) Zed A. Shaw. Licensed BSD.

Mon, 29 Jul 2013 03:29:16 GMT [INFO] (src/mongrel2.c:225) -- Look in logs/error.log for startup messages and errors.
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
INFO:root:Using project directory: .
DEBUG:root:loading settings from ./conf/uploader/settings.py
INFO:root:Using coroutine library: gevent
DEBUG:root:******** START _service_registration *********
DEBUG:root:service_registration_passphrase: 137b789e-b7eb-475a-8d5a-b16ab544yurp
DEBUG:root:service_id: uploader
DEBUG:root:service_registration_addr: ipc://run/uploader/brubeck_svc_registration
DEBUG:root:service_passphrase: 137b789e-b7eb-475a-8d5a-b16ab544yurp
DEBUG:root:service_addr: ipc://run/uploader/brubeck_svc
DEBUG:root:service_response_addr: ipc://run/uploader/brubeck_svc_response
DEBUG:root:service_heartbeat_addr: None
DEBUG:root:service_heartbeat_timeout: 5
DEBUG:root:sender_id: 774e7a94da9a43afae166803999be056
DEBUG:root:is_reregistration: 0
DEBUG:root:service_heartbeat_interval: 3
DEBUG:root:******** END _service_registration *********
DEBUG:root:register_service: (service_registration_addr, service_registration_passphrase,service_heartbeat_timeout,sender_id): (ipc://run/uploader/brubeck_svc_registration,137b789e-b7eb-475a-8d5a-b16ab544yurp, 5, 774e7a94da9a43afae166803999be056)
DEBUG:root:service_registration sending request
DEBUG:root:service_registration waiting for response
INFO:root:Using project directory: .
DEBUG:root:loading settings from ./conf/qoorateserver/development.py
INFO:root:Using coroutine library: gevent
DEBUG:root:creating application db_conn pool
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:set_table
DEBUG:root:unable to set_table
DEBUG:root:set_table
DEBUG:root:unable to set_table
DEBUG:root:set_table
DEBUG:root:unable to set_table
ERROR:root:render_error() got an unexpected keyword argument 'error_handler'
Traceback (most recent call last):
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck-0.4.0-py2.7.egg/brubeck/request_handling.py", line 339, in __call__
    rendered = fun(*self._url_args)
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck-0.4.0-py2.7.egg/brubeck/request_handling.py", line 419, in unsupported
    return self.render_error(self._NOT_ALLOWED, error_handler=allow_header)
TypeError: render_error() got an unexpected keyword argument 'error_handler'
INFO:root:500 GET /q/feed (127.0.0.1)
Mon, 29 Jul 2013 03:32:53 GMT [ERROR] (errno: No such file or directory) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 03:32:53 GMT [ERROR] (errno: None) Failed to create target for route /q/static/
Mon, 29 Jul 2013 03:32:53 GMT [ERROR] (errno: None) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 03:32:53 GMT [ERROR] (errno: None) Failed to create target for route /q/robots.txt
Mon, 29 Jul 2013 03:32:53 GMT [ERROR] (errno: None) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 03:32:53 GMT [ERROR] (errno: None) Failed to create target for route /q/favicon.ico
Mon, 29 Jul 2013 03:32:53 GMT [INFO] (src/mime.c:49) MAX limits.mime_ext_len=128
Mon, 29 Jul 2013 03:32:53 GMT [INFO] (src/host.c:74) MAX limits.url_path=256, limits.host_name=256
Mon, 29 Jul 2013 03:32:53 GMT [INFO] (src/config/config.c:109) Loaded proxy 1:127.0.0.1:8081
Mon, 29 Jul 2013 03:32:53 GMT [INFO] (src/config/config.c:227) Loaded route 1:/:proxy for host 1:localhost
Mon, 29 Jul 2013 03:32:53 GMT [INFO] (src/handler.c:343) MAX limits.handler_stack=102400
Mon, 29 Jul 2013 03:32:53 GMT [INFO] (src/config/config.c:85) Loaded handler 1:ipc://run/qoorateserver/mongrel2_send:137b789e-b7eb-475a-8d5c-b16ab54493yu:ipc://run/qoorateserver/mongrel2_rcv:
Mon, 29 Jul 2013 03:32:53 GMT [INFO] (src/config/config.c:227) Loaded route 2:/q/:handler for host 1:localhost
Mon, 29 Jul 2013 03:32:53 GMT [INFO] (src/dir.c:195) MAX limits.dir_send_buffer=16384, limits.dir_max_path=256
Mon, 29 Jul 2013 03:32:53 GMT [INFO] (src/config/config.c:136) Loaded directory 1:static/qoorateserver/js/:index.html
Mon, 29 Jul 2013 03:32:53 GMT [INFO] (src/config/config.c:227) Loaded route 3:/q/js/:dir for host 1:localhost
Mon, 29 Jul 2013 03:32:53 GMT [INFO] (src/config/config.c:136) Loaded directory 2:static/qoorateserver/css/:index.html
Mon, 29 Jul 2013 03:32:53 GMT [INFO] (src/config/config.c:227) Loaded route 4:/q/css/:dir for host 1:localhost
Mon, 29 Jul 2013 03:32:53 GMT [INFO] (src/config/config.c:136) Loaded directory 3:static/qoorateserver/img/:index.html
Mon, 29 Jul 2013 03:32:53 GMT [INFO] (src/config/config.c:227) Loaded route 5:/q/img/:dir for host 1:localhost
Mon, 29 Jul 2013 03:32:53 GMT [INFO] (src/config/config.c:312) Loaded 1 hosts for server 1:fe76e442-da24-4708-b0ef-c4ahr2b7d131
Mon, 29 Jul 2013 03:32:53 GMT [INFO] (src/server.c:445) LOADING Handler ipc://run/qoorateserver/mongrel2_send
Mon, 29 Jul 2013 03:32:53 GMT [ERROR] (src/unixy.c:99: errno: No such file or directory) Failed to open PID file ../run/mongrel2.pid for reading.
Mon, 29 Jul 2013 03:32:53 GMT [INFO] (src/unixy.c:137) No previous mongrel2 running, continuing on.
Mon, 29 Jul 2013 03:32:53 GMT [INFO] (src/mongrel2.c:223) All loaded up, time to turn into a server.
Mon, 29 Jul 2013 03:32:53 GMT [INFO] (src/mongrel2.c:224) -- Starting Mongrel2/1.8.1. Copyright (C) Zed A. Shaw. Licensed BSD.

Mon, 29 Jul 2013 03:32:53 GMT [INFO] (src/mongrel2.c:225) -- Look in logs/error.log for startup messages and errors.
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
INFO:root:Using project directory: .
DEBUG:root:loading settings from ./conf/uploader/settings.py
INFO:root:Using coroutine library: gevent
DEBUG:root:******** START _service_registration *********
DEBUG:root:service_registration_passphrase: 137b789e-b7eb-475a-8d5a-b16ab544yurp
DEBUG:root:service_id: uploader
DEBUG:root:service_registration_addr: ipc://run/uploader/brubeck_svc_registration
DEBUG:root:service_passphrase: 137b789e-b7eb-475a-8d5a-b16ab544yurp
DEBUG:root:service_addr: ipc://run/uploader/brubeck_svc
DEBUG:root:service_response_addr: ipc://run/uploader/brubeck_svc_response
DEBUG:root:service_heartbeat_addr: None
DEBUG:root:service_heartbeat_timeout: 5
DEBUG:root:sender_id: a41832e3154d43f1bea1e8e5b2e14761
DEBUG:root:is_reregistration: 0
DEBUG:root:service_heartbeat_interval: 3
DEBUG:root:******** END _service_registration *********
DEBUG:root:register_service: (service_registration_addr, service_registration_passphrase,service_heartbeat_timeout,sender_id): (ipc://run/uploader/brubeck_svc_registration,137b789e-b7eb-475a-8d5a-b16ab544yurp, 5, a41832e3154d43f1bea1e8e5b2e14761)
DEBUG:root:service_registration sending request
DEBUG:root:service_registration waiting for response
INFO:root:Using project directory: .
DEBUG:root:loading settings from ./conf/qoorateserver/development.py
INFO:root:Using coroutine library: gevent
DEBUG:root:creating application db_conn pool
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:set_table
DEBUG:root:unable to set_table
DEBUG:root:set_table
DEBUG:root:unable to set_table
DEBUG:root:set_table
DEBUG:root:unable to set_table
ERROR:root:render_error() got an unexpected keyword argument 'error_handler'
Traceback (most recent call last):
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck-0.4.0-py2.7.egg/brubeck/request_handling.py", line 339, in __call__
    rendered = fun(*self._url_args)
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck-0.4.0-py2.7.egg/brubeck/request_handling.py", line 419, in unsupported
    return self.render_error(self._NOT_ALLOWED, error_handler=allow_header)
TypeError: render_error() got an unexpected keyword argument 'error_handler'
INFO:root:500 GET /q/feed (127.0.0.1)
Mon, 29 Jul 2013 03:34:01 GMT [ERROR] (errno: No such file or directory) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 03:34:01 GMT [ERROR] (errno: None) Failed to create target for route /q/static/
Mon, 29 Jul 2013 03:34:01 GMT [ERROR] (errno: None) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 03:34:01 GMT [ERROR] (errno: None) Failed to create target for route /q/robots.txt
Mon, 29 Jul 2013 03:34:01 GMT [ERROR] (errno: None) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 03:34:01 GMT [ERROR] (errno: None) Failed to create target for route /q/favicon.ico
Mon, 29 Jul 2013 03:34:01 GMT [INFO] (src/mime.c:49) MAX limits.mime_ext_len=128
Mon, 29 Jul 2013 03:34:01 GMT [INFO] (src/host.c:74) MAX limits.url_path=256, limits.host_name=256
Mon, 29 Jul 2013 03:34:01 GMT [INFO] (src/config/config.c:109) Loaded proxy 1:127.0.0.1:8081
Mon, 29 Jul 2013 03:34:01 GMT [INFO] (src/config/config.c:227) Loaded route 1:/:proxy for host 1:localhost
Mon, 29 Jul 2013 03:34:01 GMT [INFO] (src/handler.c:343) MAX limits.handler_stack=102400
Mon, 29 Jul 2013 03:34:01 GMT [INFO] (src/config/config.c:85) Loaded handler 1:ipc://run/qoorateserver/mongrel2_send:137b789e-b7eb-475a-8d5c-b16ab54493yu:ipc://run/qoorateserver/mongrel2_rcv:
Mon, 29 Jul 2013 03:34:01 GMT [INFO] (src/config/config.c:227) Loaded route 2:/q/:handler for host 1:localhost
Mon, 29 Jul 2013 03:34:01 GMT [INFO] (src/dir.c:195) MAX limits.dir_send_buffer=16384, limits.dir_max_path=256
Mon, 29 Jul 2013 03:34:01 GMT [INFO] (src/config/config.c:136) Loaded directory 1:static/qoorateserver/js/:index.html
Mon, 29 Jul 2013 03:34:01 GMT [INFO] (src/config/config.c:227) Loaded route 3:/q/js/:dir for host 1:localhost
Mon, 29 Jul 2013 03:34:01 GMT [INFO] (src/config/config.c:136) Loaded directory 2:static/qoorateserver/css/:index.html
Mon, 29 Jul 2013 03:34:01 GMT [INFO] (src/config/config.c:227) Loaded route 4:/q/css/:dir for host 1:localhost
Mon, 29 Jul 2013 03:34:01 GMT [INFO] (src/config/config.c:136) Loaded directory 3:static/qoorateserver/img/:index.html
Mon, 29 Jul 2013 03:34:01 GMT [INFO] (src/config/config.c:227) Loaded route 5:/q/img/:dir for host 1:localhost
Mon, 29 Jul 2013 03:34:01 GMT [INFO] (src/config/config.c:312) Loaded 1 hosts for server 1:fe76e442-da24-4708-b0ef-c4ahr2b7d131
Mon, 29 Jul 2013 03:34:01 GMT [INFO] (src/server.c:445) LOADING Handler ipc://run/qoorateserver/mongrel2_send
Mon, 29 Jul 2013 03:34:01 GMT [ERROR] (src/unixy.c:99: errno: No such file or directory) Failed to open PID file ../run/mongrel2.pid for reading.
Mon, 29 Jul 2013 03:34:01 GMT [INFO] (src/unixy.c:137) No previous mongrel2 running, continuing on.
Mon, 29 Jul 2013 03:34:01 GMT [INFO] (src/mongrel2.c:223) All loaded up, time to turn into a server.
Mon, 29 Jul 2013 03:34:01 GMT [INFO] (src/mongrel2.c:224) -- Starting Mongrel2/1.8.1. Copyright (C) Zed A. Shaw. Licensed BSD.

Mon, 29 Jul 2013 03:34:01 GMT [INFO] (src/mongrel2.c:225) -- Look in logs/error.log for startup messages and errors.
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
INFO:root:Using project directory: .
DEBUG:root:loading settings from ./conf/uploader/settings.py
INFO:root:Using coroutine library: gevent
DEBUG:root:******** START _service_registration *********
DEBUG:root:service_registration_passphrase: 137b789e-b7eb-475a-8d5a-b16ab544yurp
DEBUG:root:service_id: uploader
DEBUG:root:service_registration_addr: ipc://run/uploader/brubeck_svc_registration
DEBUG:root:service_passphrase: 137b789e-b7eb-475a-8d5a-b16ab544yurp
DEBUG:root:service_addr: ipc://run/uploader/brubeck_svc
DEBUG:root:service_response_addr: ipc://run/uploader/brubeck_svc_response
DEBUG:root:service_heartbeat_addr: None
DEBUG:root:service_heartbeat_timeout: 5
DEBUG:root:sender_id: 2d536c98f0644ff298db15b4bda69678
DEBUG:root:is_reregistration: 0
DEBUG:root:service_heartbeat_interval: 3
DEBUG:root:******** END _service_registration *********
DEBUG:root:register_service: (service_registration_addr, service_registration_passphrase,service_heartbeat_timeout,sender_id): (ipc://run/uploader/brubeck_svc_registration,137b789e-b7eb-475a-8d5a-b16ab544yurp, 5, 2d536c98f0644ff298db15b4bda69678)
DEBUG:root:service_registration sending request
DEBUG:root:service_registration waiting for response
INFO:root:Using project directory: .
DEBUG:root:loading settings from ./conf/qoorateserver/development.py
INFO:root:Using coroutine library: gevent
DEBUG:root:creating application db_conn pool
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:set_table
DEBUG:root:unable to set_table
DEBUG:root:set_table
DEBUG:root:unable to set_table
DEBUG:root:set_table
DEBUG:root:unable to set_table
ERROR:root:render_error() got an unexpected keyword argument 'error_handler'
Traceback (most recent call last):
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck-0.4.0-py2.7.egg/brubeck/request_handling.py", line 339, in __call__
    rendered = fun(*self._url_args)
  File "/Users/sethmurphy/.virtualenvs/qoorateserver/lib/python2.7/site-packages/brubeck-0.4.0-py2.7.egg/brubeck/request_handling.py", line 419, in unsupported
    return self.render_error(self._NOT_ALLOWED, error_handler=allow_header)
TypeError: render_error() got an unexpected keyword argument 'error_handler'
INFO:root:500 GET /q/feed (127.0.0.1)
Mon, 29 Jul 2013 03:41:24 GMT [ERROR] (errno: No such file or directory) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 03:41:24 GMT [ERROR] (errno: None) Failed to create target for route /q/static/
Mon, 29 Jul 2013 03:41:24 GMT [ERROR] (errno: None) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 03:41:24 GMT [ERROR] (errno: None) Failed to create target for route /q/robots.txt
Mon, 29 Jul 2013 03:41:24 GMT [ERROR] (errno: None) End directory base with / in static/qoorateserver or it won't work right.'
Mon, 29 Jul 2013 03:41:24 GMT [ERROR] (errno: None) Failed to create target for route /q/favicon.ico
Mon, 29 Jul 2013 03:41:24 GMT [INFO] (src/mime.c:49) MAX limits.mime_ext_len=128
Mon, 29 Jul 2013 03:41:24 GMT [INFO] (src/host.c:74) MAX limits.url_path=256, limits.host_name=256
Mon, 29 Jul 2013 03:41:24 GMT [INFO] (src/config/config.c:109) Loaded proxy 1:127.0.0.1:8081
Mon, 29 Jul 2013 03:41:24 GMT [INFO] (src/config/config.c:227) Loaded route 1:/:proxy for host 1:localhost
Mon, 29 Jul 2013 03:41:24 GMT [INFO] (src/handler.c:343) MAX limits.handler_stack=102400
Mon, 29 Jul 2013 03:41:24 GMT [INFO] (src/config/config.c:85) Loaded handler 1:ipc://run/qoorateserver/mongrel2_send:137b789e-b7eb-475a-8d5c-b16ab54493yu:ipc://run/qoorateserver/mongrel2_rcv:
Mon, 29 Jul 2013 03:41:24 GMT [INFO] (src/config/config.c:227) Loaded route 2:/q/:handler for host 1:localhost
Mon, 29 Jul 2013 03:41:24 GMT [INFO] (src/dir.c:195) MAX limits.dir_send_buffer=16384, limits.dir_max_path=256
Mon, 29 Jul 2013 03:41:24 GMT [INFO] (src/config/config.c:136) Loaded directory 1:static/qoorateserver/js/:index.html
Mon, 29 Jul 2013 03:41:24 GMT [INFO] (src/config/config.c:227) Loaded route 3:/q/js/:dir for host 1:localhost
Mon, 29 Jul 2013 03:41:24 GMT [INFO] (src/config/config.c:136) Loaded directory 2:static/qoorateserver/css/:index.html
Mon, 29 Jul 2013 03:41:24 GMT [INFO] (src/config/config.c:227) Loaded route 4:/q/css/:dir for host 1:localhost
Mon, 29 Jul 2013 03:41:24 GMT [INFO] (src/config/config.c:136) Loaded directory 3:static/qoorateserver/img/:index.html
Mon, 29 Jul 2013 03:41:24 GMT [INFO] (src/config/config.c:227) Loaded route 5:/q/img/:dir for host 1:localhost
Mon, 29 Jul 2013 03:41:24 GMT [INFO] (src/config/config.c:312) Loaded 1 hosts for server 1:fe76e442-da24-4708-b0ef-c4ahr2b7d131
Mon, 29 Jul 2013 03:41:24 GMT [INFO] (src/server.c:445) LOADING Handler ipc://run/qoorateserver/mongrel2_send
Mon, 29 Jul 2013 03:41:24 GMT [ERROR] (src/unixy.c:99: errno: No such file or directory) Failed to open PID file ../run/mongrel2.pid for reading.
Mon, 29 Jul 2013 03:41:24 GMT [INFO] (src/unixy.c:137) No previous mongrel2 running, continuing on.
Mon, 29 Jul 2013 03:41:24 GMT [INFO] (src/mongrel2.c:223) All loaded up, time to turn into a server.
Mon, 29 Jul 2013 03:41:24 GMT [INFO] (src/mongrel2.c:224) -- Starting Mongrel2/1.8.1. Copyright (C) Zed A. Shaw. Licensed BSD.

Mon, 29 Jul 2013 03:41:24 GMT [INFO] (src/mongrel2.c:225) -- Look in logs/error.log for startup messages and errors.
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
PROFILE_DIR=/Users/sethmurphy/src/qoorateserver/profiles
PROJECT_DIR=/Users/sethmurphy/src/qoorateserver
PROJECT_FOLDER=qoorateserver
INFO:root:Using project directory: .
DEBUG:root:loading settings from ./conf/uploader/settings.py
INFO:root:Using coroutine library: gevent
DEBUG:root:******** START _service_registration *********
DEBUG:root:service_registration_passphrase: 137b789e-b7eb-475a-8d5a-b16ab544yurp
DEBUG:root:service_id: uploader
DEBUG:root:service_registration_addr: ipc://run/uploader/brubeck_svc_registration
DEBUG:root:service_passphrase: 137b789e-b7eb-475a-8d5a-b16ab544yurp
DEBUG:root:service_addr: ipc://run/uploader/brubeck_svc
DEBUG:root:service_response_addr: ipc://run/uploader/brubeck_svc_response
DEBUG:root:service_heartbeat_addr: None
DEBUG:root:service_heartbeat_timeout: 5
DEBUG:root:sender_id: 8ff8fee689814db5aab3fa947e97e683
DEBUG:root:is_reregistration: 0
DEBUG:root:service_heartbeat_interval: 3
DEBUG:root:******** END _service_registration *********
DEBUG:root:register_service: (service_registration_addr, service_registration_passphrase,service_heartbeat_timeout,sender_id): (ipc://run/uploader/brubeck_svc_registration,137b789e-b7eb-475a-8d5a-b16ab544yurp, 5, 8ff8fee689814db5aab3fa947e97e683)
DEBUG:root:service_registration sending request
DEBUG:root:service_registration waiting for response
INFO:root:Using project directory: .
DEBUG:root:loading settings from ./conf/qoorateserver/development.py
INFO:root:Using coroutine library: gevent
DEBUG:root:creating application db_conn pool
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:create_db_conn
DEBUG:root:created db_conn
DEBUG:root:set_table
DEBUG:root:unable to set_table
DEBUG:root:set_table
DEBUG:root:unable to set_table
DEBUG:root:set_table
DEBUG:root:unable to set_table
INFO:root:200 GET /q/feed (127.0.0.1)
DEBUG:root:set_table
DEBUG:root:unable to set_table
DEBUG:root:set_table
DEBUG:root:unable to set_table
DEBUG:root:set_table
DEBUG:root:unable to set_table
INFO:root:200 GET /q/feed (127.0.0.1)
DEBUG:root:set_table
DEBUG:root:unable to set_table
DEBUG:root:set_table
DEBUG:root:unable to set_table
DEBUG:root:set_table
DEBUG:root:unable to set_table
INFO:root:200 GET /q/feeder (127.0.0.1)
DEBUG:root:set_table
DEBUG:root:unable to set_table
DEBUG:root:set_table
DEBUG:root:unable to set_table
DEBUG:root:set_table
DEBUG:root:unable to set_table
INFO:root:200 GET /q/feeder (127.0.0.1)
DEBUG:root:get EmbedHandler
DEBUG:root:to_unicode
DEBUG:root:embed_head
DEBUG:root:embed_head
DEBUG:root:to_unicode
DEBUG:root:action: embed_head 
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:set_table has key/secret
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = %s and `secret`= %s
        
DEBUG:root:escape_sql args: [u'12345', u'54321']
DEBUG:root:
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = '12345' and `secret`= '54321'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1108be950>
DEBUG:root:returning True from authencticate.
DEBUG:root:set_table authenticated
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1108be9d0>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has key/secret
DEBUG:root:returning `True` from authenticate cached.
DEBUG:root:set_table authenticated
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1108bebd0>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1108bed50>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1108c7050>
DEBUG:root:qoorate preferences: {
    "THEME": "grid",
    "EMBED_CONF_JS": "
        var qoorateConfig = {
            QOORATE_URI: 'http://localhost',
            QOORATE_API_URI: 'http://localhost/q',
            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',
            XHR_PROXY_URI: '/q/feed',
            XHR_UPLOAD_URI: '/q/uploader',
            POST_MAX_LEN: 1000,
            PARENT_PAGE_SIZE: 10,
            CHILD_PAGE_SIZE: 10,
            AUTO_SCROLL: 1,
            THEME: 'grid',
            GRID_COLUMNS: 3,
            GRID_COLUMN_TRIM: 15,
            GRID_ROW_TRIM: 15
        };
        var qoorateLang = {
            FLAG_SUCCESS: 'Thanks for flagging this!',
            SHARE_SUCCESS: 'Thank you for sharing!',
            DELETE_SUCCESS: 'Thank you. This item has been deleted.',
            SIGNIN: 'Sign in using',
            SIGNEDIN: 'Signed in via',    
            OK: 'OK',
            CANCEL: 'Cancel',
            LOGOUT: 'Log Out',
            TOGGLE_ON: '+',
            TOGGLE_OFF: '-',
            CONTRIBUTION: 'Contribution',
            CONTRIBUTIONS: 'Contributions',
            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',
            REMOVE: 'Remove',
            LINK: 'Insert a link',
            TOPIC_COMMENT: 'Pose a Yes/No Question',
            COMMENT: 'Your Comment',
            IMAGE_COMMENT: 'Image Caption',
            POST_TO: 'Post to',
            POST_ANONYMOUS: 'Post anonymously',
            NICKNAME: 'Post as ',
            DEFAULT_NICKNAME: 'Anonymous',
            REPLY_LINK_COMMENT: 'Say something about your link',
            SHARE_COMMENT: 'comment about this share...',
            PUBLISH_BUTTON: 'Publish',
            POST_BUTTON: 'Post',
            POST_TO_BUTTON: 'Post To',
            REPLY_BUTTON: 'Reply',
            SHARE_BUTTON: 'Share',
            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',
            SELECT_IMAGE: 'Select an Image',
            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',
            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],
            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],
            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]
        };
    "
}

DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:preferences EMBED_CONF_JS:         var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    
DEBUG:root:embed_head called
INFO:root:200 GET /q/embed (127.0.0.1)
DEBUG:root:get EmbedHandler
DEBUG:root:to_unicode
DEBUG:root:embed_content
DEBUG:root:embed_content
DEBUG:root:to_unicode
DEBUG:root:action: embed_content 
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:54321
DEBUG:root:54321
DEBUG:root:to_unicode
DEBUG:root:set_table has key/secret
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = %s and `secret`= %s
        
DEBUG:root:escape_sql args: [u'12345', u'54321']
DEBUG:root:
            SELECT `id`,`key`,`secret` FROM `keypair` WHERE `key` = '12345' and `secret`= '54321'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1108c7190>
DEBUG:root:returning True from authencticate.
DEBUG:root:set_table authenticated
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1108c7390>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has key/secret
DEBUG:root:returning `True` from authenticate cached.
DEBUG:root:set_table authenticated
DEBUG:root:getting qoorate by shortTitle: 12345
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1108c7590>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1108c7790>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1108c7990>
DEBUG:root:qoorate preferences: {
    "THEME": "grid",
    "EMBED_CONF_JS": "
        var qoorateConfig = {
            QOORATE_URI: 'http://localhost',
            QOORATE_API_URI: 'http://localhost/q',
            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',
            XHR_PROXY_URI: '/q/feed',
            XHR_UPLOAD_URI: '/q/uploader',
            POST_MAX_LEN: 1000,
            PARENT_PAGE_SIZE: 10,
            CHILD_PAGE_SIZE: 10,
            AUTO_SCROLL: 1,
            THEME: 'grid',
            GRID_COLUMNS: 3,
            GRID_COLUMN_TRIM: 15,
            GRID_ROW_TRIM: 15
        };
        var qoorateLang = {
            FLAG_SUCCESS: 'Thanks for flagging this!',
            SHARE_SUCCESS: 'Thank you for sharing!',
            DELETE_SUCCESS: 'Thank you. This item has been deleted.',
            SIGNIN: 'Sign in using',
            SIGNEDIN: 'Signed in via',    
            OK: 'OK',
            CANCEL: 'Cancel',
            LOGOUT: 'Log Out',
            TOGGLE_ON: '+',
            TOGGLE_OFF: '-',
            CONTRIBUTION: 'Contribution',
            CONTRIBUTIONS: 'Contributions',
            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',
            REMOVE: 'Remove',
            LINK: 'Insert a link',
            TOPIC_COMMENT: 'Pose a Yes/No Question',
            COMMENT: 'Your Comment',
            IMAGE_COMMENT: 'Image Caption',
            POST_TO: 'Post to',
            POST_ANONYMOUS: 'Post anonymously',
            NICKNAME: 'Post as ',
            DEFAULT_NICKNAME: 'Anonymous',
            REPLY_LINK_COMMENT: 'Say something about your link',
            SHARE_COMMENT: 'comment about this share...',
            PUBLISH_BUTTON: 'Publish',
            POST_BUTTON: 'Post',
            POST_TO_BUTTON: 'Post To',
            REPLY_BUTTON: 'Reply',
            SHARE_BUTTON: 'Share',
            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',
            SELECT_IMAGE: 'Select an Image',
            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',
            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],
            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],
            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]
        };
    "
}

DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:preferences EMBED_CONF_JS:         var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    
DEBUG:root:embed_content called (key,secret): (12345,54321)
DEBUG:root:returning `True` from authenticate cached.
DEBUG:root:get_content_context
DEBUG:root:table: q_brooklyncode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:init_db_conn
DEBUG:root:NOT creating db_conn
DEBUG:root:1
DEBUG:root:5
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT f.`parent_sequence` , f.`child_sequence` , f.`id` , f.`locationId` , f.`relatedId`,
                f.`parentId` , f.`userId` , `u`.`username`, u.`thumbnailLarge` as userThumbnailLarge,
                ur.`username` as relatedUsername, ur.`thumbnailLarge` as relatedUserThumbnailLarge, f.`type` as `type`,
                f.`is_anonymous` , r.`is_anonymous` as `related_is_anonymous`, f.`name` , f.`location` ,f.`description`,f.`referer`,
                f.`voteCount` , f.`voteNumber` , f.`votesUp` ,f.`votesDown` , f.`flagCount`,  f.`childCount`, f.`sortOrder` , f.`status`,
                f.`thumbnailSmall` ,f.`thumbnailLarge` , f.`changeDate` , f.`createDate`, f.`nickname`, r.`nickname` as `related_nickname`
            FROM (
                # this query adds the sequence fields to filter by for paging
                SELECT  s1.*, @parentrownum := convert( IF( ( parentId = 0), @parentrownum +1, @parentrownum ), UNSIGNED INTEGER) AS parent_sequence,
                @childrownum := IF( ( @lastparent = parentId), @childrownum + 1, 0 ) AS child_sequence,
                @lastparent := if( parentId=0, id, parentId ) AS dummy_used_for_last_parent
                FROM
                    # QUERY 2: this query sorts the results properly
                    (SELECT s0.* FROM
                        # QUERY 1: This query gets the results we need with calculated fields to sort by
                        # We should probably have these fields in the database so they are indexed
                        (SELECT
                        CONVERT( if( parentId = 0, @parentVoteNumber:=voteNumber,
                            @parentVoteNumber ), SIGNED INTEGER ) as groupVoteNumber,          # Will order groups using parent voteNumber
                        CONVERT( if( parentId = 0, @parentVoteCount:=voteCount,
                            @parentVoteCount ), SIGNED INTEGER ) as groupVoteCount,            # Will order groups using parent voteCount
                        CONVERT( if( parentId = 0, @parentCreateDate:=createDate,
                            @parentCreateDate ), DATETIME ) as groupCreateDate,                # Will order groups using parent createDate
                        CONVERT( if(parentId=0, id, parentId), UNSIGNED INTEGER) as groupId,   # will order groups together
                        CONVERT( if(parentId = 0, 0, 1), UNSIGNED INTEGER) as isChild,         # will order parent first in group
                        r.*
                        FROM (
                            # this just makes sure our groups are grouped in parent child order
                            SELECT * from q_brooklyncode o  WHERE o.location = '5e13bbb73127b9fc424e3728c6500f28' ORDER BY
                             if( o.relatedId = 0, o.id, o.relatedId),
                             if( o.relatedId = 0, 0, o.id )
                            ) r,
                        ( SELECT @parentVoteNumber := 0 ) pvn,
                        ( SELECT @parentVoteCount  := 0 ) pvc,
                        ( SELECT @parentCreateDate := 0 ) pcd
                         WHERE location = '5e13bbb73127b9fc424e3728c6500f28' 
                    ) s0
                    
                    
                    ORDER BY
                    
                s0.groupVoteNumber DESC,
                s0.groupVoteCount DESC,
                s0.groupCreateDate ASC,
                 
                    groupId  ASC, # first order by group
                    isChild ASC, # Then make sure the parent is first
                    
                s0.voteNumber DESC,
                s0.voteCount DESC,
                s0.createDate ASC
                
            ) s1,
            ( SELECT @parentrownum := 0 ) pr,
            ( SELECT @childrownum := 0 ) cr, 
            ( SELECT @lastparent := -1 ) lp) f
            LEFT JOIN user u on u.id = f.userId
            LEFT JOIN q_brooklyncode r on r.id = f.relatedId
            LEFT JOIN user ur on ur.id = r.userId
            WHERE
            ((0 = 6 and parent_sequence >= 1) or parent_sequence BETWEEN 1 AND 6)
            AND
            ((0 = 6 and child_sequence >= 1) or (child_sequence=0 or child_sequence BETWEEN 1 AND 6))
        
DEBUG:root:escape_sql args: None
DEBUG:root:
            SELECT f.`parent_sequence` , f.`child_sequence` , f.`id` , f.`locationId` , f.`relatedId`,
                f.`parentId` , f.`userId` , `u`.`username`, u.`thumbnailLarge` as userThumbnailLarge,
                ur.`username` as relatedUsername, ur.`thumbnailLarge` as relatedUserThumbnailLarge, f.`type` as `type`,
                f.`is_anonymous` , r.`is_anonymous` as `related_is_anonymous`, f.`name` , f.`location` ,f.`description`,f.`referer`,
                f.`voteCount` , f.`voteNumber` , f.`votesUp` ,f.`votesDown` , f.`flagCount`,  f.`childCount`, f.`sortOrder` , f.`status`,
                f.`thumbnailSmall` ,f.`thumbnailLarge` , f.`changeDate` , f.`createDate`, f.`nickname`, r.`nickname` as `related_nickname`
            FROM (
                # this query adds the sequence fields to filter by for paging
                SELECT  s1.*, @parentrownum := convert( IF( ( parentId = 0), @parentrownum +1, @parentrownum ), UNSIGNED INTEGER) AS parent_sequence,
                @childrownum := IF( ( @lastparent = parentId), @childrownum + 1, 0 ) AS child_sequence,
                @lastparent := if( parentId=0, id, parentId ) AS dummy_used_for_last_parent
                FROM
                    # QUERY 2: this query sorts the results properly
                    (SELECT s0.* FROM
                        # QUERY 1: This query gets the results we need with calculated fields to sort by
                        # We should probably have these fields in the database so they are indexed
                        (SELECT
                        CONVERT( if( parentId = 0, @parentVoteNumber:=voteNumber,
                            @parentVoteNumber ), SIGNED INTEGER ) as groupVoteNumber,          # Will order groups using parent voteNumber
                        CONVERT( if( parentId = 0, @parentVoteCount:=voteCount,
                            @parentVoteCount ), SIGNED INTEGER ) as groupVoteCount,            # Will order groups using parent voteCount
                        CONVERT( if( parentId = 0, @parentCreateDate:=createDate,
                            @parentCreateDate ), DATETIME ) as groupCreateDate,                # Will order groups using parent createDate
                        CONVERT( if(parentId=0, id, parentId), UNSIGNED INTEGER) as groupId,   # will order groups together
                        CONVERT( if(parentId = 0, 0, 1), UNSIGNED INTEGER) as isChild,         # will order parent first in group
                        r.*
                        FROM (
                            # this just makes sure our groups are grouped in parent child order
                            SELECT * from q_brooklyncode o  WHERE o.location = '5e13bbb73127b9fc424e3728c6500f28' ORDER BY
                             if( o.relatedId = 0, o.id, o.relatedId),
                             if( o.relatedId = 0, 0, o.id )
                            ) r,
                        ( SELECT @parentVoteNumber := 0 ) pvn,
                        ( SELECT @parentVoteCount  := 0 ) pvc,
                        ( SELECT @parentCreateDate := 0 ) pcd
                         WHERE location = '5e13bbb73127b9fc424e3728c6500f28' 
                    ) s0
                    
                    
                    ORDER BY
                    
                s0.groupVoteNumber DESC,
                s0.groupVoteCount DESC,
                s0.groupCreateDate ASC,
                 
                    groupId  ASC, # first order by group
                    isChild ASC, # Then make sure the parent is first
                    
                s0.voteNumber DESC,
                s0.voteCount DESC,
                s0.createDate ASC
                
            ) s1,
            ( SELECT @parentrownum := 0 ) pr,
            ( SELECT @childrownum := 0 ) cr, 
            ( SELECT @lastparent := -1 ) lp) f
            LEFT JOIN user u on u.id = f.userId
            LEFT JOIN q_brooklyncode r on r.id = f.relatedId
            LEFT JOIN user ur on ur.id = r.userId
            WHERE
            ((0 = 6 and parent_sequence >= 1) or parent_sequence BETWEEN 1 AND 6)
            AND
            ((0 = 6 and child_sequence >= 1) or (child_sequence=0 or child_sequence BETWEEN 1 AND 6))
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1108be950>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = %s
        
DEBUG:root:escape_sql args: [2L]
DEBUG:root:
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = 2
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1108be9d0>
DEBUG:root:dictlist: {u'itemId': 2L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'cfbb12022f81667e3c2746e3c80b2e1e', u'id': 2L}
DEBUG:root:dictItem: {u'itemId': 2L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'cfbb12022f81667e3c2746e3c80b2e1e', u'id': 2L}
DEBUG:root:items: [<ImageItem: ImageItem object>]
DEBUG:root:im: [<ImageItem: ImageItem object>]
DEBUG:root:comment.images: [<ImageItem: ImageItem object>]
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = %s
        
DEBUG:root:escape_sql args: [4L]
DEBUG:root:
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = 4
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1108bebd0>
DEBUG:root:dictlist: {u'itemId': 4L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'afdaf6b1c369d65535041c375356f03f', u'id': 3L}
DEBUG:root:dictItem: {u'itemId': 4L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'afdaf6b1c369d65535041c375356f03f', u'id': 3L}
DEBUG:root:items: [<ImageItem: ImageItem object>]
DEBUG:root:im: [<ImageItem: ImageItem object>]
DEBUG:root:comment.images: [<ImageItem: ImageItem object>]
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = %s
        
DEBUG:root:escape_sql args: [5L]
DEBUG:root:
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = 5
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1108bed50>
DEBUG:root:dictlist: {u'itemId': 5L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'dffa39e6d8f1b616cfab3be4e93e47c6', u'id': 4L}
DEBUG:root:dictItem: {u'itemId': 5L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'dffa39e6d8f1b616cfab3be4e93e47c6', u'id': 4L}
DEBUG:root:items: [<ImageItem: ImageItem object>]
DEBUG:root:im: [<ImageItem: ImageItem object>]
DEBUG:root:comment.images: [<ImageItem: ImageItem object>]
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = %s
        
DEBUG:root:escape_sql args: [6L]
DEBUG:root:
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = 6
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1108c7050>
DEBUG:root:dictlist: {u'itemId': 6L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'8aa464876cd5bfe7e00f3fab7e2a2870', u'id': 5L}
DEBUG:root:dictItem: {u'itemId': 6L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'8aa464876cd5bfe7e00f3fab7e2a2870', u'id': 5L}
DEBUG:root:items: [<ImageItem: ImageItem object>]
DEBUG:root:im: [<ImageItem: ImageItem object>]
DEBUG:root:comment.images: [<ImageItem: ImageItem object>]
DEBUG:root:Number of comments returned: 6
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:escape_sql args: []
DEBUG:root:
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1108c7190>
DEBUG:root:Number of contributions 8
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1108c7390>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1108c7590>
DEBUG:root:to_unicode
DEBUG:root:embed_content
DEBUG:root:embed_content
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:embed_content
DEBUG:root:embed_content
DEBUG:root:to_unicode
DEBUG:root:unsanitizing: Do you?
DEBUG:root:unsanitizing encoded ascii: Do you?
DEBUG:root:unsanitizing encoded utf8: Do you?
DEBUG:root: unsanitized: Do you?
DEBUG:root:unsanitizing: test?
DEBUG:root:unsanitizing encoded ascii: test?
DEBUG:root:unsanitizing encoded utf8: test?
DEBUG:root: unsanitized: test?
DEBUG:root:unsanitizing: tester
DEBUG:root:unsanitizing encoded ascii: tester
DEBUG:root:unsanitizing encoded utf8: tester
DEBUG:root: unsanitized: tester
DEBUG:root:unsanitizing: me
DEBUG:root:unsanitizing encoded ascii: me
DEBUG:root:unsanitizing encoded utf8: me
DEBUG:root: unsanitized: me
DEBUG:root:unsanitizing: must
DEBUG:root:unsanitizing encoded ascii: must
DEBUG:root:unsanitizing encoded utf8: must
DEBUG:root: unsanitized: must
INFO:root:200 GET /q/embed (127.0.0.1)
BUG: gevent missed a libzmq recv event on 18!
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:set_table has q_short_name (12345)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1108c7790>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has q_short_name (12345)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1108c7990>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:feed.prepare, table: q_brooklyncode
DEBUG:root:FeedHandler post
DEBUG:root:Body -> 
 action=getMore&location=5e13bbb73127b9fc424e3728c6500f28&referer=http%3A%2F%2Flocalhost%3A8081%2F%3Fp%3D1&q_short_name=12345&QOOID=QOO51f460f57c582&QOOTID=QOOT51f460f57c593&relatedId=6&moreIndex=11&sort=voting
DEBUG:root:Arguments -> 
 {"sort": ["voting"], "moreIndex": ["11"], "QOOID": ["QOO51f460f57c582"], "QOOTID": ["QOOT51f460f57c593"], "q_short_name": ["12345"], "location": ["5e13bbb73127b9fc424e3728c6500f28"], "action": ["getMore"], "referer": ["http://localhost:8081/?p=1"], "relatedId": ["6"]}
DEBUG:root:to_unicode
DEBUG:root:getMore
DEBUG:root:getMore
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:getMore
DEBUG:root:getMore
DEBUG:root:to_unicode
DEBUG:root:action: getMore
DEBUG:root:to_unicode
DEBUG:root:voting
DEBUG:root:voting
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:voting
DEBUG:root:voting
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:11
DEBUG:root:11
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:11
DEBUG:root:11
DEBUG:root:to_unicode
DEBUG:root:init_db_conn
DEBUG:root:NOT creating db_conn
DEBUG:root:11
DEBUG:root:5
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT f.`parent_sequence` , f.`child_sequence` , f.`id` , f.`locationId` , f.`relatedId`,
                f.`parentId` , f.`userId` , `u`.`username`, u.`thumbnailLarge` as userThumbnailLarge,
                ur.`username` as relatedUsername, ur.`thumbnailLarge` as relatedUserThumbnailLarge, f.`type` as `type`,
                f.`is_anonymous` , r.`is_anonymous` as `related_is_anonymous`, f.`name` , f.`location` ,f.`description`,f.`referer`,
                f.`voteCount` , f.`voteNumber` , f.`votesUp` ,f.`votesDown` , f.`flagCount`,  f.`childCount`, f.`sortOrder` , f.`status`,
                f.`thumbnailSmall` ,f.`thumbnailLarge` , f.`changeDate` , f.`createDate`, f.`nickname`, r.`nickname` as `related_nickname`
            FROM (
                # this query adds the sequence fields to filter by for paging
                SELECT  s1.*, @parentrownum := convert( IF( ( parentId = 0), @parentrownum +1, @parentrownum ), UNSIGNED INTEGER) AS parent_sequence,
                @childrownum := IF( ( @lastparent = parentId), @childrownum + 1, 0 ) AS child_sequence,
                @lastparent := if( parentId=0, id, parentId ) AS dummy_used_for_last_parent
                FROM
                    # QUERY 2: this query sorts the results properly
                    (SELECT s0.* FROM
                        # QUERY 1: This query gets the results we need with calculated fields to sort by
                        # We should probably have these fields in the database so they are indexed
                        (SELECT
                        CONVERT( if( parentId = 0, @parentVoteNumber:=voteNumber,
                            @parentVoteNumber ), SIGNED INTEGER ) as groupVoteNumber,          # Will order groups using parent voteNumber
                        CONVERT( if( parentId = 0, @parentVoteCount:=voteCount,
                            @parentVoteCount ), SIGNED INTEGER ) as groupVoteCount,            # Will order groups using parent voteCount
                        CONVERT( if( parentId = 0, @parentCreateDate:=createDate,
                            @parentCreateDate ), DATETIME ) as groupCreateDate,                # Will order groups using parent createDate
                        CONVERT( if(parentId=0, id, parentId), UNSIGNED INTEGER) as groupId,   # will order groups together
                        CONVERT( if(parentId = 0, 0, 1), UNSIGNED INTEGER) as isChild,         # will order parent first in group
                        r.*
                        FROM (
                            # this just makes sure our groups are grouped in parent child order
                            SELECT * from q_brooklyncode o  WHERE o.location = '5e13bbb73127b9fc424e3728c6500f28' ORDER BY
                             if( o.relatedId = 0, o.id, o.relatedId),
                             if( o.relatedId = 0, 0, o.id )
                            ) r,
                        ( SELECT @parentVoteNumber := 0 ) pvn,
                        ( SELECT @parentVoteCount  := 0 ) pvc,
                        ( SELECT @parentCreateDate := 0 ) pcd
                         WHERE location = '5e13bbb73127b9fc424e3728c6500f28' 
                    ) s0
                    
                    
                    ORDER BY
                    
                s0.groupVoteNumber DESC,
                s0.groupVoteCount DESC,
                s0.groupCreateDate ASC,
                 
                    groupId  ASC, # first order by group
                    isChild ASC, # Then make sure the parent is first
                    
                s0.voteNumber DESC,
                s0.voteCount DESC,
                s0.createDate ASC
                
            ) s1,
            ( SELECT @parentrownum := 0 ) pr,
            ( SELECT @childrownum := 0 ) cr, 
            ( SELECT @lastparent := -1 ) lp) f
            LEFT JOIN user u on u.id = f.userId
            LEFT JOIN q_brooklyncode r on r.id = f.relatedId
            LEFT JOIN user ur on ur.id = r.userId
            WHERE
            ((0 = 16 and parent_sequence >= 11) or parent_sequence BETWEEN 11 AND 16)
            AND
            ((0 = 6 and child_sequence >= 1) or (child_sequence=0 or child_sequence BETWEEN 1 AND 6))
        
DEBUG:root:escape_sql args: None
DEBUG:root:
            SELECT f.`parent_sequence` , f.`child_sequence` , f.`id` , f.`locationId` , f.`relatedId`,
                f.`parentId` , f.`userId` , `u`.`username`, u.`thumbnailLarge` as userThumbnailLarge,
                ur.`username` as relatedUsername, ur.`thumbnailLarge` as relatedUserThumbnailLarge, f.`type` as `type`,
                f.`is_anonymous` , r.`is_anonymous` as `related_is_anonymous`, f.`name` , f.`location` ,f.`description`,f.`referer`,
                f.`voteCount` , f.`voteNumber` , f.`votesUp` ,f.`votesDown` , f.`flagCount`,  f.`childCount`, f.`sortOrder` , f.`status`,
                f.`thumbnailSmall` ,f.`thumbnailLarge` , f.`changeDate` , f.`createDate`, f.`nickname`, r.`nickname` as `related_nickname`
            FROM (
                # this query adds the sequence fields to filter by for paging
                SELECT  s1.*, @parentrownum := convert( IF( ( parentId = 0), @parentrownum +1, @parentrownum ), UNSIGNED INTEGER) AS parent_sequence,
                @childrownum := IF( ( @lastparent = parentId), @childrownum + 1, 0 ) AS child_sequence,
                @lastparent := if( parentId=0, id, parentId ) AS dummy_used_for_last_parent
                FROM
                    # QUERY 2: this query sorts the results properly
                    (SELECT s0.* FROM
                        # QUERY 1: This query gets the results we need with calculated fields to sort by
                        # We should probably have these fields in the database so they are indexed
                        (SELECT
                        CONVERT( if( parentId = 0, @parentVoteNumber:=voteNumber,
                            @parentVoteNumber ), SIGNED INTEGER ) as groupVoteNumber,          # Will order groups using parent voteNumber
                        CONVERT( if( parentId = 0, @parentVoteCount:=voteCount,
                            @parentVoteCount ), SIGNED INTEGER ) as groupVoteCount,            # Will order groups using parent voteCount
                        CONVERT( if( parentId = 0, @parentCreateDate:=createDate,
                            @parentCreateDate ), DATETIME ) as groupCreateDate,                # Will order groups using parent createDate
                        CONVERT( if(parentId=0, id, parentId), UNSIGNED INTEGER) as groupId,   # will order groups together
                        CONVERT( if(parentId = 0, 0, 1), UNSIGNED INTEGER) as isChild,         # will order parent first in group
                        r.*
                        FROM (
                            # this just makes sure our groups are grouped in parent child order
                            SELECT * from q_brooklyncode o  WHERE o.location = '5e13bbb73127b9fc424e3728c6500f28' ORDER BY
                             if( o.relatedId = 0, o.id, o.relatedId),
                             if( o.relatedId = 0, 0, o.id )
                            ) r,
                        ( SELECT @parentVoteNumber := 0 ) pvn,
                        ( SELECT @parentVoteCount  := 0 ) pvc,
                        ( SELECT @parentCreateDate := 0 ) pcd
                         WHERE location = '5e13bbb73127b9fc424e3728c6500f28' 
                    ) s0
                    
                    
                    ORDER BY
                    
                s0.groupVoteNumber DESC,
                s0.groupVoteCount DESC,
                s0.groupCreateDate ASC,
                 
                    groupId  ASC, # first order by group
                    isChild ASC, # Then make sure the parent is first
                    
                s0.voteNumber DESC,
                s0.voteCount DESC,
                s0.createDate ASC
                
            ) s1,
            ( SELECT @parentrownum := 0 ) pr,
            ( SELECT @childrownum := 0 ) cr, 
            ( SELECT @lastparent := -1 ) lp) f
            LEFT JOIN user u on u.id = f.userId
            LEFT JOIN q_brooklyncode r on r.id = f.relatedId
            LEFT JOIN user ur on ur.id = r.userId
            WHERE
            ((0 = 16 and parent_sequence >= 11) or parent_sequence BETWEEN 11 AND 16)
            AND
            ((0 = 6 and child_sequence >= 1) or (child_sequence=0 or child_sequence BETWEEN 1 AND 6))
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1108be950>
DEBUG:root:Number of comments returned: 0
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1108be9d0>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1108bebd0>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1108bed50>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1108c7050>
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:escape_sql args: []
DEBUG:root:
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1108c7190>
DEBUG:root:Number of contributions 8
INFO:root:200 POST /q/feed (127.0.0.1)
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:set_table has q_short_name (12345)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1108c7390>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has q_short_name (12345)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1108c7590>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:feed.prepare, table: q_brooklyncode
DEBUG:root:FeedHandler post
DEBUG:root:Body -> 
 action=sort&location=5e13bbb73127b9fc424e3728c6500f28&referer=http%3A%2F%2Flocalhost%3A8081%2F%3Fp%3D1&q_short_name=12345&QOOID=QOO51f460f57c582&QOOTID=QOOT51f460f57c593&sort=3
DEBUG:root:Arguments -> 
 {"sort": ["3"], "QOOID": ["QOO51f460f57c582"], "QOOTID": ["QOOT51f460f57c593"], "q_short_name": ["12345"], "location": ["5e13bbb73127b9fc424e3728c6500f28"], "action": ["sort"], "referer": ["http://localhost:8081/?p=1"]}
DEBUG:root:to_unicode
DEBUG:root:sort
DEBUG:root:sort
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:sort
DEBUG:root:sort
DEBUG:root:to_unicode
DEBUG:root:action: sort
DEBUG:root:to_unicode
DEBUG:root:3
DEBUG:root:3
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:3
DEBUG:root:3
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:init_db_conn
DEBUG:root:NOT creating db_conn
DEBUG:root:1
DEBUG:root:5
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT f.`parent_sequence` , f.`child_sequence` , f.`id` , f.`locationId` , f.`relatedId`,
                f.`parentId` , f.`userId` , `u`.`username`, u.`thumbnailLarge` as userThumbnailLarge,
                ur.`username` as relatedUsername, ur.`thumbnailLarge` as relatedUserThumbnailLarge, f.`type` as `type`,
                f.`is_anonymous` , r.`is_anonymous` as `related_is_anonymous`, f.`name` , f.`location` ,f.`description`,f.`referer`,
                f.`voteCount` , f.`voteNumber` , f.`votesUp` ,f.`votesDown` , f.`flagCount`,  f.`childCount`, f.`sortOrder` , f.`status`,
                f.`thumbnailSmall` ,f.`thumbnailLarge` , f.`changeDate` , f.`createDate`, f.`nickname`, r.`nickname` as `related_nickname`
            FROM (
                # this query adds the sequence fields to filter by for paging
                SELECT  s1.*, @parentrownum := convert( IF( ( parentId = 0), @parentrownum +1, @parentrownum ), UNSIGNED INTEGER) AS parent_sequence,
                @childrownum := IF( ( @lastparent = parentId), @childrownum + 1, 0 ) AS child_sequence,
                @lastparent := if( parentId=0, id, parentId ) AS dummy_used_for_last_parent
                FROM
                    # QUERY 2: this query sorts the results properly
                    (SELECT s0.* FROM
                        # QUERY 1: This query gets the results we need with calculated fields to sort by
                        # We should probably have these fields in the database so they are indexed
                        (SELECT
                        CONVERT( if( parentId = 0, @parentVoteNumber:=voteNumber,
                            @parentVoteNumber ), SIGNED INTEGER ) as groupVoteNumber,          # Will order groups using parent voteNumber
                        CONVERT( if( parentId = 0, @parentVoteCount:=voteCount,
                            @parentVoteCount ), SIGNED INTEGER ) as groupVoteCount,            # Will order groups using parent voteCount
                        CONVERT( if( parentId = 0, @parentCreateDate:=createDate,
                            @parentCreateDate ), DATETIME ) as groupCreateDate,                # Will order groups using parent createDate
                        CONVERT( if(parentId=0, id, parentId), UNSIGNED INTEGER) as groupId,   # will order groups together
                        CONVERT( if(parentId = 0, 0, 1), UNSIGNED INTEGER) as isChild,         # will order parent first in group
                        r.*
                        FROM (
                            # this just makes sure our groups are grouped in parent child order
                            SELECT * from q_brooklyncode o  WHERE o.location = '5e13bbb73127b9fc424e3728c6500f28' ORDER BY
                             if( o.relatedId = 0, o.id, o.relatedId),
                             if( o.relatedId = 0, 0, o.id )
                            ) r,
                        ( SELECT @parentVoteNumber := 0 ) pvn,
                        ( SELECT @parentVoteCount  := 0 ) pvc,
                        ( SELECT @parentCreateDate := 0 ) pcd
                         WHERE location = '5e13bbb73127b9fc424e3728c6500f28' 
                    ) s0
                    
                    
                    ORDER BY
                    
                s0.groupCreateDate ASC,
                s0.groupVoteNumber DESC,
                s0.groupVoteCount DESC,
                 
                    groupId  ASC, # first order by group
                    isChild ASC, # Then make sure the parent is first
                    
                s0.createDate ASC,
                s0.voteNumber DESC,
                s0.voteCount DESC
                
            ) s1,
            ( SELECT @parentrownum := 0 ) pr,
            ( SELECT @childrownum := 0 ) cr, 
            ( SELECT @lastparent := -1 ) lp) f
            LEFT JOIN user u on u.id = f.userId
            LEFT JOIN q_brooklyncode r on r.id = f.relatedId
            LEFT JOIN user ur on ur.id = r.userId
            WHERE
            ((0 = 6 and parent_sequence >= 1) or parent_sequence BETWEEN 1 AND 6)
            AND
            ((0 = 6 and child_sequence >= 1) or (child_sequence=0 or child_sequence BETWEEN 1 AND 6))
        
DEBUG:root:escape_sql args: None
DEBUG:root:
            SELECT f.`parent_sequence` , f.`child_sequence` , f.`id` , f.`locationId` , f.`relatedId`,
                f.`parentId` , f.`userId` , `u`.`username`, u.`thumbnailLarge` as userThumbnailLarge,
                ur.`username` as relatedUsername, ur.`thumbnailLarge` as relatedUserThumbnailLarge, f.`type` as `type`,
                f.`is_anonymous` , r.`is_anonymous` as `related_is_anonymous`, f.`name` , f.`location` ,f.`description`,f.`referer`,
                f.`voteCount` , f.`voteNumber` , f.`votesUp` ,f.`votesDown` , f.`flagCount`,  f.`childCount`, f.`sortOrder` , f.`status`,
                f.`thumbnailSmall` ,f.`thumbnailLarge` , f.`changeDate` , f.`createDate`, f.`nickname`, r.`nickname` as `related_nickname`
            FROM (
                # this query adds the sequence fields to filter by for paging
                SELECT  s1.*, @parentrownum := convert( IF( ( parentId = 0), @parentrownum +1, @parentrownum ), UNSIGNED INTEGER) AS parent_sequence,
                @childrownum := IF( ( @lastparent = parentId), @childrownum + 1, 0 ) AS child_sequence,
                @lastparent := if( parentId=0, id, parentId ) AS dummy_used_for_last_parent
                FROM
                    # QUERY 2: this query sorts the results properly
                    (SELECT s0.* FROM
                        # QUERY 1: This query gets the results we need with calculated fields to sort by
                        # We should probably have these fields in the database so they are indexed
                        (SELECT
                        CONVERT( if( parentId = 0, @parentVoteNumber:=voteNumber,
                            @parentVoteNumber ), SIGNED INTEGER ) as groupVoteNumber,          # Will order groups using parent voteNumber
                        CONVERT( if( parentId = 0, @parentVoteCount:=voteCount,
                            @parentVoteCount ), SIGNED INTEGER ) as groupVoteCount,            # Will order groups using parent voteCount
                        CONVERT( if( parentId = 0, @parentCreateDate:=createDate,
                            @parentCreateDate ), DATETIME ) as groupCreateDate,                # Will order groups using parent createDate
                        CONVERT( if(parentId=0, id, parentId), UNSIGNED INTEGER) as groupId,   # will order groups together
                        CONVERT( if(parentId = 0, 0, 1), UNSIGNED INTEGER) as isChild,         # will order parent first in group
                        r.*
                        FROM (
                            # this just makes sure our groups are grouped in parent child order
                            SELECT * from q_brooklyncode o  WHERE o.location = '5e13bbb73127b9fc424e3728c6500f28' ORDER BY
                             if( o.relatedId = 0, o.id, o.relatedId),
                             if( o.relatedId = 0, 0, o.id )
                            ) r,
                        ( SELECT @parentVoteNumber := 0 ) pvn,
                        ( SELECT @parentVoteCount  := 0 ) pvc,
                        ( SELECT @parentCreateDate := 0 ) pcd
                         WHERE location = '5e13bbb73127b9fc424e3728c6500f28' 
                    ) s0
                    
                    
                    ORDER BY
                    
                s0.groupCreateDate ASC,
                s0.groupVoteNumber DESC,
                s0.groupVoteCount DESC,
                 
                    groupId  ASC, # first order by group
                    isChild ASC, # Then make sure the parent is first
                    
                s0.createDate ASC,
                s0.voteNumber DESC,
                s0.voteCount DESC
                
            ) s1,
            ( SELECT @parentrownum := 0 ) pr,
            ( SELECT @childrownum := 0 ) cr, 
            ( SELECT @lastparent := -1 ) lp) f
            LEFT JOIN user u on u.id = f.userId
            LEFT JOIN q_brooklyncode r on r.id = f.relatedId
            LEFT JOIN user ur on ur.id = r.userId
            WHERE
            ((0 = 6 and parent_sequence >= 1) or parent_sequence BETWEEN 1 AND 6)
            AND
            ((0 = 6 and child_sequence >= 1) or (child_sequence=0 or child_sequence BETWEEN 1 AND 6))
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1108c7790>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = %s
        
DEBUG:root:escape_sql args: [1L]
DEBUG:root:
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = 1
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1108c7990>
DEBUG:root:dictlist: {u'itemId': 1L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'1fe8a631d5522d10e2cf2e4fabedc90b', u'id': 1L}
DEBUG:root:dictItem: {u'itemId': 1L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'1fe8a631d5522d10e2cf2e4fabedc90b', u'id': 1L}
DEBUG:root:items: [<ImageItem: ImageItem object>]
DEBUG:root:im: [<ImageItem: ImageItem object>]
DEBUG:root:comment.images: [<ImageItem: ImageItem object>]
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = %s
        
DEBUG:root:escape_sql args: [2L]
DEBUG:root:
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = 2
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1108be950>
DEBUG:root:dictlist: {u'itemId': 2L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'cfbb12022f81667e3c2746e3c80b2e1e', u'id': 2L}
DEBUG:root:dictItem: {u'itemId': 2L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'cfbb12022f81667e3c2746e3c80b2e1e', u'id': 2L}
DEBUG:root:items: [<ImageItem: ImageItem object>]
DEBUG:root:im: [<ImageItem: ImageItem object>]
DEBUG:root:comment.images: [<ImageItem: ImageItem object>]
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = %s
        
DEBUG:root:escape_sql args: [4L]
DEBUG:root:
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = 4
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1108be9d0>
DEBUG:root:dictlist: {u'itemId': 4L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'afdaf6b1c369d65535041c375356f03f', u'id': 3L}
DEBUG:root:dictItem: {u'itemId': 4L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'afdaf6b1c369d65535041c375356f03f', u'id': 3L}
DEBUG:root:items: [<ImageItem: ImageItem object>]
DEBUG:root:im: [<ImageItem: ImageItem object>]
DEBUG:root:comment.images: [<ImageItem: ImageItem object>]
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = %s
        
DEBUG:root:escape_sql args: [5L]
DEBUG:root:
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = 5
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1108bebd0>
DEBUG:root:dictlist: {u'itemId': 5L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'dffa39e6d8f1b616cfab3be4e93e47c6', u'id': 4L}
DEBUG:root:dictItem: {u'itemId': 5L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'dffa39e6d8f1b616cfab3be4e93e47c6', u'id': 4L}
DEBUG:root:items: [<ImageItem: ImageItem object>]
DEBUG:root:im: [<ImageItem: ImageItem object>]
DEBUG:root:comment.images: [<ImageItem: ImageItem object>]
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = %s
        
DEBUG:root:escape_sql args: [6L]
DEBUG:root:
            SELECT `id`,`itemId`,`s3Bucket`,`thumbnailLargeHash` FROM `q_brooklyncode_images` WHERE `itemId` = 6
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1108bed50>
DEBUG:root:dictlist: {u'itemId': 6L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'8aa464876cd5bfe7e00f3fab7e2a2870', u'id': 5L}
DEBUG:root:dictItem: {u'itemId': 6L, u's3Bucket': u'qoorate.brooklyncode', u'thumbnailLargeHash': u'8aa464876cd5bfe7e00f3fab7e2a2870', u'id': 5L}
DEBUG:root:items: [<ImageItem: ImageItem object>]
DEBUG:root:im: [<ImageItem: ImageItem object>]
DEBUG:root:comment.images: [<ImageItem: ImageItem object>]
DEBUG:root:Number of comments returned: 6
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:escape_sql args: []
DEBUG:root:
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1108c7050>
DEBUG:root:Number of contributions 8
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1108c7190>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1108c7390>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1108c7590>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1108c7790>
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:unsanitizing: test
DEBUG:root:unsanitizing encoded ascii: test
DEBUG:root:unsanitizing encoded utf8: test
DEBUG:root: unsanitized: test
DEBUG:root:unsanitizing: tester
DEBUG:root:unsanitizing encoded ascii: tester
DEBUG:root:unsanitizing encoded utf8: tester
DEBUG:root: unsanitized: tester
DEBUG:root:unsanitizing: Do you?
DEBUG:root:unsanitizing encoded ascii: Do you?
DEBUG:root:unsanitizing encoded utf8: Do you?
DEBUG:root: unsanitized: Do you?
DEBUG:root:unsanitizing: me
DEBUG:root:unsanitizing encoded ascii: me
DEBUG:root:unsanitizing encoded utf8: me
DEBUG:root: unsanitized: me
DEBUG:root:unsanitizing: must
DEBUG:root:unsanitizing encoded ascii: must
DEBUG:root:unsanitizing encoded utf8: must
DEBUG:root: unsanitized: must
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:escape_sql args: []
DEBUG:root:
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1108c7990>
DEBUG:root:Number of contributions 8
INFO:root:200 POST /q/feed (127.0.0.1)
DEBUG:root:set_table
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:12345
DEBUG:root:12345
DEBUG:root:to_unicode
DEBUG:root:set_table has q_short_name (12345)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1108be950>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:set_table
DEBUG:root:set_table has q_short_name (12345)
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = %s
        
DEBUG:root:escape_sql args: [u'12345']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `shortTitle` = '12345'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1108be9d0>
DEBUG:root:set_table: q_brooklyncode
DEBUG:root:feed.prepare, table: q_brooklyncode
DEBUG:root:FeedHandler post
DEBUG:root:Body -> 
 action=getMore&location=5e13bbb73127b9fc424e3728c6500f28&referer=http%3A%2F%2Flocalhost%3A8081%2F%3Fp%3D1&q_short_name=12345&QOOID=QOO51f460f57c582&QOOTID=QOOT51f460f57c593&relatedId=6&moreIndex=11&sort=3
DEBUG:root:Arguments -> 
 {"sort": ["3"], "moreIndex": ["11"], "QOOID": ["QOO51f460f57c582"], "QOOTID": ["QOOT51f460f57c593"], "q_short_name": ["12345"], "location": ["5e13bbb73127b9fc424e3728c6500f28"], "action": ["getMore"], "referer": ["http://localhost:8081/?p=1"], "relatedId": ["6"]}
DEBUG:root:to_unicode
DEBUG:root:getMore
DEBUG:root:getMore
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:getMore
DEBUG:root:getMore
DEBUG:root:to_unicode
DEBUG:root:action: getMore
DEBUG:root:to_unicode
DEBUG:root:3
DEBUG:root:3
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:3
DEBUG:root:3
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:5e13bbb73127b9fc424e3728c6500f28
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:11
DEBUG:root:11
DEBUG:root:to_unicode
DEBUG:root:to_unicode
DEBUG:root:11
DEBUG:root:11
DEBUG:root:to_unicode
DEBUG:root:init_db_conn
DEBUG:root:NOT creating db_conn
DEBUG:root:11
DEBUG:root:5
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT f.`parent_sequence` , f.`child_sequence` , f.`id` , f.`locationId` , f.`relatedId`,
                f.`parentId` , f.`userId` , `u`.`username`, u.`thumbnailLarge` as userThumbnailLarge,
                ur.`username` as relatedUsername, ur.`thumbnailLarge` as relatedUserThumbnailLarge, f.`type` as `type`,
                f.`is_anonymous` , r.`is_anonymous` as `related_is_anonymous`, f.`name` , f.`location` ,f.`description`,f.`referer`,
                f.`voteCount` , f.`voteNumber` , f.`votesUp` ,f.`votesDown` , f.`flagCount`,  f.`childCount`, f.`sortOrder` , f.`status`,
                f.`thumbnailSmall` ,f.`thumbnailLarge` , f.`changeDate` , f.`createDate`, f.`nickname`, r.`nickname` as `related_nickname`
            FROM (
                # this query adds the sequence fields to filter by for paging
                SELECT  s1.*, @parentrownum := convert( IF( ( parentId = 0), @parentrownum +1, @parentrownum ), UNSIGNED INTEGER) AS parent_sequence,
                @childrownum := IF( ( @lastparent = parentId), @childrownum + 1, 0 ) AS child_sequence,
                @lastparent := if( parentId=0, id, parentId ) AS dummy_used_for_last_parent
                FROM
                    # QUERY 2: this query sorts the results properly
                    (SELECT s0.* FROM
                        # QUERY 1: This query gets the results we need with calculated fields to sort by
                        # We should probably have these fields in the database so they are indexed
                        (SELECT
                        CONVERT( if( parentId = 0, @parentVoteNumber:=voteNumber,
                            @parentVoteNumber ), SIGNED INTEGER ) as groupVoteNumber,          # Will order groups using parent voteNumber
                        CONVERT( if( parentId = 0, @parentVoteCount:=voteCount,
                            @parentVoteCount ), SIGNED INTEGER ) as groupVoteCount,            # Will order groups using parent voteCount
                        CONVERT( if( parentId = 0, @parentCreateDate:=createDate,
                            @parentCreateDate ), DATETIME ) as groupCreateDate,                # Will order groups using parent createDate
                        CONVERT( if(parentId=0, id, parentId), UNSIGNED INTEGER) as groupId,   # will order groups together
                        CONVERT( if(parentId = 0, 0, 1), UNSIGNED INTEGER) as isChild,         # will order parent first in group
                        r.*
                        FROM (
                            # this just makes sure our groups are grouped in parent child order
                            SELECT * from q_brooklyncode o  WHERE o.location = '5e13bbb73127b9fc424e3728c6500f28' ORDER BY
                             if( o.relatedId = 0, o.id, o.relatedId),
                             if( o.relatedId = 0, 0, o.id )
                            ) r,
                        ( SELECT @parentVoteNumber := 0 ) pvn,
                        ( SELECT @parentVoteCount  := 0 ) pvc,
                        ( SELECT @parentCreateDate := 0 ) pcd
                         WHERE location = '5e13bbb73127b9fc424e3728c6500f28' 
                    ) s0
                    
                    
                    ORDER BY
                    
                s0.groupCreateDate ASC,
                s0.groupVoteNumber DESC,
                s0.groupVoteCount DESC,
                 
                    groupId  ASC, # first order by group
                    isChild ASC, # Then make sure the parent is first
                    
                s0.createDate ASC,
                s0.voteNumber DESC,
                s0.voteCount DESC
                
            ) s1,
            ( SELECT @parentrownum := 0 ) pr,
            ( SELECT @childrownum := 0 ) cr, 
            ( SELECT @lastparent := -1 ) lp) f
            LEFT JOIN user u on u.id = f.userId
            LEFT JOIN q_brooklyncode r on r.id = f.relatedId
            LEFT JOIN user ur on ur.id = r.userId
            WHERE
            ((0 = 16 and parent_sequence >= 11) or parent_sequence BETWEEN 11 AND 16)
            AND
            ((0 = 6 and child_sequence >= 1) or (child_sequence=0 or child_sequence BETWEEN 1 AND 6))
        
DEBUG:root:escape_sql args: None
DEBUG:root:
            SELECT f.`parent_sequence` , f.`child_sequence` , f.`id` , f.`locationId` , f.`relatedId`,
                f.`parentId` , f.`userId` , `u`.`username`, u.`thumbnailLarge` as userThumbnailLarge,
                ur.`username` as relatedUsername, ur.`thumbnailLarge` as relatedUserThumbnailLarge, f.`type` as `type`,
                f.`is_anonymous` , r.`is_anonymous` as `related_is_anonymous`, f.`name` , f.`location` ,f.`description`,f.`referer`,
                f.`voteCount` , f.`voteNumber` , f.`votesUp` ,f.`votesDown` , f.`flagCount`,  f.`childCount`, f.`sortOrder` , f.`status`,
                f.`thumbnailSmall` ,f.`thumbnailLarge` , f.`changeDate` , f.`createDate`, f.`nickname`, r.`nickname` as `related_nickname`
            FROM (
                # this query adds the sequence fields to filter by for paging
                SELECT  s1.*, @parentrownum := convert( IF( ( parentId = 0), @parentrownum +1, @parentrownum ), UNSIGNED INTEGER) AS parent_sequence,
                @childrownum := IF( ( @lastparent = parentId), @childrownum + 1, 0 ) AS child_sequence,
                @lastparent := if( parentId=0, id, parentId ) AS dummy_used_for_last_parent
                FROM
                    # QUERY 2: this query sorts the results properly
                    (SELECT s0.* FROM
                        # QUERY 1: This query gets the results we need with calculated fields to sort by
                        # We should probably have these fields in the database so they are indexed
                        (SELECT
                        CONVERT( if( parentId = 0, @parentVoteNumber:=voteNumber,
                            @parentVoteNumber ), SIGNED INTEGER ) as groupVoteNumber,          # Will order groups using parent voteNumber
                        CONVERT( if( parentId = 0, @parentVoteCount:=voteCount,
                            @parentVoteCount ), SIGNED INTEGER ) as groupVoteCount,            # Will order groups using parent voteCount
                        CONVERT( if( parentId = 0, @parentCreateDate:=createDate,
                            @parentCreateDate ), DATETIME ) as groupCreateDate,                # Will order groups using parent createDate
                        CONVERT( if(parentId=0, id, parentId), UNSIGNED INTEGER) as groupId,   # will order groups together
                        CONVERT( if(parentId = 0, 0, 1), UNSIGNED INTEGER) as isChild,         # will order parent first in group
                        r.*
                        FROM (
                            # this just makes sure our groups are grouped in parent child order
                            SELECT * from q_brooklyncode o  WHERE o.location = '5e13bbb73127b9fc424e3728c6500f28' ORDER BY
                             if( o.relatedId = 0, o.id, o.relatedId),
                             if( o.relatedId = 0, 0, o.id )
                            ) r,
                        ( SELECT @parentVoteNumber := 0 ) pvn,
                        ( SELECT @parentVoteCount  := 0 ) pvc,
                        ( SELECT @parentCreateDate := 0 ) pcd
                         WHERE location = '5e13bbb73127b9fc424e3728c6500f28' 
                    ) s0
                    
                    
                    ORDER BY
                    
                s0.groupCreateDate ASC,
                s0.groupVoteNumber DESC,
                s0.groupVoteCount DESC,
                 
                    groupId  ASC, # first order by group
                    isChild ASC, # Then make sure the parent is first
                    
                s0.createDate ASC,
                s0.voteNumber DESC,
                s0.voteCount DESC
                
            ) s1,
            ( SELECT @parentrownum := 0 ) pr,
            ( SELECT @childrownum := 0 ) cr, 
            ( SELECT @lastparent := -1 ) lp) f
            LEFT JOIN user u on u.id = f.userId
            LEFT JOIN q_brooklyncode r on r.id = f.relatedId
            LEFT JOIN user ur on ur.id = r.userId
            WHERE
            ((0 = 16 and parent_sequence >= 11) or parent_sequence BETWEEN 11 AND 16)
            AND
            ((0 = 6 and child_sequence >= 1) or (child_sequence=0 or child_sequence BETWEEN 1 AND 6))
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1108bebd0>
DEBUG:root:Number of comments returned: 0
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1108bed50>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`=%s
        
DEBUG:root:escape_sql args: ['QOO51f460f57c582']
DEBUG:root:
            SELECT `id`,`role`,`email`,`password`,`oauth_provider`,`oauth_uid`,`username`,`location`,`changeDate`,`createDate`,`thumbnailSmall`,`thumbnailLarge`,`oauth_session_id`,`oauth_access_token`,`oauth_data`,`admin_role_qoorates` FROM `user` WHERE `oauth_session_id`='QOO51f460f57c582'
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1108c7050>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1108c7190>
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = %s
        
DEBUG:root:escape_sql args: [u'q_brooklyncode']
DEBUG:root:
            SELECT `id`,`userId`,`shortTitle`,`longTitle`,`url`,`preferences`,`description`,`fieldNames`,`refTable`,`hasCat`,`hasLoc`,`hasPrice`,`hasDesc`,`createDate`,`changeDate`,`catNames`,`catAllowed`,`thumbnailSmall`,`thumbnailLarge` FROM `qoorates` WHERE `refTable` = 'q_brooklyncode'
        
DEBUG:root:dict
DEBUG:root:fetch_all
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1108c7390>
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:qoorate preferences: {    "THEME": "grid",    "EMBED_CONF_JS": "        var qoorateConfig = {            QOORATE_URI: 'http://localhost',            QOORATE_API_URI: 'http://localhost/q',            PROXY_URI: '/wp-content/plugins/qoorate/q_post.php',            XHR_PROXY_URI: '/q/feed',            XHR_UPLOAD_URI: '/q/uploader',            POST_MAX_LEN: 1000,            PARENT_PAGE_SIZE: 10,            CHILD_PAGE_SIZE: 10,            AUTO_SCROLL: 1,            THEME: 'grid',            GRID_COLUMNS: 3,            GRID_COLUMN_TRIM: 15,            GRID_ROW_TRIM: 15        };        var qoorateLang = {            FLAG_SUCCESS: 'Thanks for flagging this!',            SHARE_SUCCESS: 'Thank you for sharing!',            DELETE_SUCCESS: 'Thank you. This item has been deleted.',            SIGNIN: 'Sign in using',            SIGNEDIN: 'Signed in via',                OK: 'OK',            CANCEL: 'Cancel',            LOGOUT: 'Log Out',            TOGGLE_ON: '+',            TOGGLE_OFF: '-',            CONTRIBUTION: 'Contribution',            CONTRIBUTIONS: 'Contributions',            SIGNIN_TO_CONTRIBUTE: 'Please sign in to make a contribution.',            REMOVE: 'Remove',            LINK: 'Insert a link',            TOPIC_COMMENT: 'Pose a Yes/No Question',            COMMENT: 'Your Comment',            IMAGE_COMMENT: 'Image Caption',            POST_TO: 'Post to',            POST_ANONYMOUS: 'Post anonymously',            NICKNAME: 'Post as ',            DEFAULT_NICKNAME: 'Anonymous',            REPLY_LINK_COMMENT: 'Say something about your link',            SHARE_COMMENT: 'comment about this share...',            PUBLISH_BUTTON: 'Publish',            POST_BUTTON: 'Post',            POST_TO_BUTTON: 'Post To',            REPLY_BUTTON: 'Reply',            SHARE_BUTTON: 'Share',            UPLOADER_NO_JAVASCRIPT: 'Please enable JavaScript to use file uploader.',            SELECT_IMAGE: 'Select an Image',            ATTACH_THUMBNAIL: 'Attach an Image Thumbnail',            FLAG_ACTION_TYPES: [ [ '1', 'Spam', 0], [ '2', 'Offensive', 0], [ '3', 'Off Topic', 0], [ '4', 'Disagree', 0] ],            SORT_ACTION_TYPES: [ [ '1', 'voting'], [ '2', 'recent'], [ '3', 'oldest'] ],            LOGIN_TYPES: [ [ 'tw', 'Twitter', 'twitter' ], [ 'fb', 'Facebook', 'facebook' ], [ 'gp', 'Google+', 'googleplus' ] ]        };    "}
DEBUG:root:fetch
DEBUG:root:query
DEBUG:root:escape_sql sql: 
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:escape_sql args: []
DEBUG:root:
            SELECT count(*) as recordCount FROM `q_brooklyncode` t 
            
             WHERE `t`.`location` = '5e13bbb73127b9fc424e3728c6500f28'
            
        
DEBUG:root:dict
DEBUG:root:fetch_one
DEBUG:root:db_conn:<pymysql.connections.Connection object at 0x1108c7590>
DEBUG:root:Number of contributions 8
INFO:root:200 POST /q/feed (127.0.0.1)
